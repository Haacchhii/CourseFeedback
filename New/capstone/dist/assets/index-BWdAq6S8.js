function vO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _v={exports:{}},oh={},kv={exports:{}},Ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4;function xO(){if(j4)return Ir;j4=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function y(H,ae,U){this.props=H,this.context=ae,this.refs=x,this.updater=U||p}y.prototype.isReactComponent={},y.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")},y.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=y.prototype;function A(H,ae,U){this.props=H,this.context=ae,this.refs=x,this.updater=U||p}var N=A.prototype=new j;N.constructor=A,w(N,y.prototype),N.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,T={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function M(H,ae,U){var B,Y={},ne=null,he=null;if(ae!=null)for(B in ae.ref!==void 0&&(he=ae.ref),ae.key!==void 0&&(ne=""+ae.key),ae)C.call(ae,B)&&!F.hasOwnProperty(B)&&(Y[B]=ae[B]);var Q=arguments.length-2;if(Q===1)Y.children=U;else if(1<Q){for(var pe=Array(Q),ce=0;ce<Q;ce++)pe[ce]=arguments[ce+2];Y.children=pe}if(H&&H.defaultProps)for(B in Q=H.defaultProps,Q)Y[B]===void 0&&(Y[B]=Q[B]);return{$$typeof:e,type:H,key:ne,ref:he,props:Y,_owner:T.current}}function q(H,ae){return{$$typeof:e,type:H.type,key:ae,ref:H.ref,props:H.props,_owner:H._owner}}function G(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function R(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(U){return ae[U]})}var D=/\/+/g;function z(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?R(""+H.key):ae.toString(36)}function W(H,ae,U,B,Y){var ne=typeof H;(ne==="undefined"||ne==="boolean")&&(H=null);var he=!1;if(H===null)he=!0;else switch(ne){case"string":case"number":he=!0;break;case"object":switch(H.$$typeof){case e:case t:he=!0}}if(he)return he=H,Y=Y(he),H=B===""?"."+z(he,0):B,k(Y)?(U="",H!=null&&(U=H.replace(D,"$&/")+"/"),W(Y,ae,U,"",function(ce){return ce})):Y!=null&&(G(Y)&&(Y=q(Y,U+(!Y.key||he&&he.key===Y.key?"":(""+Y.key).replace(D,"$&/")+"/")+H)),ae.push(Y)),1;if(he=0,B=B===""?".":B+":",k(H))for(var Q=0;Q<H.length;Q++){ne=H[Q];var pe=B+z(ne,Q);he+=W(ne,ae,U,pe,Y)}else if(pe=v(H),typeof pe=="function")for(H=pe.call(H),Q=0;!(ne=H.next()).done;)ne=ne.value,pe=B+z(ne,Q++),he+=W(ne,ae,U,pe,Y);else if(ne==="object")throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.");return he}function Z(H,ae,U){if(H==null)return H;var B=[],Y=0;return W(H,B,"","",function(ne){return ae.call(U,ne,Y++)}),B}function le(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(U){(H._status===0||H._status===-1)&&(H._status=1,H._result=U)},function(U){(H._status===0||H._status===-1)&&(H._status=2,H._result=U)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var ge={current:null},te={transition:null},ue={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:te,ReactCurrentOwner:T};return Ir.Children={map:Z,forEach:function(H,ae,U){Z(H,function(){ae.apply(this,arguments)},U)},count:function(H){var ae=0;return Z(H,function(){ae++}),ae},toArray:function(H){return Z(H,function(ae){return ae})||[]},only:function(H){if(!G(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ir.Component=y,Ir.Fragment=r,Ir.Profiler=s,Ir.PureComponent=A,Ir.StrictMode=n,Ir.Suspense=u,Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ir.cloneElement=function(H,ae,U){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var B=w({},H.props),Y=H.key,ne=H.ref,he=H._owner;if(ae!=null){if(ae.ref!==void 0&&(ne=ae.ref,he=T.current),ae.key!==void 0&&(Y=""+ae.key),H.type&&H.type.defaultProps)var Q=H.type.defaultProps;for(pe in ae)C.call(ae,pe)&&!F.hasOwnProperty(pe)&&(B[pe]=ae[pe]===void 0&&Q!==void 0?Q[pe]:ae[pe])}var pe=arguments.length-2;if(pe===1)B.children=U;else if(1<pe){Q=Array(pe);for(var ce=0;ce<pe;ce++)Q[ce]=arguments[ce+2];B.children=Q}return{$$typeof:e,type:H.type,key:Y,ref:ne,props:B,_owner:he}},Ir.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},Ir.createElement=M,Ir.createFactory=function(H){var ae=M.bind(null,H);return ae.type=H,ae},Ir.createRef=function(){return{current:null}},Ir.forwardRef=function(H){return{$$typeof:l,render:H}},Ir.isValidElement=G,Ir.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:le}},Ir.memo=function(H,ae){return{$$typeof:f,type:H,compare:ae===void 0?null:ae}},Ir.startTransition=function(H){var ae=te.transition;te.transition={};try{H()}finally{te.transition=ae}},Ir.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ir.useCallback=function(H,ae){return ge.current.useCallback(H,ae)},Ir.useContext=function(H){return ge.current.useContext(H)},Ir.useDebugValue=function(){},Ir.useDeferredValue=function(H){return ge.current.useDeferredValue(H)},Ir.useEffect=function(H,ae){return ge.current.useEffect(H,ae)},Ir.useId=function(){return ge.current.useId()},Ir.useImperativeHandle=function(H,ae,U){return ge.current.useImperativeHandle(H,ae,U)},Ir.useInsertionEffect=function(H,ae){return ge.current.useInsertionEffect(H,ae)},Ir.useLayoutEffect=function(H,ae){return ge.current.useLayoutEffect(H,ae)},Ir.useMemo=function(H,ae){return ge.current.useMemo(H,ae)},Ir.useReducer=function(H,ae,U){return ge.current.useReducer(H,ae,U)},Ir.useRef=function(H){return ge.current.useRef(H)},Ir.useState=function(H){return ge.current.useState(H)},Ir.useSyncExternalStore=function(H,ae,U){return ge.current.useSyncExternalStore(H,ae,U)},Ir.useTransition=function(){return ge.current.useTransition()},Ir.version="18.2.0",Ir}var N4;function n5(){return N4||(N4=1,kv.exports=xO()),kv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S4;function yO(){if(S4)return oh;S4=1;var e=n5(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,f){var h,m={},v=null,p=null;f!==void 0&&(v=""+f),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(p=u.ref);for(h in u)n.call(u,h)&&!i.hasOwnProperty(h)&&(m[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:t,type:l,key:v,ref:p,props:m,_owner:s.current}}return oh.Fragment=r,oh.jsx=o,oh.jsxs=o,oh}var _4;function bO(){return _4||(_4=1,_v.exports=yO()),_v.exports}var a=bO(),L=n5();const Te=Qr(L),wO=vO({__proto__:null,default:Te},[L]);var fm={},Av={exports:{}},oi={},Cv={exports:{}},Pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4;function jO(){return k4||(k4=1,(function(e){function t(te,ue){var H=te.length;te.push(ue);e:for(;0<H;){var ae=H-1>>>1,U=te[ae];if(0<s(U,ue))te[ae]=ue,te[H]=U,H=ae;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ue=te[0],H=te.pop();if(H!==ue){te[0]=H;e:for(var ae=0,U=te.length,B=U>>>1;ae<B;){var Y=2*(ae+1)-1,ne=te[Y],he=Y+1,Q=te[he];if(0>s(ne,H))he<U&&0>s(Q,ne)?(te[ae]=Q,te[he]=H,ae=he):(te[ae]=ne,te[Y]=H,ae=Y);else if(he<U&&0>s(Q,H))te[ae]=Q,te[he]=H,ae=he;else break e}}return ue}function s(te,ue){var H=te.sortIndex-ue.sortIndex;return H!==0?H:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,m=null,v=3,p=!1,w=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(te){for(var ue=r(f);ue!==null;){if(ue.callback===null)n(f);else if(ue.startTime<=te)n(f),ue.sortIndex=ue.expirationTime,t(u,ue);else break;ue=r(f)}}function k(te){if(x=!1,N(te),!w)if(r(u)!==null)w=!0,le(C);else{var ue=r(f);ue!==null&&ge(k,ue.startTime-te)}}function C(te,ue){w=!1,x&&(x=!1,j(M),M=-1),p=!0;var H=v;try{for(N(ue),m=r(u);m!==null&&(!(m.expirationTime>ue)||te&&!R());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,v=m.priorityLevel;var U=ae(m.expirationTime<=ue);ue=e.unstable_now(),typeof U=="function"?m.callback=U:m===r(u)&&n(u),N(ue)}else n(u);m=r(u)}if(m!==null)var B=!0;else{var Y=r(f);Y!==null&&ge(k,Y.startTime-ue),B=!1}return B}finally{m=null,v=H,p=!1}}var T=!1,F=null,M=-1,q=5,G=-1;function R(){return!(e.unstable_now()-G<q)}function D(){if(F!==null){var te=e.unstable_now();G=te;var ue=!0;try{ue=F(!0,te)}finally{ue?z():(T=!1,F=null)}}else T=!1}var z;if(typeof A=="function")z=function(){A(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Z=W.port2;W.port1.onmessage=D,z=function(){Z.postMessage(null)}}else z=function(){y(D,0)};function le(te){F=te,T||(T=!0,z())}function ge(te,ue){M=y(function(){te(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,le(C))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(te){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var H=v;v=ue;try{return te()}finally{v=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var H=v;v=te;try{return ue()}finally{v=H}},e.unstable_scheduleCallback=function(te,ue,H){var ae=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ae+H:ae):H=ae,te){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=H+U,te={id:h++,callback:ue,priorityLevel:te,startTime:H,expirationTime:U,sortIndex:-1},H>ae?(te.sortIndex=H,t(f,te),r(u)===null&&te===r(f)&&(x?(j(M),M=-1):x=!0,ge(k,H-ae))):(te.sortIndex=U,t(u,te),w||p||(w=!0,le(C))),te},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(te){var ue=v;return function(){var H=v;v=ue;try{return te.apply(this,arguments)}finally{v=H}}}})(Pv)),Pv}var A4;function NO(){return A4||(A4=1,Cv.exports=jO()),Cv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4;function SO(){if(C4)return oi;C4=1;var e=n5(),t=NO();function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(s[c]=d,c=0;c<d.length;c++)n.add(d[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(c){return u.call(m,c)?!0:u.call(h,c)?!1:f.test(c)?m[c]=!0:(h[c]=!0,!1)}function p(c,d,g,S){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return S?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function w(c,d,g,S){if(d===null||typeof d>"u"||p(c,d,g,S))return!0;if(S)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function x(c,d,g,S,E,I,ee){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=S,this.attributeNamespace=E,this.mustUseProperty=g,this.propertyName=c,this.type=d,this.sanitizeURL=I,this.removeEmptyString=ee}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new x(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];y[d]=new x(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new x(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new x(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new x(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new x(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new x(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new x(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new x(c,5,!1,c.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function A(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(j,A);y[d]=new x(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(j,A);y[d]=new x(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(j,A);y[d]=new x(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new x(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new x(c,1,!1,c.toLowerCase(),null,!0,!0)});function N(c,d,g,S){var E=y.hasOwnProperty(d)?y[d]:null;(E!==null?E.type!==0:S||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,g,E,S)&&(g=null),S||E===null?v(d)&&(g===null?c.removeAttribute(d):c.setAttribute(d,""+g)):E.mustUseProperty?c[E.propertyName]=g===null?E.type===3?!1:"":g:(d=E.attributeName,S=E.attributeNamespace,g===null?c.removeAttribute(d):(E=E.type,g=E===3||E===4&&g===!0?"":""+g,S?c.setAttributeNS(S,d,g):c.setAttribute(d,g))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),T=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),te=Symbol.iterator;function ue(c){return c===null||typeof c!="object"?null:(c=te&&c[te]||c["@@iterator"],typeof c=="function"?c:null)}var H=Object.assign,ae;function U(c){if(ae===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);ae=d&&d[1]||""}return`
`+ae+c}var B=!1;function Y(c,d){if(!c||B)return"";B=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ge){var S=Ge}Reflect.construct(c,[],d)}else{try{d.call()}catch(Ge){S=Ge}c.call(d.prototype)}else{try{throw Error()}catch(Ge){S=Ge}c()}}catch(Ge){if(Ge&&S&&typeof Ge.stack=="string"){for(var E=Ge.stack.split(`
`),I=S.stack.split(`
`),ee=E.length-1,Ne=I.length-1;1<=ee&&0<=Ne&&E[ee]!==I[Ne];)Ne--;for(;1<=ee&&0<=Ne;ee--,Ne--)if(E[ee]!==I[Ne]){if(ee!==1||Ne!==1)do if(ee--,Ne--,0>Ne||E[ee]!==I[Ne]){var Ce=`
`+E[ee].replace(" at new "," at ");return c.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",c.displayName)),Ce}while(1<=ee&&0<=Ne);break}}}finally{B=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?U(c):""}function ne(c){switch(c.tag){case 5:return U(c.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return c=Y(c.type,!1),c;case 11:return c=Y(c.type.render,!1),c;case 1:return c=Y(c.type,!0),c;default:return""}}function he(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case F:return"Fragment";case T:return"Portal";case q:return"Profiler";case M:return"StrictMode";case z:return"Suspense";case W:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case R:return(c.displayName||"Context")+".Consumer";case G:return(c._context.displayName||"Context")+".Provider";case D:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Z:return d=c.displayName||null,d!==null?d:he(c.type)||"Memo";case le:d=c._payload,c=c._init;try{return he(c(d))}catch{}}return null}function Q(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(d);case 8:return d===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function pe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ce(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function me(c){var d=ce(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),S=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,I=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return E.call(this)},set:function(ee){S=""+ee,I.call(this,ee)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return S},setValue:function(ee){S=""+ee},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function _e(c){c._valueTracker||(c._valueTracker=me(c))}function se(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),S="";return c&&(S=ce(c)?c.checked?"true":"false":c.value),c=S,c!==g?(d.setValue(c),!0):!1}function ye(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function fe(c,d){var g=d.checked;return H({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function V(c,d){var g=d.defaultValue==null?"":d.defaultValue,S=d.checked!=null?d.checked:d.defaultChecked;g=pe(d.value!=null?d.value:g),c._wrapperState={initialChecked:S,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Re(c,d){d=d.checked,d!=null&&N(c,"checked",d,!1)}function Je(c,d){Re(c,d);var g=pe(d.value),S=d.type;if(g!=null)S==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(S==="submit"||S==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?ze(c,d.type,g):d.hasOwnProperty("defaultValue")&&ze(c,d.type,pe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function nt(c,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var S=d.type;if(!(S!=="submit"&&S!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,g||d===c.value||(c.value=d),c.defaultValue=d}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function ze(c,d,g){(d!=="number"||ye(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var je=Array.isArray;function De(c,d,g,S){if(c=c.options,d){d={};for(var E=0;E<g.length;E++)d["$"+g[E]]=!0;for(g=0;g<c.length;g++)E=d.hasOwnProperty("$"+c[g].value),c[g].selected!==E&&(c[g].selected=E),E&&S&&(c[g].defaultSelected=!0)}else{for(g=""+pe(g),d=null,E=0;E<c.length;E++){if(c[E].value===g){c[E].selected=!0,S&&(c[E].defaultSelected=!0);return}d!==null||c[E].disabled||(d=c[E])}d!==null&&(d.selected=!0)}}function jt(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function bt(c,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(r(92));if(je(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),g=d}c._wrapperState={initialValue:pe(g)}}function Ft(c,d){var g=pe(d.value),S=pe(d.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),d.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),S!=null&&(c.defaultValue=""+S)}function Tt(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function Pt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sr(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?Pt(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var ke,be=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,S,E){MSApp.execUnsafeLocalFunction(function(){return c(d,g,S,E)})}:c})(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(ke=ke||document.createElement("div"),ke.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=ke.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function Oe(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var Fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(Fe).forEach(function(c){st.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),Fe[d]=Fe[c]})});function mt(c,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||Fe.hasOwnProperty(c)&&Fe[c]?(""+d).trim():d+"px"}function at(c,d){c=c.style;for(var g in d)if(d.hasOwnProperty(g)){var S=g.indexOf("--")===0,E=mt(g,d[g],S);g==="float"&&(g="cssFloat"),S?c.setProperty(g,E):c[g]=E}}var gt=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(c,d){if(d){if(gt[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function He(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tt=null;function Me(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var dt=null,er=null,dr=null;function Et(c){if(c=jc(c)){if(typeof dt!="function")throw Error(r(280));var d=c.stateNode;d&&(d=mu(d),dt(c.stateNode,c.type,d))}}function fr(c){er?dr?dr.push(c):dr=[c]:er=c}function kn(){if(er){var c=er,d=dr;if(dr=er=null,Et(c),d)for(c=0;c<d.length;c++)Et(d[c])}}function Zr(c,d){return c(d)}function en(){}var Bn=!1;function Ut(c,d,g){if(Bn)return c(d,g);Bn=!0;try{return Zr(c,d,g)}finally{Bn=!1,(er!==null||dr!==null)&&(en(),kn())}}function Br(c,d){var g=c.stateNode;if(g===null)return null;var S=mu(g);if(S===null)return null;g=S[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(c=c.type,S=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!S;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var mr=!1;if(l)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{mr=!1}function qn(c,d,g,S,E,I,ee,Ne,Ce){var Ge=Array.prototype.slice.call(arguments,3);try{d.apply(g,Ge)}catch(xt){this.onError(xt)}}var Fr=!1,xn=null,Wr=!1,Os=null,Hs={onError:function(c){Fr=!0,xn=c}};function Fa(c,d,g,S,E,I,ee,Ne,Ce){Fr=!1,xn=null,qn.apply(Hs,arguments)}function ds(c,d,g,S,E,I,ee,Ne,Ce){if(Fa.apply(this,arguments),Fr){if(Fr){var Ge=xn;Fr=!1,xn=null}else throw Error(r(198));Wr||(Wr=!0,Os=Ge)}}function An(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function Ur(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function oa(c){if(An(c)!==c)throw Error(r(188))}function pa(c){var d=c.alternate;if(!d){if(d=An(c),d===null)throw Error(r(188));return d!==c?null:c}for(var g=c,S=d;;){var E=g.return;if(E===null)break;var I=E.alternate;if(I===null){if(S=E.return,S!==null){g=S;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===g)return oa(E),c;if(I===S)return oa(E),d;I=I.sibling}throw Error(r(188))}if(g.return!==S.return)g=E,S=I;else{for(var ee=!1,Ne=E.child;Ne;){if(Ne===g){ee=!0,g=E,S=I;break}if(Ne===S){ee=!0,S=E,g=I;break}Ne=Ne.sibling}if(!ee){for(Ne=I.child;Ne;){if(Ne===g){ee=!0,g=I,S=E;break}if(Ne===S){ee=!0,S=I,g=E;break}Ne=Ne.sibling}if(!ee)throw Error(r(189))}}if(g.alternate!==S)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:d}function la(c){return c=pa(c),c!==null?Za(c):null}function Za(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=Za(c);if(d!==null)return d;c=c.sibling}return null}var ga=t.unstable_scheduleCallback,mi=t.unstable_cancelCallback,pi=t.unstable_shouldYield,Ie=t.unstable_requestPaint,ct=t.unstable_now,Ht=t.unstable_getCurrentPriorityLevel,rr=t.unstable_ImmediatePriority,nr=t.unstable_UserBlockingPriority,gr=t.unstable_NormalPriority,qr=t.unstable_LowPriority,$r=t.unstable_IdlePriority,zr=null,yn=null;function Ar(c){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(zr,c,void 0,(c.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Xt,Er=Math.log,an=Math.LN2;function Xt(c){return c>>>=0,c===0?32:31-(Er(c)/an|0)|0}var pr=64,zt=4194304;function Lr(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function tn(c,d){var g=c.pendingLanes;if(g===0)return 0;var S=0,E=c.suspendedLanes,I=c.pingedLanes,ee=g&268435455;if(ee!==0){var Ne=ee&~E;Ne!==0?S=Lr(Ne):(I&=ee,I!==0&&(S=Lr(I)))}else ee=g&~E,ee!==0?S=Lr(ee):I!==0&&(S=Lr(I));if(S===0)return 0;if(d!==0&&d!==S&&(d&E)===0&&(E=S&-S,I=d&-d,E>=I||E===16&&(I&4194240)!==0))return d;if((S&4)!==0&&(S|=g&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=S;0<d;)g=31-hn(d),E=1<<g,S|=c[g],d&=~E;return S}function ro(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cn(c,d){for(var g=c.suspendedLanes,S=c.pingedLanes,E=c.expirationTimes,I=c.pendingLanes;0<I;){var ee=31-hn(I),Ne=1<<ee,Ce=E[ee];Ce===-1?((Ne&g)===0||(Ne&S)!==0)&&(E[ee]=ro(Ne,d)):Ce<=d&&(c.expiredLanes|=Ne),I&=~Ne}}function gi(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function no(){var c=pr;return pr<<=1,(pr&4194240)===0&&(pr=64),c}function Oo(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function Zn(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-hn(d),c[d]=g}function ca(c,d){var g=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var S=c.eventTimes;for(c=c.expirationTimes;0<g;){var E=31-hn(g),I=1<<E;d[E]=0,S[E]=-1,c[E]=-1,g&=~I}}function fs(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var S=31-hn(g),E=1<<S;E&d|c[S]&d&&(c[S]|=d),g&=~E}}var Or=0;function Gt(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var $a,ul,Ro,cc,To,vi=!1,Rs=[],Vs=null,Ba=null,hs=null,ir=new Map,ao=new Map,Ys=[],uc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mo(c,d){switch(c){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":ir.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(d.pointerId)}}function es(c,d,g,S,E,I){return c===null||c.nativeEvent!==I?(c={blockedOn:d,domEventName:g,eventSystemFlags:S,nativeEvent:I,targetContainers:[E]},d!==null&&(d=jc(d),d!==null&&ul(d)),c):(c.eventSystemFlags|=S,d=c.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),c)}function ea(c,d,g,S,E){switch(d){case"focusin":return Vs=es(Vs,c,d,g,S,E),!0;case"dragenter":return Ba=es(Ba,c,d,g,S,E),!0;case"mouseover":return hs=es(hs,c,d,g,S,E),!0;case"pointerover":var I=E.pointerId;return ir.set(I,es(ir.get(I)||null,c,d,g,S,E)),!0;case"gotpointercapture":return I=E.pointerId,ao.set(I,es(ao.get(I)||null,c,d,g,S,E)),!0}return!1}function dc(c){var d=Yo(c.target);if(d!==null){var g=An(d);if(g!==null){if(d=g.tag,d===13){if(d=Ur(g),d!==null){c.blockedOn=d,To(c.priority,function(){Ro(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Io(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=io(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var S=new g.constructor(g.type,g);tt=S,g.target.dispatchEvent(S),tt=null}else return d=jc(g),d!==null&&ul(d),c.blockedOn=g,!1;d.shift()}return!0}function so(c,d,g){Io(c)&&g.delete(d)}function dl(){vi=!1,Vs!==null&&Io(Vs)&&(Vs=null),Ba!==null&&Io(Ba)&&(Ba=null),hs!==null&&Io(hs)&&(hs=null),ir.forEach(so),ao.forEach(so)}function Ts(c,d){c.blockedOn===d&&(c.blockedOn=null,vi||(vi=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dl)))}function Gs(c){function d(E){return Ts(E,c)}if(0<Rs.length){Ts(Rs[0],c);for(var g=1;g<Rs.length;g++){var S=Rs[g];S.blockedOn===c&&(S.blockedOn=null)}}for(Vs!==null&&Ts(Vs,c),Ba!==null&&Ts(Ba,c),hs!==null&&Ts(hs,c),ir.forEach(d),ao.forEach(d),g=0;g<Ys.length;g++)S=Ys[g],S.blockedOn===c&&(S.blockedOn=null);for(;0<Ys.length&&(g=Ys[0],g.blockedOn===null);)dc(g),g.blockedOn===null&&Ys.shift()}var Ms=k.ReactCurrentBatchConfig,Do=!0;function Oi(c,d,g,S){var E=Or,I=Ms.transition;Ms.transition=null;try{Or=1,xi(c,d,g,S)}finally{Or=E,Ms.transition=I}}function fl(c,d,g,S){var E=Or,I=Ms.transition;Ms.transition=null;try{Or=4,xi(c,d,g,S)}finally{Or=E,Ms.transition=I}}function xi(c,d,g,S){if(Do){var E=io(c,d,g,S);if(E===null)du(c,d,S,Ks,g),Mo(c,S);else if(ea(E,c,d,g,S))S.stopPropagation();else if(Mo(c,S),d&4&&-1<uc.indexOf(c)){for(;E!==null;){var I=jc(E);if(I!==null&&$a(I),I=io(c,d,g,S),I===null&&du(c,d,S,Ks,g),I===E)break;E=I}E!==null&&S.stopPropagation()}else du(c,d,S,null,g)}}var Ks=null;function io(c,d,g,S){if(Ks=null,c=Me(S),c=Yo(c),c!==null)if(d=An(c),d===null)c=null;else if(g=d.tag,g===13){if(c=Ur(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return Ks=c,null}function oo(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ht()){case rr:return 1;case nr:return 4;case gr:case qr:return 16;case $r:return 536870912;default:return 16}default:return 16}}var ts=null,yi=null,K=null;function Ue(){if(K)return K;var c,d=yi,g=d.length,S,E="value"in ts?ts.value:ts.textContent,I=E.length;for(c=0;c<g&&d[c]===E[c];c++);var ee=g-c;for(S=1;S<=ee&&d[g-S]===E[I-S];S++);return K=E.slice(c,1<S?1-S:void 0)}function ot(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Ct(){return!0}function Kt(){return!1}function Zt(c){function d(g,S,E,I,ee){this._reactName=g,this._targetInst=E,this.type=S,this.nativeEvent=I,this.target=ee,this.currentTarget=null;for(var Ne in c)c.hasOwnProperty(Ne)&&(g=c[Ne],this[Ne]=g?g(I):I[Ne]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ct:Kt,this.isPropagationStopped=Kt,this}return H(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ct)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ct)},persist:function(){},isPersistent:Ct}),d}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Zt(qt),P=H({},qt,{view:0,detail:0}),X=Zt(P),ve,Se,Pe,Ye=H({},P,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fo,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Pe&&(Pe&&c.type==="mousemove"?(ve=c.screenX-Pe.screenX,Se=c.screenY-Pe.screenY):Se=ve=0,Pe=c),ve)},movementY:function(c){return"movementY"in c?c.movementY:Se}}),ut=Zt(Ye),kt=H({},Ye,{dataTransfer:0}),St=Zt(kt),Jt=H({},P,{relatedTarget:0}),ar=Zt(Jt),Rr=H({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),In=Zt(Rr),ua=H({},qt,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),mn=Zt(ua),va=H({},qt,{data:0}),ta=Zt(va),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ms={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function od(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=ms[c])?!!d[c]:!1}function Fo(){return od}var hl=H({},P,{key:function(c){if(c.key){var d=Ca[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=ot(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Xs[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fo,charCode:function(c){return c.type==="keypress"?ot(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ot(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),$o=Zt(hl),ml=H({},Ye,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Zt(ml),pl=H({},P,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fo}),Ua=Zt(pl),gl=H({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vl=Zt(gl),nu=H({},Ye,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),au=Zt(nu),zn=[9,13,27,32],bi=l&&"CompositionEvent"in window,Ri=null;l&&"documentMode"in document&&(Ri=document.documentMode);var ld=l&&"TextEvent"in window&&!Ri,Is=l&&(!bi||Ri&&8<Ri&&11>=Ri),Uo=" ",fc=!1;function hc(c,d){switch(c){case"keyup":return zn.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Js=!1;function Ds(c,d){switch(c){case"compositionend":return lo(d);case"keypress":return d.which!==32?null:(fc=!0,Uo);case"textInput":return c=d.data,c===Uo&&fc?null:c;default:return null}}function Fs(c,d){if(Js)return c==="compositionend"||!bi&&hc(c,d)?(c=Ue(),K=yi=ts=null,Js=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Is&&d.locale!=="ko"?null:d.data;default:return null}}var qo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ti(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!qo[c.type]:d==="textarea"}function co(c,d,g,S){fr(S),d=hd(d,"onChange"),0<d.length&&(g=new yr("onChange","change",null,g,S),c.push({event:g,listeners:d}))}var uo=null,Mi=null;function ra(c){cu(c,0)}function xl(c){var d=Cl(c);if(se(d))return c}function Ii(c,d){if(c==="change")return d}var wi=!1;if(l){var yl;if(l){var bl="oninput"in document;if(!bl){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),bl=typeof mc.oninput=="function"}yl=bl}else yl=!1;wi=yl&&(!document.documentMode||9<document.documentMode)}function pc(){uo&&(uo.detachEvent("onpropertychange",fo),Mi=uo=null)}function fo(c){if(c.propertyName==="value"&&xl(Mi)){var d=[];co(d,Mi,c,Me(c)),Ut(ra,d)}}function zo(c,d,g){c==="focusin"?(pc(),uo=d,Mi=g,uo.attachEvent("onpropertychange",fo)):c==="focusout"&&pc()}function Wo(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return xl(Mi)}function wl(c,d){if(c==="click")return xl(d)}function Ho(c,d){if(c==="input"||c==="change")return xl(d)}function jl(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Wn=typeof Object.is=="function"?Object.is:jl;function ps(c,d){if(Wn(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),S=Object.keys(d);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var E=g[S];if(!u.call(d,E)||!Wn(c[E],d[E]))return!1}return!0}function Hr(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function sn(c,d){var g=Hr(c);c=0;for(var S;g;){if(g.nodeType===3){if(S=c+g.textContent.length,c<=d&&S>=d)return{node:g,offset:d-c};c=S}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Hr(g)}}function Hn(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?Hn(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function da(){for(var c=window,d=ye();d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=ye(c.document)}return d}function ji(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function su(c){var d=da(),g=c.focusedElem,S=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&Hn(g.ownerDocument.documentElement,g)){if(S!==null&&ji(g)){if(d=S.start,c=S.end,c===void 0&&(c=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(c,g.value.length);else if(c=(d=g.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var E=g.textContent.length,I=Math.min(S.start,E);S=S.end===void 0?I:Math.min(S.end,E),!c.extend&&I>S&&(E=S,S=I,I=E),E=sn(g,I);var ee=sn(g,S);E&&ee&&(c.rangeCount!==1||c.anchorNode!==E.node||c.anchorOffset!==E.offset||c.focusNode!==ee.node||c.focusOffset!==ee.offset)&&(d=d.createRange(),d.setStart(E.node,E.offset),c.removeAllRanges(),I>S?(c.addRange(d),c.extend(ee.node,ee.offset)):(d.setEnd(ee.node,ee.offset),c.addRange(d)))}}for(d=[],c=g;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)c=d[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var gc=l&&"documentMode"in document&&11>=document.documentMode,ho=null,cd=null,vc=null,ud=!1;function Df(c,d,g){var S=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ud||ho==null||ho!==ye(S)||(S=ho,"selectionStart"in S&&ji(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),vc&&ps(vc,S)||(vc=S,S=hd(cd,"onSelect"),0<S.length&&(d=new yr("onSelect","select",null,d,g),c.push({event:d,listeners:S}),d.target=ho)))}function iu(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var Nl={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},Sl={},Ff={};l&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function ou(c){if(Sl[c])return Sl[c];if(!Nl[c])return c;var d=Nl[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in Ff)return Sl[c]=d[g];return c}var $f=ou("animationend"),Bf=ou("animationiteration"),Uf=ou("animationstart"),qf=ou("transitionend"),zf=new Map,Wf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(c,d){zf.set(c,d),i(d,[c])}for(var xc=0;xc<Wf.length;xc++){var rs=Wf[xc],Qs=rs.toLowerCase(),dd=rs[0].toUpperCase()+rs.slice(1);Di(Qs,"on"+dd)}Di($f,"onAnimationEnd"),Di(Bf,"onAnimationIteration"),Di(Uf,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(qf,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function lu(c,d,g){var S=c.type||"unknown-event";c.currentTarget=g,ds(S,d,void 0,c),c.currentTarget=null}function cu(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var S=c[g],E=S.event;S=S.listeners;e:{var I=void 0;if(d)for(var ee=S.length-1;0<=ee;ee--){var Ne=S[ee],Ce=Ne.instance,Ge=Ne.currentTarget;if(Ne=Ne.listener,Ce!==I&&E.isPropagationStopped())break e;lu(E,Ne,Ge),I=Ce}else for(ee=0;ee<S.length;ee++){if(Ne=S[ee],Ce=Ne.instance,Ge=Ne.currentTarget,Ne=Ne.listener,Ce!==I&&E.isPropagationStopped())break e;lu(E,Ne,Ge),I=Ce}}}if(Wr)throw c=Os,Wr=!1,Os=null,c}function dn(c,d){var g=d[vs];g===void 0&&(g=d[vs]=new Set);var S=c+"__bubble";g.has(S)||(uu(d,c,2,!1),g.add(S))}function fd(c,d,g){var S=0;d&&(S|=4),uu(g,c,S,d)}var yc="_reactListening"+Math.random().toString(36).slice(2);function _l(c){if(!c[yc]){c[yc]=!0,n.forEach(function(g){g!=="selectionchange"&&(O0.has(g)||fd(g,!1,c),fd(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[yc]||(d[yc]=!0,fd("selectionchange",!1,d))}}function uu(c,d,g,S){switch(oo(d)){case 1:var E=Oi;break;case 4:E=fl;break;default:E=xi}g=E.bind(null,d,g,c),E=void 0,!mr||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),S?E!==void 0?c.addEventListener(d,g,{capture:!0,passive:E}):c.addEventListener(d,g,!0):E!==void 0?c.addEventListener(d,g,{passive:E}):c.addEventListener(d,g,!1)}function du(c,d,g,S,E){var I=S;if((d&1)===0&&(d&2)===0&&S!==null)e:for(;;){if(S===null)return;var ee=S.tag;if(ee===3||ee===4){var Ne=S.stateNode.containerInfo;if(Ne===E||Ne.nodeType===8&&Ne.parentNode===E)break;if(ee===4)for(ee=S.return;ee!==null;){var Ce=ee.tag;if((Ce===3||Ce===4)&&(Ce=ee.stateNode.containerInfo,Ce===E||Ce.nodeType===8&&Ce.parentNode===E))return;ee=ee.return}for(;Ne!==null;){if(ee=Yo(Ne),ee===null)return;if(Ce=ee.tag,Ce===5||Ce===6){S=I=ee;continue e}Ne=Ne.parentNode}}S=S.return}Ut(function(){var Ge=I,xt=Me(g),yt=[];e:{var pt=zf.get(c);if(pt!==void 0){var Lt=yr,$t=c;switch(c){case"keypress":if(ot(g)===0)break e;case"keydown":case"keyup":Lt=$o;break;case"focusin":$t="focus",Lt=ar;break;case"focusout":$t="blur",Lt=ar;break;case"beforeblur":case"afterblur":Lt=ar;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Lt=ut;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Lt=St;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Lt=Ua;break;case $f:case Bf:case Uf:Lt=In;break;case qf:Lt=vl;break;case"scroll":Lt=X;break;case"wheel":Lt=au;break;case"copy":case"cut":case"paste":Lt=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Lt=Bo}var Wt=(d&4)!==0,xa=!Wt&&c==="scroll",qe=Wt?pt!==null?pt+"Capture":null:pt;Wt=[];for(var Le=Ge,Ve;Le!==null;){Ve=Le;var wt=Ve.stateNode;if(Ve.tag===5&&wt!==null&&(Ve=wt,qe!==null&&(wt=Br(Le,qe),wt!=null&&Wt.push(fu(Le,wt,Ve)))),xa)break;Le=Le.return}0<Wt.length&&(pt=new Lt(pt,$t,null,g,xt),yt.push({event:pt,listeners:Wt}))}}if((d&7)===0){e:{if(pt=c==="mouseover"||c==="pointerover",Lt=c==="mouseout"||c==="pointerout",pt&&g!==tt&&($t=g.relatedTarget||g.fromElement)&&(Yo($t)||$t[qa]))break e;if((Lt||pt)&&(pt=xt.window===xt?xt:(pt=xt.ownerDocument)?pt.defaultView||pt.parentWindow:window,Lt?($t=g.relatedTarget||g.toElement,Lt=Ge,$t=$t?Yo($t):null,$t!==null&&(xa=An($t),$t!==xa||$t.tag!==5&&$t.tag!==6)&&($t=null)):(Lt=null,$t=Ge),Lt!==$t)){if(Wt=ut,wt="onMouseLeave",qe="onMouseEnter",Le="mouse",(c==="pointerout"||c==="pointerover")&&(Wt=Bo,wt="onPointerLeave",qe="onPointerEnter",Le="pointer"),xa=Lt==null?pt:Cl(Lt),Ve=$t==null?pt:Cl($t),pt=new Wt(wt,Le+"leave",Lt,g,xt),pt.target=xa,pt.relatedTarget=Ve,wt=null,Yo(xt)===Ge&&(Wt=new Wt(qe,Le+"enter",$t,g,xt),Wt.target=Ve,Wt.relatedTarget=xa,wt=Wt),xa=wt,Lt&&$t)t:{for(Wt=Lt,qe=$t,Le=0,Ve=Wt;Ve;Ve=kl(Ve))Le++;for(Ve=0,wt=qe;wt;wt=kl(wt))Ve++;for(;0<Le-Ve;)Wt=kl(Wt),Le--;for(;0<Ve-Le;)qe=kl(qe),Ve--;for(;Le--;){if(Wt===qe||qe!==null&&Wt===qe.alternate)break t;Wt=kl(Wt),qe=kl(qe)}Wt=null}else Wt=null;Lt!==null&&R0(yt,pt,Lt,Wt,!1),$t!==null&&xa!==null&&R0(yt,xa,$t,Wt,!0)}}e:{if(pt=Ge?Cl(Ge):window,Lt=pt.nodeName&&pt.nodeName.toLowerCase(),Lt==="select"||Lt==="input"&&pt.type==="file")var Yt=Ii;else if(Ti(pt))if(wi)Yt=Ho;else{Yt=Wo;var or=zo}else(Lt=pt.nodeName)&&Lt.toLowerCase()==="input"&&(pt.type==="checkbox"||pt.type==="radio")&&(Yt=wl);if(Yt&&(Yt=Yt(c,Ge))){co(yt,Yt,g,xt);break e}or&&or(c,pt,Ge),c==="focusout"&&(or=pt._wrapperState)&&or.controlled&&pt.type==="number"&&ze(pt,"number",pt.value)}switch(or=Ge?Cl(Ge):window,c){case"focusin":(Ti(or)||or.contentEditable==="true")&&(ho=or,cd=Ge,vc=null);break;case"focusout":vc=cd=ho=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,Df(yt,g,xt);break;case"selectionchange":if(gc)break;case"keydown":case"keyup":Df(yt,g,xt)}var lr;if(bi)e:{switch(c){case"compositionstart":var vr="onCompositionStart";break e;case"compositionend":vr="onCompositionEnd";break e;case"compositionupdate":vr="onCompositionUpdate";break e}vr=void 0}else Js?hc(c,g)&&(vr="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(vr="onCompositionStart");vr&&(Is&&g.locale!=="ko"&&(Js||vr!=="onCompositionStart"?vr==="onCompositionEnd"&&Js&&(lr=Ue()):(ts=xt,yi="value"in ts?ts.value:ts.textContent,Js=!0)),or=hd(Ge,vr),0<or.length&&(vr=new ta(vr,c,null,g,xt),yt.push({event:vr,listeners:or}),lr?vr.data=lr:(lr=lo(g),lr!==null&&(vr.data=lr)))),(lr=ld?Ds(c,g):Fs(c,g))&&(Ge=hd(Ge,"onBeforeInput"),0<Ge.length&&(xt=new ta("onBeforeInput","beforeinput",null,g,xt),yt.push({event:xt,listeners:Ge}),xt.data=lr))}cu(yt,d)})}function fu(c,d,g){return{instance:c,listener:d,currentTarget:g}}function hd(c,d){for(var g=d+"Capture",S=[];c!==null;){var E=c,I=E.stateNode;E.tag===5&&I!==null&&(E=I,I=Br(c,g),I!=null&&S.unshift(fu(c,I,E)),I=Br(c,d),I!=null&&S.push(fu(c,I,E))),c=c.return}return S}function kl(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function R0(c,d,g,S,E){for(var I=d._reactName,ee=[];g!==null&&g!==S;){var Ne=g,Ce=Ne.alternate,Ge=Ne.stateNode;if(Ce!==null&&Ce===S)break;Ne.tag===5&&Ge!==null&&(Ne=Ge,E?(Ce=Br(g,I),Ce!=null&&ee.unshift(fu(g,Ce,Ne))):E||(Ce=Br(g,I),Ce!=null&&ee.push(fu(g,Ce,Ne)))),g=g.return}ee.length!==0&&c.push({event:d,listeners:ee})}var Ug=/\r\n?/g,qg=/\u0000|\uFFFD/g;function T0(c){return(typeof c=="string"?c:""+c).replace(Ug,`
`).replace(qg,"")}function md(c,d,g){if(d=T0(d),T0(c)!==d&&g)throw Error(r(425))}function bc(){}var hu=null,Al=null;function Hf(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,M0=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,zg=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(c){return I0.resolve(null).then(c).catch(Wg)}:Vf;function Wg(c){setTimeout(function(){throw c})}function Yf(c,d){var g=d,S=0;do{var E=g.nextSibling;if(c.removeChild(g),E&&E.nodeType===8)if(g=E.data,g==="/$"){if(S===0){c.removeChild(E),Gs(d);return}S--}else g!=="$"&&g!=="$?"&&g!=="$!"||S++;g=E}while(g);Gs(d)}function ns(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function Zs(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Fi="__reactFiber$"+gs,wc="__reactProps$"+gs,qa="__reactContainer$"+gs,vs="__reactEvents$"+gs,Hg="__reactListeners$"+gs,Vg="__reactHandles$"+gs;function Yo(c){var d=c[Fi];if(d)return d;for(var g=c.parentNode;g;){if(d=g[qa]||g[Fi]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=Zs(c);c!==null;){if(g=c[Fi])return g;c=Zs(c)}return d}c=g,g=c.parentNode}return null}function jc(c){return c=c[Fi]||c[qa],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Cl(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function mu(c){return c[wc]||null}var Gf=[],mo=-1;function Ni(c){return{current:c}}function rn(c){0>mo||(c.current=Gf[mo],Gf[mo]=null,mo--)}function on(c,d){mo++,Gf[mo]=c.current,c.current=d}var Go={},Pa=Ni(Go),xs=Ni(!1),Pl=Go;function Nc(c,d){var g=c.type.contextTypes;if(!g)return Go;var S=c.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var E={},I;for(I in g)E[I]=d[I];return S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=E),E}function ys(c){return c=c.childContextTypes,c!=null}function pd(){rn(xs),rn(Pa)}function D0(c,d,g){if(Pa.current!==Go)throw Error(r(168));on(Pa,d),on(xs,g)}function Kf(c,d,g){var S=c.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return g;S=S.getChildContext();for(var E in S)if(!(E in d))throw Error(r(108,Q(c)||"Unknown",E));return H({},g,S)}function El(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Go,Pl=Pa.current,on(Pa,c),on(xs,xs.current),!0}function F0(c,d,g){var S=c.stateNode;if(!S)throw Error(r(169));g?(c=Kf(c,d,Pl),S.__reactInternalMemoizedMergedChildContext=c,rn(xs),rn(Pa),on(Pa,c)):rn(xs),on(xs,g)}var po=null,pu=!1,b=!1;function _(c){po===null?po=[c]:po.push(c)}function O(c){pu=!0,_(c)}function $(){if(!b&&po!==null){b=!0;var c=0,d=Or;try{var g=po;for(Or=1;c<g.length;c++){var S=g[c];do S=S(!0);while(S!==null)}po=null,pu=!1}catch(E){throw po!==null&&(po=po.slice(c+1)),ga(rr,$),E}finally{Or=d,b=!1}}return null}var J=[],re=0,ie=null,oe=0,de=[],xe=0,Ae=null,Be=1,we="";function Ee(c,d){J[re++]=oe,J[re++]=ie,ie=c,oe=d}function $e(c,d,g){de[xe++]=Be,de[xe++]=we,de[xe++]=Ae,Ae=c;var S=Be;c=we;var E=32-hn(S)-1;S&=~(1<<E),g+=1;var I=32-hn(d)+E;if(30<I){var ee=E-E%5;I=(S&(1<<ee)-1).toString(32),S>>=ee,E-=ee,Be=1<<32-hn(d)+E|g<<E|S,we=I+c}else Be=1<<I|g<<E|S,we=c}function et(c){c.return!==null&&(Ee(c,1),$e(c,1,0))}function We(c){for(;c===ie;)ie=J[--re],J[re]=null,oe=J[--re],J[re]=null;for(;c===Ae;)Ae=de[--xe],de[xe]=null,we=de[--xe],de[xe]=null,Be=de[--xe],de[xe]=null}var Xe=null,Qe=null,it=!1,lt=null;function Vt(c,d){var g=zi(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,d=c.deletions,d===null?(c.deletions=[g],c.flags|=16):d.push(g)}function Ot(c,d){switch(c.tag){case 5:var g=c.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,Xe=c,Qe=ns(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,Xe=c,Qe=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=Ae!==null?{id:Be,overflow:we}:null,c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=zi(18,null,null,0),g.stateNode=d,g.return=c,c.child=g,Xe=c,Qe=null,!0):!1;default:return!1}}function jr(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Dt(c){if(it){var d=Qe;if(d){var g=d;if(!Ot(c,d)){if(jr(c))throw Error(r(418));d=ns(g.nextSibling);var S=Xe;d&&Ot(c,d)?Vt(S,g):(c.flags=c.flags&-4097|2,it=!1,Xe=c)}}else{if(jr(c))throw Error(r(418));c.flags=c.flags&-4097|2,it=!1,Xe=c}}}function Pr(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Xe=c}function Vn(c){if(c!==Xe)return!1;if(!it)return Pr(c),it=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!Hf(c.type,c.memoizedProps)),d&&(d=Qe)){if(jr(c))throw Nr(),Error(r(418));for(;d;)Vt(c,d),d=ns(d.nextSibling)}if(Pr(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(d===0){Qe=ns(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}c=c.nextSibling}Qe=null}}else Qe=Xe?ns(c.stateNode.nextSibling):null;return!0}function Nr(){for(var c=Qe;c;)c=ns(c.nextSibling)}function Rt(){Qe=Xe=null,it=!1}function _t(c){lt===null?lt=[c]:lt.push(c)}var na=k.ReactCurrentBatchConfig;function tr(c,d){if(c&&c.defaultProps){d=H({},d),c=c.defaultProps;for(var g in c)d[g]===void 0&&(d[g]=c[g]);return d}return d}var Cr=Ni(null),ln=null,Yn=null,Ea=null;function Pn(){Ea=Yn=ln=null}function Na(c){var d=Cr.current;rn(Cr),c._currentValue=d}function La(c,d,g){for(;c!==null;){var S=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),c===g)break;c=c.return}}function En(c,d){ln=c,Ea=Yn=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(ai=!0),c.firstContext=null)}function br(c){var d=c._currentValue;if(Ea!==c)if(c={context:c,memoizedValue:d,next:null},Yn===null){if(ln===null)throw Error(r(308));Yn=c,ln.dependencies={lanes:0,firstContext:c}}else Yn=Yn.next=c;return d}var Tr=null;function Ln(c){Tr===null?Tr=[c]:Tr.push(c)}function Gr(c,d,g,S){var E=d.interleaved;return E===null?(g.next=g,Ln(d)):(g.next=E.next,E.next=g),d.interleaved=g,bn(c,S)}function bn(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,g=c.alternate,g!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Sa=!1;function Dn(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function as(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Mr(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function pn(c,d,g){var S=c.updateQueue;if(S===null)return null;if(S=S.shared,(Vr&2)!==0){var E=S.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),S.pending=d,bn(c,g)}return E=S.interleaved,E===null?(d.next=d,Ln(S)):(d.next=E.next,E.next=d),S.interleaved=d,bn(c,g)}function za(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var S=d.lanes;S&=c.pendingLanes,g|=S,d.lanes=g,fs(c,g)}}function Wa(c,d){var g=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var E=null,I=null;if(g=g.firstBaseUpdate,g!==null){do{var ee={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?E=I=ee:I=I.next=ee,g=g.next}while(g!==null);I===null?E=I=d:I=I.next=d}else E=I=d;g={baseState:S.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:S.shared,effects:S.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function Ha(c,d,g,S){var E=c.updateQueue;Sa=!1;var I=E.firstBaseUpdate,ee=E.lastBaseUpdate,Ne=E.shared.pending;if(Ne!==null){E.shared.pending=null;var Ce=Ne,Ge=Ce.next;Ce.next=null,ee===null?I=Ge:ee.next=Ge,ee=Ce;var xt=c.alternate;xt!==null&&(xt=xt.updateQueue,Ne=xt.lastBaseUpdate,Ne!==ee&&(Ne===null?xt.firstBaseUpdate=Ge:Ne.next=Ge,xt.lastBaseUpdate=Ce))}if(I!==null){var yt=E.baseState;ee=0,xt=Ge=Ce=null,Ne=I;do{var pt=Ne.lane,Lt=Ne.eventTime;if((S&pt)===pt){xt!==null&&(xt=xt.next={eventTime:Lt,lane:0,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null});e:{var $t=c,Wt=Ne;switch(pt=d,Lt=g,Wt.tag){case 1:if($t=Wt.payload,typeof $t=="function"){yt=$t.call(Lt,yt,pt);break e}yt=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=Wt.payload,pt=typeof $t=="function"?$t.call(Lt,yt,pt):$t,pt==null)break e;yt=H({},yt,pt);break e;case 2:Sa=!0}}Ne.callback!==null&&Ne.lane!==0&&(c.flags|=64,pt=E.effects,pt===null?E.effects=[Ne]:pt.push(Ne))}else Lt={eventTime:Lt,lane:pt,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null},xt===null?(Ge=xt=Lt,Ce=yt):xt=xt.next=Lt,ee|=pt;if(Ne=Ne.next,Ne===null){if(Ne=E.shared.pending,Ne===null)break;pt=Ne,Ne=pt.next,pt.next=null,E.lastBaseUpdate=pt,E.shared.pending=null}}while(!0);if(xt===null&&(Ce=yt),E.baseState=Ce,E.firstBaseUpdate=Ge,E.lastBaseUpdate=xt,d=E.shared.interleaved,d!==null){E=d;do ee|=E.lane,E=E.next;while(E!==d)}else I===null&&(E.shared.lanes=0);ku|=ee,c.lanes=ee,c.memoizedState=yt}}function bs(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var S=c[d],E=S.callback;if(E!==null){if(S.callback=null,S=g,typeof E!="function")throw Error(r(191,E));E.call(S)}}}var ss=new e.Component().refs;function is(c,d,g,S){d=c.memoizedState,g=g(S,d),g=g==null?d:H({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var nn={isMounted:function(c){return(c=c._reactInternals)?An(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var S=Bs(),E=Pc(c),I=Mr(S,E);I.payload=d,g!=null&&(I.callback=g),d=pn(c,I,E),d!==null&&(wo(d,c,E,S),za(d,c,E))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var S=Bs(),E=Pc(c),I=Mr(S,E);I.tag=1,I.payload=d,g!=null&&(I.callback=g),d=pn(c,I,E),d!==null&&(wo(d,c,E,S),za(d,c,E))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=Bs(),S=Pc(c),E=Mr(g,S);E.tag=2,d!=null&&(E.callback=d),d=pn(c,E,S),d!==null&&(wo(d,c,S,g),za(d,c,S))}};function ws(c,d,g,S,E,I,ee){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,I,ee):d.prototype&&d.prototype.isPureReactComponent?!ps(g,S)||!ps(E,I):!0}function ei(c,d,g){var S=!1,E=Go,I=d.contextType;return typeof I=="object"&&I!==null?I=br(I):(E=ys(d)?Pl:Pa.current,S=d.contextTypes,I=(S=S!=null)?Nc(c,E):Go),d=new d(g,I),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nn,c.stateNode=d,d._reactInternals=c,S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=E,c.__reactInternalMemoizedMaskedChildContext=I),d}function Ko(c,d,g,S){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,S),d.state!==c&&nn.enqueueReplaceState(d,d.state,null)}function Si(c,d,g,S){var E=c.stateNode;E.props=g,E.state=c.memoizedState,E.refs=ss,Dn(c);var I=d.contextType;typeof I=="object"&&I!==null?E.context=br(I):(I=ys(d)?Pl:Pa.current,E.context=Nc(c,I)),E.state=c.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(is(c,d,I,g),E.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(d=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),d!==E.state&&nn.enqueueReplaceState(E,E.state,null),Ha(c,g,E,S),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308)}function aa(c,d,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var S=g.stateNode}if(!S)throw Error(r(147,c));var E=S,I=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===I?d.ref:(d=function(ee){var Ne=E.refs;Ne===ss&&(Ne=E.refs={}),ee===null?delete Ne[I]:Ne[I]=ee},d._stringRef=I,d)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function Ll(c,d){throw c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function gd(c){var d=c._init;return d(c._payload)}function gu(c){function d(qe,Le){if(c){var Ve=qe.deletions;Ve===null?(qe.deletions=[Le],qe.flags|=16):Ve.push(Le)}}function g(qe,Le){if(!c)return null;for(;Le!==null;)d(qe,Le),Le=Le.sibling;return null}function S(qe,Le){for(qe=new Map;Le!==null;)Le.key!==null?qe.set(Le.key,Le):qe.set(Le.index,Le),Le=Le.sibling;return qe}function E(qe,Le){return qe=Lc(qe,Le),qe.index=0,qe.sibling=null,qe}function I(qe,Le,Ve){return qe.index=Ve,c?(Ve=qe.alternate,Ve!==null?(Ve=Ve.index,Ve<Le?(qe.flags|=2,Le):Ve):(qe.flags|=2,Le)):(qe.flags|=1048576,Le)}function ee(qe){return c&&qe.alternate===null&&(qe.flags|=2),qe}function Ne(qe,Le,Ve,wt){return Le===null||Le.tag!==6?(Le=yv(Ve,qe.mode,wt),Le.return=qe,Le):(Le=E(Le,Ve),Le.return=qe,Le)}function Ce(qe,Le,Ve,wt){var Yt=Ve.type;return Yt===F?xt(qe,Le,Ve.props.children,wt,Ve.key):Le!==null&&(Le.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===le&&gd(Yt)===Le.type)?(wt=E(Le,Ve.props),wt.ref=aa(qe,Le,Ve),wt.return=qe,wt):(wt=nm(Ve.type,Ve.key,Ve.props,null,qe.mode,wt),wt.ref=aa(qe,Le,Ve),wt.return=qe,wt)}function Ge(qe,Le,Ve,wt){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==Ve.containerInfo||Le.stateNode.implementation!==Ve.implementation?(Le=bv(Ve,qe.mode,wt),Le.return=qe,Le):(Le=E(Le,Ve.children||[]),Le.return=qe,Le)}function xt(qe,Le,Ve,wt,Yt){return Le===null||Le.tag!==7?(Le=Eu(Ve,qe.mode,wt,Yt),Le.return=qe,Le):(Le=E(Le,Ve),Le.return=qe,Le)}function yt(qe,Le,Ve){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Le=yv(""+Le,qe.mode,Ve),Le.return=qe,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case C:return Ve=nm(Le.type,Le.key,Le.props,null,qe.mode,Ve),Ve.ref=aa(qe,null,Le),Ve.return=qe,Ve;case T:return Le=bv(Le,qe.mode,Ve),Le.return=qe,Le;case le:var wt=Le._init;return yt(qe,wt(Le._payload),Ve)}if(je(Le)||ue(Le))return Le=Eu(Le,qe.mode,Ve,null),Le.return=qe,Le;Ll(qe,Le)}return null}function pt(qe,Le,Ve,wt){var Yt=Le!==null?Le.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return Yt!==null?null:Ne(qe,Le,""+Ve,wt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case C:return Ve.key===Yt?Ce(qe,Le,Ve,wt):null;case T:return Ve.key===Yt?Ge(qe,Le,Ve,wt):null;case le:return Yt=Ve._init,pt(qe,Le,Yt(Ve._payload),wt)}if(je(Ve)||ue(Ve))return Yt!==null?null:xt(qe,Le,Ve,wt,null);Ll(qe,Ve)}return null}function Lt(qe,Le,Ve,wt,Yt){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return qe=qe.get(Ve)||null,Ne(Le,qe,""+wt,Yt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case C:return qe=qe.get(wt.key===null?Ve:wt.key)||null,Ce(Le,qe,wt,Yt);case T:return qe=qe.get(wt.key===null?Ve:wt.key)||null,Ge(Le,qe,wt,Yt);case le:var or=wt._init;return Lt(qe,Le,Ve,or(wt._payload),Yt)}if(je(wt)||ue(wt))return qe=qe.get(Ve)||null,xt(Le,qe,wt,Yt,null);Ll(Le,wt)}return null}function $t(qe,Le,Ve,wt){for(var Yt=null,or=null,lr=Le,vr=Le=0,Ya=null;lr!==null&&vr<Ve.length;vr++){lr.index>vr?(Ya=lr,lr=null):Ya=lr.sibling;var Kr=pt(qe,lr,Ve[vr],wt);if(Kr===null){lr===null&&(lr=Ya);break}c&&lr&&Kr.alternate===null&&d(qe,lr),Le=I(Kr,Le,vr),or===null?Yt=Kr:or.sibling=Kr,or=Kr,lr=Ya}if(vr===Ve.length)return g(qe,lr),it&&Ee(qe,vr),Yt;if(lr===null){for(;vr<Ve.length;vr++)lr=yt(qe,Ve[vr],wt),lr!==null&&(Le=I(lr,Le,vr),or===null?Yt=lr:or.sibling=lr,or=lr);return it&&Ee(qe,vr),Yt}for(lr=S(qe,lr);vr<Ve.length;vr++)Ya=Lt(lr,qe,vr,Ve[vr],wt),Ya!==null&&(c&&Ya.alternate!==null&&lr.delete(Ya.key===null?vr:Ya.key),Le=I(Ya,Le,vr),or===null?Yt=Ya:or.sibling=Ya,or=Ya);return c&&lr.forEach(function(Oc){return d(qe,Oc)}),it&&Ee(qe,vr),Yt}function Wt(qe,Le,Ve,wt){var Yt=ue(Ve);if(typeof Yt!="function")throw Error(r(150));if(Ve=Yt.call(Ve),Ve==null)throw Error(r(151));for(var or=Yt=null,lr=Le,vr=Le=0,Ya=null,Kr=Ve.next();lr!==null&&!Kr.done;vr++,Kr=Ve.next()){lr.index>vr?(Ya=lr,lr=null):Ya=lr.sibling;var Oc=pt(qe,lr,Kr.value,wt);if(Oc===null){lr===null&&(lr=Ya);break}c&&lr&&Oc.alternate===null&&d(qe,lr),Le=I(Oc,Le,vr),or===null?Yt=Oc:or.sibling=Oc,or=Oc,lr=Ya}if(Kr.done)return g(qe,lr),it&&Ee(qe,vr),Yt;if(lr===null){for(;!Kr.done;vr++,Kr=Ve.next())Kr=yt(qe,Kr.value,wt),Kr!==null&&(Le=I(Kr,Le,vr),or===null?Yt=Kr:or.sibling=Kr,or=Kr);return it&&Ee(qe,vr),Yt}for(lr=S(qe,lr);!Kr.done;vr++,Kr=Ve.next())Kr=Lt(lr,qe,vr,Kr.value,wt),Kr!==null&&(c&&Kr.alternate!==null&&lr.delete(Kr.key===null?vr:Kr.key),Le=I(Kr,Le,vr),or===null?Yt=Kr:or.sibling=Kr,or=Kr);return c&&lr.forEach(function(gO){return d(qe,gO)}),it&&Ee(qe,vr),Yt}function xa(qe,Le,Ve,wt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===F&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case C:e:{for(var Yt=Ve.key,or=Le;or!==null;){if(or.key===Yt){if(Yt=Ve.type,Yt===F){if(or.tag===7){g(qe,or.sibling),Le=E(or,Ve.props.children),Le.return=qe,qe=Le;break e}}else if(or.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===le&&gd(Yt)===or.type){g(qe,or.sibling),Le=E(or,Ve.props),Le.ref=aa(qe,or,Ve),Le.return=qe,qe=Le;break e}g(qe,or);break}else d(qe,or);or=or.sibling}Ve.type===F?(Le=Eu(Ve.props.children,qe.mode,wt,Ve.key),Le.return=qe,qe=Le):(wt=nm(Ve.type,Ve.key,Ve.props,null,qe.mode,wt),wt.ref=aa(qe,Le,Ve),wt.return=qe,qe=wt)}return ee(qe);case T:e:{for(or=Ve.key;Le!==null;){if(Le.key===or)if(Le.tag===4&&Le.stateNode.containerInfo===Ve.containerInfo&&Le.stateNode.implementation===Ve.implementation){g(qe,Le.sibling),Le=E(Le,Ve.children||[]),Le.return=qe,qe=Le;break e}else{g(qe,Le);break}else d(qe,Le);Le=Le.sibling}Le=bv(Ve,qe.mode,wt),Le.return=qe,qe=Le}return ee(qe);case le:return or=Ve._init,xa(qe,Le,or(Ve._payload),wt)}if(je(Ve))return $t(qe,Le,Ve,wt);if(ue(Ve))return Wt(qe,Le,Ve,wt);Ll(qe,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"?(Ve=""+Ve,Le!==null&&Le.tag===6?(g(qe,Le.sibling),Le=E(Le,Ve),Le.return=qe,qe=Le):(g(qe,Le),Le=yv(Ve,qe.mode,wt),Le.return=qe,qe=Le),ee(qe)):g(qe,Le)}return xa}var $i=gu(!0),$0=gu(!1),vu={},ti=Ni(vu),ri=Ni(vu),xu=Ni(vu);function Ol(c){if(c===vu)throw Error(r(174));return c}function Xf(c,d){switch(on(xu,d),on(ri,c),on(ti,vu),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:sr(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=sr(d,c)}rn(ti),on(ti,d)}function Rl(){rn(ti),rn(ri),rn(xu)}function yu(c){Ol(xu.current);var d=Ol(ti.current),g=sr(d,c.type);d!==g&&(on(ri,c),on(ti,g))}function vd(c){ri.current===c&&(rn(ti),rn(ri))}var On=Ni(0);function Tl(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var bu=[];function Ml(){for(var c=0;c<bu.length;c++)bu[c]._workInProgressVersionPrimary=null;bu.length=0}var wu=k.ReactCurrentDispatcher,Jf=k.ReactCurrentBatchConfig,Bi=0,Rn=null,sa=null,wn=null,ju=!1,Sc=!1,Nu=0,B0=0;function ia(){throw Error(r(321))}function Qf(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!Wn(c[g],d[g]))return!1;return!0}function xd(c,d,g,S,E,I){if(Bi=I,Rn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,wu.current=c===null||c.memoizedState===null?qL:zL,c=g(S,E),Sc){I=0;do{if(Sc=!1,Nu=0,25<=I)throw Error(r(301));I+=1,wn=sa=null,d.updateQueue=null,wu.current=WL,c=g(S,E)}while(Sc)}if(wu.current=W0,d=sa!==null&&sa.next!==null,Bi=0,wn=sa=Rn=null,ju=!1,d)throw Error(r(300));return c}function Zf(){var c=Nu!==0;return Nu=0,c}function _i(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Rn.memoizedState=wn=c:wn=wn.next=c,wn}function ni(){if(sa===null){var c=Rn.alternate;c=c!==null?c.memoizedState:null}else c=sa.next;var d=wn===null?Rn.memoizedState:wn.next;if(d!==null)wn=d,sa=c;else{if(c===null)throw Error(r(310));sa=c,c={memoizedState:sa.memoizedState,baseState:sa.baseState,baseQueue:sa.baseQueue,queue:sa.queue,next:null},wn===null?Rn.memoizedState=wn=c:wn=wn.next=c}return wn}function go(c,d){return typeof d=="function"?d(c):d}function Su(c){var d=ni(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var S=sa,E=S.baseQueue,I=g.pending;if(I!==null){if(E!==null){var ee=E.next;E.next=I.next,I.next=ee}S.baseQueue=E=I,g.pending=null}if(E!==null){I=E.next,S=S.baseState;var Ne=ee=null,Ce=null,Ge=I;do{var xt=Ge.lane;if((Bi&xt)===xt)Ce!==null&&(Ce=Ce.next={lane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),S=Ge.hasEagerState?Ge.eagerState:c(S,Ge.action);else{var yt={lane:xt,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null};Ce===null?(Ne=Ce=yt,ee=S):Ce=Ce.next=yt,Rn.lanes|=xt,ku|=xt}Ge=Ge.next}while(Ge!==null&&Ge!==I);Ce===null?ee=S:Ce.next=Ne,Wn(S,d.memoizedState)||(ai=!0),d.memoizedState=S,d.baseState=ee,d.baseQueue=Ce,g.lastRenderedState=S}if(c=g.interleaved,c!==null){E=c;do I=E.lane,Rn.lanes|=I,ku|=I,E=E.next;while(E!==c)}else E===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function _c(c){var d=ni(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var S=g.dispatch,E=g.pending,I=d.memoizedState;if(E!==null){g.pending=null;var ee=E=E.next;do I=c(I,ee.action),ee=ee.next;while(ee!==E);Wn(I,d.memoizedState)||(ai=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),g.lastRenderedState=I}return[I,S]}function Ui(){}function vo(c,d){var g=Rn,S=ni(),E=d(),I=!Wn(S.memoizedState,E);if(I&&(S.memoizedState=E,ai=!0),S=S.queue,Yg(yd.bind(null,g,S,c),[c]),S.getSnapshot!==d||I||wn!==null&&wn.memoizedState.tag&1){if(g.flags|=2048,Il(9,_u.bind(null,g,S,E,d),void 0,null),Va===null)throw Error(r(349));(Bi&30)!==0||xo(g,d,E)}return E}function xo(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=Rn.updateQueue,d===null?(d={lastEffect:null,stores:null},Rn.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function _u(c,d,g,S){d.value=g,d.getSnapshot=S,eh(d)&&U0(c)}function yd(c,d,g){return g(function(){eh(d)&&U0(c)})}function eh(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!Wn(c,g)}catch{return!0}}function U0(c){var d=bn(c,1);d!==null&&wo(d,c,1,-1)}function bd(c){var d=_i();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:c},d.queue=c,c=c.dispatch=UL.bind(null,Rn,c),[d.memoizedState,c]}function Il(c,d,g,S){return c={tag:c,create:d,destroy:g,deps:S,next:null},d=Rn.updateQueue,d===null?(d={lastEffect:null,stores:null},Rn.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect,g===null?d.lastEffect=c.next=c:(S=g.next,g.next=c,c.next=S,d.lastEffect=c)),c}function xj(){return ni().memoizedState}function q0(c,d,g,S){var E=_i();Rn.flags|=c,E.memoizedState=Il(1|d,g,void 0,S===void 0?null:S)}function z0(c,d,g,S){var E=ni();S=S===void 0?null:S;var I=void 0;if(sa!==null){var ee=sa.memoizedState;if(I=ee.destroy,S!==null&&Qf(S,ee.deps)){E.memoizedState=Il(d,g,I,S);return}}Rn.flags|=c,E.memoizedState=Il(1|d,g,I,S)}function yj(c,d){return q0(8390656,8,c,d)}function Yg(c,d){return z0(2048,8,c,d)}function bj(c,d){return z0(4,2,c,d)}function wj(c,d){return z0(4,4,c,d)}function jj(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function Nj(c,d,g){return g=g!=null?g.concat([c]):null,z0(4,4,jj.bind(null,d,c),g)}function Gg(){}function Sj(c,d){var g=ni();d=d===void 0?null:d;var S=g.memoizedState;return S!==null&&d!==null&&Qf(d,S[1])?S[0]:(g.memoizedState=[c,d],c)}function _j(c,d){var g=ni();d=d===void 0?null:d;var S=g.memoizedState;return S!==null&&d!==null&&Qf(d,S[1])?S[0]:(c=c(),g.memoizedState=[c,d],c)}function kj(c,d,g){return(Bi&21)===0?(c.baseState&&(c.baseState=!1,ai=!0),c.memoizedState=g):(Wn(g,d)||(g=no(),Rn.lanes|=g,ku|=g,c.baseState=!0),d)}function $L(c,d){var g=Or;Or=g!==0&&4>g?g:4,c(!0);var S=Jf.transition;Jf.transition={};try{c(!1),d()}finally{Or=g,Jf.transition=S}}function Aj(){return ni().memoizedState}function BL(c,d,g){var S=Pc(c);if(g={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null},Cj(c))Pj(d,g);else if(g=Gr(c,d,g,S),g!==null){var E=Bs();wo(g,c,S,E),Ej(g,d,S)}}function UL(c,d,g){var S=Pc(c),E={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null};if(Cj(c))Pj(d,E);else{var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer,I!==null))try{var ee=d.lastRenderedState,Ne=I(ee,g);if(E.hasEagerState=!0,E.eagerState=Ne,Wn(Ne,ee)){var Ce=d.interleaved;Ce===null?(E.next=E,Ln(d)):(E.next=Ce.next,Ce.next=E),d.interleaved=E;return}}catch{}finally{}g=Gr(c,d,E,S),g!==null&&(E=Bs(),wo(g,c,S,E),Ej(g,d,S))}}function Cj(c){var d=c.alternate;return c===Rn||d!==null&&d===Rn}function Pj(c,d){Sc=ju=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function Ej(c,d,g){if((g&4194240)!==0){var S=d.lanes;S&=c.pendingLanes,g|=S,d.lanes=g,fs(c,g)}}var W0={readContext:br,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useInsertionEffect:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useSyncExternalStore:ia,useId:ia,unstable_isNewReconciler:!1},qL={readContext:br,useCallback:function(c,d){return _i().memoizedState=[c,d===void 0?null:d],c},useContext:br,useEffect:yj,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,q0(4194308,4,jj.bind(null,d,c),g)},useLayoutEffect:function(c,d){return q0(4194308,4,c,d)},useInsertionEffect:function(c,d){return q0(4,2,c,d)},useMemo:function(c,d){var g=_i();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var S=_i();return d=g!==void 0?g(d):d,S.memoizedState=S.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},S.queue=c,c=c.dispatch=BL.bind(null,Rn,c),[S.memoizedState,c]},useRef:function(c){var d=_i();return c={current:c},d.memoizedState=c},useState:bd,useDebugValue:Gg,useDeferredValue:function(c){return _i().memoizedState=c},useTransition:function(){var c=bd(!1),d=c[0];return c=$L.bind(null,c[1]),_i().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var S=Rn,E=_i();if(it){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),Va===null)throw Error(r(349));(Bi&30)!==0||xo(S,d,g)}E.memoizedState=g;var I={value:g,getSnapshot:d};return E.queue=I,yj(yd.bind(null,S,I,c),[c]),S.flags|=2048,Il(9,_u.bind(null,S,I,g,d),void 0,null),g},useId:function(){var c=_i(),d=Va.identifierPrefix;if(it){var g=we,S=Be;g=(S&~(1<<32-hn(S)-1)).toString(32)+g,d=":"+d+"R"+g,g=Nu++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=B0++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},zL={readContext:br,useCallback:Sj,useContext:br,useEffect:Yg,useImperativeHandle:Nj,useInsertionEffect:bj,useLayoutEffect:wj,useMemo:_j,useReducer:Su,useRef:xj,useState:function(){return Su(go)},useDebugValue:Gg,useDeferredValue:function(c){var d=ni();return kj(d,sa.memoizedState,c)},useTransition:function(){var c=Su(go)[0],d=ni().memoizedState;return[c,d]},useMutableSource:Ui,useSyncExternalStore:vo,useId:Aj,unstable_isNewReconciler:!1},WL={readContext:br,useCallback:Sj,useContext:br,useEffect:Yg,useImperativeHandle:Nj,useInsertionEffect:bj,useLayoutEffect:wj,useMemo:_j,useReducer:_c,useRef:xj,useState:function(){return _c(go)},useDebugValue:Gg,useDeferredValue:function(c){var d=ni();return sa===null?d.memoizedState=c:kj(d,sa.memoizedState,c)},useTransition:function(){var c=_c(go)[0],d=ni().memoizedState;return[c,d]},useMutableSource:Ui,useSyncExternalStore:vo,useId:Aj,unstable_isNewReconciler:!1};function wd(c,d){try{var g="",S=d;do g+=ne(S),S=S.return;while(S);var E=g}catch(I){E=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:d,stack:E,digest:null}}function Kg(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function Xg(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var HL=typeof WeakMap=="function"?WeakMap:Map;function Lj(c,d,g){g=Mr(-1,g),g.tag=3,g.payload={element:null};var S=d.value;return g.callback=function(){J0||(J0=!0,dv=S),Xg(c,d)},g}function Oj(c,d,g){g=Mr(-1,g),g.tag=3;var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var E=d.value;g.payload=function(){return S(E)},g.callback=function(){Xg(c,d)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){Xg(c,d),typeof S!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var ee=d.stack;this.componentDidCatch(d.value,{componentStack:ee!==null?ee:""})}),g}function Rj(c,d,g){var S=c.pingCache;if(S===null){S=c.pingCache=new HL;var E=new Set;S.set(d,E)}else E=S.get(d),E===void 0&&(E=new Set,S.set(d,E));E.has(g)||(E.add(g),c=sO.bind(null,c,d,g),d.then(c,c))}function Tj(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function Mj(c,d,g,S,E){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=Mr(-1,1),d.tag=2,pn(g,d,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=E,c)}var VL=k.ReactCurrentOwner,ai=!1;function $s(c,d,g,S){d.child=c===null?$0(d,null,g,S):$i(d,c.child,g,S)}function Ij(c,d,g,S,E){g=g.render;var I=d.ref;return En(d,E),S=xd(c,d,g,S,I,E),g=Zf(),c!==null&&!ai?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~E,Dl(c,d,E)):(it&&g&&et(d),d.flags|=1,$s(c,d,S,E),d.child)}function Dj(c,d,g,S,E){if(c===null){var I=g.type;return typeof I=="function"&&!xv(I)&&I.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=I,Fj(c,d,I,S,E)):(c=nm(g.type,null,S,d,d.mode,E),c.ref=d.ref,c.return=d,d.child=c)}if(I=c.child,(c.lanes&E)===0){var ee=I.memoizedProps;if(g=g.compare,g=g!==null?g:ps,g(ee,S)&&c.ref===d.ref)return Dl(c,d,E)}return d.flags|=1,c=Lc(I,S),c.ref=d.ref,c.return=d,d.child=c}function Fj(c,d,g,S,E){if(c!==null){var I=c.memoizedProps;if(ps(I,S)&&c.ref===d.ref)if(ai=!1,d.pendingProps=S=I,(c.lanes&E)!==0)(c.flags&131072)!==0&&(ai=!0);else return d.lanes=c.lanes,Dl(c,d,E)}return Jg(c,d,g,S,E)}function $j(c,d,g){var S=d.pendingProps,E=S.children,I=c!==null?c.memoizedState:null;if(S.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(Nd,ki),ki|=g;else{if((g&1073741824)===0)return c=I!==null?I.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,on(Nd,ki),ki|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=I!==null?I.baseLanes:g,on(Nd,ki),ki|=S}else I!==null?(S=I.baseLanes|g,d.memoizedState=null):S=g,on(Nd,ki),ki|=S;return $s(c,d,E,g),d.child}function Bj(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function Jg(c,d,g,S,E){var I=ys(g)?Pl:Pa.current;return I=Nc(d,I),En(d,E),g=xd(c,d,g,S,I,E),S=Zf(),c!==null&&!ai?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~E,Dl(c,d,E)):(it&&S&&et(d),d.flags|=1,$s(c,d,g,E),d.child)}function Uj(c,d,g,S,E){if(ys(g)){var I=!0;El(d)}else I=!1;if(En(d,E),d.stateNode===null)V0(c,d),ei(d,g,S),Si(d,g,S,E),S=!0;else if(c===null){var ee=d.stateNode,Ne=d.memoizedProps;ee.props=Ne;var Ce=ee.context,Ge=g.contextType;typeof Ge=="object"&&Ge!==null?Ge=br(Ge):(Ge=ys(g)?Pl:Pa.current,Ge=Nc(d,Ge));var xt=g.getDerivedStateFromProps,yt=typeof xt=="function"||typeof ee.getSnapshotBeforeUpdate=="function";yt||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(Ne!==S||Ce!==Ge)&&Ko(d,ee,S,Ge),Sa=!1;var pt=d.memoizedState;ee.state=pt,Ha(d,S,ee,E),Ce=d.memoizedState,Ne!==S||pt!==Ce||xs.current||Sa?(typeof xt=="function"&&(is(d,g,xt,S),Ce=d.memoizedState),(Ne=Sa||ws(d,g,Ne,S,pt,Ce,Ge))?(yt||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(d.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=Ce),ee.props=S,ee.state=Ce,ee.context=Ge,S=Ne):(typeof ee.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{ee=d.stateNode,as(c,d),Ne=d.memoizedProps,Ge=d.type===d.elementType?Ne:tr(d.type,Ne),ee.props=Ge,yt=d.pendingProps,pt=ee.context,Ce=g.contextType,typeof Ce=="object"&&Ce!==null?Ce=br(Ce):(Ce=ys(g)?Pl:Pa.current,Ce=Nc(d,Ce));var Lt=g.getDerivedStateFromProps;(xt=typeof Lt=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(Ne!==yt||pt!==Ce)&&Ko(d,ee,S,Ce),Sa=!1,pt=d.memoizedState,ee.state=pt,Ha(d,S,ee,E);var $t=d.memoizedState;Ne!==yt||pt!==$t||xs.current||Sa?(typeof Lt=="function"&&(is(d,g,Lt,S),$t=d.memoizedState),(Ge=Sa||ws(d,g,Ge,S,pt,$t,Ce)||!1)?(xt||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(S,$t,Ce),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(S,$t,Ce)),typeof ee.componentDidUpdate=="function"&&(d.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof ee.componentDidUpdate!="function"||Ne===c.memoizedProps&&pt===c.memoizedState||(d.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||Ne===c.memoizedProps&&pt===c.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=$t),ee.props=S,ee.state=$t,ee.context=Ce,S=Ge):(typeof ee.componentDidUpdate!="function"||Ne===c.memoizedProps&&pt===c.memoizedState||(d.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||Ne===c.memoizedProps&&pt===c.memoizedState||(d.flags|=1024),S=!1)}return Qg(c,d,g,S,I,E)}function Qg(c,d,g,S,E,I){Bj(c,d);var ee=(d.flags&128)!==0;if(!S&&!ee)return E&&F0(d,g,!1),Dl(c,d,I);S=d.stateNode,VL.current=d;var Ne=ee&&typeof g.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,c!==null&&ee?(d.child=$i(d,c.child,null,I),d.child=$i(d,null,Ne,I)):$s(c,d,Ne,I),d.memoizedState=S.state,E&&F0(d,g,!0),d.child}function qj(c){var d=c.stateNode;d.pendingContext?D0(c,d.pendingContext,d.pendingContext!==d.context):d.context&&D0(c,d.context,!1),Xf(c,d.containerInfo)}function zj(c,d,g,S,E){return Rt(),_t(E),d.flags|=256,$s(c,d,g,S),d.child}var Zg={dehydrated:null,treeContext:null,retryLane:0};function ev(c){return{baseLanes:c,cachePool:null,transitions:null}}function Wj(c,d,g){var S=d.pendingProps,E=On.current,I=!1,ee=(d.flags&128)!==0,Ne;if((Ne=ee)||(Ne=c!==null&&c.memoizedState===null?!1:(E&2)!==0),Ne?(I=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(E|=1),on(On,E&1),c===null)return Dt(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(ee=S.children,c=S.fallback,I?(S=d.mode,I=d.child,ee={mode:"hidden",children:ee},(S&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=ee):I=am(ee,S,0,null),c=Eu(c,S,g,null),I.return=d,c.return=d,I.sibling=c,d.child=I,d.child.memoizedState=ev(g),d.memoizedState=Zg,c):tv(d,ee));if(E=c.memoizedState,E!==null&&(Ne=E.dehydrated,Ne!==null))return YL(c,d,ee,S,Ne,E,g);if(I){I=S.fallback,ee=d.mode,E=c.child,Ne=E.sibling;var Ce={mode:"hidden",children:S.children};return(ee&1)===0&&d.child!==E?(S=d.child,S.childLanes=0,S.pendingProps=Ce,d.deletions=null):(S=Lc(E,Ce),S.subtreeFlags=E.subtreeFlags&14680064),Ne!==null?I=Lc(Ne,I):(I=Eu(I,ee,g,null),I.flags|=2),I.return=d,S.return=d,S.sibling=I,d.child=S,S=I,I=d.child,ee=c.child.memoizedState,ee=ee===null?ev(g):{baseLanes:ee.baseLanes|g,cachePool:null,transitions:ee.transitions},I.memoizedState=ee,I.childLanes=c.childLanes&~g,d.memoizedState=Zg,S}return I=c.child,c=I.sibling,S=Lc(I,{mode:"visible",children:S.children}),(d.mode&1)===0&&(S.lanes=g),S.return=d,S.sibling=null,c!==null&&(g=d.deletions,g===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=S,d.memoizedState=null,S}function tv(c,d){return d=am({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function H0(c,d,g,S){return S!==null&&_t(S),$i(d,c.child,null,g),c=tv(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function YL(c,d,g,S,E,I,ee){if(g)return d.flags&256?(d.flags&=-257,S=Kg(Error(r(422))),H0(c,d,ee,S)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(I=S.fallback,E=d.mode,S=am({mode:"visible",children:S.children},E,0,null),I=Eu(I,E,ee,null),I.flags|=2,S.return=d,I.return=d,S.sibling=I,d.child=S,(d.mode&1)!==0&&$i(d,c.child,null,ee),d.child.memoizedState=ev(ee),d.memoizedState=Zg,I);if((d.mode&1)===0)return H0(c,d,ee,null);if(E.data==="$!"){if(S=E.nextSibling&&E.nextSibling.dataset,S)var Ne=S.dgst;return S=Ne,I=Error(r(419)),S=Kg(I,S,void 0),H0(c,d,ee,S)}if(Ne=(ee&c.childLanes)!==0,ai||Ne){if(S=Va,S!==null){switch(ee&-ee){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(S.suspendedLanes|ee))!==0?0:E,E!==0&&E!==I.retryLane&&(I.retryLane=E,bn(c,E),wo(S,c,E,-1))}return vv(),S=Kg(Error(r(421))),H0(c,d,ee,S)}return E.data==="$?"?(d.flags|=128,d.child=c.child,d=iO.bind(null,c),E._reactRetry=d,null):(c=I.treeContext,Qe=ns(E.nextSibling),Xe=d,it=!0,lt=null,c!==null&&(de[xe++]=Be,de[xe++]=we,de[xe++]=Ae,Be=c.id,we=c.overflow,Ae=d),d=tv(d,S.children),d.flags|=4096,d)}function Hj(c,d,g){c.lanes|=d;var S=c.alternate;S!==null&&(S.lanes|=d),La(c.return,d,g)}function rv(c,d,g,S,E){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:E}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=S,I.tail=g,I.tailMode=E)}function Vj(c,d,g){var S=d.pendingProps,E=S.revealOrder,I=S.tail;if($s(c,d,S.children,g),S=On.current,(S&2)!==0)S=S&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Hj(c,g,d);else if(c.tag===19)Hj(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}if(on(On,S),(d.mode&1)===0)d.memoizedState=null;else switch(E){case"forwards":for(g=d.child,E=null;g!==null;)c=g.alternate,c!==null&&Tl(c)===null&&(E=g),g=g.sibling;g=E,g===null?(E=d.child,d.child=null):(E=g.sibling,g.sibling=null),rv(d,!1,E,g,I);break;case"backwards":for(g=null,E=d.child,d.child=null;E!==null;){if(c=E.alternate,c!==null&&Tl(c)===null){d.child=E;break}c=E.sibling,E.sibling=g,g=E,E=c}rv(d,!0,g,null,I);break;case"together":rv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function V0(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Dl(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),ku|=d.lanes,(g&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,g=Lc(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=Lc(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function GL(c,d,g){switch(d.tag){case 3:qj(d),Rt();break;case 5:yu(d);break;case 1:ys(d.type)&&El(d);break;case 4:Xf(d,d.stateNode.containerInfo);break;case 10:var S=d.type._context,E=d.memoizedProps.value;on(Cr,S._currentValue),S._currentValue=E;break;case 13:if(S=d.memoizedState,S!==null)return S.dehydrated!==null?(on(On,On.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?Wj(c,d,g):(on(On,On.current&1),c=Dl(c,d,g),c!==null?c.sibling:null);on(On,On.current&1);break;case 19:if(S=(g&d.childLanes)!==0,(c.flags&128)!==0){if(S)return Vj(c,d,g);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),on(On,On.current),S)break;return null;case 22:case 23:return d.lanes=0,$j(c,d,g)}return Dl(c,d,g)}var Yj,nv,Gj,Kj;Yj=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},nv=function(){},Gj=function(c,d,g,S){var E=c.memoizedProps;if(E!==S){c=d.stateNode,Ol(ti.current);var I=null;switch(g){case"input":E=fe(c,E),S=fe(c,S),I=[];break;case"select":E=H({},E,{value:void 0}),S=H({},S,{value:void 0}),I=[];break;case"textarea":E=jt(c,E),S=jt(c,S),I=[];break;default:typeof E.onClick!="function"&&typeof S.onClick=="function"&&(c.onclick=bc)}vt(g,S);var ee;g=null;for(Ge in E)if(!S.hasOwnProperty(Ge)&&E.hasOwnProperty(Ge)&&E[Ge]!=null)if(Ge==="style"){var Ne=E[Ge];for(ee in Ne)Ne.hasOwnProperty(ee)&&(g||(g={}),g[ee]="")}else Ge!=="dangerouslySetInnerHTML"&&Ge!=="children"&&Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&Ge!=="autoFocus"&&(s.hasOwnProperty(Ge)?I||(I=[]):(I=I||[]).push(Ge,null));for(Ge in S){var Ce=S[Ge];if(Ne=E?.[Ge],S.hasOwnProperty(Ge)&&Ce!==Ne&&(Ce!=null||Ne!=null))if(Ge==="style")if(Ne){for(ee in Ne)!Ne.hasOwnProperty(ee)||Ce&&Ce.hasOwnProperty(ee)||(g||(g={}),g[ee]="");for(ee in Ce)Ce.hasOwnProperty(ee)&&Ne[ee]!==Ce[ee]&&(g||(g={}),g[ee]=Ce[ee])}else g||(I||(I=[]),I.push(Ge,g)),g=Ce;else Ge==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ne=Ne?Ne.__html:void 0,Ce!=null&&Ne!==Ce&&(I=I||[]).push(Ge,Ce)):Ge==="children"?typeof Ce!="string"&&typeof Ce!="number"||(I=I||[]).push(Ge,""+Ce):Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ge)?(Ce!=null&&Ge==="onScroll"&&dn("scroll",c),I||Ne===Ce||(I=[])):(I=I||[]).push(Ge,Ce))}g&&(I=I||[]).push("style",g);var Ge=I;(d.updateQueue=Ge)&&(d.flags|=4)}},Kj=function(c,d,g,S){g!==S&&(d.flags|=4)};function th(c,d){if(!it)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function js(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,S=0;if(d)for(var E=c.child;E!==null;)g|=E.lanes|E.childLanes,S|=E.subtreeFlags&14680064,S|=E.flags&14680064,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)g|=E.lanes|E.childLanes,S|=E.subtreeFlags,S|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=S,c.childLanes=g,d}function KL(c,d,g){var S=d.pendingProps;switch(We(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return js(d),null;case 1:return ys(d.type)&&pd(),js(d),null;case 3:return S=d.stateNode,Rl(),rn(xs),rn(Pa),Ml(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(c===null||c.child===null)&&(Vn(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,lt!==null&&(mv(lt),lt=null))),nv(c,d),js(d),null;case 5:vd(d);var E=Ol(xu.current);if(g=d.type,c!==null&&d.stateNode!=null)Gj(c,d,g,S,E),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(r(166));return js(d),null}if(c=Ol(ti.current),Vn(d)){S=d.stateNode,g=d.type;var I=d.memoizedProps;switch(S[Fi]=d,S[wc]=I,c=(d.mode&1)!==0,g){case"dialog":dn("cancel",S),dn("close",S);break;case"iframe":case"object":case"embed":dn("load",S);break;case"video":case"audio":for(E=0;E<Vo.length;E++)dn(Vo[E],S);break;case"source":dn("error",S);break;case"img":case"image":case"link":dn("error",S),dn("load",S);break;case"details":dn("toggle",S);break;case"input":V(S,I),dn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!I.multiple},dn("invalid",S);break;case"textarea":bt(S,I),dn("invalid",S)}vt(g,I),E=null;for(var ee in I)if(I.hasOwnProperty(ee)){var Ne=I[ee];ee==="children"?typeof Ne=="string"?S.textContent!==Ne&&(I.suppressHydrationWarning!==!0&&md(S.textContent,Ne,c),E=["children",Ne]):typeof Ne=="number"&&S.textContent!==""+Ne&&(I.suppressHydrationWarning!==!0&&md(S.textContent,Ne,c),E=["children",""+Ne]):s.hasOwnProperty(ee)&&Ne!=null&&ee==="onScroll"&&dn("scroll",S)}switch(g){case"input":_e(S),nt(S,I,!0);break;case"textarea":_e(S),Tt(S);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(S.onclick=bc)}S=E,d.updateQueue=S,S!==null&&(d.flags|=4)}else{ee=E.nodeType===9?E:E.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Pt(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=ee.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof S.is=="string"?c=ee.createElement(g,{is:S.is}):(c=ee.createElement(g),g==="select"&&(ee=c,S.multiple?ee.multiple=!0:S.size&&(ee.size=S.size))):c=ee.createElementNS(c,g),c[Fi]=d,c[wc]=S,Yj(c,d,!1,!1),d.stateNode=c;e:{switch(ee=He(g,S),g){case"dialog":dn("cancel",c),dn("close",c),E=S;break;case"iframe":case"object":case"embed":dn("load",c),E=S;break;case"video":case"audio":for(E=0;E<Vo.length;E++)dn(Vo[E],c);E=S;break;case"source":dn("error",c),E=S;break;case"img":case"image":case"link":dn("error",c),dn("load",c),E=S;break;case"details":dn("toggle",c),E=S;break;case"input":V(c,S),E=fe(c,S),dn("invalid",c);break;case"option":E=S;break;case"select":c._wrapperState={wasMultiple:!!S.multiple},E=H({},S,{value:void 0}),dn("invalid",c);break;case"textarea":bt(c,S),E=jt(c,S),dn("invalid",c);break;default:E=S}vt(g,E),Ne=E;for(I in Ne)if(Ne.hasOwnProperty(I)){var Ce=Ne[I];I==="style"?at(c,Ce):I==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&be(c,Ce)):I==="children"?typeof Ce=="string"?(g!=="textarea"||Ce!=="")&&Oe(c,Ce):typeof Ce=="number"&&Oe(c,""+Ce):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(s.hasOwnProperty(I)?Ce!=null&&I==="onScroll"&&dn("scroll",c):Ce!=null&&N(c,I,Ce,ee))}switch(g){case"input":_e(c),nt(c,S,!1);break;case"textarea":_e(c),Tt(c);break;case"option":S.value!=null&&c.setAttribute("value",""+pe(S.value));break;case"select":c.multiple=!!S.multiple,I=S.value,I!=null?De(c,!!S.multiple,I,!1):S.defaultValue!=null&&De(c,!!S.multiple,S.defaultValue,!0);break;default:typeof E.onClick=="function"&&(c.onclick=bc)}switch(g){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return js(d),null;case 6:if(c&&d.stateNode!=null)Kj(c,d,c.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(r(166));if(g=Ol(xu.current),Ol(ti.current),Vn(d)){if(S=d.stateNode,g=d.memoizedProps,S[Fi]=d,(I=S.nodeValue!==g)&&(c=Xe,c!==null))switch(c.tag){case 3:md(S.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&md(S.nodeValue,g,(c.mode&1)!==0)}I&&(d.flags|=4)}else S=(g.nodeType===9?g:g.ownerDocument).createTextNode(S),S[Fi]=d,d.stateNode=S}return js(d),null;case 13:if(rn(On),S=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(it&&Qe!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Nr(),Rt(),d.flags|=98560,I=!1;else if(I=Vn(d),S!==null&&S.dehydrated!==null){if(c===null){if(!I)throw Error(r(318));if(I=d.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[Fi]=d}else Rt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;js(d),I=!1}else lt!==null&&(mv(lt),lt=null),I=!0;if(!I)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(S=S!==null,S!==(c!==null&&c.memoizedState!==null)&&S&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(On.current&1)!==0?Oa===0&&(Oa=3):vv())),d.updateQueue!==null&&(d.flags|=4),js(d),null);case 4:return Rl(),nv(c,d),c===null&&_l(d.stateNode.containerInfo),js(d),null;case 10:return Na(d.type._context),js(d),null;case 17:return ys(d.type)&&pd(),js(d),null;case 19:if(rn(On),I=d.memoizedState,I===null)return js(d),null;if(S=(d.flags&128)!==0,ee=I.rendering,ee===null)if(S)th(I,!1);else{if(Oa!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(ee=Tl(c),ee!==null){for(d.flags|=128,th(I,!1),S=ee.updateQueue,S!==null&&(d.updateQueue=S,d.flags|=4),d.subtreeFlags=0,S=g,g=d.child;g!==null;)I=g,c=S,I.flags&=14680066,ee=I.alternate,ee===null?(I.childLanes=0,I.lanes=c,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=ee.childLanes,I.lanes=ee.lanes,I.child=ee.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=ee.memoizedProps,I.memoizedState=ee.memoizedState,I.updateQueue=ee.updateQueue,I.type=ee.type,c=ee.dependencies,I.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return on(On,On.current&1|2),d.child}c=c.sibling}I.tail!==null&&ct()>Sd&&(d.flags|=128,S=!0,th(I,!1),d.lanes=4194304)}else{if(!S)if(c=Tl(ee),c!==null){if(d.flags|=128,S=!0,g=c.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),th(I,!0),I.tail===null&&I.tailMode==="hidden"&&!ee.alternate&&!it)return js(d),null}else 2*ct()-I.renderingStartTime>Sd&&g!==1073741824&&(d.flags|=128,S=!0,th(I,!1),d.lanes=4194304);I.isBackwards?(ee.sibling=d.child,d.child=ee):(g=I.last,g!==null?g.sibling=ee:d.child=ee,I.last=ee)}return I.tail!==null?(d=I.tail,I.rendering=d,I.tail=d.sibling,I.renderingStartTime=ct(),d.sibling=null,g=On.current,on(On,S?g&1|2:g&1),d):(js(d),null);case 22:case 23:return gv(),S=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==S&&(d.flags|=8192),S&&(d.mode&1)!==0?(ki&1073741824)!==0&&(js(d),d.subtreeFlags&6&&(d.flags|=8192)):js(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function XL(c,d){switch(We(d),d.tag){case 1:return ys(d.type)&&pd(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Rl(),rn(xs),rn(Pa),Ml(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return vd(d),null;case 13:if(rn(On),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Rt()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return rn(On),null;case 4:return Rl(),null;case 10:return Na(d.type._context),null;case 22:case 23:return gv(),null;case 24:return null;default:return null}}var Y0=!1,Ns=!1,JL=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function jd(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(S){fa(c,d,S)}else g.current=null}function av(c,d,g){try{g()}catch(S){fa(c,d,S)}}var Xj=!1;function QL(c,d){if(hu=Do,c=da(),ji(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var S=g.getSelection&&g.getSelection();if(S&&S.rangeCount!==0){g=S.anchorNode;var E=S.anchorOffset,I=S.focusNode;S=S.focusOffset;try{g.nodeType,I.nodeType}catch{g=null;break e}var ee=0,Ne=-1,Ce=-1,Ge=0,xt=0,yt=c,pt=null;t:for(;;){for(var Lt;yt!==g||E!==0&&yt.nodeType!==3||(Ne=ee+E),yt!==I||S!==0&&yt.nodeType!==3||(Ce=ee+S),yt.nodeType===3&&(ee+=yt.nodeValue.length),(Lt=yt.firstChild)!==null;)pt=yt,yt=Lt;for(;;){if(yt===c)break t;if(pt===g&&++Ge===E&&(Ne=ee),pt===I&&++xt===S&&(Ce=ee),(Lt=yt.nextSibling)!==null)break;yt=pt,pt=yt.parentNode}yt=Lt}g=Ne===-1||Ce===-1?null:{start:Ne,end:Ce}}else g=null}g=g||{start:0,end:0}}else g=null;for(Al={focusedElem:c,selectionRange:g},Do=!1,Mt=d;Mt!==null;)if(d=Mt,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Mt=c;else for(;Mt!==null;){d=Mt;try{var $t=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if($t!==null){var Wt=$t.memoizedProps,xa=$t.memoizedState,qe=d.stateNode,Le=qe.getSnapshotBeforeUpdate(d.elementType===d.type?Wt:tr(d.type,Wt),xa);qe.__reactInternalSnapshotBeforeUpdate=Le}break;case 3:var Ve=d.stateNode.containerInfo;Ve.nodeType===1?Ve.textContent="":Ve.nodeType===9&&Ve.documentElement&&Ve.removeChild(Ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(wt){fa(d,d.return,wt)}if(c=d.sibling,c!==null){c.return=d.return,Mt=c;break}Mt=d.return}return $t=Xj,Xj=!1,$t}function rh(c,d,g){var S=d.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var E=S=S.next;do{if((E.tag&c)===c){var I=E.destroy;E.destroy=void 0,I!==void 0&&av(d,g,I)}E=E.next}while(E!==S)}}function G0(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&c)===c){var S=g.create;g.destroy=S()}g=g.next}while(g!==d)}}function sv(c){var d=c.ref;if(d!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof d=="function"?d(c):d.current=c}}function Jj(c){var d=c.alternate;d!==null&&(c.alternate=null,Jj(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[Fi],delete d[wc],delete d[vs],delete d[Hg],delete d[Vg])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Qj(c){return c.tag===5||c.tag===3||c.tag===4}function Zj(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Qj(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function iv(c,d,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=bc));else if(S!==4&&(c=c.child,c!==null))for(iv(c,d,g),c=c.sibling;c!==null;)iv(c,d,g),c=c.sibling}function ov(c,d,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(S!==4&&(c=c.child,c!==null))for(ov(c,d,g),c=c.sibling;c!==null;)ov(c,d,g),c=c.sibling}var os=null,yo=!1;function kc(c,d,g){for(g=g.child;g!==null;)e4(c,d,g),g=g.sibling}function e4(c,d,g){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(zr,g)}catch{}switch(g.tag){case 5:Ns||jd(g,d);case 6:var S=os,E=yo;os=null,kc(c,d,g),os=S,yo=E,os!==null&&(yo?(c=os,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):os.removeChild(g.stateNode));break;case 18:os!==null&&(yo?(c=os,g=g.stateNode,c.nodeType===8?Yf(c.parentNode,g):c.nodeType===1&&Yf(c,g),Gs(c)):Yf(os,g.stateNode));break;case 4:S=os,E=yo,os=g.stateNode.containerInfo,yo=!0,kc(c,d,g),os=S,yo=E;break;case 0:case 11:case 14:case 15:if(!Ns&&(S=g.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){E=S=S.next;do{var I=E,ee=I.destroy;I=I.tag,ee!==void 0&&((I&2)!==0||(I&4)!==0)&&av(g,d,ee),E=E.next}while(E!==S)}kc(c,d,g);break;case 1:if(!Ns&&(jd(g,d),S=g.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=g.memoizedProps,S.state=g.memoizedState,S.componentWillUnmount()}catch(Ne){fa(g,d,Ne)}kc(c,d,g);break;case 21:kc(c,d,g);break;case 22:g.mode&1?(Ns=(S=Ns)||g.memoizedState!==null,kc(c,d,g),Ns=S):kc(c,d,g);break;default:kc(c,d,g)}}function t4(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new JL),d.forEach(function(S){var E=oO.bind(null,c,S);g.has(S)||(g.add(S),S.then(E,E))})}}function bo(c,d){var g=d.deletions;if(g!==null)for(var S=0;S<g.length;S++){var E=g[S];try{var I=c,ee=d,Ne=ee;e:for(;Ne!==null;){switch(Ne.tag){case 5:os=Ne.stateNode,yo=!1;break e;case 3:os=Ne.stateNode.containerInfo,yo=!0;break e;case 4:os=Ne.stateNode.containerInfo,yo=!0;break e}Ne=Ne.return}if(os===null)throw Error(r(160));e4(I,ee,E),os=null,yo=!1;var Ce=E.alternate;Ce!==null&&(Ce.return=null),E.return=null}catch(Ge){fa(E,d,Ge)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)r4(d,c),d=d.sibling}function r4(c,d){var g=c.alternate,S=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(bo(d,c),Xo(c),S&4){try{rh(3,c,c.return),G0(3,c)}catch(Wt){fa(c,c.return,Wt)}try{rh(5,c,c.return)}catch(Wt){fa(c,c.return,Wt)}}break;case 1:bo(d,c),Xo(c),S&512&&g!==null&&jd(g,g.return);break;case 5:if(bo(d,c),Xo(c),S&512&&g!==null&&jd(g,g.return),c.flags&32){var E=c.stateNode;try{Oe(E,"")}catch(Wt){fa(c,c.return,Wt)}}if(S&4&&(E=c.stateNode,E!=null)){var I=c.memoizedProps,ee=g!==null?g.memoizedProps:I,Ne=c.type,Ce=c.updateQueue;if(c.updateQueue=null,Ce!==null)try{Ne==="input"&&I.type==="radio"&&I.name!=null&&Re(E,I),He(Ne,ee);var Ge=He(Ne,I);for(ee=0;ee<Ce.length;ee+=2){var xt=Ce[ee],yt=Ce[ee+1];xt==="style"?at(E,yt):xt==="dangerouslySetInnerHTML"?be(E,yt):xt==="children"?Oe(E,yt):N(E,xt,yt,Ge)}switch(Ne){case"input":Je(E,I);break;case"textarea":Ft(E,I);break;case"select":var pt=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!I.multiple;var Lt=I.value;Lt!=null?De(E,!!I.multiple,Lt,!1):pt!==!!I.multiple&&(I.defaultValue!=null?De(E,!!I.multiple,I.defaultValue,!0):De(E,!!I.multiple,I.multiple?[]:"",!1))}E[wc]=I}catch(Wt){fa(c,c.return,Wt)}}break;case 6:if(bo(d,c),Xo(c),S&4){if(c.stateNode===null)throw Error(r(162));E=c.stateNode,I=c.memoizedProps;try{E.nodeValue=I}catch(Wt){fa(c,c.return,Wt)}}break;case 3:if(bo(d,c),Xo(c),S&4&&g!==null&&g.memoizedState.isDehydrated)try{Gs(d.containerInfo)}catch(Wt){fa(c,c.return,Wt)}break;case 4:bo(d,c),Xo(c);break;case 13:bo(d,c),Xo(c),E=c.child,E.flags&8192&&(I=E.memoizedState!==null,E.stateNode.isHidden=I,!I||E.alternate!==null&&E.alternate.memoizedState!==null||(uv=ct())),S&4&&t4(c);break;case 22:if(xt=g!==null&&g.memoizedState!==null,c.mode&1?(Ns=(Ge=Ns)||xt,bo(d,c),Ns=Ge):bo(d,c),Xo(c),S&8192){if(Ge=c.memoizedState!==null,(c.stateNode.isHidden=Ge)&&!xt&&(c.mode&1)!==0)for(Mt=c,xt=c.child;xt!==null;){for(yt=Mt=xt;Mt!==null;){switch(pt=Mt,Lt=pt.child,pt.tag){case 0:case 11:case 14:case 15:rh(4,pt,pt.return);break;case 1:jd(pt,pt.return);var $t=pt.stateNode;if(typeof $t.componentWillUnmount=="function"){S=pt,g=pt.return;try{d=S,$t.props=d.memoizedProps,$t.state=d.memoizedState,$t.componentWillUnmount()}catch(Wt){fa(S,g,Wt)}}break;case 5:jd(pt,pt.return);break;case 22:if(pt.memoizedState!==null){s4(yt);continue}}Lt!==null?(Lt.return=pt,Mt=Lt):s4(yt)}xt=xt.sibling}e:for(xt=null,yt=c;;){if(yt.tag===5){if(xt===null){xt=yt;try{E=yt.stateNode,Ge?(I=E.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(Ne=yt.stateNode,Ce=yt.memoizedProps.style,ee=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,Ne.style.display=mt("display",ee))}catch(Wt){fa(c,c.return,Wt)}}}else if(yt.tag===6){if(xt===null)try{yt.stateNode.nodeValue=Ge?"":yt.memoizedProps}catch(Wt){fa(c,c.return,Wt)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===c)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===c)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===c)break e;xt===yt&&(xt=null),yt=yt.return}xt===yt&&(xt=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:bo(d,c),Xo(c),S&4&&t4(c);break;case 21:break;default:bo(d,c),Xo(c)}}function Xo(c){var d=c.flags;if(d&2){try{e:{for(var g=c.return;g!==null;){if(Qj(g)){var S=g;break e}g=g.return}throw Error(r(160))}switch(S.tag){case 5:var E=S.stateNode;S.flags&32&&(Oe(E,""),S.flags&=-33);var I=Zj(c);ov(c,I,E);break;case 3:case 4:var ee=S.stateNode.containerInfo,Ne=Zj(c);iv(c,Ne,ee);break;default:throw Error(r(161))}}catch(Ce){fa(c,c.return,Ce)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function ZL(c,d,g){Mt=c,n4(c)}function n4(c,d,g){for(var S=(c.mode&1)!==0;Mt!==null;){var E=Mt,I=E.child;if(E.tag===22&&S){var ee=E.memoizedState!==null||Y0;if(!ee){var Ne=E.alternate,Ce=Ne!==null&&Ne.memoizedState!==null||Ns;Ne=Y0;var Ge=Ns;if(Y0=ee,(Ns=Ce)&&!Ge)for(Mt=E;Mt!==null;)ee=Mt,Ce=ee.child,ee.tag===22&&ee.memoizedState!==null?i4(E):Ce!==null?(Ce.return=ee,Mt=Ce):i4(E);for(;I!==null;)Mt=I,n4(I),I=I.sibling;Mt=E,Y0=Ne,Ns=Ge}a4(c)}else(E.subtreeFlags&8772)!==0&&I!==null?(I.return=E,Mt=I):a4(c)}}function a4(c){for(;Mt!==null;){var d=Mt;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Ns||G0(5,d);break;case 1:var S=d.stateNode;if(d.flags&4&&!Ns)if(g===null)S.componentDidMount();else{var E=d.elementType===d.type?g.memoizedProps:tr(d.type,g.memoizedProps);S.componentDidUpdate(E,g.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var I=d.updateQueue;I!==null&&bs(d,I,S);break;case 3:var ee=d.updateQueue;if(ee!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}bs(d,ee,g)}break;case 5:var Ne=d.stateNode;if(g===null&&d.flags&4){g=Ne;var Ce=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&g.focus();break;case"img":Ce.src&&(g.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ge=d.alternate;if(Ge!==null){var xt=Ge.memoizedState;if(xt!==null){var yt=xt.dehydrated;yt!==null&&Gs(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ns||d.flags&512&&sv(d)}catch(pt){fa(d,d.return,pt)}}if(d===c){Mt=null;break}if(g=d.sibling,g!==null){g.return=d.return,Mt=g;break}Mt=d.return}}function s4(c){for(;Mt!==null;){var d=Mt;if(d===c){Mt=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Mt=g;break}Mt=d.return}}function i4(c){for(;Mt!==null;){var d=Mt;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{G0(4,d)}catch(Ce){fa(d,g,Ce)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var E=d.return;try{S.componentDidMount()}catch(Ce){fa(d,E,Ce)}}var I=d.return;try{sv(d)}catch(Ce){fa(d,I,Ce)}break;case 5:var ee=d.return;try{sv(d)}catch(Ce){fa(d,ee,Ce)}}}catch(Ce){fa(d,d.return,Ce)}if(d===c){Mt=null;break}var Ne=d.sibling;if(Ne!==null){Ne.return=d.return,Mt=Ne;break}Mt=d.return}}var eO=Math.ceil,K0=k.ReactCurrentDispatcher,lv=k.ReactCurrentOwner,qi=k.ReactCurrentBatchConfig,Vr=0,Va=null,_a=null,ls=0,ki=0,Nd=Ni(0),Oa=0,nh=null,ku=0,X0=0,cv=0,ah=null,si=null,uv=0,Sd=1/0,Fl=null,J0=!1,dv=null,Ac=null,Q0=!1,Cc=null,Z0=0,sh=0,fv=null,em=-1,tm=0;function Bs(){return(Vr&6)!==0?ct():em!==-1?em:em=ct()}function Pc(c){return(c.mode&1)===0?1:(Vr&2)!==0&&ls!==0?ls&-ls:na.transition!==null?(tm===0&&(tm=no()),tm):(c=Or,c!==0||(c=window.event,c=c===void 0?16:oo(c.type)),c)}function wo(c,d,g,S){if(50<sh)throw sh=0,fv=null,Error(r(185));Zn(c,g,S),((Vr&2)===0||c!==Va)&&(c===Va&&((Vr&2)===0&&(X0|=g),Oa===4&&Ec(c,ls)),ii(c,S),g===1&&Vr===0&&(d.mode&1)===0&&(Sd=ct()+500,pu&&$()))}function ii(c,d){var g=c.callbackNode;Cn(c,d);var S=tn(c,c===Va?ls:0);if(S===0)g!==null&&mi(g),c.callbackNode=null,c.callbackPriority=0;else if(d=S&-S,c.callbackPriority!==d){if(g!=null&&mi(g),d===1)c.tag===0?O(l4.bind(null,c)):_(l4.bind(null,c)),zg(function(){(Vr&6)===0&&$()}),g=null;else{switch(Gt(S)){case 1:g=rr;break;case 4:g=nr;break;case 16:g=gr;break;case 536870912:g=$r;break;default:g=gr}g=g4(g,o4.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function o4(c,d){if(em=-1,tm=0,(Vr&6)!==0)throw Error(r(327));var g=c.callbackNode;if(_d()&&c.callbackNode!==g)return null;var S=tn(c,c===Va?ls:0);if(S===0)return null;if((S&30)!==0||(S&c.expiredLanes)!==0||d)d=rm(c,S);else{d=S;var E=Vr;Vr|=2;var I=u4();(Va!==c||ls!==d)&&(Fl=null,Sd=ct()+500,Cu(c,d));do try{nO();break}catch(Ne){c4(c,Ne)}while(!0);Pn(),K0.current=I,Vr=E,_a!==null?d=0:(Va=null,ls=0,d=Oa)}if(d!==0){if(d===2&&(E=gi(c),E!==0&&(S=E,d=hv(c,E))),d===1)throw g=nh,Cu(c,0),Ec(c,S),ii(c,ct()),g;if(d===6)Ec(c,S);else{if(E=c.current.alternate,(S&30)===0&&!tO(E)&&(d=rm(c,S),d===2&&(I=gi(c),I!==0&&(S=I,d=hv(c,I))),d===1))throw g=nh,Cu(c,0),Ec(c,S),ii(c,ct()),g;switch(c.finishedWork=E,c.finishedLanes=S,d){case 0:case 1:throw Error(r(345));case 2:Pu(c,si,Fl);break;case 3:if(Ec(c,S),(S&130023424)===S&&(d=uv+500-ct(),10<d)){if(tn(c,0)!==0)break;if(E=c.suspendedLanes,(E&S)!==S){Bs(),c.pingedLanes|=c.suspendedLanes&E;break}c.timeoutHandle=Vf(Pu.bind(null,c,si,Fl),d);break}Pu(c,si,Fl);break;case 4:if(Ec(c,S),(S&4194240)===S)break;for(d=c.eventTimes,E=-1;0<S;){var ee=31-hn(S);I=1<<ee,ee=d[ee],ee>E&&(E=ee),S&=~I}if(S=E,S=ct()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*eO(S/1960))-S,10<S){c.timeoutHandle=Vf(Pu.bind(null,c,si,Fl),S);break}Pu(c,si,Fl);break;case 5:Pu(c,si,Fl);break;default:throw Error(r(329))}}}return ii(c,ct()),c.callbackNode===g?o4.bind(null,c):null}function hv(c,d){var g=ah;return c.current.memoizedState.isDehydrated&&(Cu(c,d).flags|=256),c=rm(c,d),c!==2&&(d=si,si=g,d!==null&&mv(d)),c}function mv(c){si===null?si=c:si.push.apply(si,c)}function tO(c){for(var d=c;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var S=0;S<g.length;S++){var E=g[S],I=E.getSnapshot;E=E.value;try{if(!Wn(I(),E))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ec(c,d){for(d&=~cv,d&=~X0,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-hn(d),S=1<<g;c[g]=-1,d&=~S}}function l4(c){if((Vr&6)!==0)throw Error(r(327));_d();var d=tn(c,0);if((d&1)===0)return ii(c,ct()),null;var g=rm(c,d);if(c.tag!==0&&g===2){var S=gi(c);S!==0&&(d=S,g=hv(c,S))}if(g===1)throw g=nh,Cu(c,0),Ec(c,d),ii(c,ct()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Pu(c,si,Fl),ii(c,ct()),null}function pv(c,d){var g=Vr;Vr|=1;try{return c(d)}finally{Vr=g,Vr===0&&(Sd=ct()+500,pu&&$())}}function Au(c){Cc!==null&&Cc.tag===0&&(Vr&6)===0&&_d();var d=Vr;Vr|=1;var g=qi.transition,S=Or;try{if(qi.transition=null,Or=1,c)return c()}finally{Or=S,qi.transition=g,Vr=d,(Vr&6)===0&&$()}}function gv(){ki=Nd.current,rn(Nd)}function Cu(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,M0(g)),_a!==null)for(g=_a.return;g!==null;){var S=g;switch(We(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&pd();break;case 3:Rl(),rn(xs),rn(Pa),Ml();break;case 5:vd(S);break;case 4:Rl();break;case 13:rn(On);break;case 19:rn(On);break;case 10:Na(S.type._context);break;case 22:case 23:gv()}g=g.return}if(Va=c,_a=c=Lc(c.current,null),ls=ki=d,Oa=0,nh=null,cv=X0=ku=0,si=ah=null,Tr!==null){for(d=0;d<Tr.length;d++)if(g=Tr[d],S=g.interleaved,S!==null){g.interleaved=null;var E=S.next,I=g.pending;if(I!==null){var ee=I.next;I.next=E,S.next=ee}g.pending=S}Tr=null}return c}function c4(c,d){do{var g=_a;try{if(Pn(),wu.current=W0,ju){for(var S=Rn.memoizedState;S!==null;){var E=S.queue;E!==null&&(E.pending=null),S=S.next}ju=!1}if(Bi=0,wn=sa=Rn=null,Sc=!1,Nu=0,lv.current=null,g===null||g.return===null){Oa=1,nh=d,_a=null;break}e:{var I=c,ee=g.return,Ne=g,Ce=d;if(d=ls,Ne.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var Ge=Ce,xt=Ne,yt=xt.tag;if((xt.mode&1)===0&&(yt===0||yt===11||yt===15)){var pt=xt.alternate;pt?(xt.updateQueue=pt.updateQueue,xt.memoizedState=pt.memoizedState,xt.lanes=pt.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var Lt=Tj(ee);if(Lt!==null){Lt.flags&=-257,Mj(Lt,ee,Ne,I,d),Lt.mode&1&&Rj(I,Ge,d),d=Lt,Ce=Ge;var $t=d.updateQueue;if($t===null){var Wt=new Set;Wt.add(Ce),d.updateQueue=Wt}else $t.add(Ce);break e}else{if((d&1)===0){Rj(I,Ge,d),vv();break e}Ce=Error(r(426))}}else if(it&&Ne.mode&1){var xa=Tj(ee);if(xa!==null){(xa.flags&65536)===0&&(xa.flags|=256),Mj(xa,ee,Ne,I,d),_t(wd(Ce,Ne));break e}}I=Ce=wd(Ce,Ne),Oa!==4&&(Oa=2),ah===null?ah=[I]:ah.push(I),I=ee;do{switch(I.tag){case 3:I.flags|=65536,d&=-d,I.lanes|=d;var qe=Lj(I,Ce,d);Wa(I,qe);break e;case 1:Ne=Ce;var Le=I.type,Ve=I.stateNode;if((I.flags&128)===0&&(typeof Le.getDerivedStateFromError=="function"||Ve!==null&&typeof Ve.componentDidCatch=="function"&&(Ac===null||!Ac.has(Ve)))){I.flags|=65536,d&=-d,I.lanes|=d;var wt=Oj(I,Ne,d);Wa(I,wt);break e}}I=I.return}while(I!==null)}f4(g)}catch(Yt){d=Yt,_a===g&&g!==null&&(_a=g=g.return);continue}break}while(!0)}function u4(){var c=K0.current;return K0.current=W0,c===null?W0:c}function vv(){(Oa===0||Oa===3||Oa===2)&&(Oa=4),Va===null||(ku&268435455)===0&&(X0&268435455)===0||Ec(Va,ls)}function rm(c,d){var g=Vr;Vr|=2;var S=u4();(Va!==c||ls!==d)&&(Fl=null,Cu(c,d));do try{rO();break}catch(E){c4(c,E)}while(!0);if(Pn(),Vr=g,K0.current=S,_a!==null)throw Error(r(261));return Va=null,ls=0,Oa}function rO(){for(;_a!==null;)d4(_a)}function nO(){for(;_a!==null&&!pi();)d4(_a)}function d4(c){var d=p4(c.alternate,c,ki);c.memoizedProps=c.pendingProps,d===null?f4(c):_a=d,lv.current=null}function f4(c){var d=c;do{var g=d.alternate;if(c=d.return,(d.flags&32768)===0){if(g=KL(g,d,ki),g!==null){_a=g;return}}else{if(g=XL(g,d),g!==null){g.flags&=32767,_a=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Oa=6,_a=null;return}}if(d=d.sibling,d!==null){_a=d;return}_a=d=c}while(d!==null);Oa===0&&(Oa=5)}function Pu(c,d,g){var S=Or,E=qi.transition;try{qi.transition=null,Or=1,aO(c,d,g,S)}finally{qi.transition=E,Or=S}return null}function aO(c,d,g,S){do _d();while(Cc!==null);if((Vr&6)!==0)throw Error(r(327));g=c.finishedWork;var E=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var I=g.lanes|g.childLanes;if(ca(c,I),c===Va&&(_a=Va=null,ls=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Q0||(Q0=!0,g4(gr,function(){return _d(),null})),I=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||I){I=qi.transition,qi.transition=null;var ee=Or;Or=1;var Ne=Vr;Vr|=4,lv.current=null,QL(c,g),r4(g,c),su(Al),Do=!!hu,Al=hu=null,c.current=g,ZL(g),Ie(),Vr=Ne,Or=ee,qi.transition=I}else c.current=g;if(Q0&&(Q0=!1,Cc=c,Z0=E),I=c.pendingLanes,I===0&&(Ac=null),Ar(g.stateNode),ii(c,ct()),d!==null)for(S=c.onRecoverableError,g=0;g<d.length;g++)E=d[g],S(E.value,{componentStack:E.stack,digest:E.digest});if(J0)throw J0=!1,c=dv,dv=null,c;return(Z0&1)!==0&&c.tag!==0&&_d(),I=c.pendingLanes,(I&1)!==0?c===fv?sh++:(sh=0,fv=c):sh=0,$(),null}function _d(){if(Cc!==null){var c=Gt(Z0),d=qi.transition,g=Or;try{if(qi.transition=null,Or=16>c?16:c,Cc===null)var S=!1;else{if(c=Cc,Cc=null,Z0=0,(Vr&6)!==0)throw Error(r(331));var E=Vr;for(Vr|=4,Mt=c.current;Mt!==null;){var I=Mt,ee=I.child;if((Mt.flags&16)!==0){var Ne=I.deletions;if(Ne!==null){for(var Ce=0;Ce<Ne.length;Ce++){var Ge=Ne[Ce];for(Mt=Ge;Mt!==null;){var xt=Mt;switch(xt.tag){case 0:case 11:case 15:rh(8,xt,I)}var yt=xt.child;if(yt!==null)yt.return=xt,Mt=yt;else for(;Mt!==null;){xt=Mt;var pt=xt.sibling,Lt=xt.return;if(Jj(xt),xt===Ge){Mt=null;break}if(pt!==null){pt.return=Lt,Mt=pt;break}Mt=Lt}}}var $t=I.alternate;if($t!==null){var Wt=$t.child;if(Wt!==null){$t.child=null;do{var xa=Wt.sibling;Wt.sibling=null,Wt=xa}while(Wt!==null)}}Mt=I}}if((I.subtreeFlags&2064)!==0&&ee!==null)ee.return=I,Mt=ee;else e:for(;Mt!==null;){if(I=Mt,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:rh(9,I,I.return)}var qe=I.sibling;if(qe!==null){qe.return=I.return,Mt=qe;break e}Mt=I.return}}var Le=c.current;for(Mt=Le;Mt!==null;){ee=Mt;var Ve=ee.child;if((ee.subtreeFlags&2064)!==0&&Ve!==null)Ve.return=ee,Mt=Ve;else e:for(ee=Le;Mt!==null;){if(Ne=Mt,(Ne.flags&2048)!==0)try{switch(Ne.tag){case 0:case 11:case 15:G0(9,Ne)}}catch(Yt){fa(Ne,Ne.return,Yt)}if(Ne===ee){Mt=null;break e}var wt=Ne.sibling;if(wt!==null){wt.return=Ne.return,Mt=wt;break e}Mt=Ne.return}}if(Vr=E,$(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(zr,c)}catch{}S=!0}return S}finally{Or=g,qi.transition=d}}return!1}function h4(c,d,g){d=wd(g,d),d=Lj(c,d,1),c=pn(c,d,1),d=Bs(),c!==null&&(Zn(c,1,d),ii(c,d))}function fa(c,d,g){if(c.tag===3)h4(c,c,g);else for(;d!==null;){if(d.tag===3){h4(d,c,g);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Ac===null||!Ac.has(S))){c=wd(g,c),c=Oj(d,c,1),d=pn(d,c,1),c=Bs(),d!==null&&(Zn(d,1,c),ii(d,c));break}}d=d.return}}function sO(c,d,g){var S=c.pingCache;S!==null&&S.delete(d),d=Bs(),c.pingedLanes|=c.suspendedLanes&g,Va===c&&(ls&g)===g&&(Oa===4||Oa===3&&(ls&130023424)===ls&&500>ct()-uv?Cu(c,0):cv|=g),ii(c,d)}function m4(c,d){d===0&&((c.mode&1)===0?d=1:(d=zt,zt<<=1,(zt&130023424)===0&&(zt=4194304)));var g=Bs();c=bn(c,d),c!==null&&(Zn(c,d,g),ii(c,g))}function iO(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),m4(c,g)}function oO(c,d){var g=0;switch(c.tag){case 13:var S=c.stateNode,E=c.memoizedState;E!==null&&(g=E.retryLane);break;case 19:S=c.stateNode;break;default:throw Error(r(314))}S!==null&&S.delete(d),m4(c,g)}var p4;p4=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||xs.current)ai=!0;else{if((c.lanes&g)===0&&(d.flags&128)===0)return ai=!1,GL(c,d,g);ai=(c.flags&131072)!==0}else ai=!1,it&&(d.flags&1048576)!==0&&$e(d,oe,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;V0(c,d),c=d.pendingProps;var E=Nc(d,Pa.current);En(d,g),E=xd(null,d,S,c,E,g);var I=Zf();return d.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ys(S)?(I=!0,El(d)):I=!1,d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Dn(d),E.updater=nn,d.stateNode=E,E._reactInternals=d,Si(d,S,c,g),d=Qg(null,d,S,!0,I,g)):(d.tag=0,it&&I&&et(d),$s(null,d,E,g),d=d.child),d;case 16:S=d.elementType;e:{switch(V0(c,d),c=d.pendingProps,E=S._init,S=E(S._payload),d.type=S,E=d.tag=cO(S),c=tr(S,c),E){case 0:d=Jg(null,d,S,c,g);break e;case 1:d=Uj(null,d,S,c,g);break e;case 11:d=Ij(null,d,S,c,g);break e;case 14:d=Dj(null,d,S,tr(S.type,c),g);break e}throw Error(r(306,S,""))}return d;case 0:return S=d.type,E=d.pendingProps,E=d.elementType===S?E:tr(S,E),Jg(c,d,S,E,g);case 1:return S=d.type,E=d.pendingProps,E=d.elementType===S?E:tr(S,E),Uj(c,d,S,E,g);case 3:e:{if(qj(d),c===null)throw Error(r(387));S=d.pendingProps,I=d.memoizedState,E=I.element,as(c,d),Ha(d,S,null,g);var ee=d.memoizedState;if(S=ee.element,I.isDehydrated)if(I={element:S,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},d.updateQueue.baseState=I,d.memoizedState=I,d.flags&256){E=wd(Error(r(423)),d),d=zj(c,d,S,g,E);break e}else if(S!==E){E=wd(Error(r(424)),d),d=zj(c,d,S,g,E);break e}else for(Qe=ns(d.stateNode.containerInfo.firstChild),Xe=d,it=!0,lt=null,g=$0(d,null,S,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Rt(),S===E){d=Dl(c,d,g);break e}$s(c,d,S,g)}d=d.child}return d;case 5:return yu(d),c===null&&Dt(d),S=d.type,E=d.pendingProps,I=c!==null?c.memoizedProps:null,ee=E.children,Hf(S,E)?ee=null:I!==null&&Hf(S,I)&&(d.flags|=32),Bj(c,d),$s(c,d,ee,g),d.child;case 6:return c===null&&Dt(d),null;case 13:return Wj(c,d,g);case 4:return Xf(d,d.stateNode.containerInfo),S=d.pendingProps,c===null?d.child=$i(d,null,S,g):$s(c,d,S,g),d.child;case 11:return S=d.type,E=d.pendingProps,E=d.elementType===S?E:tr(S,E),Ij(c,d,S,E,g);case 7:return $s(c,d,d.pendingProps,g),d.child;case 8:return $s(c,d,d.pendingProps.children,g),d.child;case 12:return $s(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(S=d.type._context,E=d.pendingProps,I=d.memoizedProps,ee=E.value,on(Cr,S._currentValue),S._currentValue=ee,I!==null)if(Wn(I.value,ee)){if(I.children===E.children&&!xs.current){d=Dl(c,d,g);break e}}else for(I=d.child,I!==null&&(I.return=d);I!==null;){var Ne=I.dependencies;if(Ne!==null){ee=I.child;for(var Ce=Ne.firstContext;Ce!==null;){if(Ce.context===S){if(I.tag===1){Ce=Mr(-1,g&-g),Ce.tag=2;var Ge=I.updateQueue;if(Ge!==null){Ge=Ge.shared;var xt=Ge.pending;xt===null?Ce.next=Ce:(Ce.next=xt.next,xt.next=Ce),Ge.pending=Ce}}I.lanes|=g,Ce=I.alternate,Ce!==null&&(Ce.lanes|=g),La(I.return,g,d),Ne.lanes|=g;break}Ce=Ce.next}}else if(I.tag===10)ee=I.type===d.type?null:I.child;else if(I.tag===18){if(ee=I.return,ee===null)throw Error(r(341));ee.lanes|=g,Ne=ee.alternate,Ne!==null&&(Ne.lanes|=g),La(ee,g,d),ee=I.sibling}else ee=I.child;if(ee!==null)ee.return=I;else for(ee=I;ee!==null;){if(ee===d){ee=null;break}if(I=ee.sibling,I!==null){I.return=ee.return,ee=I;break}ee=ee.return}I=ee}$s(c,d,E.children,g),d=d.child}return d;case 9:return E=d.type,S=d.pendingProps.children,En(d,g),E=br(E),S=S(E),d.flags|=1,$s(c,d,S,g),d.child;case 14:return S=d.type,E=tr(S,d.pendingProps),E=tr(S.type,E),Dj(c,d,S,E,g);case 15:return Fj(c,d,d.type,d.pendingProps,g);case 17:return S=d.type,E=d.pendingProps,E=d.elementType===S?E:tr(S,E),V0(c,d),d.tag=1,ys(S)?(c=!0,El(d)):c=!1,En(d,g),ei(d,S,E),Si(d,S,E,g),Qg(null,d,S,!0,c,g);case 19:return Vj(c,d,g);case 22:return $j(c,d,g)}throw Error(r(156,d.tag))};function g4(c,d){return ga(c,d)}function lO(c,d,g,S){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(c,d,g,S){return new lO(c,d,g,S)}function xv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function cO(c){if(typeof c=="function")return xv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===D)return 11;if(c===Z)return 14}return 2}function Lc(c,d){var g=c.alternate;return g===null?(g=zi(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function nm(c,d,g,S,E,I){var ee=2;if(S=c,typeof c=="function")xv(c)&&(ee=1);else if(typeof c=="string")ee=5;else e:switch(c){case F:return Eu(g.children,E,I,d);case M:ee=8,E|=8;break;case q:return c=zi(12,g,d,E|2),c.elementType=q,c.lanes=I,c;case z:return c=zi(13,g,d,E),c.elementType=z,c.lanes=I,c;case W:return c=zi(19,g,d,E),c.elementType=W,c.lanes=I,c;case ge:return am(g,E,I,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case G:ee=10;break e;case R:ee=9;break e;case D:ee=11;break e;case Z:ee=14;break e;case le:ee=16,S=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return d=zi(ee,g,d,E),d.elementType=c,d.type=S,d.lanes=I,d}function Eu(c,d,g,S){return c=zi(7,c,S,d),c.lanes=g,c}function am(c,d,g,S){return c=zi(22,c,S,d),c.elementType=ge,c.lanes=g,c.stateNode={isHidden:!1},c}function yv(c,d,g){return c=zi(6,c,null,d),c.lanes=g,c}function bv(c,d,g){return d=zi(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function uO(c,d,g,S,E){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oo(0),this.expirationTimes=Oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.identifierPrefix=S,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function wv(c,d,g,S,E,I,ee,Ne,Ce){return c=new uO(c,d,g,Ne,Ce),d===1?(d=1,I===!0&&(d|=8)):d=0,I=zi(3,null,null,d),c.current=I,I.stateNode=c,I.memoizedState={element:S,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dn(I),c}function dO(c,d,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:S==null?null:""+S,children:c,containerInfo:d,implementation:g}}function v4(c){if(!c)return Go;c=c._reactInternals;e:{if(An(c)!==c||c.tag!==1)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ys(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(ys(g))return Kf(c,g,d)}return d}function x4(c,d,g,S,E,I,ee,Ne,Ce){return c=wv(g,S,!0,c,E,I,ee,Ne,Ce),c.context=v4(null),g=c.current,S=Bs(),E=Pc(g),I=Mr(S,E),I.callback=d??null,pn(g,I,E),c.current.lanes=E,Zn(c,E,S),ii(c,S),c}function sm(c,d,g,S){var E=d.current,I=Bs(),ee=Pc(E);return g=v4(g),d.context===null?d.context=g:d.pendingContext=g,d=Mr(I,ee),d.payload={element:c},S=S===void 0?null:S,S!==null&&(d.callback=S),c=pn(E,d,ee),c!==null&&(wo(c,E,ee,I),za(c,E,ee)),ee}function im(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function y4(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function jv(c,d){y4(c,d),(c=c.alternate)&&y4(c,d)}function fO(){return null}var b4=typeof reportError=="function"?reportError:function(c){console.error(c)};function Nv(c){this._internalRoot=c}om.prototype.render=Nv.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));sm(c,d,null,null)},om.prototype.unmount=Nv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;Au(function(){sm(null,c,null,null)}),d[qa]=null}};function om(c){this._internalRoot=c}om.prototype.unstable_scheduleHydration=function(c){if(c){var d=cc();c={blockedOn:null,target:c,priority:d};for(var g=0;g<Ys.length&&d!==0&&d<Ys[g].priority;g++);Ys.splice(g,0,c),g===0&&dc(c)}};function Sv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function lm(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function w4(){}function hO(c,d,g,S,E){if(E){if(typeof S=="function"){var I=S;S=function(){var Ge=im(ee);I.call(Ge)}}var ee=x4(d,S,c,0,null,!1,!1,"",w4);return c._reactRootContainer=ee,c[qa]=ee.current,_l(c.nodeType===8?c.parentNode:c),Au(),ee}for(;E=c.lastChild;)c.removeChild(E);if(typeof S=="function"){var Ne=S;S=function(){var Ge=im(Ce);Ne.call(Ge)}}var Ce=wv(c,0,!1,null,null,!1,!1,"",w4);return c._reactRootContainer=Ce,c[qa]=Ce.current,_l(c.nodeType===8?c.parentNode:c),Au(function(){sm(d,Ce,g,S)}),Ce}function cm(c,d,g,S,E){var I=g._reactRootContainer;if(I){var ee=I;if(typeof E=="function"){var Ne=E;E=function(){var Ce=im(ee);Ne.call(Ce)}}sm(d,ee,c,E)}else ee=hO(g,d,c,E,S);return im(ee)}$a=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=Lr(d.pendingLanes);g!==0&&(fs(d,g|1),ii(d,ct()),(Vr&6)===0&&(Sd=ct()+500,$()))}break;case 13:Au(function(){var S=bn(c,1);if(S!==null){var E=Bs();wo(S,c,1,E)}}),jv(c,1)}},ul=function(c){if(c.tag===13){var d=bn(c,134217728);if(d!==null){var g=Bs();wo(d,c,134217728,g)}jv(c,134217728)}},Ro=function(c){if(c.tag===13){var d=Pc(c),g=bn(c,d);if(g!==null){var S=Bs();wo(g,c,d,S)}jv(c,d)}},cc=function(){return Or},To=function(c,d){var g=Or;try{return Or=c,d()}finally{Or=g}},dt=function(c,d,g){switch(d){case"input":if(Je(c,g),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var S=g[d];if(S!==c&&S.form===c.form){var E=mu(S);if(!E)throw Error(r(90));se(S),Je(S,E)}}}break;case"textarea":Ft(c,g);break;case"select":d=g.value,d!=null&&De(c,!!g.multiple,d,!1)}},Zr=pv,en=Au;var mO={usingClientEntryPoint:!1,Events:[jc,Cl,mu,fr,kn,pv]},ih={findFiberByHostInstance:Yo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pO={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=la(c),c===null?null:c.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||fO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{zr=um.inject(pO),yn=um}catch{}}return oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mO,oi.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sv(d))throw Error(r(200));return dO(c,d,null,g)},oi.createRoot=function(c,d){if(!Sv(c))throw Error(r(299));var g=!1,S="",E=b4;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(E=d.onRecoverableError)),d=wv(c,1,!1,null,null,g,!1,S,E),c[qa]=d.current,_l(c.nodeType===8?c.parentNode:c),new Nv(d)},oi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=la(d),c=c===null?null:c.stateNode,c},oi.flushSync=function(c){return Au(c)},oi.hydrate=function(c,d,g){if(!lm(d))throw Error(r(200));return cm(null,c,d,!0,g)},oi.hydrateRoot=function(c,d,g){if(!Sv(c))throw Error(r(405));var S=g!=null&&g.hydratedSources||null,E=!1,I="",ee=b4;if(g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onRecoverableError!==void 0&&(ee=g.onRecoverableError)),d=x4(d,null,c,1,g??null,E,!1,I,ee),c[qa]=d.current,_l(c),S)for(c=0;c<S.length;c++)g=S[c],E=g._getVersion,E=E(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,E]:d.mutableSourceEagerHydrationData.push(g,E);return new om(d)},oi.render=function(c,d,g){if(!lm(d))throw Error(r(200));return cm(null,c,d,!1,g)},oi.unmountComponentAtNode=function(c){if(!lm(c))throw Error(r(40));return c._reactRootContainer?(Au(function(){cm(null,null,c,!1,function(){c._reactRootContainer=null,c[qa]=null})}),!0):!1},oi.unstable_batchedUpdates=pv,oi.unstable_renderSubtreeIntoContainer=function(c,d,g,S){if(!lm(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return cm(c,d,g,!1,S)},oi.version="18.2.0-next-9e3b772b8-20220608",oi}var P4;function u8(){if(P4)return Av.exports;P4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Av.exports=SO(),Av.exports}var E4;function _O(){if(E4)return fm;E4=1;var e=u8();return fm.createRoot=e.createRoot,fm.hydrateRoot=e.hydrateRoot,fm}var kO=_O();/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}var $c;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($c||($c={}));const L4="popstate";function AO(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return mb("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Vm(s)}return PO(t,r,null,e)}function ja(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function a5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CO(){return Math.random().toString(36).substr(2,8)}function O4(e,t){return{usr:e.state,key:e.key,idx:t}}function mb(e,t,r,n){return r===void 0&&(r=null),Dh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wf(t):t,{state:r,key:t&&t.key||n||CO()})}function Vm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function PO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=$c.Pop,u=null,f=h();f==null&&(f=0,o.replaceState(Dh({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=$c.Pop;let y=h(),j=y==null?null:y-f;f=y,u&&u({action:l,location:x.location,delta:j})}function v(y,j){l=$c.Push;let A=mb(x.location,y,j);f=h()+1;let N=O4(A,f),k=x.createHref(A);try{o.pushState(N,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(k)}i&&u&&u({action:l,location:x.location,delta:1})}function p(y,j){l=$c.Replace;let A=mb(x.location,y,j);f=h();let N=O4(A,f),k=x.createHref(A);o.replaceState(N,"",k),i&&u&&u({action:l,location:x.location,delta:0})}function w(y){let j=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof y=="string"?y:Vm(y);return ja(j,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,j)}let x={get action(){return l},get location(){return e(s,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(L4,m),u=y,()=>{s.removeEventListener(L4,m),u=null}},createHref(y){return t(s,y)},createURL:w,encodeLocation(y){let j=w(y);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:p,go(y){return o.go(y)}};return x}var R4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(R4||(R4={}));function EO(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?wf(t):t,s=s5(n.pathname||"/",r);if(s==null)return null;let i=d8(e);LO(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=BO(i[l],zO(s));return o}function d8(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ja(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let f=qc([n,u.relativePath]),h=r.concat(u);i.children&&i.children.length>0&&(ja(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),d8(i.children,t,h,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:FO(f,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of f8(i.path))s(i,o,u)}),t}function f8(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=f8(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function LO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$O(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const OO=/^:\w+$/,RO=3,TO=2,MO=1,IO=10,DO=-2,T4=e=>e==="*";function FO(e,t){let r=e.split("/"),n=r.length;return r.some(T4)&&(n+=DO),t&&(n+=TO),r.filter(s=>!T4(s)).reduce((s,i)=>s+(OO.test(i)?RO:i===""?MO:IO),n)}function $O(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function BO(e,t){let{routesMeta:r}=e,n={},s="/",i=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",h=UO({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f);if(!h)return null;Object.assign(n,h.params);let m=l.route;i.push({params:n,pathname:qc([s,h.pathname]),pathnameBase:YO(qc([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=qc([s,h.pathnameBase]))}return i}function UO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=qO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((f,h,m)=>{if(h==="*"){let v=l[m]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}return f[h]=WO(l[m]||"",h),f},{}),pathname:i,pathnameBase:o,pattern:e}}function qO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),a5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(n.push(l),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function zO(e){try{return decodeURI(e)}catch(t){return a5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function WO(e,t){try{return decodeURIComponent(e)}catch(r){return a5(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function s5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function HO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?wf(e):e;return{pathname:r?r.startsWith("/")?r:VO(r,t):t,search:GO(n),hash:KO(s)}}function VO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ev(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function o5(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=wf(e):(s=Dh({},e),ja(!s.pathname||!s.pathname.includes("?"),Ev("?","pathname","search",s)),ja(!s.pathname||!s.pathname.includes("#"),Ev("#","pathname","hash",s)),ja(!s.search||!s.search.includes("#"),Ev("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(n||o==null)l=r;else{let m=t.length-1;if(o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;s.pathname=v.join("/")}l=m>=0?t[m]:"/"}let u=HO(s,l),f=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const qc=e=>e.join("/").replace(/\/\/+/g,"/"),YO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),GO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const h8=["post","put","patch","delete"];new Set(h8);const JO=["get",...h8];new Set(JO);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(this,arguments)}const l5=L.createContext(null),QO=L.createContext(null),jf=L.createContext(null),Xp=L.createContext(null),nc=L.createContext({outlet:null,matches:[],isDataRoute:!1}),m8=L.createContext(null);function ZO(e,t){let{relative:r}=t===void 0?{}:t;Nf()||ja(!1);let{basename:n,navigator:s}=L.useContext(jf),{hash:i,pathname:o,search:l}=g8(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:qc([n,o])),s.createHref({pathname:u,search:l,hash:i})}function Nf(){return L.useContext(Xp)!=null}function Xc(){return Nf()||ja(!1),L.useContext(Xp).location}function p8(e){L.useContext(jf).static||L.useLayoutEffect(e)}function Qn(){let{isDataRoute:e}=L.useContext(nc);return e?h9():e9()}function e9(){Nf()||ja(!1);let e=L.useContext(l5),{basename:t,navigator:r}=L.useContext(jf),{matches:n}=L.useContext(nc),{pathname:s}=Xc(),i=JSON.stringify(i5(n).map(u=>u.pathnameBase)),o=L.useRef(!1);return p8(()=>{o.current=!0}),L.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=o5(u,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qc([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,s,e])}function t9(){let{matches:e}=L.useContext(nc),t=e[e.length-1];return t?t.params:{}}function g8(e,t){let{relative:r}=t===void 0?{}:t,{matches:n}=L.useContext(nc),{pathname:s}=Xc(),i=JSON.stringify(i5(n).map(o=>o.pathnameBase));return L.useMemo(()=>o5(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function r9(e,t){return n9(e,t)}function n9(e,t,r){Nf()||ja(!1);let{navigator:n}=L.useContext(jf),{matches:s}=L.useContext(nc),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=Xc(),f;if(t){var h;let x=typeof t=="string"?wf(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ja(!1),f=x}else f=u;let m=f.pathname||"/",v=l==="/"?m:m.slice(l.length)||"/",p=EO(e,{pathname:v}),w=l9(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:qc([l,n.encodeLocation?n.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:qc([l,n.encodeLocation?n.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r);return t&&w?L.createElement(Xp.Provider,{value:{location:Ym({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:$c.Pop}},w):w}function a9(){let e=f9(),t=XO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:s},r):null,null)}const s9=L.createElement(a9,null);class i9 extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?L.createElement(nc.Provider,{value:this.props.routeContext},L.createElement(m8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o9(e){let{routeContext:t,match:r,children:n}=e,s=L.useContext(l5);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(nc.Provider,{value:t},n)}function l9(e,t,r){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var s;if((s=r)!=null&&s.errors)e=r.matches;else return null}let i=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&o?.[u.route.id]);l>=0||ja(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,u,f)=>{let h=u.route.id?o?.[u.route.id]:null,m=null;r&&(m=u.route.errorElement||s9);let v=t.concat(i.slice(0,f+1)),p=()=>{let w;return h?w=m:u.route.Component?w=L.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=l,L.createElement(o9,{match:u,routeContext:{outlet:l,matches:v,isDataRoute:r!=null},children:w})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?L.createElement(i9,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var pb;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(pb||(pb={}));var Fh;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Fh||(Fh={}));function c9(e){let t=L.useContext(l5);return t||ja(!1),t}function u9(e){let t=L.useContext(QO);return t||ja(!1),t}function d9(e){let t=L.useContext(nc);return t||ja(!1),t}function v8(e){let t=d9(),r=t.matches[t.matches.length-1];return r.route.id||ja(!1),r.route.id}function f9(){var e;let t=L.useContext(m8),r=u9(Fh.UseRouteError),n=v8(Fh.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function h9(){let{router:e}=c9(pb.UseNavigateStable),t=v8(Fh.UseNavigateStable),r=L.useRef(!1);return p8(()=>{r.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ym({fromRouteId:t},i)))},[e,t])}function m9(e){let{to:t,replace:r,state:n,relative:s}=e;Nf()||ja(!1);let{matches:i}=L.useContext(nc),{pathname:o}=Xc(),l=Qn(),u=o5(t,i5(i).map(h=>h.pathnameBase),o,s==="path"),f=JSON.stringify(u);return L.useEffect(()=>l(JSON.parse(f),{replace:r,state:n,relative:s}),[l,f,s,r,n]),null}function jn(e){ja(!1)}function p9(e){let{basename:t="/",children:r=null,location:n,navigationType:s=$c.Pop,navigator:i,static:o=!1}=e;Nf()&&ja(!1);let l=t.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof n=="string"&&(n=wf(n));let{pathname:f="/",search:h="",hash:m="",state:v=null,key:p="default"}=n,w=L.useMemo(()=>{let x=s5(f,l);return x==null?null:{location:{pathname:x,search:h,hash:m,state:v,key:p},navigationType:s}},[l,f,h,m,v,p,s]);return w==null?null:L.createElement(jf.Provider,{value:u},L.createElement(Xp.Provider,{children:r,value:w}))}function g9(e){let{children:t,location:r}=e;return r9(gb(t),r)}var M4;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(M4||(M4={}));new Promise(()=>{});function gb(e,t){t===void 0&&(t=[]);let r=[];return L.Children.forEach(e,(n,s)=>{if(!L.isValidElement(n))return;let i=[...t,s];if(n.type===L.Fragment){r.push.apply(r,gb(n.props.children,i));return}n.type!==jn&&ja(!1),!n.props.index||!n.props.children||ja(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gb(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(this,arguments)}function v9(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function x9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function y9(e,t){return e.button===0&&(!t||t==="_self")&&!x9(e)}function xb(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function b9(e,t){let r=xb(e);if(t)for(let n of t.keys())r.has(n)||t.getAll(n).forEach(s=>{r.append(n,s)});return r}const w9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],j9="startTransition",I4=wO[j9];function N9(e){let{basename:t,children:r,future:n,window:s}=e,i=L.useRef();i.current==null&&(i.current=AO({window:s,v5Compat:!0}));let o=i.current,[l,u]=L.useState({action:o.action,location:o.location}),{v7_startTransition:f}=n||{},h=L.useCallback(m=>{f&&I4?I4(()=>u(m)):u(m)},[u,f]);return L.useLayoutEffect(()=>o.listen(h),[o,h]),L.createElement(p9,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o})}const S9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zu=L.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:f,preventScrollReset:h}=t,m=v9(t,w9),{basename:v}=L.useContext(jf),p,w=!1;if(typeof f=="string"&&_9.test(f)&&(p=f,S9))try{let A=new URL(window.location.href),N=f.startsWith("//")?new URL(A.protocol+f):new URL(f),k=s5(N.pathname,v);N.origin===A.origin&&k!=null?f=k+N.search+N.hash:w=!0}catch{}let x=ZO(f,{relative:s}),y=k9(f,{replace:o,state:l,target:u,preventScrollReset:h,relative:s});function j(A){n&&n(A),A.defaultPrevented||y(A)}return L.createElement("a",vb({},m,{href:p||x,onClick:w||i?n:j,ref:r,target:u}))});var D4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(D4||(D4={}));var F4;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(F4||(F4={}));function k9(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o}=t===void 0?{}:t,l=Qn(),u=Xc(),f=g8(e,{relative:o});return L.useCallback(h=>{if(y9(h,r)){h.preventDefault();let m=n!==void 0?n:Vm(u)===Vm(f);l(e,{replace:m,state:s,preventScrollReset:i,relative:o})}},[u,l,f,n,s,r,e,i,o])}function A9(e){let t=L.useRef(xb(e)),r=L.useRef(!1),n=Xc(),s=L.useMemo(()=>b9(n.search,r.current?null:t.current),[n.search]),i=Qn(),o=L.useCallback((l,u)=>{const f=xb(typeof l=="function"?l(s):l);r.current=!0,i("?"+f,u)},[i,s]);return[s,o]}function un(e){return e&&e.role==="admin"}function Kd(e){if(!e)return!1;const t=e.role?.toLowerCase();return t==="secretary"||t==="department_head"||t==="instructor"}function Qi(e){return un(e)}function yb(e){if(!e)return"Unknown";switch(e.role?.toLowerCase()){case"admin":return"Administrator";case"secretary":return"Secretary";case"department_head":return"Department Head";case"student":return"Student";default:return e.role||"User"}}function x8(e,t){return function(){return e.apply(t,arguments)}}const{toString:C9}=Object.prototype,{getPrototypeOf:c5}=Object,{iterator:Jp,toStringTag:y8}=Symbol,Qp=(e=>t=>{const r=C9.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Co=e=>(e=e.toLowerCase(),t=>Qp(t)===e),Zp=e=>t=>typeof t===e,{isArray:Sf}=Array,Xd=Zp("undefined");function h0(e){return e!==null&&!Xd(e)&&e.constructor!==null&&!Xd(e.constructor)&&di(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const b8=Co("ArrayBuffer");function P9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&b8(e.buffer),t}const E9=Zp("string"),di=Zp("function"),w8=Zp("number"),m0=e=>e!==null&&typeof e=="object",L9=e=>e===!0||e===!1,Im=e=>{if(Qp(e)!=="object")return!1;const t=c5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(y8 in e)&&!(Jp in e)},O9=e=>{if(!m0(e)||h0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},R9=Co("Date"),T9=Co("File"),M9=Co("Blob"),I9=Co("FileList"),D9=e=>m0(e)&&di(e.pipe),F9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||di(e.append)&&((t=Qp(e))==="formdata"||t==="object"&&di(e.toString)&&e.toString()==="[object FormData]"))},$9=Co("URLSearchParams"),[B9,U9,q9,z9]=["ReadableStream","Request","Response","Headers"].map(Co),W9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function p0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Sf(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(h0(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function j8(e,t){if(h0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const $u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,N8=e=>!Xd(e)&&e!==$u;function bb(){const{caseless:e,skipUndefined:t}=N8(this)&&this||{},r={},n=(s,i)=>{const o=e&&j8(r,i)||i;Im(r[o])&&Im(s)?r[o]=bb(r[o],s):Im(s)?r[o]=bb({},s):Sf(s)?r[o]=s.slice():(!t||!Xd(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&p0(arguments[s],n);return r}const H9=(e,t,r,{allOwnKeys:n}={})=>(p0(t,(s,i)=>{r&&di(s)?e[i]=x8(s,r):e[i]=s},{allOwnKeys:n}),e),V9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Y9=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},G9=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&c5(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},K9=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},X9=e=>{if(!e)return null;if(Sf(e))return e;let t=e.length;if(!w8(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},J9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&c5(Uint8Array)),Q9=(e,t)=>{const n=(e&&e[Jp]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Z9=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},eR=Co("HTMLFormElement"),tR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),$4=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),rR=Co("RegExp"),S8=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};p0(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},nR=e=>{S8(e,(t,r)=>{if(di(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(di(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},aR=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Sf(e)?n(e):n(String(e).split(t)),r},sR=()=>{},iR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function oR(e){return!!(e&&di(e.append)&&e[y8]==="FormData"&&e[Jp])}const lR=e=>{const t=new Array(10),r=(n,s)=>{if(m0(n)){if(t.indexOf(n)>=0)return;if(h0(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Sf(n)?[]:{};return p0(n,(o,l)=>{const u=r(o,s+1);!Xd(u)&&(i[l]=u)}),t[s]=void 0,i}}return n};return r(e,0)},cR=Co("AsyncFunction"),uR=e=>e&&(m0(e)||di(e))&&di(e.then)&&di(e.catch),_8=((e,t)=>e?setImmediate:t?((r,n)=>($u.addEventListener("message",({source:s,data:i})=>{s===$u&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),$u.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",di($u.postMessage)),dR=typeof queueMicrotask<"u"?queueMicrotask.bind($u):typeof process<"u"&&process.nextTick||_8,fR=e=>e!=null&&di(e[Jp]),Ke={isArray:Sf,isArrayBuffer:b8,isBuffer:h0,isFormData:F9,isArrayBufferView:P9,isString:E9,isNumber:w8,isBoolean:L9,isObject:m0,isPlainObject:Im,isEmptyObject:O9,isReadableStream:B9,isRequest:U9,isResponse:q9,isHeaders:z9,isUndefined:Xd,isDate:R9,isFile:T9,isBlob:M9,isRegExp:rR,isFunction:di,isStream:D9,isURLSearchParams:$9,isTypedArray:J9,isFileList:I9,forEach:p0,merge:bb,extend:H9,trim:W9,stripBOM:V9,inherits:Y9,toFlatObject:G9,kindOf:Qp,kindOfTest:Co,endsWith:K9,toArray:X9,forEachEntry:Q9,matchAll:Z9,isHTMLForm:eR,hasOwnProperty:$4,hasOwnProp:$4,reduceDescriptors:S8,freezeMethods:nR,toObjectSet:aR,toCamelCase:tR,noop:sR,toFiniteNumber:iR,findKey:j8,global:$u,isContextDefined:N8,isSpecCompliantForm:oR,toJSONObject:lR,isAsyncFn:cR,isThenable:uR,setImmediate:_8,asap:dR,isIterable:fR};function _r(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ke.inherits(_r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ke.toJSONObject(this.config),code:this.code,status:this.status}}});const k8=_r.prototype,A8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{A8[e]={value:e}});Object.defineProperties(_r,A8);Object.defineProperty(k8,"isAxiosError",{value:!0});_r.from=(e,t,r,n,s,i)=>{const o=Object.create(k8);Ke.toFlatObject(e,o,function(h){return h!==Error.prototype},f=>f!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return _r.call(o,l,u,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const hR=null;function wb(e){return Ke.isPlainObject(e)||Ke.isArray(e)}function C8(e){return Ke.endsWith(e,"[]")?e.slice(0,-2):e}function B4(e,t,r){return e?e.concat(t).map(function(s,i){return s=C8(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function mR(e){return Ke.isArray(e)&&!e.some(wb)}const pR=Ke.toFlatObject(Ke,{},null,function(t){return/^is[A-Z]/.test(t)});function eg(e,t,r){if(!Ke.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ke.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!Ke.isUndefined(y[x])});const n=r.metaTokens,s=r.visitor||h,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Ke.isSpecCompliantForm(t);if(!Ke.isFunction(s))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Ke.isDate(w))return w.toISOString();if(Ke.isBoolean(w))return w.toString();if(!u&&Ke.isBlob(w))throw new _r("Blob is not supported. Use a Buffer instead.");return Ke.isArrayBuffer(w)||Ke.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,x,y){let j=w;if(w&&!y&&typeof w=="object"){if(Ke.endsWith(x,"{}"))x=n?x:x.slice(0,-2),w=JSON.stringify(w);else if(Ke.isArray(w)&&mR(w)||(Ke.isFileList(w)||Ke.endsWith(x,"[]"))&&(j=Ke.toArray(w)))return x=C8(x),j.forEach(function(N,k){!(Ke.isUndefined(N)||N===null)&&t.append(o===!0?B4([x],k,i):o===null?x:x+"[]",f(N))}),!1}return wb(w)?!0:(t.append(B4(y,x,i),f(w)),!1)}const m=[],v=Object.assign(pR,{defaultVisitor:h,convertValue:f,isVisitable:wb});function p(w,x){if(!Ke.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(w),Ke.forEach(w,function(j,A){(!(Ke.isUndefined(j)||j===null)&&s.call(t,j,Ke.isString(A)?A.trim():A,x,v))===!0&&p(j,x?x.concat(A):[A])}),m.pop()}}if(!Ke.isObject(e))throw new TypeError("data must be an object");return p(e),t}function U4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function u5(e,t){this._pairs=[],e&&eg(e,this,t)}const P8=u5.prototype;P8.append=function(t,r){this._pairs.push([t,r])};P8.toString=function(t){const r=t?function(n){return t.call(this,n,U4)}:U4;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function gR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function E8(e,t,r){if(!t)return e;const n=r&&r.encode||gR;Ke.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=Ke.isURLSearchParams(t)?t.toString():new u5(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class q4{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ke.forEach(this.handlers,function(n){n!==null&&t(n)})}}const L8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vR=typeof URLSearchParams<"u"?URLSearchParams:u5,xR=typeof FormData<"u"?FormData:null,yR=typeof Blob<"u"?Blob:null,bR={isBrowser:!0,classes:{URLSearchParams:vR,FormData:xR,Blob:yR},protocols:["http","https","file","blob","url","data"]},d5=typeof window<"u"&&typeof document<"u",jb=typeof navigator=="object"&&navigator||void 0,wR=d5&&(!jb||["ReactNative","NativeScript","NS"].indexOf(jb.product)<0),jR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NR=d5&&window.location.href||"http://localhost",SR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:d5,hasStandardBrowserEnv:wR,hasStandardBrowserWebWorkerEnv:jR,navigator:jb,origin:NR},Symbol.toStringTag,{value:"Module"})),Ps={...SR,...bR};function _R(e,t){return eg(e,new Ps.classes.URLSearchParams,{visitor:function(r,n,s,i){return Ps.isNode&&Ke.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function kR(e){return Ke.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function AR(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function O8(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=r.length;return o=!o&&Ke.isArray(s)?s.length:o,u?(Ke.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!Ke.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&Ke.isArray(s[o])&&(s[o]=AR(s[o])),!l)}if(Ke.isFormData(e)&&Ke.isFunction(e.entries)){const r={};return Ke.forEachEntry(e,(n,s)=>{t(kR(n),s,r,0)}),r}return null}function CR(e,t,r){if(Ke.isString(e))try{return(t||JSON.parse)(e),Ke.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const g0={transitional:L8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Ke.isObject(t);if(i&&Ke.isHTMLForm(t)&&(t=new FormData(t)),Ke.isFormData(t))return s?JSON.stringify(O8(t)):t;if(Ke.isArrayBuffer(t)||Ke.isBuffer(t)||Ke.isStream(t)||Ke.isFile(t)||Ke.isBlob(t)||Ke.isReadableStream(t))return t;if(Ke.isArrayBufferView(t))return t.buffer;if(Ke.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _R(t,this.formSerializer).toString();if((l=Ke.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return eg(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),CR(t)):t}],transformResponse:[function(t){const r=this.transitional||g0.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ke.isResponse(t)||Ke.isReadableStream(t))return t;if(t&&Ke.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?_r.from(l,_r.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ps.classes.FormData,Blob:Ps.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ke.forEach(["delete","get","head","post","put","patch"],e=>{g0.headers[e]={}});const PR=Ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ER=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&PR[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},z4=Symbol("internals");function lh(e){return e&&String(e).trim().toLowerCase()}function Dm(e){return e===!1||e==null?e:Ke.isArray(e)?e.map(Dm):String(e)}function LR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const OR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Lv(e,t,r,n,s){if(Ke.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Ke.isString(t)){if(Ke.isString(n))return t.indexOf(n)!==-1;if(Ke.isRegExp(n))return n.test(t)}}function RR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function TR(e,t){const r=Ke.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let fi=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,u,f){const h=lh(u);if(!h)throw new Error("header name must be a non-empty string");const m=Ke.findKey(s,h);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||u]=Dm(l))}const o=(l,u)=>Ke.forEach(l,(f,h)=>i(f,h,u));if(Ke.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ke.isString(t)&&(t=t.trim())&&!OR(t))o(ER(t),r);else if(Ke.isObject(t)&&Ke.isIterable(t)){let l={},u,f;for(const h of t){if(!Ke.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[f=h[0]]=(u=l[f])?Ke.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=lh(t),t){const n=Ke.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return LR(s);if(Ke.isFunction(r))return r.call(this,s,n);if(Ke.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=lh(t),t){const n=Ke.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Lv(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=lh(o),o){const l=Ke.findKey(n,o);l&&(!r||Lv(n,n[l],l,r))&&(delete n[l],s=!0)}}return Ke.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Lv(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return Ke.forEach(this,(s,i)=>{const o=Ke.findKey(n,i);if(o){r[o]=Dm(s),delete r[i];return}const l=t?RR(i):String(i).trim();l!==i&&delete r[i],r[l]=Dm(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ke.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Ke.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[z4]=this[z4]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=lh(o);n[l]||(TR(s,o),n[l]=!0)}return Ke.isArray(t)?t.forEach(i):i(t),this}};fi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ke.reduceDescriptors(fi.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ke.freezeMethods(fi);function Ov(e,t){const r=this||g0,n=t||r,s=fi.from(n.headers);let i=n.data;return Ke.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function R8(e){return!!(e&&e.__CANCEL__)}function _f(e,t,r){_r.call(this,e??"canceled",_r.ERR_CANCELED,t,r),this.name="CanceledError"}Ke.inherits(_f,_r,{__CANCEL__:!0});function T8(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new _r("Request failed with status code "+r.status,[_r.ERR_BAD_REQUEST,_r.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function MR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function IR(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),h=n[i];o||(o=f),r[s]=u,n[s]=f;let m=i,v=0;for(;m!==s;)v+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),f-o<t)return;const p=h&&f-h;return p?Math.round(v*1e3/p):void 0}}function DR(e,t){let r=0,n=1e3/t,s,i;const o=(f,h=Date.now())=>{r=h,s=null,i&&(clearTimeout(i),i=null),e(...f)};return[(...f)=>{const h=Date.now(),m=h-r;m>=n?o(f,h):(s=f,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const Gm=(e,t,r=3)=>{let n=0;const s=IR(50,250);return DR(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-n,f=s(u),h=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&h?(l-o)/f:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},W4=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},H4=e=>(...t)=>Ke.asap(()=>e(...t)),FR=Ps.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ps.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ps.origin),Ps.navigator&&/(msie|trident)/i.test(Ps.navigator.userAgent)):()=>!0,$R=Ps.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Ke.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Ke.isString(n)&&l.push(`path=${n}`),Ke.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),Ke.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function BR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function UR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function M8(e,t,r){let n=!BR(t);return e&&(n||r==!1)?UR(e,t):t}const V4=e=>e instanceof fi?{...e}:e;function Ku(e,t){t=t||{};const r={};function n(f,h,m,v){return Ke.isPlainObject(f)&&Ke.isPlainObject(h)?Ke.merge.call({caseless:v},f,h):Ke.isPlainObject(h)?Ke.merge({},h):Ke.isArray(h)?h.slice():h}function s(f,h,m,v){if(Ke.isUndefined(h)){if(!Ke.isUndefined(f))return n(void 0,f,m,v)}else return n(f,h,m,v)}function i(f,h){if(!Ke.isUndefined(h))return n(void 0,h)}function o(f,h){if(Ke.isUndefined(h)){if(!Ke.isUndefined(f))return n(void 0,f)}else return n(void 0,h)}function l(f,h,m){if(m in t)return n(f,h);if(m in e)return n(void 0,f)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,h,m)=>s(V4(f),V4(h),m,!0)};return Ke.forEach(Object.keys({...e,...t}),function(h){const m=u[h]||s,v=m(e[h],t[h],h);Ke.isUndefined(v)&&m!==l||(r[h]=v)}),r}const I8=e=>{const t=Ku({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=fi.from(o),t.url=E8(M8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ke.isFormData(r)){if(Ps.hasStandardBrowserEnv||Ps.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ke.isFunction(r.getHeaders)){const u=r.getHeaders(),f=["content-type","content-length"];Object.entries(u).forEach(([h,m])=>{f.includes(h.toLowerCase())&&o.set(h,m)})}}if(Ps.hasStandardBrowserEnv&&(n&&Ke.isFunction(n)&&(n=n(t)),n||n!==!1&&FR(t.url))){const u=s&&i&&$R.read(i);u&&o.set(s,u)}return t},qR=typeof XMLHttpRequest<"u",zR=qR&&function(e){return new Promise(function(r,n){const s=I8(e);let i=s.data;const o=fi.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=s,h,m,v,p,w;function x(){p&&p(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function j(){if(!y)return;const N=fi.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:N,config:e,request:y};T8(function(F){r(F),x()},function(F){n(F),x()},C),y=null}"onloadend"in y?y.onloadend=j:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(j)},y.onabort=function(){y&&(n(new _r("Request aborted",_r.ECONNABORTED,e,y)),y=null)},y.onerror=function(k){const C=k&&k.message?k.message:"Network Error",T=new _r(C,_r.ERR_NETWORK,e,y);T.event=k||null,n(T),y=null},y.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||L8;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new _r(k,C.clarifyTimeoutError?_r.ETIMEDOUT:_r.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&Ke.forEach(o.toJSON(),function(k,C){y.setRequestHeader(C,k)}),Ke.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),f&&([v,w]=Gm(f,!0),y.addEventListener("progress",v)),u&&y.upload&&([m,p]=Gm(u),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(h=N=>{y&&(n(!N||N.type?new _f(null,e,y):N),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const A=MR(s.url);if(A&&Ps.protocols.indexOf(A)===-1){n(new _r("Unsupported protocol "+A+":",_r.ERR_BAD_REQUEST,e));return}y.send(i||null)})},WR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(f){if(!s){s=!0,l();const h=f instanceof Error?f:this.reason;n.abort(h instanceof _r?h:new _f(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new _r(`timeout ${t} of ms exceeded`,_r.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>Ke.asap(l),u}},HR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},VR=async function*(e,t){for await(const r of YR(e))yield*HR(r,t)},YR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Y4=(e,t,r,n)=>{const s=VR(e,t);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:f,value:h}=await s.next();if(f){l(),u.close();return}let m=h.byteLength;if(r){let v=i+=m;r(v)}u.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},G4=64*1024,{isFunction:hm}=Ke,GR=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ke.global),{ReadableStream:K4,TextEncoder:X4}=Ke.global,J4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},KR=e=>{e=Ke.merge.call({skipUndefined:!0},GR,e);const{fetch:t,Request:r,Response:n}=e,s=t?hm(t):typeof fetch=="function",i=hm(r),o=hm(n);if(!s)return!1;const l=s&&hm(K4),u=s&&(typeof X4=="function"?(w=>x=>w.encode(x))(new X4):async w=>new Uint8Array(await new r(w).arrayBuffer())),f=i&&l&&J4(()=>{let w=!1;const x=new r(Ps.origin,{body:new K4,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!x}),h=o&&l&&J4(()=>Ke.isReadableStream(new n("").body)),m={stream:h&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!m[w]&&(m[w]=(x,y)=>{let j=x&&x[w];if(j)return j.call(x);throw new _r(`Response type '${w}' is not supported`,_r.ERR_NOT_SUPPORT,y)})});const v=async w=>{if(w==null)return 0;if(Ke.isBlob(w))return w.size;if(Ke.isSpecCompliantForm(w))return(await new r(Ps.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Ke.isArrayBufferView(w)||Ke.isArrayBuffer(w))return w.byteLength;if(Ke.isURLSearchParams(w)&&(w=w+""),Ke.isString(w))return(await u(w)).byteLength},p=async(w,x)=>{const y=Ke.toFiniteNumber(w.getContentLength());return y??v(x)};return async w=>{let{url:x,method:y,data:j,signal:A,cancelToken:N,timeout:k,onDownloadProgress:C,onUploadProgress:T,responseType:F,headers:M,withCredentials:q="same-origin",fetchOptions:G}=I8(w),R=t||fetch;F=F?(F+"").toLowerCase():"text";let D=WR([A,N&&N.toAbortSignal()],k),z=null;const W=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let Z;try{if(T&&f&&y!=="get"&&y!=="head"&&(Z=await p(M,j))!==0){let ae=new r(x,{method:"POST",body:j,duplex:"half"}),U;if(Ke.isFormData(j)&&(U=ae.headers.get("content-type"))&&M.setContentType(U),ae.body){const[B,Y]=W4(Z,Gm(H4(T)));j=Y4(ae.body,G4,B,Y)}}Ke.isString(q)||(q=q?"include":"omit");const le=i&&"credentials"in r.prototype,ge={...G,signal:D,method:y.toUpperCase(),headers:M.normalize().toJSON(),body:j,duplex:"half",credentials:le?q:void 0};z=i&&new r(x,ge);let te=await(i?R(z,G):R(x,ge));const ue=h&&(F==="stream"||F==="response");if(h&&(C||ue&&W)){const ae={};["status","statusText","headers"].forEach(ne=>{ae[ne]=te[ne]});const U=Ke.toFiniteNumber(te.headers.get("content-length")),[B,Y]=C&&W4(U,Gm(H4(C),!0))||[];te=new n(Y4(te.body,G4,B,()=>{Y&&Y(),W&&W()}),ae)}F=F||"text";let H=await m[Ke.findKey(m,F)||"text"](te,w);return!ue&&W&&W(),await new Promise((ae,U)=>{T8(ae,U,{data:H,headers:fi.from(te.headers),status:te.status,statusText:te.statusText,config:w,request:z})})}catch(le){throw W&&W(),le&&le.name==="TypeError"&&/Load failed|fetch/i.test(le.message)?Object.assign(new _r("Network Error",_r.ERR_NETWORK,w,z),{cause:le.cause||le}):_r.from(le,le&&le.code,w,z)}}},XR=new Map,D8=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,u,f,h=XR;for(;l--;)u=i[l],f=h.get(u),f===void 0&&h.set(u,f=l?new Map:KR(t)),h=f;return f};D8();const f5={http:hR,xhr:zR,fetch:{get:D8}};Ke.forEach(f5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Q4=e=>`- ${e}`,JR=e=>Ke.isFunction(e)||e===null||e===!1;function QR(e,t){e=Ke.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!JR(n)&&(s=f5[(l=String(n)).toLowerCase()],s===void 0))throw new _r(`Unknown adapter '${l}'`);if(s&&(Ke.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Q4).join(`
`):" "+Q4(o[0]):"as no adapter specified";throw new _r("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const F8={getAdapter:QR,adapters:f5};function Rv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _f(null,e)}function Z4(e){return Rv(e),e.headers=fi.from(e.headers),e.data=Ov.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),F8.getAdapter(e.adapter||g0.adapter,e)(e).then(function(n){return Rv(e),n.data=Ov.call(e,e.transformResponse,n),n.headers=fi.from(n.headers),n},function(n){return R8(n)||(Rv(e),n&&n.response&&(n.response.data=Ov.call(e,e.transformResponse,n.response),n.response.headers=fi.from(n.response.headers))),Promise.reject(n)})}const $8="1.13.1",tg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const eN={};tg.transitional=function(t,r,n){function s(i,o){return"[Axios v"+$8+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new _r(s(o," has been removed"+(r?" in "+r:"")),_r.ERR_DEPRECATED);return r&&!eN[o]&&(eN[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};tg.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ZR(e,t,r){if(typeof e!="object")throw new _r("options must be an object",_r.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new _r("option "+i+" must be "+u,_r.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _r("Unknown option "+i,_r.ERR_BAD_OPTION)}}const Fm={assertOptions:ZR,validators:tg},Jo=Fm.validators;let Wu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new q4,response:new q4}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ku(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Fm.assertOptions(n,{silentJSONParsing:Jo.transitional(Jo.boolean),forcedJSONParsing:Jo.transitional(Jo.boolean),clarifyTimeoutError:Jo.transitional(Jo.boolean)},!1),s!=null&&(Ke.isFunction(s)?r.paramsSerializer={serialize:s}:Fm.assertOptions(s,{encode:Jo.function,serialize:Jo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Fm.assertOptions(r,{baseUrl:Jo.spelling("baseURL"),withXsrfToken:Jo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Ke.merge(i.common,i[r.method]);i&&Ke.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=fi.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const f=[];this.interceptors.response.forEach(function(x){f.push(x.fulfilled,x.rejected)});let h,m=0,v;if(!u){const w=[Z4.bind(this),void 0];for(w.unshift(...l),w.push(...f),v=w.length,h=Promise.resolve(r);m<v;)h=h.then(w[m++],w[m++]);return h}v=l.length;let p=r;for(;m<v;){const w=l[m++],x=l[m++];try{p=w(p)}catch(y){x.call(this,y);break}}try{h=Z4.call(this,p)}catch(w){return Promise.reject(w)}for(m=0,v=f.length;m<v;)h=h.then(f[m++],f[m++]);return h}getUri(t){t=Ku(this.defaults,t);const r=M8(t.baseURL,t.url,t.allowAbsoluteUrls);return E8(r,t.params,t.paramsSerializer)}};Ke.forEach(["delete","get","head","options"],function(t){Wu.prototype[t]=function(r,n){return this.request(Ku(n||{},{method:t,url:r,data:(n||{}).data}))}});Ke.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Ku(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Wu.prototype[t]=r(),Wu.prototype[t+"Form"]=r(!0)});let eT=class B8{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new _f(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new B8(function(s){t=s}),cancel:t}}};function tT(e){return function(r){return e.apply(null,r)}}function rT(e){return Ke.isObject(e)&&e.isAxiosError===!0}const Nb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Nb).forEach(([e,t])=>{Nb[t]=e});function U8(e){const t=new Wu(e),r=x8(Wu.prototype.request,t);return Ke.extend(r,Wu.prototype,t,{allOwnKeys:!0}),Ke.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return U8(Ku(e,s))},r}const Jn=U8(g0);Jn.Axios=Wu;Jn.CanceledError=_f;Jn.CancelToken=eT;Jn.isCancel=R8;Jn.VERSION=$8;Jn.toFormData=eg;Jn.AxiosError=_r;Jn.Cancel=Jn.CanceledError;Jn.all=function(t){return Promise.all(t)};Jn.spread=tT;Jn.isAxiosError=rT;Jn.mergeConfig=Ku;Jn.AxiosHeaders=fi;Jn.formToJSON=e=>O8(Ke.isHTMLForm(e)?new FormData(e):e);Jn.getAdapter=F8.getAdapter;Jn.HttpStatusCode=Nb;Jn.default=Jn;const{Axios:$ee,AxiosError:Bee,CanceledError:Uee,isCancel:qee,CancelToken:zee,VERSION:Wee,all:Hee,Cancel:Vee,isAxiosError:Yee,spread:Gee,toFormData:Kee,AxiosHeaders:Xee,HttpStatusCode:Jee,formToJSON:Qee,getAdapter:Zee,mergeConfig:ete}=Jn;class nT{constructor(){this.requestCounts=new Map,this.requestTimestamps=new Map,this.blockedUntil=new Map}checkLimit(t,r={}){const{maxRequests:n=10,timeWindow:s=6e4,blockDuration:i=6e4}=r,o=Date.now(),l=this.blockedUntil.get(t);if(l&&o<l){const m=Math.ceil((l-o)/1e3);return{allowed:!1,reason:`Rate limit exceeded. Please try again in ${m} seconds.`,retryAfter:m}}l&&o>=l&&(this.blockedUntil.delete(t),this.requestCounts.delete(t),this.requestTimestamps.delete(t));const f=(this.requestTimestamps.get(t)||[]).filter(m=>o-m<s);if(f.length>=n){const m=f[0],v=Math.ceil((m+s-o)/1e3);return this.blockedUntil.set(t,o+i),console.warn(`[RateLimiter] Rate limit exceeded for ${t}. Blocked for ${i/1e3}s`),{allowed:!1,reason:`Too many requests. Please wait ${v} seconds before trying again.`,retryAfter:v}}f.push(o),this.requestTimestamps.set(t,f);const h=(this.requestCounts.get(t)||0)+1;return this.requestCounts.set(t,h),{allowed:!0,reason:"Request allowed",remaining:n-f.length}}reset(t){this.requestCounts.delete(t),this.requestTimestamps.delete(t),this.blockedUntil.delete(t)}resetAll(){this.requestCounts.clear(),this.requestTimestamps.clear(),this.blockedUntil.clear()}getStatus(t){const r=Date.now(),n=this.blockedUntil.get(t),s=this.requestTimestamps.get(t)||[],i=this.requestCounts.get(t)||0;return{isBlocked:n&&r<n,blockedUntil:n||null,requestCount:i,recentRequests:s.length}}}const aT=new nT,$m="http://localhost:8000/api",Ze=Jn.create({baseURL:$m,headers:{"Content-Type":"application/json"},timeout:3e4});Ze.interceptors.request.use(e=>{const t=localStorage.getItem("token");if(t&&(e.headers.Authorization=`Bearer ${t}`),e.method!=="get"){const r=`${e.method}:${e.url}`,n=aT.checkLimit(r,{maxRequests:20,timeWindow:6e4,blockDuration:3e4});if(!n.allowed){const s=new Error(n.reason);return s.code="RATE_LIMIT_EXCEEDED",s.retryAfter=n.retryAfter,Promise.reject(s)}}return e},e=>Promise.reject(e));Ze.interceptors.response.use(e=>e.data,e=>{if(e.response){const{status:t,data:r}=e.response;console.error("API Error Response:",{status:t,data:r}),console.error("Full error details:",JSON.stringify(r,null,2)),t===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login");const n=r?.detail||r?.message||`Server error (${t})`,s=new Error(n);return s.response=e.response,Promise.reject(s)}else return e.request?(console.error("No response from server:",e.request),Promise.reject(new Error("No response from server. Please check your connection."))):(console.error("Request error:",e.message),Promise.reject(e))});const At={login:async(e,t)=>{try{const r=await Ze.post("/auth/login",{email:e,password:t});return r.success&&r.user&&(r.token&&localStorage.setItem("token",r.token),localStorage.setItem("currentUser",JSON.stringify(r.user)),localStorage.setItem("role",r.user.role)),r}catch(r){throw console.error("Login error:",r),r}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),localStorage.removeItem("role"),window.location.href="/login"},getCurrentUser:()=>{try{const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null}catch(e){return console.error("Error getting current user:",e),null}},isAuthenticated:()=>!!localStorage.getItem("token"),forgotPassword:async e=>{try{return await Ze.post("/auth/forgot-password",{email:e})}catch(t){throw console.error("Forgot password error:",t),t}},resetPassword:async(e,t)=>{try{return await Ze.post("/auth/reset-password",{token:e,new_password:t})}catch(r){throw console.error("Reset password error:",r),r}},changePassword:async(e,t,r)=>{try{return await Ze.post("/auth/change-password",{user_id:e,current_password:t,new_password:r})}catch(n){throw console.error("Change password error:",n),n}}},rt={getUsers:async(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page),e.page_size&&t.append("page_size",e.page_size),e.search&&t.append("search",e.search),e.role&&t.append("role",e.role),e.status&&t.append("status",e.status),e.program&&t.append("program",e.program),e.year_level&&t.append("year_level",e.year_level),Ze.get(`/admin/users?${t.toString()}`)},createUser:async e=>{const t=At.getCurrentUser();return Ze.post(`/admin/users?current_user_id=${t?.id}`,e)},updateUser:async(e,t)=>{const r=At.getCurrentUser();return Ze.put(`/admin/users/${e}?current_user_id=${r?.id}`,t)},deleteUser:async(e,t=!1)=>{const r=At.getCurrentUser(),n=t?"&force=true":"";return Ze.delete(`/admin/users/${e}?current_user_id=${r?.id}${n}`)},resetPassword:async(e,t)=>{const r=At.getCurrentUser();return Ze.post(`/admin/users/${e}/reset-password?current_user_id=${r?.id}`,{new_password:t})},activateUser:async e=>{const t=At.getCurrentUser();return Ze.put(`/admin/users/${e}?current_user_id=${t?.id}`,{is_active:!0})},deactivateUser:async e=>{const t=At.getCurrentUser();return Ze.put(`/admin/users/${e}?current_user_id=${t?.id}`,{is_active:!1})},getUserStats:async()=>Ze.get("/admin/users/stats"),getPeriods:async()=>Ze.get("/admin/evaluation-periods"),getEvaluationPeriods:async()=>Ze.get("/admin/evaluation-periods"),createPeriod:async e=>{const t=At.getCurrentUser(),r={name:e.name,semester:e.semester,academic_year:e.academicYear||e.academic_year,start_date:e.startDate||e.start_date,end_date:e.endDate||e.end_date};return Ze.post(`/admin/evaluation-periods?current_user_id=${t?.id}`,r)},updatePeriodStatus:async(e,t)=>{const r=At.getCurrentUser();return Ze.put(`/admin/evaluation-periods/${e}/status?current_user_id=${r?.id}`,{status:t})},updatePeriod:async(e,t)=>{const r=At.getCurrentUser(),n={end_date:t.endDate||t.end_date,start_date:t.startDate||t.start_date,name:t.name,semester:t.semester,academic_year:t.academicYear||t.academic_year};return Object.keys(n).forEach(s=>n[s]===void 0&&delete n[s]),Ze.patch(`/admin/evaluation-periods/${e}?current_user_id=${r?.id}`,n)},deletePeriod:async e=>{const t=At.getCurrentUser();return Ze.delete(`/admin/evaluation-periods/${e}?current_user_id=${t?.id}`)},getActivePeriod:async()=>Ze.get("/admin/evaluation-periods/active"),enrollSectionInPeriod:async(e,t)=>{const r=At.getCurrentUser();return Ze.post(`/admin/evaluation-periods/${e}/enroll-section?current_user_id=${r?.id}`,{section_id:t})},getPeriodEnrolledSections:async e=>Ze.get(`/admin/evaluation-periods/${e}/enrolled-sections`),removePeriodEnrollment:async(e,t)=>{const r=At.getCurrentUser();return Ze.delete(`/admin/evaluation-periods/${e}/enrolled-program-sections/${t}?current_user_id=${r?.id}`)},enrollProgramSectionInPeriod:async(e,t)=>{const r=At.getCurrentUser();return Ze.post(`/admin/evaluation-periods/${e}/enroll-program-section?current_user_id=${r?.id}`,{program_section_id:t})},getPeriodEnrolledProgramSections:async e=>Ze.get(`/admin/evaluation-periods/${e}/enrolled-program-sections`),getCourses:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.department&&t.append("department",e.department),e.program_id&&t.append("program_id",e.program_id),e.year_level&&t.append("year_level",e.year_level),e.semester&&t.append("semester",e.semester),e.page&&t.append("page",e.page),e.page_size&&t.append("page_size",e.page_size),e.show_all_periods&&t.append("show_all_periods",e.show_all_periods),Ze.get(`/admin/courses?${t.toString()}`)},getAuditLogs:async(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page),e.page_size&&t.append("page_size",e.page_size),e.action&&t.append("action",e.action),e.severity&&t.append("severity",e.severity),e.user_id&&t.append("user_id",e.user_id),e.start_date&&t.append("start_date",e.start_date),e.end_date&&t.append("end_date",e.end_date),Ze.get(`/admin/audit-logs?${t.toString()}`)},getAuditLogStats:async()=>Ze.get("/admin/audit-logs/stats"),exportUsers:async(e={})=>{const t=new URLSearchParams(e);return(await Jn.get(`${$m}/admin/export/users?${t.toString()}`,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data},exportEvaluations:async(e={})=>{const t=new URLSearchParams(e);return(await Jn.get(`${$m}/admin/export/evaluations?${t.toString()}`,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data},getDashboardStats:async()=>Ze.get("/admin/dashboard-stats"),getNonRespondents:async(e={})=>{const t=new URLSearchParams;e.evaluation_period_id&&t.append("evaluation_period_id",e.evaluation_period_id),e.program_id&&t.append("program_id",e.program_id),e.year_level&&t.append("year_level",e.year_level);const r=t.toString();return Ze.get(`/admin/non-respondents${r?`?${r}`:""}`)},getDashboard:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams(e);return t?.department&&r.append("department",t.department),Ze.get(`/dept-head/dashboard?${r.toString()}`)},getExportHistory:async()=>Ze.get("/admin/export/history"),getInstructors:async(e={})=>Ze.get("/admin/users?role=instructor"),sendEmailNotification:async e=>{const t=At.getCurrentUser();return Ze.post(`/admin/send-notification?current_user_id=${t?.id}`,e)},getEmailConfigStatus:async()=>{const e=At.getCurrentUser();return Ze.get(`/admin/email-config-status?current_user_id=${e?.id}`)},createCourse:async e=>{const t=At.getCurrentUser();return Ze.post(`/admin/courses?current_user_id=${t?.id}`,e)},updateCourse:async(e,t)=>{const r=At.getCurrentUser();return Ze.put(`/admin/courses/${e}?current_user_id=${r?.id}`,t)},deleteCourse:async e=>{const t=At.getCurrentUser();return Ze.delete(`/admin/courses/${e}?current_user_id=${t?.id}`)},getPrograms:async()=>Ze.get("/admin/programs"),uploadEnrollmentList:async e=>{const t=At.getCurrentUser(),r=new FormData;return r.append("file",e),Ze.post(`/admin/enrollment-list/upload?current_user_id=${t?.id}`,r,{headers:{"Content-Type":"multipart/form-data"}})},getSections:async(e={})=>{const t=new URLSearchParams;e.search&&t.append("search",e.search),e.program_id&&t.append("program_id",e.program_id),e.program_code&&t.append("program_code",e.program_code),e.program_section_id&&t.append("program_section_id",e.program_section_id),e.year_level&&t.append("year_level",e.year_level),e.semester&&t.append("semester",e.semester),e.period_id&&t.append("period_id",e.period_id);const r=t.toString();return Ze.get(`/admin/sections${r?"?"+r:""}`)},createSection:async(e,t=!1)=>{const r=t?"/admin/sections?auto_enroll=true":"/admin/sections";return Ze.post(r,e)},updateSection:async(e,t)=>{const r=At.getCurrentUser();return Ze.put(`/admin/sections/${e}?current_user_id=${r?.id}`,t)},deleteSection:async e=>{const t=At.getCurrentUser();return Ze.delete(`/admin/sections/${e}?current_user_id=${t?.id}`)},getSectionStudents:async e=>Ze.get(`/admin/sections/${e}/students`),getAvailableStudents:async(e,t="")=>{const r=t?`?search=${encodeURIComponent(t)}`:"";return Ze.get(`/admin/sections/${e}/available-students${r}`)},enrollStudents:async(e,t)=>{const r=At.getCurrentUser();return Ze.post(`/admin/sections/${e}/enroll?current_user_id=${r?.id}`,{student_ids:t})},bulkEnrollStudent:async e=>{const t=At.getCurrentUser();return Ze.post(`/admin/sections/bulk-enroll?current_user_id=${t?.id}`,e)},removeStudentFromSection:async(e,t)=>{const r=At.getCurrentUser();return Ze.delete(`/admin/sections/${e}/students/${t}?current_user_id=${r?.id}`)},exportUsers:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams;return r.append("format",e.format||"csv"),t?.id&&r.append("user_id",t.id),e.role&&r.append("role",e.role),e.program&&r.append("program",e.program),e.status&&r.append("status",e.status),Ze.get(`/admin/export/users?${r.toString()}`)},exportEvaluations:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams;return r.append("format",e.format||"csv"),t?.id&&r.append("user_id",t.id),e.dateRange&&r.append("dateRange",e.dateRange),e.program&&r.append("program",e.program),e.semester&&r.append("semester",e.semester),e.instructor&&r.append("instructor",e.instructor),Ze.get(`/admin/export/evaluations?${r.toString()}`)},exportCourses:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams;return r.append("format",e.format||"csv"),t?.id&&r.append("user_id",t.id),e.program&&r.append("program",e.program),e.status&&r.append("status",e.status),e.year_level&&r.append("year_level",e.year_level),Ze.get(`/admin/export/courses?${r.toString()}`)},exportAnalytics:async(e={})=>{const t=new URLSearchParams;return t.append("format",e.format||"csv"),e.reportType&&t.append("reportType",e.reportType),e.dateRange&&t.append("dateRange",e.dateRange),Ze.get(`/admin/export/analytics?${t.toString()}`)},exportAuditLogs:async(e={})=>{const t=new URLSearchParams;if(t.append("format",e.format||"csv"),e.action&&e.action!=="all"&&t.append("action",e.action),e.category&&e.category!=="all"&&t.append("category",e.category),e.user&&e.user!=="all"&&t.append("user",e.user),e.severity&&e.severity!=="all"&&t.append("severity",e.severity),e.dateRange&&e.dateRange!=="all"){const n=new Date;let s=null;switch(e.dateRange){case"today":s=new Date(n.setHours(0,0,0,0));break;case"last_7_days":s=new Date(n.setDate(n.getDate()-7));break;case"last_30_days":s=new Date(n.setDate(n.getDate()-30));break;case"current_month":s=new Date(n.getFullYear(),n.getMonth(),1);break;case"last_month":s=new Date(n.getFullYear(),n.getMonth()-1,1);const i=new Date(n.getFullYear(),n.getMonth(),0);t.append("end_date",i.toISOString());break}s&&t.append("start_date",s.toISOString())}const r=At.getCurrentUser();return r?.id&&t.append("user_id",r.id),Ze.get(`/admin/export/audit-logs?${t.toString()}`)},exportFullSystem:async(e={})=>{const t=e.format||"json";return Ze.get(`/admin/export/full-system?format=${t}`)},exportCustom:async(e={})=>{const t=e.format||"json";return Ze.post("/admin/export/custom",{format:t,tables:e.tables,fields:e.fields,filters:e.filters,dateRange:e.dateRange})},getCategoriesAverages:async(e,t)=>Ze.get(`/admin/courses/${e}/category-averages?user_id=${t}`),getQuestionDistribution:async(e,t)=>Ze.get(`/admin/courses/${e}/question-distribution?user_id=${t}`),getCompletionRates:async(e=null)=>{const t=At.getCurrentUser(),r=e?`/admin/completion-rates?user_id=${t?.id}&period_id=${e}`:`/admin/completion-rates?user_id=${t?.id}`;return Ze.get(r)},submitSupportRequest:async e=>{const t=At.getCurrentUser();return Ze.post(`/admin/support-request?user_id=${t?.id}`,e)},createBackup:async()=>{const e=At.getCurrentUser();return Ze.post(`/admin/backup/create?user_id=${e?.id}`)},restoreBackup:async e=>{const t=At.getCurrentUser(),r=new FormData;return r.append("backup_file",e),Jn.post(`${$m}/admin/backup/restore?user_id=${t?.id}`,r,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})},getBackupHistory:async()=>{const e=At.getCurrentUser();return Ze.get(`/admin/backup/history?user_id=${e?.id}`)},getProgramSections:async(e={})=>{At.getCurrentUser();const t=new URLSearchParams;e.programId&&t.append("program_id",e.programId),e.yearLevel&&t.append("year_level",e.yearLevel),e.semester&&t.append("semester",e.semester),e.schoolYear&&t.append("school_year",e.schoolYear),e.isActive!==void 0&&t.append("is_active",e.isActive);const r=t.toString();return Ze.get(`/admin/program-sections${r?"?"+r:""}`)},createProgramSection:async e=>{const t=At.getCurrentUser();return Ze.post(`/admin/program-sections?current_user_id=${t?.id}`,{section_name:e.sectionName,program_id:e.programId,year_level:e.yearLevel,semester:e.semester,school_year:e.schoolYear})},updateProgramSection:async(e,t)=>{const r=At.getCurrentUser(),n={};return t.sectionName!==void 0&&(n.section_name=t.sectionName),t.programId!==void 0&&(n.program_id=t.programId),t.yearLevel!==void 0&&(n.year_level=t.yearLevel),t.semester!==void 0&&(n.semester=t.semester),t.schoolYear!==void 0&&(n.school_year=t.schoolYear),t.isActive!==void 0&&(n.is_active=t.isActive),Ze.put(`/admin/program-sections/${e}?current_user_id=${r?.id}`,n)},deleteProgramSection:async e=>{const t=At.getCurrentUser();return Ze.delete(`/admin/program-sections/${e}?current_user_id=${t?.id}`)},getProgramSectionStudents:async e=>Ze.get(`/admin/program-sections/${e}/students`),getStudentsForAssignment:async(e={})=>{const t=new URLSearchParams;e.programId&&t.append("program_id",e.programId),e.yearLevel&&t.append("year_level",e.yearLevel),e.search&&t.append("search",e.search),e.excludeSectionId&&t.append("exclude_section_id",e.excludeSectionId);const r=t.toString();return Ze.get(`/admin/students-for-assignment${r?"?"+r:""}`)},assignStudentsToSection:async(e,t)=>{const r=At.getCurrentUser();return Ze.post(`/admin/program-sections/${e}/assign-students?current_user_id=${r?.id}`,{student_ids:t})},removeStudentFromSection:async(e,t)=>{const r=At.getCurrentUser();return Ze.delete(`/admin/program-sections/${e}/students/${t}?current_user_id=${r?.id}`)},getAdvancementEligibility:async()=>Ze.get("/student-management/advancement/eligibility"),advanceStudents:async(e={})=>Ze.post("/student-management/advancement/advance-students",{program_id:e.program_id,current_year_level:e.current_year_level,dry_run:e.dry_run!==void 0?e.dry_run:!0}),transitionEnrollments:async e=>Ze.post("/student-management/advancement/transition-enrollments",{from_period_id:e.from_period_id,to_period_id:e.to_period_id,auto_advance_year:e.auto_advance_year||!1,dry_run:e.dry_run!==void 0?e.dry_run:!0}),getStudentsByYearLevel:async(e={})=>{const t=new URLSearchParams;e.year_level&&t.append("year_level",e.year_level),e.program_id&&t.append("program_id",e.program_id);const r=t.toString();return Ze.get(`/student-management/advancement/students-by-year${r?"?"+r:""}`)},getAdvancementSnapshots:async(e=10)=>Ze.get(`/student-management/advancement/snapshots?limit=${e}`),rollbackAdvancement:async(e={})=>Ze.post("/student-management/advancement/rollback",{snapshot_id:e.snapshot_id||null,dry_run:e.dry_run!==void 0?e.dry_run:!0}),createAdvancementSnapshot:async(e="Manual snapshot")=>Ze.post(`/student-management/advancement/create-snapshot?description=${encodeURIComponent(e)}`),enrollProgramSectionToClass:async(e,t)=>{const r=At.getCurrentUser();return Ze.post(`/admin/sections/${e}/enroll-program-section?current_user_id=${r?.id}`,{program_section_id:t})}},kh={getCourses:async e=>Ze.get(`/student/${e}/courses`),submitEvaluation:async e=>Ze.post("/student/evaluations",e),getEvaluations:async e=>Ze.get(`/student/${e}/evaluations`),getEvaluationHistory:async(e,t=null)=>{const r=t?`/student/${e}/evaluation-history?period_id=${t}`:`/student/${e}/evaluation-history`;return Ze.get(r)},getCourseDetails:async e=>Ze.get(`/student/courses/${e}`),getEvaluationForEdit:async e=>Ze.get(`/student/evaluations/${e}`),updateEvaluation:async(e,t)=>Ze.put(`/student/evaluations/${e}`,t)},Xr={getDashboard:async()=>{const e=At.getCurrentUser();return Ze.get(`/dept-head/dashboard?department=${e?.department}`)},getEvaluations:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,page:e.page||1,page_size:e.page_size||15,...e});return Ze.get(`/dept-head/evaluations?${r.toString()}`)},getSentimentAnalysis:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return Ze.get(`/dept-head/sentiment-analysis?${r.toString()}`)},getCourses:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return Ze.get(`/dept-head/courses?${r.toString()}`)},getCourseReport:async(e,t={})=>{const r=At.getCurrentUser(),n=new URLSearchParams({user_id:r?.id,...t});return Ze.get(`/dept-head/courses/${e}/report?${n.toString()}`)},getInstructors:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return Ze.get(`/dept-head/instructors?${r.toString()}`)},getAnomalies:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return Ze.get(`/dept-head/anomalies?${r.toString()}`)},getTrends:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return Ze.get(`/dept-head/trends?${r.toString()}`)},getQuestions:async()=>Promise.resolve({success:!0,data:{questionSets:[{id:1,category:"Teaching Effectiveness",questions:[{id:1,text:"The instructor demonstrates mastery of the subject matter",type:"rating"},{id:2,text:"The instructor presents the material in an organized manner",type:"rating"},{id:3,text:"The instructor encourages student participation",type:"rating"}]},{id:2,category:"Course Content",questions:[{id:4,text:"The course content is relevant and up-to-date",type:"rating"},{id:5,text:"The learning materials are helpful",type:"rating"}]},{id:3,category:"Feedback",questions:[{id:6,text:"Additional comments or suggestions",type:"text"}]}]}}),getPrograms:async()=>{const e=At.getCurrentUser();return Ze.get(`/dept-head/programs?user_id=${e?.id}`)},getYearLevels:async()=>{const e=At.getCurrentUser();return Ze.get(`/dept-head/year-levels?user_id=${e?.id}`)},getNonRespondents:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id});return e.evaluation_period_id&&r.append("evaluation_period_id",e.evaluation_period_id),e.program_id&&r.append("program_id",e.program_id),e.year_level&&r.append("year_level",e.year_level),Ze.get(`/dept-head/non-respondents?${r.toString()}`)},getCategoryAverages:async(e,t,r=null)=>{const n=r?`/dept-head/courses/${e}/category-averages?user_id=${t}&period_id=${r}`:`/dept-head/courses/${e}/category-averages?user_id=${t}`;return Ze.get(n)},getQuestionDistribution:async(e,t,r=null)=>{const n=r?`/dept-head/courses/${e}/question-distribution?user_id=${t}&period_id=${r}`:`/dept-head/courses/${e}/question-distribution?user_id=${t}`;return Ze.get(n)},getCompletionRates:async(e=null)=>{const t=At.getCurrentUser(),r=e?`/dept-head/completion-rates?user_id=${t?.id}&period_id=${e}`:`/dept-head/completion-rates?user_id=${t?.id}`;return Ze.get(r)},getProgramSections:async(e={})=>{const t=new URLSearchParams;e.program_id&&t.append("program_id",e.program_id),e.year_level&&t.append("year_level",e.year_level),e.semester&&t.append("semester",e.semester),e.is_active!==void 0&&t.append("is_active",e.is_active);const r=t.toString();return Ze.get(`/admin/program-sections${r?"?"+r:""}`)},submitSupportRequest:async e=>{const t=At.getCurrentUser();return Ze.post(`/dept-head/support-request?user_id=${t?.id}`,e)},getMLAnalysis:async e=>{const t=At.getCurrentUser();return Ze.get(`/dept-head/ml-analysis/${e}?user_id=${t?.id}`)},getMLInsightsSummary:async(e=null)=>{const t=At.getCurrentUser(),r=e?`/dept-head/ml-insights-summary?user_id=${t?.id}&period_id=${e}`:`/dept-head/ml-insights-summary?user_id=${t?.id}`;return Ze.get(r)},getEvaluationPeriods:async()=>Ze.get("/admin/evaluation-periods")},Yr={getDashboard:async()=>{const e=At.getCurrentUser();return Ze.get(`/secretary/dashboard?user_id=${e?.id}`)},getCourses:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return Ze.get(`/secretary/courses?${r.toString()}`)},createCourse:async e=>{const t=At.getCurrentUser();return Ze.post(`/secretary/courses?user_id=${t?.id}`,e)},updateCourse:async(e,t)=>{const r=At.getCurrentUser();return Ze.put(`/secretary/courses/${e}?user_id=${r?.id}`,t)},deleteCourse:async e=>{const t=At.getCurrentUser();return Ze.delete(`/secretary/courses/${e}?user_id=${t?.id}`)},getCourseSections:async e=>{const t=At.getCurrentUser();return Ze.get(`/secretary/courses/${e}/sections?user_id=${t?.id}`)},createSection:async e=>{const t=At.getCurrentUser();return Ze.post(`/secretary/sections?user_id=${t?.id}`,e)},assignInstructor:async(e,t)=>{const r=At.getCurrentUser();return Ze.put(`/secretary/sections/${e}/assign-instructor?user_id=${r?.id}`,{instructor_id:t})},getPrograms:async()=>{const e=At.getCurrentUser();return Ze.get(`/secretary/programs?user_id=${e?.id}`)},getYearLevels:async()=>{const e=At.getCurrentUser();return Ze.get(`/secretary/year-levels?user_id=${e?.id}`)},getEvaluationPeriods:async()=>Ze.get("/admin/evaluation-periods"),getNonRespondents:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id});return e.evaluation_period_id&&r.append("evaluation_period_id",e.evaluation_period_id),e.year_level&&r.append("year_level",e.year_level),Ze.get(`/secretary/non-respondents?${r.toString()}`)},getEvaluationsSummary:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return Ze.get(`/secretary/reports/evaluations-summary?${r.toString()}`)},getEvaluations:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,page:e.page||1,page_size:e.page_size||15,...e});return Ze.get(`/secretary/evaluations?${r.toString()}`)},getSentimentAnalysis:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return Ze.get(`/secretary/sentiment-analysis?${r.toString()}`)},getAnomalies:async(e={})=>{const t=At.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return Ze.get(`/secretary/anomalies?${r.toString()}`)},getQuestions:async()=>Promise.resolve({success:!0,data:{questionSets:[]}}),getYearLevels:async()=>{const e=At.getCurrentUser();return Ze.get(`/secretary/year-levels?user_id=${e?.id}`)},getCategoryAverages:async(e,t,r=null)=>{const n=r?`/secretary/courses/${e}/category-averages?user_id=${t}&period_id=${r}`:`/secretary/courses/${e}/category-averages?user_id=${t}`;return Ze.get(n)},getQuestionDistribution:async(e,t,r=null)=>{const n=r?`/secretary/courses/${e}/question-distribution?user_id=${t}&period_id=${r}`:`/secretary/courses/${e}/question-distribution?user_id=${t}`;return Ze.get(n)},getCompletionRates:async(e=null)=>{const t=At.getCurrentUser(),r=e?`/secretary/completion-rates?user_id=${t?.id}&period_id=${e}`:`/secretary/completion-rates?user_id=${t?.id}`;return Ze.get(r)},getProgramSections:async(e={})=>{const t=new URLSearchParams;e.program_id&&t.append("program_id",e.program_id),e.year_level&&t.append("year_level",e.year_level),e.semester&&t.append("semester",e.semester),e.is_active!==void 0&&t.append("is_active",e.is_active);const r=t.toString();return Ze.get(`/admin/program-sections${r?"?"+r:""}`)},submitSupportRequest:async e=>{const t=At.getCurrentUser();return Ze.post(`/secretary/support-request?user_id=${t?.id}`,e)},getMLAnalysis:async e=>{const t=At.getCurrentUser();return Ze.get(`/secretary/ml-analysis/${e}?user_id=${t?.id}`)},getMLInsightsSummary:async(e=null)=>{const t=At.getCurrentUser(),r=e?`/secretary/ml-insights-summary?user_id=${t?.id}&period_id=${e}`:`/secretary/ml-insights-summary?user_id=${t?.id}`;return Ze.get(r)}},q8=L.createContext(null);function sT({children:e}){const[t,r]=L.useState(null),[n,s]=L.useState(null),[i,o]=L.useState(!0),l=Qn();L.useEffect(()=>{const p=localStorage.getItem("token"),w=localStorage.getItem("currentUser");p&&w&&(s(p),r(JSON.parse(w))),o(!1)},[]),L.useEffect(()=>{if(n)try{const x=JSON.parse(atob(n.split(".")[1])).exp*1e3-Date.now();if(x<=0){f();return}const y=setTimeout(()=>{f(),alert("Your session has expired. Please log in again.")},x);return()=>clearTimeout(y)}catch(p){console.error("Error checking token expiry:",p)}},[n]);const u=(p,w)=>{localStorage.setItem("token",p),localStorage.setItem("currentUser",JSON.stringify(w)),localStorage.setItem("role",w.role),s(p),r(w)},f=()=>{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),localStorage.removeItem("role"),s(null),r(null),l("/login")},v={user:t,token:n,loading:i,login:u,logout:f,isAuthenticated:()=>!!n&&!!t,hasRole:p=>t?Array.isArray(p)?p.includes(t.role):t.role===p:!1};return a.jsx(q8.Provider,{value:v,children:!i&&e})}function ma(){const e=L.useContext(q8);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function iT({children:e}){const t=Xc();Qn();const{user:r,logout:n}=ma(),[s,i]=Te.useState(!1),o=()=>{n()};if(t.pathname==="/"||t.pathname==="/login"||t.pathname==="/forgot"||!r)return e;const l=[{path:"/admin/dashboard",label:"Dashboard",icon:""},{path:"/admin/users",label:"User Management",icon:""},{path:"/admin/enrollment-list",label:"Enrollment List",icon:""},{path:"/admin/student-management",label:"Student Advancement",icon:""},{path:"/admin/periods",label:"Evaluation Periods",icon:""},{path:"/admin/courses",label:"Course Management",icon:""},{path:"/admin/non-respondents",label:"Non-Respondents",icon:""},{path:"/admin/export",label:"Data Export",icon:""},{path:"/admin/audit-logs",label:"Audit Logs",icon:""}],u=[{path:"/dashboard",label:"Dashboard",icon:""},{path:"/sentiment",label:"Sentiment & Anomalies",icon:""},{path:"/courses",label:"Courses",icon:""},{path:"/evaluations",label:"Evaluations",icon:""},{path:"/non-respondents",label:"Non-Respondents",icon:""}],f=[{path:"/student/courses",label:"My Courses",icon:""}],h=()=>un(r)?l:Kd(r)?u:r.role==="student"?f:[],m=()=>un(r)?"/admin/dashboard":Kd(r)?"/dashboard":r.role==="student"?"/student-evaluation":"/dashboard",v=p=>t.pathname===p||t.pathname.startsWith(p+"/");return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-40",children:a.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center flex-shrink-0",children:a.jsx(zu,{to:m(),className:"flex items-center",children:a.jsx("div",{className:"text-base sm:text-lg md:text-xl font-bold text-[#7a0000] truncate max-w-[150px] sm:max-w-none",children:"Course Insight Guardian"})})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-2 xl:space-x-4 flex-1 justify-center mx-4",children:h().map(p=>a.jsxs(zu,{to:p.path,className:`flex items-center px-2 xl:px-3 py-2 rounded-md text-xs xl:text-sm font-medium transition-colors whitespace-nowrap ${v(p.path)?"text-[#7a0000] bg-red-50":"text-gray-600 hover:text-[#7a0000] hover:bg-gray-50"}`,children:[a.jsx("span",{className:"mr-1 xl:mr-2",children:p.icon}),a.jsx("span",{className:"hidden xl:inline",children:p.label}),a.jsx("span",{className:"xl:hidden",children:p.label.split(" ")[0]})]},p.path))}),a.jsxs("div",{className:"hidden md:flex items-center space-x-2 lg:space-x-4 flex-shrink-0",children:[a.jsxs("div",{className:"text-right hidden lg:block",children:[a.jsx("div",{className:"text-xs lg:text-sm font-medium text-gray-800 truncate max-w-[120px] xl:max-w-none",children:r.first_name&&r.last_name?`${r.first_name} ${r.last_name}`:r.name||r.email}),a.jsx("div",{className:"text-xs text-gray-500",children:yb(r)})]}),a.jsx("button",{onClick:o,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 lg:px-4 py-2 rounded-lg text-xs lg:text-sm font-medium transition-colors whitespace-nowrap",children:"Logout"})]}),a.jsxs("button",{onClick:()=>i(!s),className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-[#7a0000] hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-[#7a0000]",children:[a.jsx("span",{className:"sr-only",children:"Open main menu"}),s?a.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):a.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})]})})}),s&&a.jsx("div",{className:"md:hidden bg-white border-b border-gray-200 fixed top-16 left-0 right-0 z-30 shadow-lg max-h-[calc(100vh-4rem)] overflow-y-auto",children:a.jsxs("div",{className:"px-4 py-3 space-y-1",children:[a.jsxs("div",{className:"pb-3 mb-3 border-b border-gray-200",children:[a.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:r.first_name&&r.last_name?`${r.first_name} ${r.last_name}`:r.name||r.email}),a.jsx("div",{className:"text-xs text-gray-500",children:yb(r)})]}),h().map(p=>a.jsxs(zu,{to:p.path,onClick:()=>i(!1),className:`flex items-center px-3 py-3 rounded-md text-sm font-medium transition-colors ${v(p.path)?"text-[#7a0000] bg-red-50":"text-gray-600 hover:text-[#7a0000] hover:bg-gray-50"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:p.icon}),p.label]},p.path)),a.jsx("button",{onClick:()=>{i(!1),o()},className:"w-full mt-3 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-lg text-sm font-medium transition-colors text-left",children:"Logout"})]})}),a.jsx("main",{className:"pt-16 min-h-screen",children:a.jsx("div",{className:"max-w-full",children:e})}),a.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:a.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsx("div",{className:"text-center text-xs sm:text-sm text-gray-500",children:" 2025 Lyceum of the Philippines University - Batangas. All rights reserved."})})})]})}function Ra({children:e,allowedRoles:t}){const{isAuthenticated:r,hasRole:n,loading:s}=ma();return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):r()?t&&!n(t)?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Access Denied"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"You don't have permission to access this page."}),a.jsx("button",{onClick:()=>window.history.back(),className:"mt-4 px-4 py-2 bg-[#7a0000] text-white rounded-lg hover:bg-[#5a0000] transition-colors",children:"Go Back"})]})}):e:a.jsx(m9,{to:"/login",replace:!0})}function oT(){const e=Qn(),{isAuthenticated:t}=ma();return Te.useEffect(()=>{if(t()){const r=JSON.parse(localStorage.getItem("currentUser"));r&&(r.role==="admin"?e("/admin/dashboard"):r.role==="student"?e("/student/courses"):e("/dashboard"))}},[t,e]),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-[#7a0000] text-white p-4",children:a.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Course Insight Guardian"}),a.jsx("p",{className:"text-sm opacity-90",children:"LPUB - College of Computing, Arts, and Sciences"})]}),a.jsx("button",{onClick:()=>e("/login"),className:"bg-white text-[#7a0000] px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Login"})]})}),a.jsx("div",{className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-5xl font-bold text-gray-800 mb-4",children:"Course Insight Guardian"}),a.jsx("p",{className:"text-2xl text-gray-600 mb-8",children:"Advanced Course Evaluation System with AI-Powered Analytics"}),a.jsx("button",{onClick:()=>e("/login"),className:"bg-[#7a0000] text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-[#5a0000] transition-colors shadow-lg",children:"Get Started "})]}),a.jsxs("div",{className:"space-y-6 mb-12",children:[a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-2xl font-semibold text-[#7a0000] mb-3",children:" SVM Sentiment Analysis"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Advanced sentiment analysis using Support Vector Machine algorithms to understand student feedback and evaluate course satisfaction levels automatically."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-2xl font-semibold text-[#7a0000] mb-3",children:" DBSCAN Anomaly Detection"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Density-based clustering algorithm to identify unusual patterns in evaluation data, helping detect potential issues in course delivery and student satisfaction."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-2xl font-semibold text-[#7a0000] mb-3",children:" Real-time Analytics"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Comprehensive dashboards and reporting tools for administrators and department heads to monitor course performance and student feedback trends."})]})]}),a.jsxs("div",{className:"bg-[#7a0000] text-white p-8 rounded-lg shadow-lg",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Access Levels"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:" Students"}),a.jsx("p",{className:"text-sm opacity-90",children:"Course evaluation interface and feedback submission"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:" Staff"}),a.jsx("p",{className:"text-sm opacity-90",children:"Department analytics, reports, and insights"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:" Administrators"}),a.jsx("p",{className:"text-sm opacity-90",children:"System-wide access and controls"})]})]})]}),a.jsxs("div",{className:"text-center mt-12 p-8 bg-white rounded-lg shadow-md",children:[a.jsx("h4",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Lyceum of the Philippines University - Batangas"}),a.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"College of Computing, Arts, and Sciences"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Empowering education through technology and innovation"})]})]})}),a.jsx("footer",{className:"bg-gray-800 text-white text-center py-6 mt-12",children:a.jsx("p",{className:"text-sm",children:" 2025 Lyceum of the Philippines University - Batangas. All rights reserved."})})]})}function lT({user:e,onSuccess:t,onCancel:r}){const[n,s]=L.useState(""),[i,o]=L.useState(""),[l,u]=L.useState(""),[f,h]=L.useState(""),[m,v]=L.useState(!1),[p,w]=L.useState(!1),[x,y]=L.useState(!1),[j,A]=L.useState(!1),N=C=>C.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(C)?/[a-z]/.test(C)?/[0-9]/.test(C)?/[!@#$%^&*(),.?":{}|<>]/.test(C)?null:"Password must contain at least one special character":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",k=async C=>{if(C.preventDefault(),h(""),!n||!i||!l){h("All fields are required");return}if(i!==l){h("New passwords do not match");return}if(n===i){h("New password must be different from current password");return}const T=N(i);if(T){h(T);return}v(!0);try{const F=await At.changePassword(e.id,n,i);F.success?t():h(F.message||"Password change failed")}catch(F){console.error("Password change error:",F),h(F.message||"Failed to change password. Please try again.")}finally{v(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#a31111] px-6 py-5",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white text-xl font-bold",children:"Change Password Required"}),a.jsx("p",{className:"text-[#ffd700] text-sm",children:"First-time login - Please set a new password"})]})]})}),a.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("p",{className:"font-semibold mb-1",children:"Welcome to Course Insight Guardian!"}),a.jsx("p",{children:"For security reasons, you must change your temporary password before accessing the system."})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password (Temporary)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:p?"text":"password",className:"w-full px-4 py-2.5 rounded-lg border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all",placeholder:"Enter your temporary password",value:n,onChange:C=>s(C.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>w(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x?"text":"password",className:"w-full px-4 py-2.5 rounded-lg border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all",placeholder:"Enter your new password",value:i,onChange:C=>o(C.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:j?"text":"password",className:"w-full px-4 py-2.5 rounded-lg border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all",placeholder:"Re-enter your new password",value:l,onChange:C=>u(C.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>A(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j?a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Password Requirements:"}),a.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:i.length>=8?"text-green-500":"text-gray-400",children:""}),a.jsx("span",{children:"At least 8 characters"})]}),a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:/[A-Z]/.test(i)?"text-green-500":"text-gray-400",children:""}),a.jsx("span",{children:"One uppercase letter"})]}),a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:/[a-z]/.test(i)?"text-green-500":"text-gray-400",children:""}),a.jsx("span",{children:"One lowercase letter"})]}),a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:/[0-9]/.test(i)?"text-green-500":"text-gray-400",children:""}),a.jsx("span",{children:"One number"})]}),a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:/[!@#$%^&*(),.?":{}|<>]/.test(i)?"text-green-500":"text-gray-400",children:""}),a.jsx("span",{children:"One special character"})]})]})]}),f&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-sm",children:f})]}),a.jsx("div",{className:"flex space-x-3 pt-2",children:a.jsx("button",{type:"submit",disabled:m,className:"flex-1 bg-gradient-to-r from-[#7a0000] to-[#a31111] text-white py-3 rounded-lg font-semibold hover:from-[#6a0000] hover:to-[#931010] transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:m?a.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Changing..."})]}):"Change Password"})}),a.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"You must change your password to continue"})]})]})})}function cT(){const[e,t]=L.useState(""),[r,n]=L.useState(""),[s,i]=L.useState(""),[o,l]=L.useState(!1),[u,f]=L.useState(!1),[h,m]=L.useState(null),[v,p]=L.useState(null),[w,x]=L.useState(!1),y=Qn(),{login:j}=ma(),A=()=>{if(h&&v){const k={...h,mustChangePassword:!1};j(v,k);const C=k.role.toLowerCase();C==="admin"?y("/admin/dashboard"):C==="student"?y("/student/courses"):C==="secretary"||C==="department_head"||C==="instructor"?y("/dashboard"):i("Unknown role. Please contact administrator.")}f(!1),m(null),p(null)};async function N(){i(""),l(!0);const k=e.toLowerCase();if(k.endsWith("@lpu.edu.in")){i("Access denied. Use your registered LPU email."),l(!1);return}try{const C=await At.login(k,r);if(C.success&&C.token&&C.user){if(C.user.firstLogin){y("/first-time-login",{state:{user:C.user,tempPassword:r}}),l(!1);return}if(C.user.mustChangePassword){m(C.user),p(C.token),f(!0),l(!1);return}j(C.token,C.user);const T=C.user.role.toLowerCase();T==="admin"?y("/admin/dashboard"):T==="student"?y("/student/courses"):T==="secretary"||T==="department_head"?y("/dashboard"):i("Unknown role. Please contact administrator.")}else i(C.message||"Invalid email or password")}catch(C){console.error("Login error:",C),i(C.message||"Login failed. Please check your connection and try again.")}finally{l(!1)}}return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center relative overflow-hidden p-6 sm:p-8",style:{backgroundImage:"url('/Back.png')",backgroundSize:"cover",backgroundPosition:"center"},children:[a.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/60 via-[#7a0000]/40 to-black/60 z-10"}),a.jsx("div",{className:"fixed inset-0 opacity-10 z-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffd700' fill-opacity='0.3'%3E%3Cpath d='M30 30c0-16.569 13.431-30 30-30v60c-16.569 0-30-13.431-30-30z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"relative w-full max-w-md z-20",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-white text-2xl lg:text-3xl font-bold mb-3 tracking-tight",children:"Course Insight Guardian"}),a.jsx("p",{className:"text-[#ffd700] text-sm lg:text-base font-medium",children:"Academic Excellence Through Feedback"})]}),a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-card shadow-card border border-white/20 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#a31111] px-8 lg:px-10 py-6 lg:py-8",children:[a.jsx("h2",{className:"text-white text-xl lg:text-2xl font-bold text-center",children:"Welcome Back"}),a.jsx("p",{className:"text-[#ffd700] text-sm lg:text-base text-center mt-2",children:"Sign in to access your dashboard"})]}),a.jsx("div",{className:"p-8 lg:p-10",children:a.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm lg:text-base font-semibold text-[#1e293b] mb-3",children:"LPU Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{className:"w-full px-4 py-3 text-base rounded-input border-2 border-gray-200 bg-white focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all duration-250 placeholder-gray-400",placeholder:"your.email@lpubatangas.edu.ph",value:e,onChange:k=>t(k.target.value),onKeyPress:k=>k.key==="Enter"&&N()}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm lg:text-base font-semibold text-[#1e293b] mb-3",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:w?"text":"password",className:"w-full px-4 py-3 pr-12 text-base rounded-input border-2 border-gray-200 bg-white focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all duration-250 placeholder-gray-400",placeholder:"Enter your password",value:r,onChange:k=>n(k.target.value),onKeyPress:k=>k.key==="Enter"&&N()}),a.jsx("button",{type:"button",onClick:()=>x(!w),className:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-gray-600 focus:outline-none",tabIndex:-1,children:w?a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-input flex items-start space-x-3",children:[a.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-sm font-medium break-words",children:s})]}),a.jsx("button",{className:"w-full bg-gradient-to-r from-[#7a0000] to-[#a31111] hover:from-[#5a0000] hover:to-[#7a0000] text-white font-semibold py-3 px-5 rounded-button transition-all duration-250 hover:shadow-card-hover focus:outline-none focus:ring-2 focus:ring-[#7a0000]/50 disabled:opacity-50 disabled:cursor-not-allowed text-base",onClick:N,disabled:o,children:a.jsx("span",{className:"flex items-center justify-center space-x-2",children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 sm:h-5 sm:w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Signing In..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Sign In to Dashboard"}),a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})]})})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between pt-6 border-t border-gray-200 gap-4",children:[a.jsx(zu,{to:"/forgot",className:"text-[#7a0000] hover:text-[#a31111] text-sm font-medium transition-colors duration-250",children:"Forgot Password?"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-[#7a0000] rounded-full"}),a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Secure Login"})]})]})]})}),a.jsx("div",{className:"bg-gray-50 px-8 lg:px-10 py-5 lg:py-6 border-t border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Lyceum of the Philippines University - Batangas"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Empowering Academic Excellence Through Technology"})]})})]})]}),u&&h&&a.jsx(lT,{user:h,onSuccess:A,onCancel:null})]})}function uT(){const[e,t]=L.useState(""),[r,n]=L.useState(""),[s,i]=L.useState(!1),[o,l]=L.useState(""),u=Qn(),f=/^[^@]+@(lpubatangas\.edu\.ph)$/i;async function h(m){if(m.preventDefault(),n(""),l(""),e.toLowerCase().endsWith("@lpu.edu.in")){l("Access denied. Use your registered LPU email.");return}if(!f.test(e)){l("Please use your LPU Batangas email address.");return}i(!0);try{const v=await At.forgotPassword(e);v.success?n("A password reset link has been sent to your email."):l(v.message||"Failed to send reset link. Please try again.")}catch(v){console.error("Forgot password error:",v),l(v.message||"An error occurred. Please try again.")}finally{i(!1)}}return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Forgot Password"}),a.jsxs("form",{onSubmit:h,children:[a.jsx("label",{className:"block mb-2 text-gray-700 font-medium",children:"Enter your email"}),a.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all",placeholder:"your.email@lpubatangas.edu.ph",value:e,onChange:m=>t(m.target.value),disabled:r==="success"}),r&&a.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 p-3 rounded-lg mb-3",children:r}),o&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-lg mb-3",children:o}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"submit",className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-3 rounded-lg font-semibold transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 flex-1",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"}),a.jsx("button",{type:"button",className:"px-6 py-3 rounded-lg border border-gray-300 hover:bg-gray-50 transition duration-200 font-medium",onClick:()=>u("/login"),disabled:s,children:"Back"})]})]})]})})}function dT(){const[e]=A9(),[t,r]=L.useState(""),[n,s]=L.useState(""),[i,o]=L.useState(""),[l,u]=L.useState(""),[f,h]=L.useState(!1),[m,v]=L.useState(""),[p,w]=L.useState(!1),[x,y]=L.useState(!1),j=Qn();L.useEffect(()=>{const C=e.get("token");C?v(C):u("Invalid or missing reset token")},[e]);const A={minLength:t.length>=8,hasUpper:/[A-Z]/.test(t),hasLower:/[a-z]/.test(t),hasNumber:/\d/.test(t),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(t)},N=Object.values(A).every(Boolean),k=async C=>{if(C.preventDefault(),o(""),u(""),!t||!n){u("Please fill in all fields");return}if(!N){u("Password does not meet all requirements");return}if(t!==n){u("Passwords do not match");return}if(!m){u("Invalid reset token");return}h(!0);try{const T=await At.resetPassword(m,t);T.success?(o("Password reset successful! Redirecting to login..."),setTimeout(()=>{j("/login")},2e3)):u(T.message||"Failed to reset password. Please try again.")}catch(T){console.error("Reset password error:",T),u(T.message||"An error occurred. The reset link may have expired.")}finally{h(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center p-6 sm:p-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 lg:p-10",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-6 text-gray-800",children:"Reset Password"}),m?a.jsxs("form",{onSubmit:k,children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block mb-3 text-gray-700 font-semibold text-base",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:p?"text":"password",className:"w-full px-4 py-3 pr-12 rounded-input border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all duration-250",placeholder:"Enter new password",value:t,onChange:C=>r(C.target.value),disabled:f||i}),a.jsx("button",{type:"button",onClick:()=>w(!p),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:p?a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),t&&a.jsxs("div",{className:"mt-4 space-y-3 bg-gray-50 p-5 rounded-input",children:[a.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3",children:"Password Requirements:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.minLength?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.minLength&&a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:`text-sm ${A.minLength?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 8 characters"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.hasUpper?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.hasUpper&&a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:`text-sm ${A.hasUpper?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 1 uppercase letter (A-Z)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.hasLower?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.hasLower&&a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:`text-sm ${A.hasLower?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 1 lowercase letter (a-z)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.hasNumber?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.hasNumber&&a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:`text-sm ${A.hasNumber?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 1 number (0-9)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.hasSpecial?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.hasSpecial&&a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:`text-sm ${A.hasSpecial?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 1 special character (!@#$%^&*)"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block mb-3 text-gray-700 font-semibold text-base",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x?"text":"password",className:"w-full px-4 py-3 pr-12 rounded-input border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all duration-250",placeholder:"Confirm new password",value:n,onChange:C=>s(C.target.value),disabled:f||i}),a.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:x?a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),n&&t!==n&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Passwords do not match"}),n&&t===n&&t.length>=8&&a.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center gap-1",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Passwords match"]})]}),i&&a.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 p-4 rounded-input mb-6",children:i}),l&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-5 rounded-input mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("svg",{className:"w-5 h-5 text-red-500 mr-4 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-800 font-semibold",children:l}),(l.includes("expired")||l.includes("Invalid"))&&a.jsxs("p",{className:"text-xs text-red-700 mt-3",children:["Reset links expire after 1 hour. ",a.jsx("a",{href:"/forgot",className:"font-bold hover:underline",children:"Request a new link"})]})]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-5 py-3 rounded-button font-semibold transition-all duration-250 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 flex-1",disabled:f||i||!m,children:f?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset Password"}),a.jsx("button",{type:"button",className:"px-5 py-3 rounded-button border border-gray-300 hover:bg-gray-50 transition-all duration-250 font-semibold",onClick:()=>j("/login"),disabled:f,children:"Back to Login"})]})]}):a.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-input",children:[a.jsxs("div",{className:"flex items-start mb-6",children:[a.jsx("svg",{className:"w-6 h-6 text-red-500 mr-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-red-800 mb-3",children:"Invalid or Missing Reset Token"}),a.jsx("p",{className:"text-sm text-red-700 mb-4",children:"The password reset link is invalid or has expired."})]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-input border border-red-200",children:[a.jsx("p",{className:"text-sm font-bold text-gray-800 mb-3",children:"What to do:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-sm text-gray-700",children:[a.jsxs("li",{children:["Go back to the ",a.jsx("a",{href:"/forgot",className:"text-[#7a0000] font-medium hover:underline",children:"Forgot Password"})," page"]}),a.jsx("li",{children:"Enter your LPU email address"}),a.jsx("li",{children:'Click "Request Password Reset"'}),a.jsx("li",{children:"Check your email for a new reset link"}),a.jsx("li",{children:"Use the link within 1 hour (links expire after 1 hour)"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>j("/forgot"),className:"w-full bg-[#7a0000] hover:bg-[#8f0000] text-white px-5 py-3 rounded-button font-semibold transition-all duration-250",children:"Request New Reset Link"})})]})]})})})}function fT(){const e=Qn(),t=Xc(),[r,n]=L.useState({newPassword:"",confirmPassword:""}),[s,i]=L.useState(!1),[o,l]=L.useState(""),[u,f]=L.useState({score:0,message:"",color:""}),[h,m]=L.useState(!1),v=t.state?.user,p=t.state?.tempPassword;L.useEffect(()=>{(!v||!p)&&e("/login")},[v,p,e]);const w=y=>{if(!y)return{score:0,message:"",color:""};let j=0,A="",N="";return y.length>=8&&j++,y.length>=12&&j++,/[a-z]/.test(y)&&j++,/[A-Z]/.test(y)&&j++,/[0-9]/.test(y)&&j++,/[^a-zA-Z0-9]/.test(y)&&j++,j<=2?(A="Weak - Add more variety",N="text-red-600"):j<=4?(A="Medium - Good, but could be stronger",N="text-yellow-600"):(A="Strong - Excellent password!",N="text-green-600"),{score:j,message:A,color:N}};L.useEffect(()=>{f(w(r.newPassword))},[r.newPassword]);const x=async y=>{if(y.preventDefault(),l(""),r.newPassword.length<8){l("Password must be at least 8 characters long");return}if(!/[A-Z]/.test(r.newPassword)){l("Password must contain at least one uppercase letter");return}if(!/[a-z]/.test(r.newPassword)){l("Password must contain at least one lowercase letter");return}if(!/[0-9]/.test(r.newPassword)){l("Password must contain at least one number");return}if(!/[^a-zA-Z0-9]/.test(r.newPassword)){l("Password must contain at least one special character");return}if(r.newPassword!==r.confirmPassword){l("Passwords do not match");return}if(r.newPassword===p){l("New password cannot be the same as your temporary password");return}try{i(!0),await At.changePassword(v.id,p,r.newPassword);const j={...v,first_login:!1};localStorage.setItem("currentUser",JSON.stringify(j)),alert(" Password changed successfully! Redirecting to your dashboard...");const N={admin:"/admin/dashboard",system_admin:"/admin/dashboard",department_head:"/dashboard",secretary:"/dashboard",student:"/student/courses"}[v.role]||"/dashboard";e(N,{replace:!0})}catch(j){console.error("Password change error:",j),l(j.message||"Failed to change password. Please try again.")}finally{i(!1)}};return v?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center p-6 sm:p-8",style:{backgroundImage:"linear-gradient(135deg, rgba(122, 0, 0, 0.95) 0%, rgba(160, 0, 0, 0.95) 100%)"},children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 lg:p-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-gradient-to-br from-[#7a0000] to-[#a00000] rounded-full flex items-center justify-center mx-auto mb-6 shadow-crimson",children:a.jsx("svg",{className:"w-10 h-10 lg:w-12 lg:h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"First Time Login"}),a.jsxs("p",{className:"text-lg text-gray-600 font-medium",children:["Welcome, ",v.first_name,"!"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Please change your temporary password to secure your account"})]}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-5 mb-8 rounded-input",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500 mr-4 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Account Security"}),a.jsx("p",{className:"text-xs text-blue-800 mt-2",children:"For your security, you must change your temporary password before accessing the system."})]})]})}),a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-5 rounded-input",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 text-red-500 mr-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"text-sm text-red-800 font-medium",children:o})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-bold text-gray-700 mb-3",children:"New Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:h?"text":"password",required:!0,value:r.newPassword,onChange:y=>n({...r,newPassword:y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-input focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000] transition-all duration-250",placeholder:"Enter your new password"}),a.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),r.newPassword&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Password Strength:"}),a.jsx("span",{className:`font-bold ${u.color}`,children:u.message})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full transition-all duration-300 ${u.score<=2?"bg-red-500":u.score<=4?"bg-yellow-500":"bg-green-500"}`,style:{width:`${u.score/6*100}%`}})})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Password must be at least 8 characters and include a mix of letters, numbers, and symbols"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-base font-bold text-gray-700 mb-3",children:"Confirm New Password *"}),a.jsx("input",{type:h?"text":"password",required:!0,value:r.confirmPassword,onChange:y=>n({...r,confirmPassword:y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-input focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000] transition-all duration-250",placeholder:"Confirm your new password"}),r.confirmPassword&&r.newPassword!==r.confirmPassword&&a.jsx("p",{className:"text-sm text-red-600 mt-2 font-medium",children:"Passwords do not match"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-input p-5",children:[a.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3",children:"Password Requirements:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:`w-5 h-5 mr-3 ${r.newPassword.length>=8?"text-green-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"At least 8 characters long"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:`w-5 h-5 mr-3 ${/[a-z]/.test(r.newPassword)&&/[A-Z]/.test(r.newPassword)?"text-green-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Mix of uppercase and lowercase letters"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:`w-5 h-5 mr-3 ${/[0-9]/.test(r.newPassword)?"text-green-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"At least one number"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:`w-5 h-5 mr-3 ${/[^a-zA-Z0-9]/.test(r.newPassword)?"text-green-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"At least one special character (@, #, $, etc.)"]})]})]}),a.jsx("button",{type:"submit",disabled:s||r.newPassword!==r.confirmPassword||r.newPassword.length<8,className:"w-full bg-gradient-to-r from-[#7a0000] to-[#a00000] hover:from-[#8f0000] hover:to-[#b00000] disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white font-bold py-3 px-5 rounded-button transition-all duration-250 shadow-card hover:shadow-card-hover",children:s?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing Password..."]}):"Change Password & Continue"})]}),a.jsx("div",{className:"mt-8 p-5 bg-yellow-50 border-l-4 border-yellow-400 rounded-input",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("svg",{className:"w-5 h-5 text-yellow-600 mr-4 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-yellow-900",children:"Security Tip"}),a.jsx("p",{className:"text-xs text-yellow-800 mt-2",children:"Never share your password with anyone. LPU staff will never ask for your password."})]})]})})]})})}):null}function tN(){return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-8",children:a.jsx("h1",{className:"text-9xl font-bold text-gray-300",children:"404"})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Sorry, the page you are looking for doesn't exist or has been moved."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(zu,{to:"/",className:"inline-block bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-3 rounded-lg font-semibold transition duration-200",children:"Go to Home"})}),a.jsxs("div",{className:"text-sm text-gray-500",children:[a.jsx("p",{children:"Or try one of these links:"}),a.jsxs("div",{className:"mt-2 space-x-4",children:[a.jsx(zu,{to:"/dashboard",className:"text-[#7a0000] hover:text-[#8f0000] underline",children:"Dashboard"}),a.jsx(zu,{to:"/student-evaluation",className:"text-[#7a0000] hover:text-[#8f0000] underline",children:"Student Evaluation"})]})]})]}),a.jsx("div",{className:"mt-12 text-xs text-gray-400",children:a.jsx("p",{children:"Course Insight Guardian - LPUB College of Computing, Arts, and Sciences"})})]})})}var Tv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var rN;function hT(){return rN||(rN=1,(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=s(i,n(l)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)t.call(i,l)&&i[l]&&(o=s(o,l));return o}function s(i,o){return o?i?i+" "+o:i+o:i}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Tv)),Tv.exports}var mT=hT();const _n=Qr(mT);var Mv,nN;function Jc(){if(nN)return Mv;nN=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Mv=e,Mv}var pT=Jc();const kf=Qr(pT);var Iv,aN;function z8(){if(aN)return Iv;aN=1;var e=typeof dm=="object"&&dm&&dm.Object===Object&&dm;return Iv=e,Iv}var Dv,sN;function ol(){if(sN)return Dv;sN=1;var e=z8(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Dv=r,Dv}var Fv,iN;function v0(){if(iN)return Fv;iN=1;var e=ol(),t=e.Symbol;return Fv=t,Fv}var $v,oN;function gT(){if(oN)return $v;oN=1;var e=v0(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),u=o[s];try{o[s]=void 0;var f=!0}catch{}var h=n.call(o);return f&&(l?o[s]=u:delete o[s]),h}return $v=i,$v}var Bv,lN;function vT(){if(lN)return Bv;lN=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Bv=r,Bv}var Uv,cN;function ac(){if(cN)return Uv;cN=1;var e=v0(),t=gT(),r=vT(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?t(l):r(l)}return Uv=o,Uv}var qv,uN;function h5(){if(uN)return qv;uN=1;var e=ac(),t=Jc(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var u=e(l);return u==n||u==s||u==r||u==i}return qv=o,qv}var xT=h5();const ur=Qr(xT);var zv,dN;function Ws(){if(dN)return zv;dN=1;var e=Array.isArray;return zv=e,zv}var Wv,fN;function sc(){if(fN)return Wv;fN=1;function e(t){return t!=null&&typeof t=="object"}return Wv=e,Wv}var Hv,hN;function yT(){if(hN)return Hv;hN=1;var e=ac(),t=Ws(),r=sc(),n="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return Hv=s,Hv}var bT=yT();const x0=Qr(bT);var Vv,mN;function Af(){if(mN)return Vv;mN=1;var e=ac(),t=sc(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Vv=n,Vv}var Yv,pN;function m5(){if(pN)return Yv;pN=1;var e=Ws(),t=Af(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Yv=s,Yv}var Gv,gN;function wT(){if(gN)return Gv;gN=1;var e=ol(),t=e["__core-js_shared__"];return Gv=t,Gv}var Kv,vN;function jT(){if(vN)return Kv;vN=1;var e=wT(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Kv=r,Kv}var Xv,xN;function W8(){if(xN)return Xv;xN=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Xv=r,Xv}var Jv,yN;function NT(){if(yN)return Jv;yN=1;var e=h5(),t=jT(),r=Jc(),n=W8(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,f=l.hasOwnProperty,h=RegExp("^"+u.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||t(v))return!1;var p=e(v)?h:i;return p.test(n(v))}return Jv=m,Jv}var Qv,bN;function ST(){if(bN)return Qv;bN=1;function e(t,r){return t?.[r]}return Qv=e,Qv}var Zv,wN;function td(){if(wN)return Zv;wN=1;var e=NT(),t=ST();function r(n,s){var i=t(n,s);return e(i)?i:void 0}return Zv=r,Zv}var ex,jN;function rg(){if(jN)return ex;jN=1;var e=td(),t=e(Object,"create");return ex=t,ex}var tx,NN;function _T(){if(NN)return tx;NN=1;var e=rg();function t(){this.__data__=e?e(null):{},this.size=0}return tx=t,tx}var rx,SN;function kT(){if(SN)return rx;SN=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return rx=e,rx}var nx,_N;function AT(){if(_N)return nx;_N=1;var e=rg(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return nx=s,nx}var ax,kN;function CT(){if(kN)return ax;kN=1;var e=rg(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return ax=n,ax}var sx,AN;function PT(){if(AN)return sx;AN=1;var e=rg(),t="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?t:s,this}return sx=r,sx}var ix,CN;function ET(){if(CN)return ix;CN=1;var e=_T(),t=kT(),r=AT(),n=CT(),s=PT();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,ix=i,ix}var ox,PN;function LT(){if(PN)return ox;PN=1;function e(){this.__data__=[],this.size=0}return ox=e,ox}var lx,EN;function p5(){if(EN)return lx;EN=1;function e(t,r){return t===r||t!==t&&r!==r}return lx=e,lx}var cx,LN;function ng(){if(LN)return cx;LN=1;var e=p5();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return cx=t,cx}var ux,ON;function OT(){if(ON)return ux;ON=1;var e=ng(),t=Array.prototype,r=t.splice;function n(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return ux=n,ux}var dx,RN;function RT(){if(RN)return dx;RN=1;var e=ng();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return dx=t,dx}var fx,TN;function TT(){if(TN)return fx;TN=1;var e=ng();function t(r){return e(this.__data__,r)>-1}return fx=t,fx}var hx,MN;function MT(){if(MN)return hx;MN=1;var e=ng();function t(r,n){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return hx=t,hx}var mx,IN;function ag(){if(IN)return mx;IN=1;var e=LT(),t=OT(),r=RT(),n=TT(),s=MT();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,mx=i,mx}var px,DN;function g5(){if(DN)return px;DN=1;var e=td(),t=ol(),r=e(t,"Map");return px=r,px}var gx,FN;function IT(){if(FN)return gx;FN=1;var e=ET(),t=ag(),r=g5();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return gx=n,gx}var vx,$N;function DT(){if($N)return vx;$N=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return vx=e,vx}var xx,BN;function sg(){if(BN)return xx;BN=1;var e=DT();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return xx=t,xx}var yx,UN;function FT(){if(UN)return yx;UN=1;var e=sg();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return yx=t,yx}var bx,qN;function $T(){if(qN)return bx;qN=1;var e=sg();function t(r){return e(this,r).get(r)}return bx=t,bx}var wx,zN;function BT(){if(zN)return wx;zN=1;var e=sg();function t(r){return e(this,r).has(r)}return wx=t,wx}var jx,WN;function UT(){if(WN)return jx;WN=1;var e=sg();function t(r,n){var s=e(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return jx=t,jx}var Nx,HN;function v5(){if(HN)return Nx;HN=1;var e=IT(),t=FT(),r=$T(),n=BT(),s=UT();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Nx=i,Nx}var Sx,VN;function qT(){if(VN)return Sx;VN=1;var e=v5(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var f=n.apply(this,o);return i.cache=u.set(l,f)||u,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,Sx=r,Sx}var _x,YN;function zT(){if(YN)return _x;YN=1;var e=qT(),t=500;function r(n){var s=e(n,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return _x=r,_x}var kx,GN;function WT(){if(GN)return kx;GN=1;var e=zT(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,l,u,f){i.push(u?f.replace(r,"$1"):l||o)}),i});return kx=n,kx}var Ax,KN;function x5(){if(KN)return Ax;KN=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=r(t[n],n,t);return i}return Ax=e,Ax}var Cx,XN;function HT(){if(XN)return Cx;XN=1;var e=v0(),t=x5(),r=Ws(),n=Af(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return Cx=o,Cx}var Px,JN;function H8(){if(JN)return Px;JN=1;var e=HT();function t(r){return r==null?"":e(r)}return Px=t,Px}var Ex,QN;function V8(){if(QN)return Ex;QN=1;var e=Ws(),t=m5(),r=WT(),n=H8();function s(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return Ex=s,Ex}var Lx,ZN;function ig(){if(ZN)return Lx;ZN=1;var e=Af();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Lx=t,Lx}var Ox,e3;function y5(){if(e3)return Ox;e3=1;var e=V8(),t=ig();function r(n,s){s=e(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[t(s[i++])];return i&&i==o?n:void 0}return Ox=r,Ox}var Rx,t3;function Y8(){if(t3)return Rx;t3=1;var e=y5();function t(r,n,s){var i=r==null?void 0:e(r,n);return i===void 0?s:i}return Rx=t,Rx}var VT=Y8();const Li=Qr(VT);var Tx,r3;function YT(){if(r3)return Tx;r3=1;function e(t){return t==null}return Tx=e,Tx}var GT=YT();const cr=Qr(GT);var KT=Ws();const us=Qr(KT);var Mx={exports:{}},cn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function XT(){if(n3)return cn;n3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,x=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,A=e?Symbol.for("react.scope"):60119;function N(C){if(typeof C=="object"&&C!==null){var T=C.$$typeof;switch(T){case t:switch(C=C.type,C){case u:case f:case n:case i:case s:case m:return C;default:switch(C=C&&C.$$typeof,C){case l:case h:case w:case p:case o:return C;default:return T}}case r:return T}}}function k(C){return N(C)===f}return cn.AsyncMode=u,cn.ConcurrentMode=f,cn.ContextConsumer=l,cn.ContextProvider=o,cn.Element=t,cn.ForwardRef=h,cn.Fragment=n,cn.Lazy=w,cn.Memo=p,cn.Portal=r,cn.Profiler=i,cn.StrictMode=s,cn.Suspense=m,cn.isAsyncMode=function(C){return k(C)||N(C)===u},cn.isConcurrentMode=k,cn.isContextConsumer=function(C){return N(C)===l},cn.isContextProvider=function(C){return N(C)===o},cn.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},cn.isForwardRef=function(C){return N(C)===h},cn.isFragment=function(C){return N(C)===n},cn.isLazy=function(C){return N(C)===w},cn.isMemo=function(C){return N(C)===p},cn.isPortal=function(C){return N(C)===r},cn.isProfiler=function(C){return N(C)===i},cn.isStrictMode=function(C){return N(C)===s},cn.isSuspense=function(C){return N(C)===m},cn.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===f||C===i||C===s||C===m||C===v||typeof C=="object"&&C!==null&&(C.$$typeof===w||C.$$typeof===p||C.$$typeof===o||C.$$typeof===l||C.$$typeof===h||C.$$typeof===y||C.$$typeof===j||C.$$typeof===A||C.$$typeof===x)},cn.typeOf=N,cn}var a3;function JT(){return a3||(a3=1,Mx.exports=XT()),Mx.exports}var QT=JT(),Ix,s3;function G8(){if(s3)return Ix;s3=1;var e=ac(),t=sc(),r="[object Number]";function n(s){return typeof s=="number"||t(s)&&e(s)==r}return Ix=n,Ix}var Dx,i3;function ZT(){if(i3)return Dx;i3=1;var e=G8();function t(r){return e(r)&&r!=+r}return Dx=t,Dx}var eM=ZT();const y0=Qr(eM);var tM=G8();const rM=Qr(tM);var Ls=function(t){return t===0?0:t>0?1:-1},Bu=function(t){return x0(t)&&t.indexOf("%")===t.length-1},Nt=function(t){return rM(t)&&!y0(t)},Ma=function(t){return Nt(t)||x0(t)},nM=0,b0=function(t){var r=++nM;return"".concat(t||"").concat(r)},li=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Nt(t)&&!x0(t))return n;var i;if(Bu(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return y0(i)&&(i=n),s&&i>r&&(i=r),i},Mc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},aM=function(t){if(!us(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Dc=function(t,r){return Nt(t)&&Nt(r)?function(n){return t+n*(r-t)}:function(){return r}};function Sb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Li(n,t))===r})}function Bd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _b(e){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(e)}var sM=["viewBox","children"],iM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],o3=["points","pathLength"],Fx={svg:sM,polygon:o3,polyline:o3},b5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Km=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(L.isValidElement(t)&&(n=t.props),!kf(n))return null;var s={};return Object.keys(n).forEach(function(i){b5.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},oM=function(t,r,n){return function(s){return t(r,n,s),null}},Xu=function(t,r,n){if(!kf(t)||_b(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];b5.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=oM(o,r,n))}),s},lM=["children"],cM=["children"];function l3(e,t){if(e==null)return{};var r=uM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uM(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var c3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},zc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},u3=null,$x=null,w5=function e(t){if(t===u3&&us($x))return $x;var r=[];return L.Children.forEach(t,function(n){cr(n)||(QT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),$x=r,u3=t,r};function Ji(e,t){var r=[],n=[];return us(t)?n=t.map(function(s){return zc(s)}):n=[zc(t)],w5(e).forEach(function(s){var i=Li(s,"type.displayName")||Li(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Wl(e,t){var r=Ji(e,t);return r&&r[0]}var d3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Nt(n)||n<=0||!Nt(s)||s<=0)},dM=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fM=function(t){return t&&t.type&&x0(t.type)&&dM.indexOf(t.type)>=0},hM=function(t,r,n,s){var i,o=(i=Fx?.[s])!==null&&i!==void 0?i:[];return!ur(t)&&(s&&o.includes(r)||iM.includes(r))||n&&b5.includes(r)},wr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(L.isValidElement(t)&&(s=t.props),!kf(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;hM((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},K8=function e(t,r){if(t===r)return!0;var n=L.Children.count(t);if(n!==L.Children.count(r))return!1;if(n===0)return!0;if(n===1)return f3(us(t)?t[0]:t,us(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(us(i)||us(o)){if(!e(i,o))return!1}else if(!f3(i,o))return!1}return!0},f3=function(t,r){if(cr(t)&&cr(r))return!0;if(!cr(t)&&!cr(r)){var n=t.props||{},s=n.children,i=l3(n,lM),o=r.props||{},l=o.children,u=l3(o,cM);return s&&l?Bd(i,u)&&K8(s,l):!s&&!l?Bd(i,u):!1}return!1},h3=function(t,r){var n=[],s={};return w5(t).forEach(function(i,o){if(fM(i))n.push(i);else if(i){var l=zc(i.type),u=r[l]||{},f=u.handler,h=u.once;if(f&&(!h||!s[l])){var m=f(i,l,o);n.push(m),s[l]=!0}}}),n},mM=function(t){var r=t&&t.type;return r&&c3[r]?c3[r]:null},pM=function(t,r){return w5(r).indexOf(t)},gM=["children","width","height","viewBox","className","style"];function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function vM(e,t){if(e==null)return{};var r=xM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xM(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Ab(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=vM(e,gM),u=s||{width:r,height:n,x:0,y:0},f=_n("recharts-surface",i);return Te.createElement("svg",kb({},wr(l,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Te.createElement("title",null,e.title),Te.createElement("desc",null,e.desc),t)}var yM=["children","className"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(this,arguments)}function bM(e,t){if(e==null)return{};var r=wM(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wM(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var vn=Te.forwardRef(function(e,t){var r=e.children,n=e.className,s=bM(e,yM),i=_n("recharts-layer",n);return Te.createElement("g",Cb({className:i},wr(s,!0),{ref:t}),r)}),Bx,m3;function jM(){if(m3)return Bx;m3=1;var e=ag();function t(){this.__data__=new e,this.size=0}return Bx=t,Bx}var Ux,p3;function NM(){if(p3)return Ux;p3=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Ux=e,Ux}var qx,g3;function SM(){if(g3)return qx;g3=1;function e(t){return this.__data__.get(t)}return qx=e,qx}var zx,v3;function _M(){if(v3)return zx;v3=1;function e(t){return this.__data__.has(t)}return zx=e,zx}var Wx,x3;function kM(){if(x3)return Wx;x3=1;var e=ag(),t=g5(),r=v5(),n=200;function s(i,o){var l=this.__data__;if(l instanceof e){var u=l.__data__;if(!t||u.length<n-1)return u.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(i,o),this.size=l.size,this}return Wx=s,Wx}var Hx,y3;function X8(){if(y3)return Hx;y3=1;var e=ag(),t=jM(),r=NM(),n=SM(),s=_M(),i=kM();function o(l){var u=this.__data__=new e(l);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,Hx=o,Hx}var Vx,b3;function AM(){if(b3)return Vx;b3=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Vx=t,Vx}var Yx,w3;function CM(){if(w3)return Yx;w3=1;function e(t){return this.__data__.has(t)}return Yx=e,Yx}var Gx,j3;function J8(){if(j3)return Gx;j3=1;var e=v5(),t=AM(),r=CM();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Gx=n,Gx}var Kx,N3;function Q8(){if(N3)return Kx;N3=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return Kx=e,Kx}var Xx,S3;function Z8(){if(S3)return Xx;S3=1;function e(t,r){return t.has(r)}return Xx=e,Xx}var Jx,_3;function eP(){if(_3)return Jx;_3=1;var e=J8(),t=Q8(),r=Z8(),n=1,s=2;function i(o,l,u,f,h,m){var v=u&n,p=o.length,w=l.length;if(p!=w&&!(v&&w>p))return!1;var x=m.get(o),y=m.get(l);if(x&&y)return x==l&&y==o;var j=-1,A=!0,N=u&s?new e:void 0;for(m.set(o,l),m.set(l,o);++j<p;){var k=o[j],C=l[j];if(f)var T=v?f(C,k,j,l,o,m):f(k,C,j,o,l,m);if(T!==void 0){if(T)continue;A=!1;break}if(N){if(!t(l,function(F,M){if(!r(N,M)&&(k===F||h(k,F,u,f,m)))return N.push(M)})){A=!1;break}}else if(!(k===C||h(k,C,u,f,m))){A=!1;break}}return m.delete(o),m.delete(l),A}return Jx=i,Jx}var Qx,k3;function PM(){if(k3)return Qx;k3=1;var e=ol(),t=e.Uint8Array;return Qx=t,Qx}var Zx,A3;function EM(){if(A3)return Zx;A3=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,i){n[++r]=[i,s]}),n}return Zx=e,Zx}var e1,C3;function j5(){if(C3)return e1;C3=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return e1=e,e1}var t1,P3;function LM(){if(P3)return t1;P3=1;var e=v0(),t=PM(),r=p5(),n=eP(),s=EM(),i=j5(),o=1,l=2,u="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",v="[object Number]",p="[object RegExp]",w="[object Set]",x="[object String]",y="[object Symbol]",j="[object ArrayBuffer]",A="[object DataView]",N=e?e.prototype:void 0,k=N?N.valueOf:void 0;function C(T,F,M,q,G,R,D){switch(M){case A:if(T.byteLength!=F.byteLength||T.byteOffset!=F.byteOffset)return!1;T=T.buffer,F=F.buffer;case j:return!(T.byteLength!=F.byteLength||!R(new t(T),new t(F)));case u:case f:case v:return r(+T,+F);case h:return T.name==F.name&&T.message==F.message;case p:case x:return T==F+"";case m:var z=s;case w:var W=q&o;if(z||(z=i),T.size!=F.size&&!W)return!1;var Z=D.get(T);if(Z)return Z==F;q|=l,D.set(T,F);var le=n(z(T),z(F),q,G,R,D);return D.delete(T),le;case y:if(k)return k.call(T)==k.call(F)}return!1}return t1=C,t1}var r1,E3;function tP(){if(E3)return r1;E3=1;function e(t,r){for(var n=-1,s=r.length,i=t.length;++n<s;)t[i+n]=r[n];return t}return r1=e,r1}var n1,L3;function OM(){if(L3)return n1;L3=1;var e=tP(),t=Ws();function r(n,s,i){var o=s(n);return t(n)?o:e(o,i(n))}return n1=r,n1}var a1,O3;function RM(){if(O3)return a1;O3=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return a1=e,a1}var s1,R3;function TM(){if(R3)return s1;R3=1;function e(){return[]}return s1=e,s1}var i1,T3;function MM(){if(T3)return i1;T3=1;var e=RM(),t=TM(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return n.call(o,l)}))}:t;return i1=i,i1}var o1,M3;function IM(){if(M3)return o1;M3=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return o1=e,o1}var l1,I3;function DM(){if(I3)return l1;I3=1;var e=ac(),t=sc(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return l1=n,l1}var c1,D3;function N5(){if(D3)return c1;D3=1;var e=DM(),t=sc(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return c1=i,c1}var wh={exports:{}},u1,F3;function FM(){if(F3)return u1;F3=1;function e(){return!1}return u1=e,u1}wh.exports;var $3;function rP(){return $3||($3=1,(function(e,t){var r=ol(),n=FM(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||n;e.exports=f})(wh,wh.exports)),wh.exports}var d1,B3;function S5(){if(B3)return d1;B3=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return d1=r,d1}var f1,U3;function _5(){if(U3)return f1;U3=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return f1=t,f1}var h1,q3;function $M(){if(q3)return h1;q3=1;var e=ac(),t=_5(),r=sc(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",v="[object RegExp]",p="[object Set]",w="[object String]",x="[object WeakMap]",y="[object ArrayBuffer]",j="[object DataView]",A="[object Float32Array]",N="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",F="[object Uint8Array]",M="[object Uint8ClampedArray]",q="[object Uint16Array]",G="[object Uint32Array]",R={};R[A]=R[N]=R[k]=R[C]=R[T]=R[F]=R[M]=R[q]=R[G]=!0,R[n]=R[s]=R[y]=R[i]=R[j]=R[o]=R[l]=R[u]=R[f]=R[h]=R[m]=R[v]=R[p]=R[w]=R[x]=!1;function D(z){return r(z)&&t(z.length)&&!!R[e(z)]}return h1=D,h1}var m1,z3;function nP(){if(z3)return m1;z3=1;function e(t){return function(r){return t(r)}}return m1=e,m1}var jh={exports:{}};jh.exports;var W3;function BM(){return W3||(W3=1,(function(e,t){var r=z8(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(jh,jh.exports)),jh.exports}var p1,H3;function aP(){if(H3)return p1;H3=1;var e=$M(),t=nP(),r=BM(),n=r&&r.isTypedArray,s=n?t(n):e;return p1=s,p1}var g1,V3;function UM(){if(V3)return g1;V3=1;var e=IM(),t=N5(),r=Ws(),n=rP(),s=S5(),i=aP(),o=Object.prototype,l=o.hasOwnProperty;function u(f,h){var m=r(f),v=!m&&t(f),p=!m&&!v&&n(f),w=!m&&!v&&!p&&i(f),x=m||v||p||w,y=x?e(f.length,String):[],j=y.length;for(var A in f)(h||l.call(f,A))&&!(x&&(A=="length"||p&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||s(A,j)))&&y.push(A);return y}return g1=u,g1}var v1,Y3;function qM(){if(Y3)return v1;Y3=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return v1=t,v1}var x1,G3;function sP(){if(G3)return x1;G3=1;function e(t,r){return function(n){return t(r(n))}}return x1=e,x1}var y1,K3;function zM(){if(K3)return y1;K3=1;var e=sP(),t=e(Object.keys,Object);return y1=t,y1}var b1,X3;function WM(){if(X3)return b1;X3=1;var e=qM(),t=zM(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return b1=s,b1}var w1,J3;function w0(){if(J3)return w1;J3=1;var e=h5(),t=_5();function r(n){return n!=null&&t(n.length)&&!e(n)}return w1=r,w1}var j1,Q3;function og(){if(Q3)return j1;Q3=1;var e=UM(),t=WM(),r=w0();function n(s){return r(s)?e(s):t(s)}return j1=n,j1}var N1,Z3;function HM(){if(Z3)return N1;Z3=1;var e=OM(),t=MM(),r=og();function n(s){return e(s,r,t)}return N1=n,N1}var S1,eS;function VM(){if(eS)return S1;eS=1;var e=HM(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,u,f,h){var m=l&t,v=e(i),p=v.length,w=e(o),x=w.length;if(p!=x&&!m)return!1;for(var y=p;y--;){var j=v[y];if(!(m?j in o:n.call(o,j)))return!1}var A=h.get(i),N=h.get(o);if(A&&N)return A==o&&N==i;var k=!0;h.set(i,o),h.set(o,i);for(var C=m;++y<p;){j=v[y];var T=i[j],F=o[j];if(u)var M=m?u(F,T,j,o,i,h):u(T,F,j,i,o,h);if(!(M===void 0?T===F||f(T,F,l,u,h):M)){k=!1;break}C||(C=j=="constructor")}if(k&&!C){var q=i.constructor,G=o.constructor;q!=G&&"constructor"in i&&"constructor"in o&&!(typeof q=="function"&&q instanceof q&&typeof G=="function"&&G instanceof G)&&(k=!1)}return h.delete(i),h.delete(o),k}return S1=s,S1}var _1,tS;function YM(){if(tS)return _1;tS=1;var e=td(),t=ol(),r=e(t,"DataView");return _1=r,_1}var k1,rS;function GM(){if(rS)return k1;rS=1;var e=td(),t=ol(),r=e(t,"Promise");return k1=r,k1}var A1,nS;function iP(){if(nS)return A1;nS=1;var e=td(),t=ol(),r=e(t,"Set");return A1=r,A1}var C1,aS;function KM(){if(aS)return C1;aS=1;var e=td(),t=ol(),r=e(t,"WeakMap");return C1=r,C1}var P1,sS;function XM(){if(sS)return P1;sS=1;var e=YM(),t=g5(),r=GM(),n=iP(),s=KM(),i=ac(),o=W8(),l="[object Map]",u="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",v="[object DataView]",p=o(e),w=o(t),x=o(r),y=o(n),j=o(s),A=i;return(e&&A(new e(new ArrayBuffer(1)))!=v||t&&A(new t)!=l||r&&A(r.resolve())!=f||n&&A(new n)!=h||s&&A(new s)!=m)&&(A=function(N){var k=i(N),C=k==u?N.constructor:void 0,T=C?o(C):"";if(T)switch(T){case p:return v;case w:return l;case x:return f;case y:return h;case j:return m}return k}),P1=A,P1}var E1,iS;function JM(){if(iS)return E1;iS=1;var e=X8(),t=eP(),r=LM(),n=VM(),s=XM(),i=Ws(),o=rP(),l=aP(),u=1,f="[object Arguments]",h="[object Array]",m="[object Object]",v=Object.prototype,p=v.hasOwnProperty;function w(x,y,j,A,N,k){var C=i(x),T=i(y),F=C?h:s(x),M=T?h:s(y);F=F==f?m:F,M=M==f?m:M;var q=F==m,G=M==m,R=F==M;if(R&&o(x)){if(!o(y))return!1;C=!0,q=!1}if(R&&!q)return k||(k=new e),C||l(x)?t(x,y,j,A,N,k):r(x,y,F,j,A,N,k);if(!(j&u)){var D=q&&p.call(x,"__wrapped__"),z=G&&p.call(y,"__wrapped__");if(D||z){var W=D?x.value():x,Z=z?y.value():y;return k||(k=new e),N(W,Z,j,A,k)}}return R?(k||(k=new e),n(x,y,j,A,N,k)):!1}return E1=w,E1}var L1,oS;function k5(){if(oS)return L1;oS=1;var e=JM(),t=sc();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,i,o,r,l)}return L1=r,L1}var O1,lS;function QM(){if(lS)return O1;lS=1;var e=X8(),t=k5(),r=1,n=2;function s(i,o,l,u){var f=l.length,h=f,m=!u;if(i==null)return!h;for(i=Object(i);f--;){var v=l[f];if(m&&v[2]?v[1]!==i[v[0]]:!(v[0]in i))return!1}for(;++f<h;){v=l[f];var p=v[0],w=i[p],x=v[1];if(m&&v[2]){if(w===void 0&&!(p in i))return!1}else{var y=new e;if(u)var j=u(w,x,p,i,o,y);if(!(j===void 0?t(x,w,r|n,u,y):j))return!1}}return!0}return O1=s,O1}var R1,cS;function oP(){if(cS)return R1;cS=1;var e=Jc();function t(r){return r===r&&!e(r)}return R1=t,R1}var T1,uS;function ZM(){if(uS)return T1;uS=1;var e=oP(),t=og();function r(n){for(var s=t(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,e(l)]}return s}return T1=r,T1}var M1,dS;function lP(){if(dS)return M1;dS=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return M1=e,M1}var I1,fS;function eI(){if(fS)return I1;fS=1;var e=QM(),t=ZM(),r=lP();function n(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return I1=n,I1}var D1,hS;function tI(){if(hS)return D1;hS=1;function e(t,r){return t!=null&&r in Object(t)}return D1=e,D1}var F1,mS;function rI(){if(mS)return F1;mS=1;var e=V8(),t=N5(),r=Ws(),n=S5(),s=_5(),i=ig();function o(l,u,f){u=e(u,l);for(var h=-1,m=u.length,v=!1;++h<m;){var p=i(u[h]);if(!(v=l!=null&&f(l,p)))break;l=l[p]}return v||++h!=m?v:(m=l==null?0:l.length,!!m&&s(m)&&n(p,m)&&(r(l)||t(l)))}return F1=o,F1}var $1,pS;function nI(){if(pS)return $1;pS=1;var e=tI(),t=rI();function r(n,s){return n!=null&&t(n,s,e)}return $1=r,$1}var B1,gS;function aI(){if(gS)return B1;gS=1;var e=k5(),t=Y8(),r=nI(),n=m5(),s=oP(),i=lP(),o=ig(),l=1,u=2;function f(h,m){return n(h)&&s(m)?i(o(h),m):function(v){var p=t(v,h);return p===void 0&&p===m?r(v,h):e(m,p,l|u)}}return B1=f,B1}var U1,vS;function Cf(){if(vS)return U1;vS=1;function e(t){return t}return U1=e,U1}var q1,xS;function sI(){if(xS)return q1;xS=1;function e(t){return function(r){return r?.[t]}}return q1=e,q1}var z1,yS;function iI(){if(yS)return z1;yS=1;var e=y5();function t(r){return function(n){return e(n,r)}}return z1=t,z1}var W1,bS;function oI(){if(bS)return W1;bS=1;var e=sI(),t=iI(),r=m5(),n=ig();function s(i){return r(i)?e(n(i)):t(i)}return W1=s,W1}var H1,wS;function ll(){if(wS)return H1;wS=1;var e=eI(),t=aI(),r=Cf(),n=Ws(),s=oI();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):s(o)}return H1=i,H1}var V1,jS;function cP(){if(jS)return V1;jS=1;function e(t,r,n,s){for(var i=t.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return V1=e,V1}var Y1,NS;function lI(){if(NS)return Y1;NS=1;function e(t){return t!==t}return Y1=e,Y1}var G1,SS;function cI(){if(SS)return G1;SS=1;function e(t,r,n){for(var s=n-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return G1=e,G1}var K1,_S;function uI(){if(_S)return K1;_S=1;var e=cP(),t=lI(),r=cI();function n(s,i,o){return i===i?r(s,i,o):e(s,t,o)}return K1=n,K1}var X1,kS;function dI(){if(kS)return X1;kS=1;var e=uI();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return X1=t,X1}var J1,AS;function fI(){if(AS)return J1;AS=1;function e(t,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;)if(n(r,t[s]))return!0;return!1}return J1=e,J1}var Q1,CS;function hI(){if(CS)return Q1;CS=1;function e(){}return Q1=e,Q1}var Z1,PS;function mI(){if(PS)return Z1;PS=1;var e=iP(),t=hI(),r=j5(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return Z1=s,Z1}var ey,ES;function pI(){if(ES)return ey;ES=1;var e=J8(),t=dI(),r=fI(),n=Z8(),s=mI(),i=j5(),o=200;function l(u,f,h){var m=-1,v=t,p=u.length,w=!0,x=[],y=x;if(h)w=!1,v=r;else if(p>=o){var j=f?null:s(u);if(j)return i(j);w=!1,v=n,y=new e}else y=f?[]:x;e:for(;++m<p;){var A=u[m],N=f?f(A):A;if(A=h||A!==0?A:0,w&&N===N){for(var k=y.length;k--;)if(y[k]===N)continue e;f&&y.push(N),x.push(A)}else v(y,N,h)||(y!==x&&y.push(N),x.push(A))}return x}return ey=l,ey}var ty,LS;function gI(){if(LS)return ty;LS=1;var e=ll(),t=pI();function r(n,s){return n&&n.length?t(n,e(s,2)):[]}return ty=r,ty}var vI=gI();const Xm=Qr(vI);var ry,OS;function xI(){if(OS)return ry;OS=1;function e(t,r,n){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=t[s+r];return o}return ry=e,ry}var ny,RS;function yI(){if(RS)return ny;RS=1;var e=xI();function t(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:e(r,n,s)}return ny=t,ny}var ay,TS;function uP(){if(TS)return ay;TS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function u(f){return l.test(f)}return ay=u,ay}var sy,MS;function bI(){if(MS)return sy;MS=1;function e(t){return t.split("")}return sy=e,sy}var iy,IS;function wI(){if(IS)return iy;IS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+u+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",w=f+"?",x="["+i+"]?",y="(?:"+p+"(?:"+[h,m,v].join("|")+")"+x+w+")*",j=x+w+y,A="(?:"+[h+l+"?",l,m,v,o].join("|")+")",N=RegExp(u+"(?="+u+")|"+A+j,"g");function k(C){return C.match(N)||[]}return iy=k,iy}var oy,DS;function jI(){if(DS)return oy;DS=1;var e=bI(),t=uP(),r=wI();function n(s){return t(s)?r(s):e(s)}return oy=n,oy}var ly,FS;function NI(){if(FS)return ly;FS=1;var e=yI(),t=uP(),r=jI(),n=H8();function s(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,u=l?l[0]:o.charAt(0),f=l?e(l,1).join(""):o.slice(1);return u[i]()+f}}return ly=s,ly}var cy,$S;function SI(){if($S)return cy;$S=1;var e=NI(),t=e("toUpperCase");return cy=t,cy}var _I=SI();const lg=Qr(_I);function Tn(e){return function(){return e}}const dP=Math.cos,Jm=Math.sin,Po=Math.sqrt,Qm=Math.PI,cg=2*Qm,Pb=Math.PI,Eb=2*Pb,Ru=1e-6,kI=Eb-Ru;function fP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function AI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fP;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class CI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fP:AI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,f=s-r,h=o-t,m=l-r,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Ru)if(!(Math.abs(m*u-f*h)>Ru)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,w=s-l,x=u*u+f*f,y=p*p+w*w,j=Math.sqrt(x),A=Math.sqrt(v),N=i*Math.tan((Pb-Math.acos((x+v-y)/(2*j*A)))/2),k=N/A,C=N/j;Math.abs(k-1)>Ru&&this._append`L${t+k*h},${r+k*m}`,this._append`A${i},${i},0,0,${+(m*p>h*w)},${this._x1=t+C*u},${this._y1=r+C*f}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),u=n*Math.sin(s),f=t+l,h=r+u,m=1^o,v=o?s-i:i-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ru||Math.abs(this._y1-h)>Ru)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%Eb+Eb),v>kI?this._append`A${n},${n},0,1,${m},${t-l},${r-u}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:v>Ru&&this._append`A${n},${n},0,${+(v>=Pb)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function A5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new CI(t)}function C5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hP(e){this._context=e}hP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ug(e){return new hP(e)}function mP(e){return e[0]}function pP(e){return e[1]}function gP(e,t){var r=Tn(!0),n=null,s=ug,i=null,o=A5(l);e=typeof e=="function"?e:e===void 0?mP:Tn(e),t=typeof t=="function"?t:t===void 0?pP:Tn(t);function l(u){var f,h=(u=C5(u)).length,m,v=!1,p;for(n==null&&(i=s(p=o())),f=0;f<=h;++f)!(f<h&&r(m=u[f],f,u))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+e(m,f,u),+t(m,f,u));if(p)return i=null,p+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Tn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Tn(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Tn(!!u),l):r},l.curve=function(u){return arguments.length?(s=u,n!=null&&(i=s(n)),l):s},l.context=function(u){return arguments.length?(u==null?n=i=null:i=s(n=u),l):n},l}function mm(e,t,r){var n=null,s=Tn(!0),i=null,o=ug,l=null,u=A5(f);e=typeof e=="function"?e:e===void 0?mP:Tn(+e),t=typeof t=="function"?t:Tn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?pP:Tn(+r);function f(m){var v,p,w,x=(m=C5(m)).length,y,j=!1,A,N=new Array(x),k=new Array(x);for(i==null&&(l=o(A=u())),v=0;v<=x;++v){if(!(v<x&&s(y=m[v],v,m))===j)if(j=!j)p=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=v-1;w>=p;--w)l.point(N[w],k[w]);l.lineEnd(),l.areaEnd()}j&&(N[v]=+e(y,v,m),k[v]=+t(y,v,m),l.point(n?+n(y,v,m):N[v],r?+r(y,v,m):k[v]))}if(A)return l=null,A+""||null}function h(){return gP().defined(s).curve(o).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Tn(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Tn(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Tn(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Tn(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Tn(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Tn(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Tn(!!m),f):s},f.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),f):o},f.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),f):i},f}const P5={draw(e,t){const r=Po(t/Qm);e.moveTo(r,0),e.arc(0,0,r,0,cg)}},PI={draw(e,t){const r=Po(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},vP=Po(1/3),EI=vP*2,LI={draw(e,t){const r=Po(t/EI),n=r*vP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},OI={draw(e,t){const r=Po(t),n=-r/2;e.rect(n,n,r,r)}},RI=.8908130915292852,xP=Jm(Qm/10)/Jm(7*Qm/10),TI=Jm(cg/10)*xP,MI=-dP(cg/10)*xP,II={draw(e,t){const r=Po(t*RI),n=TI*r,s=MI*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=cg*i/5,l=dP(o),u=Jm(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*s,u*n+l*s)}e.closePath()}},uy=Po(3),DI={draw(e,t){const r=-Po(t/(uy*3));e.moveTo(0,r*2),e.lineTo(-uy*r,-r),e.lineTo(uy*r,-r),e.closePath()}},Wi=-.5,Hi=Po(3)/2,Lb=1/Po(12),FI=(Lb/2+1)*3,$I={draw(e,t){const r=Po(t/FI),n=r/2,s=r*Lb,i=n,o=r*Lb+r,l=-i,u=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(Wi*n-Hi*s,Hi*n+Wi*s),e.lineTo(Wi*i-Hi*o,Hi*i+Wi*o),e.lineTo(Wi*l-Hi*u,Hi*l+Wi*u),e.lineTo(Wi*n+Hi*s,Wi*s-Hi*n),e.lineTo(Wi*i+Hi*o,Wi*o-Hi*i),e.lineTo(Wi*l+Hi*u,Wi*u-Hi*l),e.closePath()}};function BI(e,t){let r=null,n=A5(s);e=typeof e=="function"?e:Tn(e||P5),t=typeof t=="function"?t:Tn(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Tn(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Tn(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Zm(){}function ep(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function yP(e){this._context=e}yP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ep(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ep(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UI(e){return new yP(e)}function bP(e){this._context=e}bP.prototype={areaStart:Zm,areaEnd:Zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ep(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qI(e){return new bP(e)}function wP(e){this._context=e}wP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ep(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zI(e){return new wP(e)}function jP(e){this._context=e}jP.prototype={areaStart:Zm,areaEnd:Zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WI(e){return new jP(e)}function BS(e){return e<0?-1:1}function US(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(BS(i)+BS(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function qS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dy(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function tp(e){this._context=e}tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dy(this,this._t0,qS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dy(this,qS(this,r=US(this,e,t)),r);break;default:dy(this,this._t0,r=US(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function NP(e){this._context=new SP(e)}(NP.prototype=Object.create(tp.prototype)).point=function(e,t){tp.prototype.point.call(this,t,e)};function SP(e){this._context=e}SP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function HI(e){return new tp(e)}function VI(e){return new NP(e)}function _P(e){this._context=e}_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=zS(e),s=zS(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zS(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function YI(e){return new _P(e)}function dg(e,t){this._context=e,this._t=t}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function GI(e){return new dg(e,.5)}function KI(e){return new dg(e,0)}function XI(e){return new dg(e,1)}function Jd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Ob(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function JI(e,t){return e[t]}function QI(e){const t=[];return t.key=e,t}function ZI(){var e=Tn([]),t=Ob,r=Jd,n=JI;function s(i){var o=Array.from(e.apply(this,arguments),QI),l,u=o.length,f=-1,h;for(const m of i)for(l=0,++f;l<u;++l)(o[l][f]=[0,+n(m,o[l].key,f,i)]).data=m;for(l=0,h=C5(t(o));l<u;++l)o[h[l]].index=l;return r(o,h),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Tn(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Tn(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Ob:typeof i=="function"?i:Tn(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Jd,s):r},s}function eD(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Jd(e,t)}}function tD(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Jd(e,t)}}function rD(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,u=0,f=0;l<o;++l){for(var h=e[t[l]],m=h[n][1]||0,v=h[n-1][1]||0,p=(m-v)/2,w=0;w<l;++w){var x=e[t[w]],y=x[n][1]||0,j=x[n-1][1]||0;p+=y-j}u+=m,f+=p*m}s[n-1][1]+=s[n-1][0]=r,u&&(r-=f/u)}s[n-1][1]+=s[n-1][0]=r,Jd(e,t)}}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function nD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AP(n.key),n)}}function sD(e,t,r){return t&&aD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tb(e,t)}function Tb(e,t){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Tb(e,t)}function oD(e){var t=uD();return function(){var n=rp(e),s;if(t){var i=rp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return lD(this,s)}}function lD(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cD(e)}function cD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(e)}function kP(e,t,r){return t=AP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AP(e){var t=dD(e,"string");return Qd(t)==="symbol"?t:String(t)}function dD(e,t){if(Qd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CP={symbolCircle:P5,symbolCross:PI,symbolDiamond:LI,symbolSquare:OI,symbolStar:II,symbolTriangle:DI,symbolWye:$I},fD=Math.PI/180,hD=function(t){var r="symbol".concat(lg(t));return CP[r]||P5},mD=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*fD;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},E5=(function(e){iD(r,e);var t=oD(r);function r(){return nD(this,r),t.apply(this,arguments)}return sD(r,[{key:"getPath",value:function(){var s=this.props,i=s.size,o=s.sizeType,l=s.type,u=hD(l),f=BI().type(u).size(mD(i,o,l));return f()}},{key:"render",value:function(){var s=this.props,i=s.className,o=s.cx,l=s.cy,u=s.size,f=wr(this.props,!0);return o===+o&&l===+l&&u===+u?Te.createElement("path",Rb({},f,{className:_n("recharts-symbols",i),transform:"translate(".concat(o,", ").concat(l,")"),d:this.getPath()})):null}}]),r})(L.PureComponent);kP(E5,"defaultProps",{type:"circle",size:64,sizeType:"area"});kP(E5,"registerSymbol",function(e,t){CP["symbol".concat(lg(e))]=t});function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(this,arguments)}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){$h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PP(n.key),n)}}function xD(e,t,r){return t&&vD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ib(e,t)}function Ib(e,t){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ib(e,t)}function bD(e){var t=ND();return function(){var n=np(e),s;if(t){var i=np(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return wD(this,s)}}function wD(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jD(e)}function jD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ND(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},np(e)}function $h(e,t,r){return t=PP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PP(e){var t=SD(e,"string");return Zd(t)==="symbol"?t:String(t)}function SD(e,t){if(Zd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vi=32,L5=(function(e){yD(r,e);var t=bD(r);function r(){return gD(this,r),t.apply(this,arguments)}return xD(r,[{key:"renderIcon",value:function(s){var i=this.props.inactiveColor,o=Vi/2,l=Vi/6,u=Vi/3,f=s.inactive?i:s.color;if(s.type==="plainline")return Te.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:o,x2:Vi,y2:o,className:"recharts-legend-icon"});if(s.type==="line")return Te.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Vi,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(s.type==="rect")return Te.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Vi/8,"h").concat(Vi,"v").concat(Vi*3/4,"h").concat(-Vi,"z"),className:"recharts-legend-icon"});if(Te.isValidElement(s.legendIcon)){var h=pD({},s);return delete h.legendIcon,Te.cloneElement(s.legendIcon,h)}return Te.createElement(E5,{fill:f,cx:o,cy:o,size:Vi,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,f=i.formatter,h=i.inactiveColor,m={x:0,y:0,width:Vi,height:Vi},v={display:u==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(w,x){var y,j=w.formatter||f,A=_n((y={"recharts-legend-item":!0},$h(y,"legend-item-".concat(x),!0),$h(y,"inactive",w.inactive),y));if(w.type==="none")return null;var N=w.inactive?h:w.color;return Te.createElement("li",Mb({className:A,style:v,key:"legend-item-".concat(x)},Xu(s.props,w,x)),Te.createElement(Ab,{width:l,height:l,viewBox:m,style:p},s.renderIcon(w)),Te.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},j?j(w.value,w,x):w.value))})}},{key:"render",value:function(){var s=this.props,i=s.payload,o=s.layout,l=s.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return Te.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}]),r})(L.PureComponent);$h(L5,"displayName","Legend");$h(L5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}var _D=["ref"];function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LP(n.key),n)}}function AD(e,t,r){return t&&VS(e.prototype,t),r&&VS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Db(e,t)}function PD(e){var t=LD();return function(){var n=ap(e),s;if(t){var i=ap(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return ED(this,s)}}function ED(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EP(e)}function EP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ap(e)}function fg(e,t,r){return t=LP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LP(e){var t=OD(e,"string");return ef(t)==="symbol"?t:String(t)}function OD(e,t){if(ef(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RD(e,t){if(e==null)return{};var r=TD(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TD(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function MD(e){return e.value}function ID(e,t){return e===!0?Xm(t,MD):ur(e)?Xm(t,e):t}function DD(e,t){if(Te.isValidElement(e))return Te.cloneElement(e,t);if(ur(e))return Te.createElement(e,t);t.ref;var r=RD(t,_D);return Te.createElement(L5,r)}var YS=1,Vc=(function(e){CD(r,e);var t=PD(r);function r(){var n;kD(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),fg(EP(n),"state",{boxWidth:-1,boxHeight:-1}),n}return AD(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var s=this.state,i=s.boxWidth,o=s.boxHeight;return i>=0&&o>=0?{width:i,height:o}:null}},{key:"getDefaultPosition",value:function(s){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,f=i.margin,h=i.chartWidth,m=i.chartHeight,v,p;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(l==="center"&&o==="vertical"){var w=this.getBBoxSnapshot()||{width:0};v={left:((h||0)-w.width)/2}}else v=l==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(u==="middle"){var x=this.getBBoxSnapshot()||{height:0};p={top:((m||0)-x.height)/2}}else p=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return kd(kd({},v),p)}},{key:"updateBBox",value:function(){var s=this.state,i=s.boxWidth,o=s.boxHeight,l=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var u=this.wrapperNode.getBoundingClientRect();(Math.abs(u.width-i)>YS||Math.abs(u.height-o)>YS)&&this.setState({boxWidth:u.width,boxHeight:u.height},function(){l&&l(u)})}else(i!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){l&&l(null)})}},{key:"render",value:function(){var s=this,i=this.props,o=i.content,l=i.width,u=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,m=i.payload,v=kd(kd({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return Te.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(w){s.wrapperNode=w}},DD(o,kd(kd({},this.props),{},{payload:ID(h,m)})))}}],[{key:"getWithHeight",value:function(s,i){var o=s.props.layout;return o==="vertical"&&Nt(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||i}:null}}]),r})(L.PureComponent);fg(Vc,"displayName","Legend");fg(Vc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fy={exports:{}},hy,GS;function FD(){if(GS)return hy;GS=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hy=e,hy}var my,KS;function $D(){if(KS)return my;KS=1;var e=FD();function t(){}function r(){}return r.resetWarningCache=t,my=function(){function n(o,l,u,f,h,m){if(m!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},my}var XS;function BD(){return XS||(XS=1,fy.exports=$D()()),fy.exports}var UD=BD();const kr=Qr(UD);var qD=Object.getOwnPropertyNames,zD=Object.getOwnPropertySymbols,WD=Object.prototype.hasOwnProperty;function JS(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function pm(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var u=e(r,n,s);return i.delete(r),i.delete(n),u}}function QS(e){return qD(e).concat(zD(e))}var HD=Object.hasOwn||(function(e,t){return WD.call(e,t)});function rd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var VD="__v",YD="__o",GD="_owner",ZS=Object.getOwnPropertyDescriptor,e_=Object.keys;function KD(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function XD(e,t){return rd(e.getTime(),t.getTime())}function JD(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function QD(e,t){return e===t}function t_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,u=0;(o=i.next())&&!o.done;){for(var f=t.entries(),h=!1,m=0;(l=f.next())&&!l.done;){if(s[m]){m++;continue}var v=o.value,p=l.value;if(r.equals(v[0],p[0],u,m,e,t,r)&&r.equals(v[1],p[1],v[0],p[0],e,t,r)){h=s[m]=!0;break}m++}if(!h)return!1;u++}return!0}var ZD=rd;function eF(e,t,r){var n=e_(e),s=n.length;if(e_(t).length!==s)return!1;for(;s-- >0;)if(!OP(e,t,r,n[s]))return!1;return!0}function ch(e,t,r){var n=QS(e),s=n.length;if(QS(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!OP(e,t,r,i)||(o=ZS(e,i),l=ZS(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function tF(e,t){return rd(e.valueOf(),t.valueOf())}function rF(e,t){return e.source===t.source&&e.flags===t.flags}function r_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var u=t.values(),f=!1,h=0;(l=u.next())&&!l.done;){if(!s[h]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){f=s[h]=!0;break}h++}if(!f)return!1}return!0}function nF(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function aF(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function OP(e,t,r,n){return(n===GD||n===YD||n===VD)&&(e.$$typeof||t.$$typeof)?!0:HD(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var sF="[object Arguments]",iF="[object Boolean]",oF="[object Date]",lF="[object Error]",cF="[object Map]",uF="[object Number]",dF="[object Object]",fF="[object RegExp]",hF="[object Set]",mF="[object String]",pF="[object URL]",gF=Array.isArray,n_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,a_=Object.assign,vF=Object.prototype.toString.call.bind(Object.prototype.toString);function xF(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,h=e.areSetsEqual,m=e.areTypedArraysEqual,v=e.areUrlsEqual;return function(w,x,y){if(w===x)return!0;if(w==null||x==null)return!1;var j=typeof w;if(j!==typeof x)return!1;if(j!=="object")return j==="number"?o(w,x,y):j==="function"?s(w,x,y):!1;var A=w.constructor;if(A!==x.constructor)return!1;if(A===Object)return l(w,x,y);if(gF(w))return t(w,x,y);if(n_!=null&&n_(w))return m(w,x,y);if(A===Date)return r(w,x,y);if(A===RegExp)return f(w,x,y);if(A===Map)return i(w,x,y);if(A===Set)return h(w,x,y);var N=vF(w);return N===oF?r(w,x,y):N===fF?f(w,x,y):N===cF?i(w,x,y):N===hF?h(w,x,y):N===dF?typeof w.then!="function"&&typeof x.then!="function"&&l(w,x,y):N===pF?v(w,x,y):N===lF?n(w,x,y):N===sF?l(w,x,y):N===iF||N===uF||N===mF?u(w,x,y):!1}}function yF(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?ch:KD,areDatesEqual:XD,areErrorsEqual:JD,areFunctionsEqual:QD,areMapsEqual:n?JS(t_,ch):t_,areNumbersEqual:ZD,areObjectsEqual:n?ch:eF,arePrimitiveWrappersEqual:tF,areRegExpsEqual:rF,areSetsEqual:n?JS(r_,ch):r_,areTypedArraysEqual:n?ch:nF,areUrlsEqual:aF};if(r&&(s=a_({},s,r(s))),t){var i=pm(s.areArraysEqual),o=pm(s.areMapsEqual),l=pm(s.areObjectsEqual),u=pm(s.areSetsEqual);s=a_({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return s}function bF(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function wF(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(u,f){var h=n(),m=h.cache,v=m===void 0?t?new WeakMap:void 0:m,p=h.meta;return r(u,f,{cache:v,equals:s,meta:p,strict:i})};if(t)return function(u,f){return r(u,f,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(u,f){return r(u,f,o)}}var jF=Qc();Qc({strict:!0});Qc({circular:!0});Qc({circular:!0,strict:!0});Qc({createInternalComparator:function(){return rd}});Qc({strict:!0,createInternalComparator:function(){return rd}});Qc({circular:!0,createInternalComparator:function(){return rd}});Qc({circular:!0,createInternalComparator:function(){return rd},strict:!0});function Qc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=yF(e),u=xF(l),f=n?n(u):bF(u);return wF({circular:r,comparator:u,createState:s,equals:f,strict:o})}function NF(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function s_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):NF(s)};requestAnimationFrame(n)}function Fb(e){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fb(e)}function SF(e){return CF(e)||AF(e)||kF(e)||_F()}function _F(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kF(e,t){if(e){if(typeof e=="string")return i_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i_(e,t)}}function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CF(e){if(Array.isArray(e))return e}function PF(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=SF(o),u=l[0],f=l.slice(1);if(typeof u=="number"){s_(s.bind(null,f),u);return}s(u),s_(s.bind(null,f));return}Fb(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){sp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sp(e,t,r){return t=EF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EF(e){var t=LF(e,"string");return Bh(t)==="symbol"?t:String(t)}function LF(e,t){if(Bh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OF=["Webkit","Moz","O","ms"],RF=["-webkit-","-moz-","-o-","-ms-"],TF=["transform","transformOrigin","transition"],MF=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},IF=function(t){return t},DF=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},FF=function(t,r){if(TF.indexOf(t)===-1)return sp({},t,Number.isNaN(r)?0:r);var n=t==="transition",s=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=r;return OF.reduce(function(o,l,u){return n&&(i=r.replace(/(transform|transform-origin)/gim,"".concat(RF[u],"$1"))),tf(tf({},o),{},sp({},l+s,i))},{})},Ah=function(t,r){return Object.keys(r).reduce(function(n,s){return tf(tf({},n),{},sp({},s,t(s,r[s])))},{})},$b=function(t){return Object.keys(t).reduce(function(r,n){return tf(tf({},r),FF(n,r[n]))},t)},l_=function(t,r,n){return t.map(function(s){return"".concat(DF(s)," ").concat(r,"ms ").concat(n)}).join(",")};function $F(e,t){return qF(e)||UF(e,t)||RP(e,t)||BF()}function BF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function qF(e){if(Array.isArray(e))return e}function zF(e){return VF(e)||HF(e)||RP(e)||WF()}function WF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RP(e,t){if(e){if(typeof e=="string")return Bb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bb(e,t)}}function HF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VF(e){if(Array.isArray(e))return Bb(e)}function Bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ip=1e-4,TP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},MP=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},c_=function(t,r){return function(n){var s=TP(t,r);return MP(s,n)}},YF=function(t,r){return function(n){var s=TP(t,r),i=[].concat(zF(s.map(function(o,l){return o*l}).slice(1)),[0]);return MP(i,n)}},u_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),h=$F(f,4);s=h[0],i=h[1],o=h[2],l=h[3]}}}var m=c_(s,o),v=c_(i,l),p=YF(s,o),w=function(j){return j>1?1:j<0?0:j},x=function(j){for(var A=j>1?1:j,N=A,k=0;k<8;++k){var C=m(N)-A,T=p(N);if(Math.abs(C-A)<ip||T<ip)return v(N);N=w(N-C/T)}return v(N)};return x.isStepper=!1,x},GF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,u=function(h,m,v){var p=-(h-m)*n,w=v*i,x=v+(p-w)*l/1e3,y=v*l/1e3+h;return Math.abs(y-m)<ip&&Math.abs(x)<ip?[m,0]:[y,x]};return u.isStepper=!0,u.dt=l,u},KF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u_(s);case"spring":return GF();default:if(s.split("(")[0]==="cubic-bezier")return u_(s)}return typeof s=="function"?s:null};function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function d_(e){return QF(e)||JF(e)||IP(e)||XF()}function XF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QF(e){if(Array.isArray(e))return qb(e)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){Ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ub(e,t,r){return t=ZF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZF(e){var t=e$(e,"string");return Uh(t)==="symbol"?t:String(t)}function e$(e,t){if(Uh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t$(e,t){return a$(e)||n$(e,t)||IP(e,t)||r$()}function r$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IP(e,t){if(e){if(typeof e=="string")return qb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qb(e,t)}}function qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function a$(e){if(Array.isArray(e))return e}var op=function(t,r,n){return t+(r-t)*n},zb=function(t){var r=t.from,n=t.to;return r!==n},s$=function e(t,r,n){var s=Ah(function(i,o){if(zb(o)){var l=t(o.from,o.to,o.velocity),u=t$(l,2),f=u[0],h=u[1];return cs(cs({},o),{},{from:f,velocity:h})}return o},r);return n<1?Ah(function(i,o){return zb(o)?cs(cs({},o),{},{velocity:op(o.velocity,s[i].velocity,n),from:op(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const i$=(function(e,t,r,n,s){var i=MF(e,t),o=i.reduce(function(y,j){return cs(cs({},y),{},Ub({},j,[e[j],t[j]]))},{}),l=i.reduce(function(y,j){return cs(cs({},y),{},Ub({},j,{from:e[j],velocity:0,to:t[j]}))},{}),u=-1,f,h,m=function(){return null},v=function(){return Ah(function(j,A){return A.from},l)},p=function(){return!Object.values(l).filter(zb).length},w=function(j){f||(f=j);var A=j-f,N=A/r.dt;l=s$(r,l,N),s(cs(cs(cs({},e),t),v())),f=j,p()||(u=requestAnimationFrame(m))},x=function(j){h||(h=j);var A=(j-h)/n,N=Ah(function(C,T){return op.apply(void 0,d_(T).concat([r(A)]))},o);if(s(cs(cs(cs({},e),t),N)),A<1)u=requestAnimationFrame(m);else{var k=Ah(function(C,T){return op.apply(void 0,d_(T).concat([r(1)]))},o);s(cs(cs(cs({},e),t),k))}};return m=r.isStepper?w:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}});function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}var o$=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function l$(e,t){if(e==null)return{};var r=c$(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c$(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function py(e){return h$(e)||f$(e)||d$(e)||u$()}function u$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d$(e,t){if(e){if(typeof e=="string")return Wb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wb(e,t)}}function f$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h$(e){if(Array.isArray(e))return Wb(e)}function Wb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){Nh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nh(e,t,r){return t=DP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DP(n.key),n)}}function g$(e,t,r){return t&&p$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DP(e){var t=v$(e,"string");return rf(t)==="symbol"?t:String(t)}function v$(e,t){if(rf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hb(e,t)}function Hb(e,t){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hb(e,t)}function y$(e){var t=b$();return function(){var n=lp(e),s;if(t){var i=lp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Vb(this,s)}}function Vb(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yb(e)}function Yb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lp(e)}var Ju=(function(e){x$(r,e);var t=y$(r);function r(n,s){var i;m$(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,u=o.attributeName,f=o.from,h=o.to,m=o.steps,v=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Yb(i)),i.changeStyle=i.changeStyle.bind(Yb(i)),!l||p<=0)return i.state={style:{}},typeof v=="function"&&(i.state={style:h}),Vb(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof v=="function")return i.state={style:f},Vb(i);i.state={style:u?Nh({},u,f):f}}else i.state={style:{}};return i}return g$(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,u=i.attributeName,f=i.shouldReAnimate,h=i.to,m=i.from,v=this.state.style;if(l){if(!o){var p={style:u?Nh({},u,h):h};this.state&&v&&(u&&v[u]!==h||!u&&v!==h)&&this.setState(p);return}if(!(jF(s.to,h)&&s.canBegin&&s.isActive)){var w=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||f?m:s.to;if(this.state&&v){var y={style:u?Nh({},u,x):x};(u&&[u]!==x||!u&&v!==x)&&this.setState(y)}this.runAnimation(jo(jo({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,u=s.duration,f=s.easing,h=s.begin,m=s.onAnimationEnd,v=s.onAnimationStart,p=i$(o,l,KF(f),u,this.changeStyle),w=function(){i.stopJSAnimation=p()};this.manager.start([v,h,w,u,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,u=s.onAnimationStart,f=o[0],h=f.style,m=f.duration,v=m===void 0?0:m,p=function(x,y,j){if(j===0)return x;var A=y.duration,N=y.easing,k=N===void 0?"ease":N,C=y.style,T=y.properties,F=y.onAnimationEnd,M=j>0?o[j-1]:y,q=T||Object.keys(C);if(typeof k=="function"||k==="spring")return[].concat(py(x),[i.runJSAnimation.bind(i,{from:M.style,to:C,duration:A,easing:k}),A]);var G=l_(q,A,k),R=jo(jo(jo({},M.style),C),{},{transition:G});return[].concat(py(x),[R,A,F]).filter(IF)};return this.manager.start([u].concat(py(o.reduce(p,[h,Math.max(v,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=PF());var i=s.begin,o=s.duration,l=s.attributeName,u=s.to,f=s.easing,h=s.onAnimationStart,m=s.onAnimationEnd,v=s.steps,p=s.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof p=="function"||f==="spring"){this.runJSAnimation(s);return}if(v.length>1){this.runStepAnimation(s);return}var x=l?Nh({},l,u):u,y=l_(Object.keys(x),o,f);w.start([h,i,jo(jo({},x),{},{transition:y}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=l$(s,o$),f=L.Children.count(i),h=$b(this.state.style);if(typeof i=="function")return i(h);if(!l||f===0||o<=0)return i;var m=function(p){var w=p.props,x=w.style,y=x===void 0?{}:x,j=w.className,A=L.cloneElement(p,jo(jo({},u),{},{style:jo(jo({},y),h),className:j}));return A};return f===1?m(L.Children.only(i)):Te.createElement("div",null,L.Children.map(i,function(v){return m(v)}))}}]),r})(L.PureComponent);Ju.displayName="Animate";Ju.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ju.propTypes={from:kr.oneOfType([kr.object,kr.string]),to:kr.oneOfType([kr.object,kr.string]),attributeName:kr.string,duration:kr.number,begin:kr.number,easing:kr.oneOfType([kr.string,kr.func]),steps:kr.arrayOf(kr.shape({duration:kr.number.isRequired,style:kr.object.isRequired,easing:kr.oneOfType([kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kr.func]),properties:kr.arrayOf("string"),onAnimationEnd:kr.func})),children:kr.oneOfType([kr.node,kr.func]),isActive:kr.bool,canBegin:kr.bool,onAnimationEnd:kr.func,shouldReAnimate:kr.bool,onAnimationStart:kr.func,onAnimationReStart:kr.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});kr.object,kr.object,kr.object,kr.element;kr.object,kr.object,kr.object,kr.oneOfType([kr.array,kr.element]),kr.any;var gy,m_;function w$(){if(m_)return gy;m_=1;var e=v0(),t=N5(),r=Ws(),n=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(n&&i&&i[n])}return gy=s,gy}var vy,p_;function FP(){if(p_)return vy;p_=1;var e=tP(),t=w$();function r(n,s,i,o,l){var u=-1,f=n.length;for(i||(i=t),l||(l=[]);++u<f;){var h=n[u];s>0&&i(h)?s>1?r(h,s-1,i,o,l):e(l,h):o||(l[l.length]=h)}return l}return vy=r,vy}var xy,g_;function j$(){if(g_)return xy;g_=1;function e(t){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),u=l.length;u--;){var f=l[t?u:++i];if(n(o[f],f,o)===!1)break}return r}}return xy=e,xy}var yy,v_;function N$(){if(v_)return yy;v_=1;var e=j$(),t=e();return yy=t,yy}var by,x_;function $P(){if(x_)return by;x_=1;var e=N$(),t=og();function r(n,s){return n&&e(n,s,t)}return by=r,by}var wy,y_;function S$(){if(y_)return wy;y_=1;var e=w0();function t(r,n){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var o=s.length,l=n?o:-1,u=Object(s);(n?l--:++l<o)&&i(u[l],l,u)!==!1;);return s}}return wy=t,wy}var jy,b_;function O5(){if(b_)return jy;b_=1;var e=$P(),t=S$(),r=t(e);return jy=r,jy}var Ny,w_;function BP(){if(w_)return Ny;w_=1;var e=O5(),t=w0();function r(n,s){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,u,f){o[++i]=s(l,u,f)}),o}return Ny=r,Ny}var Sy,j_;function _$(){if(j_)return Sy;j_=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Sy=e,Sy}var _y,N_;function k$(){if(N_)return _y;N_=1;var e=Af();function t(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=e(r),u=n!==void 0,f=n===null,h=n===n,m=e(n);if(!f&&!m&&!l&&r>n||l&&u&&h&&!f&&!m||i&&u&&h||!s&&h||!o)return 1;if(!i&&!l&&!m&&r<n||m&&s&&o&&!i&&!l||f&&s&&o||!u&&o||!h)return-1}return 0}return _y=t,_y}var ky,S_;function A$(){if(S_)return ky;S_=1;var e=k$();function t(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,u=o.length,f=s.length;++i<u;){var h=e(o[i],l[i]);if(h){if(i>=f)return h;var m=s[i];return h*(m=="desc"?-1:1)}}return r.index-n.index}return ky=t,ky}var Ay,__;function C$(){if(__)return Ay;__=1;var e=x5(),t=y5(),r=ll(),n=BP(),s=_$(),i=nP(),o=A$(),l=Cf(),u=Ws();function f(h,m,v){m.length?m=e(m,function(x){return u(x)?function(y){return t(y,x.length===1?x[0]:x)}:x}):m=[l];var p=-1;m=e(m,i(r));var w=n(h,function(x,y,j){var A=e(m,function(N){return N(x)});return{criteria:A,index:++p,value:x}});return s(w,function(x,y){return o(x,y,v)})}return Ay=f,Ay}var Cy,k_;function P$(){if(k_)return Cy;k_=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Cy=e,Cy}var Py,A_;function E$(){if(A_)return Py;A_=1;var e=P$(),t=Math.max;function r(n,s,i){return s=t(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,u=t(o.length-s,0),f=Array(u);++l<u;)f[l]=o[s+l];l=-1;for(var h=Array(s+1);++l<s;)h[l]=o[l];return h[s]=i(f),e(n,this,h)}}return Py=r,Py}var Ey,C_;function L$(){if(C_)return Ey;C_=1;function e(t){return function(){return t}}return Ey=e,Ey}var Ly,P_;function UP(){if(P_)return Ly;P_=1;var e=td(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Ly=t,Ly}var Oy,E_;function O$(){if(E_)return Oy;E_=1;var e=L$(),t=UP(),r=Cf(),n=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return Oy=n,Oy}var Ry,L_;function R$(){if(L_)return Ry;L_=1;var e=800,t=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),u=t-(l-o);if(o=l,u>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return Ry=n,Ry}var Ty,O_;function T$(){if(O_)return Ty;O_=1;var e=O$(),t=R$(),r=t(e);return Ty=r,Ty}var My,R_;function M$(){if(R_)return My;R_=1;var e=Cf(),t=E$(),r=T$();function n(s,i){return r(t(s,i,e),s+"")}return My=n,My}var Iy,T_;function hg(){if(T_)return Iy;T_=1;var e=p5(),t=w0(),r=S5(),n=Jc();function s(i,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?t(l)&&r(o,l.length):u=="string"&&o in l)?e(l[o],i):!1}return Iy=s,Iy}var Dy,M_;function I$(){if(M_)return Dy;M_=1;var e=FP(),t=C$(),r=M$(),n=hg(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return Dy=s,Dy}var D$=I$();const R5=Qr(D$);function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function F$(e,t){return q$(e)||U$(e,t)||B$(e,t)||$$()}function $$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function q$(e){if(Array.isArray(e))return e}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){T5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function H$(e,t,r){return t&&W$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gb(e,t)}function Gb(e,t){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gb(e,t)}function Y$(e){var t=X$();return function(){var n=cp(e),s;if(t){var i=cp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return G$(this,s)}}function G$(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K$(e)}function K$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cp(e){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cp(e)}function T5(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var t=J$(e,"string");return nf(t)==="symbol"?t:String(t)}function J$(e,t){if(nf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Q$(e){return us(e)&&Ma(e[0])&&Ma(e[1])?e.join(" ~ "):e}var M5=(function(e){V$(r,e);var t=Y$(r);function r(){return z$(this,r),t.apply(this,arguments)}return H$(r,[{key:"renderContent",value:function(){var s=this.props,i=s.payload,o=s.separator,l=s.formatter,u=s.itemStyle,f=s.itemSorter;if(i&&i.length){var h={padding:0,margin:0},m=(f?R5(i,f):i).map(function(v,p){if(v.type==="none")return null;var w=Fy({display:"block",paddingTop:4,paddingBottom:4,color:v.color||"#000"},u),x=v.formatter||l||Q$,y=v.value,j=v.name;if(x&&y!=null&&j!=null){var A=x(y,j,v,p,i);if(Array.isArray(A)){var N=A,k=F$(N,2);y=k[0],j=k[1]}else y=A}return Te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(p),style:w},Ma(j)?Te.createElement("span",{className:"recharts-tooltip-item-name"},j):null,Ma(j)?Te.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,Te.createElement("span",{className:"recharts-tooltip-item-value"},y),Te.createElement("span",{className:"recharts-tooltip-item-unit"},v.unit||""))});return Te.createElement("ul",{className:"recharts-tooltip-item-list",style:h},m)}return null}},{key:"render",value:function(){var s=this.props,i=s.wrapperClassName,o=s.contentStyle,l=s.labelClassName,u=s.labelStyle,f=s.label,h=s.labelFormatter,m=s.payload,v=Fy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),p=Fy({margin:0},u),w=!cr(f),x=w?f:"",y=_n("recharts-default-tooltip",i),j=_n("recharts-tooltip-label",l);return w&&h&&m!==void 0&&m!==null&&(x=h(f,m)),Te.createElement("div",{className:y,style:v},Te.createElement("p",{className:j,style:p},Te.isValidElement(x)?x:"".concat(x)),this.renderContent())}}]),r})(L.PureComponent);T5(M5,"displayName","DefaultTooltipContent");T5(M5,"defaultProps",{separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}});var Z$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pf={isSsr:Z$()};function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(n){Sh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sh(e,t,r){return t=eB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return qh(t)==="symbol"?t:String(t)}function tB(e,t){if(qh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gm(e,t){return sB(e)||aB(e,t)||nB(e,t)||rB()}function rB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nB(e,t){if(e){if(typeof e=="string")return $_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $_(e,t)}}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function sB(e){if(Array.isArray(e))return e}var uh="recharts-tooltip-wrapper",B_=1;function iB(e){return e.dataKey}function oB(e,t){return e===!0?Xm(t,iB):ur(e)?Xm(t,e):t}function lB(e,t){return Te.isValidElement(e)?Te.cloneElement(e,t):ur(e)?Te.createElement(e,t):Te.createElement(M5,t)}var cB={active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x:0,y:0,height:0,width:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Pf.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1},ci=function(t){var r,n=L.useState(-1),s=gm(n,2),i=s[0],o=s[1],l=L.useState(-1),u=gm(l,2),f=u[0],h=u[1],m=L.useState(!1),v=gm(m,2),p=v[0],w=v[1],x=L.useState({x:0,y:0}),y=gm(x,2),j=y[0],A=y[1],N=L.useRef(),k=t.allowEscapeViewBox,C=t.reverseDirection,T=t.coordinate,F=t.offset,M=t.position,q=t.viewBox,G=L.useCallback(function(pe){pe.key==="Escape"&&(w(!0),A(function(ce){return $l($l({},ce),{},{x:T.x,y:T.y})}))},[T.x,T.y]);L.useEffect(function(){var pe=function(){if(p?(document.removeEventListener("keydown",G),(T.x!==j.x||T.y!==j.y)&&w(!1)):document.addEventListener("keydown",G),N.current&&N.current.getBoundingClientRect){var me=N.current.getBoundingClientRect();(Math.abs(me.width-i)>B_||Math.abs(me.height-f)>B_)&&(o(me.width),h(me.height))}else(i!==-1||f!==-1)&&(o(-1),h(-1))};return pe(),function(){document.removeEventListener("keydown",G)}},[f,i,T.x,T.y,p,j.x,j.y,G]);var R=function(ce){var me=ce.key,_e=ce.tooltipDimension,se=ce.viewBoxDimension;if(M&&Nt(M[me]))return M[me];var ye=T[me]-_e-F,fe=T[me]+F;if(k!=null&&k[me])return C[me]?ye:fe;if(C!=null&&C[me]){var V=ye,Re=q[me];return V<Re?Math.max(fe,q[me]):Math.max(ye,q[me])}var Je=fe+_e,nt=q[me]+se;return Je>nt?Math.max(ye,q[me]):Math.max(fe,q[me])},D=t.payload,z=t.payloadUniqBy,W=t.filterNull,Z=t.active,le=t.wrapperStyle,ge=t.useTranslate3d,te=t.isAnimationActive,ue=t.animationDuration,H=t.animationEasing,ae=oB(z,W&&D&&D.length?D.filter(function(pe){return!cr(pe.value)}):D),U=ae&&ae.length,B=t.content,Y=$l({pointerEvents:"none",visibility:!p&&Z&&U?"visible":"hidden",position:"absolute",top:0,left:0},le),ne,he;M&&Nt(M.x)&&Nt(M.y)?(ne=M.x,he=M.y):i>0&&f>0&&T?(ne=R({key:"x",tooltipDimension:i,viewBoxDimension:q.width}),he=R({key:"y",tooltipDimension:f,viewBoxDimension:q.height})):Y.visibility="hidden",Y=$l($l({},$b({transform:ge?"translate3d(".concat(ne,"px, ").concat(he,"px, 0)"):"translate(".concat(ne,"px, ").concat(he,"px)")})),Y),te&&Z&&(Y=$l($l({},$b({transition:"transform ".concat(ue,"ms ").concat(H)})),Y));var Q=_n(uh,(r={},Sh(r,"".concat(uh,"-right"),Nt(ne)&&T&&Nt(T.x)&&ne>=T.x),Sh(r,"".concat(uh,"-left"),Nt(ne)&&T&&Nt(T.x)&&ne<T.x),Sh(r,"".concat(uh,"-bottom"),Nt(he)&&T&&Nt(T.y)&&he>=T.y),Sh(r,"".concat(uh,"-top"),Nt(he)&&T&&Nt(T.y)&&he<T.y),r));return Te.createElement("div",{tabIndex:-1,role:"dialog",className:Q,style:Y,ref:N},lB(B,$l($l({},t),{},{payload:ae})))};ci.displayName="Tooltip";ci.defaultProps=cB;var uB=u8(),$y,U_;function dB(){if(U_)return $y;U_=1;var e=ol(),t=function(){return e.Date.now()};return $y=t,$y}var By,q_;function fB(){if(q_)return By;q_=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return By=t,By}var Uy,z_;function hB(){if(z_)return Uy;z_=1;var e=fB(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Uy=r,Uy}var qy,W_;function zP(){if(W_)return qy;W_=1;var e=hB(),t=Jc(),r=Af(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=t(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=i.test(f);return m||o.test(f)?l(f.slice(2),m?2:8):s.test(f)?n:+f}return qy=u,qy}var zy,H_;function WP(){if(H_)return zy;H_=1;var e=Jc(),t=dB(),r=zP(),n="Expected a function",s=Math.max,i=Math.min;function o(l,u,f){var h,m,v,p,w,x,y=0,j=!1,A=!1,N=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,e(f)&&(j=!!f.leading,A="maxWait"in f,v=A?s(r(f.maxWait)||0,u):v,N="trailing"in f?!!f.trailing:N);function k(z){var W=h,Z=m;return h=m=void 0,y=z,p=l.apply(Z,W),p}function C(z){return y=z,w=setTimeout(M,u),j?k(z):p}function T(z){var W=z-x,Z=z-y,le=u-W;return A?i(le,v-Z):le}function F(z){var W=z-x,Z=z-y;return x===void 0||W>=u||W<0||A&&Z>=v}function M(){var z=t();if(F(z))return q(z);w=setTimeout(M,T(z))}function q(z){return w=void 0,N&&h?k(z):(h=m=void 0,p)}function G(){w!==void 0&&clearTimeout(w),y=0,h=x=m=w=void 0}function R(){return w===void 0?p:q(t())}function D(){var z=t(),W=F(z);if(h=arguments,m=this,x=z,W){if(w===void 0)return C(x);if(A)return clearTimeout(w),w=setTimeout(M,u),k(x)}return w===void 0&&(w=setTimeout(M,u)),p}return D.cancel=G,D.flush=R,D}return zy=o,zy}var mB=WP();const pB=Qr(mB);var Wy,V_;function gB(){if(V_)return Wy;V_=1;var e=WP(),t=Jc(),r="Expected a function";function n(s,i,o){var l=!0,u=!0;if(typeof s!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),e(s,i,{leading:l,maxWait:i,trailing:u})}return Wy=n,Wy}var vB=gB();const HP=Qr(vB);var Kb=function(e,t){return Kb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Kb(e,t)};function xB(e,t){Kb(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function yB(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var bB=function(e,t,r,n){switch(t){case"debounce":return pB(e,r,n);case"throttle":return HP(e,r,n);default:return e}},Y_=function(e){return typeof e=="function"},dh=function(){return typeof window>"u"},G_=function(e){return e instanceof Element||e instanceof HTMLDocument},wB=function(e,t,r){return function(n){var s=n.width,i=n.height;e(function(o){return o.width===s&&o.height===i||o.width===s&&!r||o.height===i&&!t?o:{width:s,height:i}})}},jB=(function(e){xB(t,e);function t(r){var n=e.call(this,r)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var f=n.props,h=f.targetRef,m=f.observerOptions;if(!dh()){h&&h.current&&(n.targetRef.current=h.current);var v=n.getElement();v&&(n.observableElement&&n.observableElement===v||(n.observableElement=v,n.resizeObserver.observe(v,m)))}},n.getElement=function(){var f=n.props,h=f.querySelector,m=f.targetDomEl;if(dh())return null;if(h)return document.querySelector(h);if(m&&G_(m))return m;if(n.targetRef&&G_(n.targetRef.current))return n.targetRef.current;var v=uB.findDOMNode(n);if(!v)return null;var p=n.getRenderType();switch(p){case"renderProp":return v;case"childFunction":return v;case"child":return v;case"childArray":return v;default:return v.parentElement}},n.createResizeHandler=function(f){var h=n.props,m=h.handleWidth,v=m===void 0?!0:m,p=h.handleHeight,w=p===void 0?!0:p,x=h.onResize;if(!(!v&&!w)){var y=wB(function(j){return n.setState(j,function(){return x?.(n.state.width,n.state.height)})},v,w);f.forEach(function(j){var A=j&&j.contentRect||{},N=A.width,k=A.height,C=!n.skipOnMount&&!dh();C&&y({width:N,height:k}),n.skipOnMount=!1})}},n.getRenderType=function(){var f=n.props,h=f.render,m=f.children;return Y_(h)?"renderProp":Y_(m)?"childFunction":L.isValidElement(m)?"child":Array.isArray(m)?"childArray":"parent"};var s=r.skipOnMount,i=r.refreshMode,o=r.refreshRate,l=o===void 0?1e3:o,u=r.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=s,n.targetRef=L.createRef(),n.observableElement=null,dh()||(n.resizeHandler=bB(n.createResizeHandler,i,l,u),n.resizeObserver=new window.ResizeObserver(n.resizeHandler)),n}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){dh()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var r=this.props,n=r.render,s=r.children,i=r.nodeType,o=i===void 0?"div":i,l=this.state,u=l.width,f=l.height,h={width:u,height:f,targetRef:this.targetRef},m=this.getRenderType();switch(m){case"renderProp":return n?.(h);case"childFunction":{var v=s;return v?.(h)}case"child":{var p=s;if(p.type&&typeof p.type=="string"){h.targetRef;var w=yB(h,["targetRef"]);return L.cloneElement(p,w)}return L.cloneElement(p,h)}case"childArray":{var x=s;return x.map(function(y){return!!y&&L.cloneElement(y,h)})}default:return Te.createElement(o,null)}},t})(L.PureComponent),Wc=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(this,arguments)}function NB(e,t){return AB(e)||kB(e,t)||_B(e,t)||SB()}function SB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _B(e,t){if(e){if(typeof e=="string")return K_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K_(e,t)}}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function AB(e){if(Array.isArray(e))return e}var Yc=L.forwardRef(function(e,t){var r=e.aspect,n=e.width,s=n===void 0?"100%":n,i=e.height,o=i===void 0?"100%":i,l=e.minWidth,u=l===void 0?0:l,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,w=e.id,x=e.className,y=e.onResize,j=L.useState({containerWidth:-1,containerHeight:-1}),A=NB(j,2),N=A[0],k=A[1],C=L.useRef(null);L.useImperativeHandle(t,function(){return C},[C]);var T=L.useCallback(function(){return C.current?{containerWidth:C.current.clientWidth,containerHeight:C.current.clientHeight}:null},[]),F=L.useCallback(function(){var G=T();if(G){var R=G.containerWidth,D=G.containerHeight;y&&y(R,D),k(function(z){var W=z.containerWidth,Z=z.containerHeight;return R!==W||D!==Z?{containerWidth:R,containerHeight:D}:z})}},[T,y]),M=L.useMemo(function(){var G=N.containerWidth,R=N.containerHeight;if(G<0||R<0)return null;Wc(Bu(s)||Bu(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,o),Wc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Bu(s)?G:s,z=Bu(o)?R:o;return r&&r>0&&(D?z=D/r:z&&(D=z*r),h&&z>h&&(z=h)),Wc(D>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,z,s,o,u,f,r),L.cloneElement(m,{width:D,height:z})},[r,m,o,h,f,u,N,s]);L.useEffect(function(){var G=T();G&&k(G)},[T]);var q={width:s,height:o,minWidth:u,minHeight:f,maxHeight:h};return Te.createElement(jB,{handleWidth:!0,handleHeight:!0,onResize:F,targetRef:C,refreshMode:p>0?"debounce":void 0,refreshRate:p},Te.createElement("div",Xb({},w!=null?{id:"".concat(w)}:{},{className:_n("recharts-responsive-container",x),style:q,ref:C}),M))}),j0=function(t){return null};j0.displayName="Cell";var vm={exports:{}},Hy,X_;function CB(){if(X_)return Hy;X_=1;var e=40,t=41,r=39,n=34,s=92,i=47,o=44,l=58,u=42;return Hy=function(f){for(var h=[],m=f,v,p,w,x,y,j,A,N=0,k=m.charCodeAt(N),C=m.length,T=[{nodes:h}],F=0,M,q="",G="",R="";N<C;)if(k<=32){v=N;do v+=1,k=m.charCodeAt(v);while(k<=32);x=m.slice(N,v),w=h[h.length-1],k===t&&F?R=x:w&&w.type==="div"?w.after=x:k===o||k===l||k===i&&m.charCodeAt(v+1)!==u?G=x:h.push({type:"space",sourceIndex:N,value:x}),N=v}else if(k===r||k===n){v=N,p=k===r?"'":'"',x={type:"string",sourceIndex:N,quote:p};do if(y=!1,v=m.indexOf(p,v+1),~v)for(j=v;m.charCodeAt(j-1)===s;)j-=1,y=!y;else m+=p,v=m.length-1,x.unclosed=!0;while(y);x.value=m.slice(N+1,v),h.push(x),N=v+1,k=m.charCodeAt(N)}else if(k===i&&m.charCodeAt(N+1)===u)x={type:"comment",sourceIndex:N},v=m.indexOf("*/",N),v===-1&&(x.unclosed=!0,v=m.length),x.value=m.slice(N+2,v),h.push(x),N=v+2,k=m.charCodeAt(N);else if(k===i||k===o||k===l)x=m[N],h.push({type:"div",sourceIndex:N-G.length,value:x,before:G,after:""}),G="",N+=1,k=m.charCodeAt(N);else if(e===k){v=N;do v+=1,k=m.charCodeAt(v);while(k<=32);if(x={type:"function",sourceIndex:N-q.length,value:q,before:m.slice(N+1,v)},N=v,q==="url"&&k!==r&&k!==n){v-=1;do if(y=!1,v=m.indexOf(")",v+1),~v)for(j=v;m.charCodeAt(j-1)===s;)j-=1,y=!y;else m+=")",v=m.length-1,x.unclosed=!0;while(y);A=v;do A-=1,k=m.charCodeAt(A);while(k<=32);N!==A+1?x.nodes=[{type:"word",sourceIndex:N,value:m.slice(N,A+1)}]:x.nodes=[],x.unclosed&&A+1!==v?(x.after="",x.nodes.push({type:"space",sourceIndex:A+1,value:m.slice(A+1,v)})):x.after=m.slice(A+1,v),N=v+1,k=m.charCodeAt(N),h.push(x)}else F+=1,x.after="",h.push(x),T.push(x),h=x.nodes=[],M=x;q=""}else if(t===k&&F)N+=1,k=m.charCodeAt(N),M.after=R,R="",F-=1,T.pop(),M=T[F],h=M.nodes;else{v=N;do k===s&&(v+=1),v+=1,k=m.charCodeAt(v);while(v<C&&!(k<=32||k===r||k===n||k===o||k===l||k===i||k===e||k===t&&F));x=m.slice(N,v),e===k?q=x:h.push({type:"word",sourceIndex:N,value:x}),N=v}for(N=T.length-1;N;N-=1)T[N].unclosed=!0;return T[0].nodes},Hy}var Vy,J_;function PB(){return J_||(J_=1,Vy=function e(t,r,n){var s,i,o,l;for(s=0,i=t.length;s<i;s+=1)o=t[s],n||(l=r(o,s,t)),l!==!1&&o.type==="function"&&Array.isArray(o.nodes)&&e(o.nodes,r,n),n&&r(o,s,t)}),Vy}var Yy,Q_;function EB(){if(Q_)return Yy;Q_=1;function e(r,n){var s=r.type,i=r.value,o,l;return n&&(l=n(r))!==void 0?l:s==="word"||s==="space"?i:s==="string"?(o=r.quote||"",o+i+(r.unclosed?"":o)):s==="comment"?"/*"+i+(r.unclosed?"":"*/"):s==="div"?(r.before||"")+i+(r.after||""):Array.isArray(r.nodes)?(o=t(r.nodes),s!=="function"?o:i+"("+(r.before||"")+o+(r.after||"")+(r.unclosed?"":")")):i}function t(r,n){var s,i;if(Array.isArray(r)){for(s="",i=r.length-1;~i;i-=1)s=e(r[i],n)+s;return s}return e(r,n)}return Yy=t,Yy}var Gy,Z_;function LB(){if(Z_)return Gy;Z_=1;var e=45,t=43,r=46,n=101,s=69;return Gy=function(i){for(var o=0,l=i.length,u=!1,f=-1,h=!1,m;o<l;){if(m=i.charCodeAt(o),m>=48&&m<=57)h=!0;else if(m===n||m===s){if(f>-1)break;f=o}else if(m===r){if(u)break;u=!0}else if(m===t||m===e){if(o!==0)break}else break;o+=1}return f+1===o&&o--,h?{number:i.slice(0,o),unit:i.slice(o)}:!1},Gy}var Ky,e6;function OB(){if(e6)return Ky;e6=1;var e=CB(),t=PB(),r=EB();function n(s){return this instanceof n?(this.nodes=e(s),this):new n(s)}return n.prototype.toString=function(){return Array.isArray(this.nodes)?r(this.nodes):""},n.prototype.walk=function(s,i){return t(this.nodes,s,i),this},n.unit=LB(),n.walk=t,n.stringify=r,Ky=n,Ky}function RB(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xy={},t6;function TB(){return t6||(t6=1,(function(e){var t=(function(){function r(v,p){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),v==null&&(v="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:v}),this.hash=p;var w;if(p&&p.exception instanceof Error){var x=p.exception;this.message=x.message||v,w=x.stack}w||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):w=new Error(v).stack),w&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:w})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(r.prototype,Error.prototype):r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.name="JisonParserError";function n(v){for(var p=[],w=v.pop,x=v.rule,y=0,j=w.length;y<j;y++)p.push([w[y],x[y]]);return p}function s(v){for(var p={},w=v.idx,x=v.goto,y=0,j=w.length;y<j;y++){var A=w[y];p[A]=x[y]}return p}function i(v){for(var p=[],w=v.len,x=v.symbol,y=v.type,j=v.state,A=v.mode,N=v.goto,k=0,C=w.length;k<C;k++){for(var T=w[k],F={},M=0;M<T;M++){var q=x.shift();switch(y.shift()){case 2:F[q]=[A.shift(),N.shift()];break;case 0:F[q]=j.shift();break;default:F[q]=[3]}}p.push(F)}return p}function o(v,p,w){w=w||0;for(var x=0;x<p;x++)this.push(v),v+=w}function l(v,p){for(v=this.length-v,p+=v;v<p;v++)this.push(this[v])}function u(v){for(var p=[],w=0,x=v.length;w<x;w++){var y=v[w];typeof y=="function"?(w++,y.apply(p,v[w])):p.push(y)}return p}var f={trace:function(){},JisonParserError:r,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(p){return'"'+p+'"'},getSymbolName:function(p){if(this.terminals_[p])return this.terminals_[p];var w=this.symbols_;for(var x in w)if(w[x]===p)return x;return null},describeSymbol:function(p){if(p!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[p])return this.terminal_descriptions_[p];if(p===this.EOF)return"end of input";var w=this.getSymbolName(p);return w?this.quoteName(w):null},collect_expected_token_set:function(p,w){var x=this.TERROR,y=[],j={};if(!w&&this.state_descriptions_&&this.state_descriptions_[p])return[this.state_descriptions_[p]];for(var A in this.table[p])if(A=+A,A!==x){var N=w?A:this.describeSymbol(A);N&&!j[N]&&(y.push(N),j[N]=!0)}return y},productions_:n({pop:u([29,o,[30,10],31,31,32,32,o,[33,15]]),rule:u([2,o,[3,5],4,7,o,[1,4],2,4,6,o,[1,14],2])}),performAction:function(p,w,x){var y=this.yy;switch(y.parser,y.lexer,p){case 0:this.$=x[w-1];break;case 1:return this.$=x[w-1],x[w-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:x[w-1],left:x[w-2],right:x[w]};break;case 6:this.$=x[w-1];break;case 7:this.$={type:"Calc",value:x[w-1]};break;case 8:this.$={type:"Calc",value:x[w-1],prefix:x[w-5]};break;case 9:case 10:case 11:this.$=x[w];break;case 12:this.$={type:"Value",value:parseFloat(x[w])};break;case 13:this.$={type:"Value",value:parseFloat(x[w])*-1};break;case 14:this.$={type:"CssVariable",value:x[w-1]};break;case 15:this.$={type:"CssVariable",value:x[w-3],fallback:x[w-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(x[w]),unit:/[a-z]+/.exec(x[w])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(x[w]),unit:/[a-z]+/.exec(x[w])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(x[w]),unit:/[a-z]+/.exec(x[w])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(x[w]),unit:/[a-z]+/.exec(x[w])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(x[w]),unit:/[a-z]+/.exec(x[w])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(x[w]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(x[w]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(x[w]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(x[w]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(x[w]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(x[w]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(x[w]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(x[w]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(x[w]),unit:"%"};break;case 30:var j=x[w];j.value*=-1,this.$=j;break}},table:i({len:u([24,1,5,23,1,18,o,[0,3],1,o,[0,16],o,[23,4],l,[28,3],0,0,16,1,6,6,o,[0,3],5,1,2,l,[37,3],l,[20,3],5,0,0]),symbol:u([4,7,9,11,12,o,[15,19,1],1,1,o,[3,4,1],l,[30,19],l,[29,4],7,4,10,11,l,[22,14],l,[19,3],l,[43,22],l,[23,69],l,[139,4],8,l,[51,24],4,l,[138,15],13,l,[186,5],8,l,[6,6],l,[5,5],9,8,14,l,[159,47],l,[60,10]]),type:u([o,[2,19],o,[0,5],1,o,[2,24],o,[0,4],l,[22,19],l,[43,42],l,[23,70],l,[28,25],l,[45,25],l,[113,54]]),state:u([1,2,8,6,7,30,l,[4,3],33,37,l,[5,3],38,l,[4,3],39,l,[4,3],40,l,[4,3],42,l,[21,4],50,l,[5,3],51,l,[4,3]]),mode:u([o,[1,179],o,[2,3],l,[5,5],l,[6,4],o,[1,57]]),goto:u([5,3,4,24,o,[9,15,1],o,[25,5,1],l,[24,19],31,35,32,34,l,[18,14],36,l,[38,19],l,[19,57],l,[118,4],41,l,[24,19],43,35,l,[16,14],44,o,[2,3],28,29,2,o,[3,3],28,29,3,l,[53,4],o,[45,5,1],l,[100,42],52,l,[5,4],53])}),defaultActions:s({idx:u([6,7,8,o,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:u([9,10,11,o,[16,14,1],12,1,30,13,o,[4,4,1],14,15,8])}),parseError:function(p,w,x){if(w.recoverable)typeof this.trace=="function"&&this.trace(p),w.destroy();else throw typeof this.trace=="function"&&this.trace(p),x||(x=this.JisonParserError),new x(p,w)},parse:function(p){var w=this,x=new Array(128),y=new Array(128),j=new Array(128),A=this.table,N=0,k=0;this.TERROR;var C=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var T=[0,54],F;this.__lexer__?F=this.__lexer__:F=this.__lexer__=Object.create(this.lexer);var M={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return M};function q(pe,ce){for(var me in ce)typeof pe[me]>"u"&&Object.prototype.hasOwnProperty.call(ce,me)&&(pe[me]=ce[me])}q(M,this.yy),M.lexer=F,M.parser=this,typeof M.parseError=="function"?this.parseError=function(ce,me,_e){return _e||(_e=this.JisonParserError),M.parseError.call(this,ce,me,_e)}:this.parseError=this.originalParseError,typeof M.quoteName=="function"?this.quoteName=function(ce){return M.quoteName.call(this,ce)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(ce,me,_e){var se;if(me){var ye;(M.post_parse||this.post_parse)&&(ye=this.constructParseErrorInfo(null,null,null,!1)),M.post_parse&&(se=M.post_parse.call(this,M,ce,ye),typeof se<"u"&&(ce=se)),this.post_parse&&(se=this.post_parse.call(this,M,ce,ye),typeof se<"u"&&(ce=se)),ye&&ye.destroy&&ye.destroy()}if(this.__reentrant_call_depth>1)return ce;if(F.cleanupAfterLex&&F.cleanupAfterLex(_e),M&&(M.lexer=void 0,M.parser=void 0,F.yy===M&&(F.yy=void 0)),M=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,x.length=0,y.length=0,j.length=0,N=0,!_e){for(var fe=this.__error_infos.length-1;fe>=0;fe--){var V=this.__error_infos[fe];V&&typeof V.destroy=="function"&&V.destroy()}this.__error_infos.length=0}return ce},this.constructParseErrorInfo=function(ce,me,_e,se){var ye={errStr:ce,exception:me,text:F.match,value:F.yytext,token:this.describeSymbol(k)||k,token_id:k,line:F.yylineno,expected:_e,recoverable:se,state:z,action:W,new_state:ae,symbol_stack:x,state_stack:y,value_stack:j,stack_pointer:N,yy:M,lexer:F,parser:this,destroy:function(){var V=!!this.recoverable;for(var Re in this)this.hasOwnProperty(Re)&&typeof Re=="object"&&(this[Re]=void 0);this.recoverable=V}};return this.__error_infos.push(ye),ye};function G(){var pe=F.lex();return typeof pe!="number"&&(pe=w.symbols_[pe]||pe),pe||C}function R(){var pe=F.fastLex();return typeof pe!="number"&&(pe=w.symbols_[pe]||pe),pe||C}var D=G,z,W,Z,le,ge={$:!0,_$:void 0,yy:M},te,ue,H,ae,U=!1;try{if(this.__reentrant_call_depth++,F.setInput(p,M),typeof F.canIUse=="function"){var B=F.canIUse();B.fastLex&&typeof R=="function"&&(D=R)}for(j[N]=null,y[N]=0,x[N]=0,++N,this.pre_parse&&this.pre_parse.call(this,M),M.pre_parse&&M.pre_parse.call(this,M),ae=y[N-1];;){if(z=ae,this.defaultActions[z])W=2,ae=this.defaultActions[z];else if(k||(k=D()),le=A[z]&&A[z][k]||T,ae=le[1],W=le[0],!W){var Y,ne=this.describeSymbol(k)||k,he=this.collect_expected_token_set(z);typeof F.yylineno=="number"?Y="Parse error on line "+(F.yylineno+1)+": ":Y="Parse error: ",typeof F.showPosition=="function"&&(Y+=`
`+F.showPosition(69,10)+`
`),he.length?Y+="Expecting "+he.join(", ")+", got unexpected "+ne:Y+="Unexpected "+ne,te=this.constructParseErrorInfo(Y,null,he,!1),Z=this.parseError(te.errStr,te,this.JisonParserError),typeof Z<"u"&&(U=Z);break}switch(W){default:if(W instanceof Array){te=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+z+", token: "+k,null,null,!1),Z=this.parseError(te.errStr,te,this.JisonParserError),typeof Z<"u"&&(U=Z);break}te=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),Z=this.parseError(te.errStr,te,this.JisonParserError),typeof Z<"u"&&(U=Z);break;case 1:x[N]=k,j[N]=F.yytext,y[N]=ae,++N,k=0;continue;case 2:if(H=this.productions_[ae-1],ue=H[1],Z=this.performAction.call(ge,ae,N-1,j),typeof Z<"u"){U=Z;break}N-=ue;var Q=H[0];x[N]=Q,j[N]=ge.$,ae=A[y[N-1]][Q],y[N]=ae,++N;continue;case 3:N!==-2&&(U=!0,N--,typeof j[N]<"u"&&(U=j[N]));break}break}}catch(pe){if(pe instanceof this.JisonParserError)throw pe;if(F&&typeof F.JisonLexerError=="function"&&pe instanceof F.JisonLexerError)throw pe;te=this.constructParseErrorInfo("Parsing aborted due to exception.",pe,null,!1),U=!1,Z=this.parseError(te.errStr,te,this.JisonParserError),typeof Z<"u"&&(U=Z)}finally{U=this.cleanupAfterParse(U,!0,!0),this.__reentrant_call_depth--}return U}};f.originalParseError=f.parseError,f.originalQuoteName=f.quoteName;var h=(function(){function v(w,x){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),w==null&&(w="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:w}),this.hash=x;var y;if(x&&x.exception instanceof Error){var j=x.exception;this.message=j.message||w,y=j.stack}y||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):y=new Error(w).stack),y&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:y})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(v.prototype,Error.prototype):v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v.prototype.name="JisonLexerError";var p={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(x,y,j){if(x=""+x,j==null&&(j=!(x.indexOf(`
`)>0&&x.indexOf("^")>0)),this.yylloc&&j){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(x)||(x+=`
`),x+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var A=this.showPosition();A&&(x.length&&x[x.length-1]!==`
`&&A[0]!==`
`?x+=`
`+A:x+=A)}}var N={errStr:x,recoverable:!!y,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var C=!!this.recoverable;for(var T in this)this.hasOwnProperty(T)&&typeof T=="object"&&(this[T]=void 0);this.recoverable=C}};return this.__error_infos.push(N),N},parseError:function(x,y,j){if(j||(j=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,x,y,j)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,x,y,j)||this.ERROR}throw new j(x,y)},yyerror:function(x){var y="";this.yylloc&&(y=" on line "+(this.yylineno+1));var j=this.constructLexErrorInfo("Lexical error"+y+": "+x,this.options.lexerErrorsAreRecoverable),A=Array.prototype.slice.call(arguments,1);return A.length&&(j.extra_error_attributes=A),this.parseError(j.errStr,j,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(x){if(this.setInput("",{}),!x){for(var y=this.__error_infos.length-1;y>=0;y--){var j=this.__error_infos[y];j&&typeof j.destroy=="function"&&j.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var x=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:x,last_line:this.yylineno+1,last_column:x,range:[this.offset,this.offset]}},setInput:function(x,y){if(this.yy=y||this.yy||{},!this.__decompressed){for(var j=this.rules,A=0,N=j.length;A<N;A++){var k=j[A];typeof k=="number"&&(j[A]=j[k])}var C=this.conditions;for(var T in C){for(var F=C[T],M=F.rules,N=M.length,q=new Array(N+1),G=new Array(N+1),A=0;A<N;A++){var R=M[A],k=j[R];q[A+1]=k,G[A+1]=R}F.rules=G,F.__rule_regexes=q,F.__rule_count=N}this.__decompressed=!0}return this._input=x||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(x,y){var j=x.call(this,this._input,y);return typeof j!="string"?j&&(this._input=""+j):this._input=j,this},input:function(){if(!this._input)return null;var x=this._input[0];this.yytext+=x,this.yyleng++,this.offset++,this.match+=x,this.matched+=x;var y=1,j=!1;if(x===`
`)j=!0;else if(x==="\r"){j=!0;var A=this._input[1];A===`
`&&(y++,x+=A,this.yytext+=A,this.yyleng++,this.offset++,this.match+=A,this.matched+=A,this.yylloc.range[1]++)}return j?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(y),x},unput:function(x){var y=x.length,j=x.split(/(?:\r\n?|\n)/g);if(this._input=x+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-y),this.yyleng=this.yytext.length,this.offset-=y,this.match=this.match.substr(0,this.match.length-y),this.matched=this.matched.substr(0,this.matched.length-y),j.length>1){this.yylineno-=j.length-1,this.yylloc.last_line=this.yylineno+1;var A=this.match,N=A.split(/(?:\r\n?|\n)/g);N.length===1&&(A=this.matched,N=A.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=N[N.length-1].length}else this.yylloc.last_column-=y;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var x="";this.yylloc&&(x=" on line "+(this.yylineno+1));var y=this.constructLexErrorInfo("Lexical error"+x+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(y.errStr,y,this.JisonLexerError)||this.ERROR}return this},less:function(x){return this.unput(this.match.slice(x))},pastInput:function(x,y){var j=this.matched.substring(0,this.matched.length-this.match.length);x<0?x=j.length:x||(x=20),y<0?y=j.length:y||(y=1),j=j.substr(-x*2-2);var A=j.replace(/\r\n|\r/g,`
`).split(`
`);return A=A.slice(-y),j=A.join(`
`),j.length>x&&(j="..."+j.substr(-x)),j},upcomingInput:function(x,y){var j=this.match;x<0?x=j.length+this._input.length:x||(x=20),y<0?y=x:y||(y=1),j.length<x*2+2&&(j+=this._input.substring(0,x*2+2));var A=j.replace(/\r\n|\r/g,`
`).split(`
`);return A=A.slice(0,y),j=A.join(`
`),j.length>x&&(j=j.substring(0,x)+"..."),j},showPosition:function(x,y){var j=this.pastInput(x).replace(/\s/g," "),A=new Array(j.length+1).join("-");return j+this.upcomingInput(y).replace(/\s/g," ")+`
`+A+"^"},deriveLocationInfo:function(x,y,j,A){var N={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return x&&(N.first_line=x.first_line|0,N.last_line=x.last_line|0,N.first_column=x.first_column|0,N.last_column=x.last_column|0,x.range&&(N.range[0]=x.range[0]|0,N.range[1]=x.range[1]|0)),(N.first_line<=0||N.last_line<N.first_line)&&(N.first_line<=0&&y&&(N.first_line=y.last_line|0,N.first_column=y.last_column|0,y.range&&(N.range[0]=x.range[1]|0)),(N.last_line<=0||N.last_line<N.first_line)&&j&&(N.last_line=j.first_line|0,N.last_column=j.first_column|0,j.range&&(N.range[1]=x.range[0]|0)),N.first_line<=0&&A&&(N.last_line<=0||A.last_line<=N.last_line)&&(N.first_line=A.first_line|0,N.first_column=A.first_column|0,A.range&&(N.range[0]=A.range[0]|0)),N.last_line<=0&&A&&(N.first_line<=0||A.first_line>=N.first_line)&&(N.last_line=A.last_line|0,N.last_column=A.last_column|0,A.range&&(N.range[1]=A.range[1]|0))),N.last_line<=0&&(N.first_line<=0?(N.first_line=this.yylloc.first_line,N.last_line=this.yylloc.last_line,N.first_column=this.yylloc.first_column,N.last_column=this.yylloc.last_column,N.range[0]=this.yylloc.range[0],N.range[1]=this.yylloc.range[1]):(N.last_line=this.yylloc.last_line,N.last_column=this.yylloc.last_column,N.range[1]=this.yylloc.range[1])),N.first_line<=0&&(N.first_line=N.last_line,N.first_column=0,N.range[1]=N.range[0]),N.first_column<0&&(N.first_column=0),N.last_column<0&&(N.last_column=N.first_column>0?N.first_column:80),N},prettyPrintRange:function(x,y,j){x=this.deriveLocationInfo(x,y,j);const A=3,N=1,k=2;var C=this.matched+this._input,T=C.split(`
`),F=Math.max(1,y?y.first_line:x.first_line-A),M=Math.max(1,j?j.last_line:x.last_line+N),q=1+Math.log10(M|1)|0,G=new Array(q).join(" "),R=[],D=T.slice(F-1,M+1).map(function(ge,te){var ue=te+F,H=(G+ue).substr(-q),ae=H+": "+ge,U=new Array(q+1).join("^"),B=3,Y=0;if(ue===x.first_line?(B+=x.first_column,Y=Math.max(2,(ue===x.last_line?x.last_column:ge.length)-x.first_column+1)):ue===x.last_line?Y=Math.max(2,x.last_column+1):ue>x.first_line&&ue<x.last_line&&(Y=Math.max(2,ge.length+1)),Y){var ne=new Array(B).join("."),he=new Array(Y).join("^");ae+=`
`+U+ne+he,ge.trim().length>0&&R.push(te)}return ae=ae.replace(/\t/g," "),ae});if(R.length>2*k){var z=R[k-1]+1,W=R[R.length-k]-1,Z=new Array(q+1).join(" ")+"  (...continued...)";Z+=`
`+new Array(q+1).join("-")+"  (---------------)",D.splice(z,W-z+1,Z)}return D.join(`
`)},describeYYLLOC:function(x,y){var j=x.first_line,A=x.last_line,N=x.first_column,k=x.last_column,C=A-j,T=k-N,F;if(C===0?(F="line "+j+", ",T<=1?F+="column "+N:F+="columns "+N+" .. "+k):F="lines "+j+"(column "+N+") .. "+A+"(column "+k+")",x.range&&y){var M=x.range[0],q=x.range[1]-1;q<=M?F+=" {String Offset: "+M+"}":F+=" {String Offset range: "+M+" .. "+q+"}"}return F},test_match:function(x,y){var j,A,N,k,C;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),k=x[0],C=k.length,A=k.split(/(?:\r\n?|\n)/g),A.length>1?(this.yylineno+=A.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=A[A.length-1].length):this.yylloc.last_column+=C,this.yytext+=k,this.match+=k,this.matched+=k,this.matches=x,this.yyleng=this.yytext.length,this.yylloc.range[1]+=C,this.offset+=C,this._more=!1,this._backtrack=!1,this._input=this._input.slice(C),j=this.performAction.call(this,this.yy,y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),j)return j;if(this._backtrack){for(var T in N)this[T]=N[T];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return j=this._signaled_error_token,this._signaled_error_token=!1,j;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var x,y,j,A;this._more||this.clear();var N=this.__currentRuleSet__;if(!N&&(N=this.__currentRuleSet__=this._currentRules(),!N||!N.rules)){var k="";this.options.trackPosition&&(k=" on line "+(this.yylineno+1));var C=this.constructLexErrorInfo("Internal lexer engine error"+k+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(C.errStr,C,this.JisonLexerError)||this.ERROR}for(var T=N.rules,F=N.__rule_regexes,M=N.__rule_count,q=1;q<=M;q++)if(j=this._input.match(F[q]),j&&(!y||j[0].length>y[0].length)){if(y=j,A=q,this.options.backtrack_lexer){if(x=this.test_match(j,T[q]),x!==!1)return x;if(this._backtrack){y=void 0;continue}else return!1}else if(!this.options.flex)break}if(y)return x=this.test_match(y,T[A]),x!==!1?x:!1;if(this._input){var k="";this.options.trackPosition&&(k=" on line "+(this.yylineno+1));var C=this.constructLexErrorInfo("Lexical error"+k+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),G=this._input,R=this.topState(),D=this.conditionStack.length;return x=this.parseError(C.errStr,C,this.JisonLexerError)||this.ERROR,x===this.ERROR&&!this.matches&&G===this._input&&R===this.topState()&&D===this.conditionStack.length&&this.input(),x}else return this.done=!0,this.clear(),this.EOF},lex:function(){var x;for(typeof this.pre_lex=="function"&&(x=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(x=this.options.pre_lex.call(this,x)||x),this.yy&&typeof this.yy.pre_lex=="function"&&(x=this.yy.pre_lex.call(this,x)||x);!x;)x=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(x=this.yy.post_lex.call(this,x)||x),typeof this.options.post_lex=="function"&&(x=this.options.post_lex.call(this,x)||x),typeof this.post_lex=="function"&&(x=this.post_lex.call(this,x)||x),x},fastLex:function(){for(var x;!x;)x=this.next();return x},canIUse:function(){var x={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return x},begin:function(x){return this.pushState(x)},pushState:function(x){return this.conditionStack.push(x),this.__currentRuleSet__=null,this},popState:function(){var x=this.conditionStack.length-1;return x>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(x){return x=this.conditionStack.length-1-Math.abs(x||0),x>=0?this.conditionStack[x]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:v,performAction:function(x,y,j){switch(y){case 1:break;default:return this.simpleCaseActionClusters[y]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return p})();f.lexer=h;function m(){this.yy={}}return m.prototype=f,f.Parser=m,new m})();typeof RB<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(Xy)),Xy}var fh={},xm={exports:{}},Jy,r6;function MB(){if(r6)return Jy;r6=1;var e={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};return Jy=function(t,r,n,s){if(!e.hasOwnProperty(n))throw new Error("Cannot convert to "+n);if(!e[n].hasOwnProperty(r))throw new Error("Cannot convert from "+r+" to "+n);var i=e[n][r]*t;return s!==!1?(s=Math.pow(10,parseInt(s)||5),Math.round(i*s)/s):i},Jy}var n6;function IB(){return n6||(n6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=MB(),n=s(r);function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u,f){switch(l.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return o(l,u,f);default:return{left:l,right:u}}}function o(l,u,f){return u.type===l.type&&(u={type:l.type,value:(0,n.default)(u.value,u.unit,l.unit,f),unit:l.unit}),{left:l,right:u}}t.default=i,e.exports=t.default})(xm,xm.exports)),xm.exports}var a6;function VP(){if(a6)return fh;a6=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.flip=l;var e=IB(),t=r(e);function r(p){return p&&p.__esModule?p:{default:p}}function n(p,w){return p.type==="MathExpression"?v(p,w):p.type==="Calc"?n(p.value,w):p}function s(p,w){return p.type===w.type&&p.value===w.value}function i(p){switch(p){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function o(p,w){var x=(0,t.default)(p.left,p.right,w),y=n(x.left,w),j=n(x.right,w);return y.type==="MathExpression"&&j.type==="MathExpression"&&(y.operator==="/"&&j.operator==="*"||y.operator==="-"&&j.operator==="+"||y.operator==="*"&&j.operator==="/"||y.operator==="+"&&j.operator==="-")&&(s(y.right,j.right)?x=(0,t.default)(y.left,j.left,w):s(y.right,j.left)&&(x=(0,t.default)(y.left,j.right,w)),y=n(x.left,w),j=n(x.right,w)),p.left=y,p.right=j,p}function l(p){return p==="+"?"-":"+"}function u(p){return i(p.type)?p.value=-p.value:p.type=="MathExpression"&&(p.left=u(p.left),p.right=u(p.right)),p}function f(p,w){var x=p,y=x.left,j=x.right,A=x.operator;if(y.type==="CssVariable"||j.type==="CssVariable")return p;if(j.value===0)return y;if(y.value===0&&A==="+")return j;if(y.value===0&&A==="-")return u(j);if(y.type===j.type&&i(y.type)&&(p=Object.assign({},y),A==="+"?p.value=y.value+j.value:p.value=y.value-j.value),i(y.type)&&(j.operator==="+"||j.operator==="-")&&j.type==="MathExpression"){if(y.type===j.left.type)return p=Object.assign({},p),p.left=n({type:"MathExpression",operator:A,left:y,right:j.left},w),p.right=j.right,p.operator=A==="-"?l(j.operator):j.operator,n(p,w);if(y.type===j.right.type)return p=Object.assign({},p),p.left=n({type:"MathExpression",operator:A==="-"?l(j.operator):j.operator,left:y,right:j.right},w),p.right=j.left,n(p,w)}if(y.type==="MathExpression"&&(y.operator==="+"||y.operator==="-")&&i(j.type)){if(j.type===y.left.type)return p=Object.assign({},y),p.left=n({type:"MathExpression",operator:A,left:y.left,right:j},w),n(p,w);if(j.type===y.right.type)return p=Object.assign({},y),y.operator==="-"?(p.right=n({type:"MathExpression",operator:A==="-"?"+":"-",left:j,right:y.right},w),p.operator=A==="-"?"-":"+"):p.right=n({type:"MathExpression",operator:A,left:y.right,right:j},w),p.right.value<0&&(p.right.value*=-1,p.operator=p.operator==="-"?"+":"-"),n(p,w)}return p}function h(p,w){if(!i(p.right.type))return p;if(p.right.type!=="Value")throw new Error('Cannot divide by "'+p.right.unit+'", number expected');if(p.right.value===0)throw new Error("Cannot divide by zero");return p.left.type==="MathExpression"?i(p.left.left.type)&&i(p.left.right.type)?(p.left.left.value/=p.right.value,p.left.right.value/=p.right.value,n(p.left,w)):p:i(p.left.type)?(p.left.value/=p.right.value,p.left):p}function m(p){if(p.left.type==="MathExpression"&&p.right.type==="Value"){if(i(p.left.left.type)&&i(p.left.right.type))return p.left.left.value*=p.right.value,p.left.right.value*=p.right.value,p.left}else{if(i(p.left.type)&&p.right.type==="Value")return p.left.value*=p.right.value,p.left;if(p.left.type==="Value"&&p.right.type==="MathExpression"){if(i(p.right.left.type)&&i(p.right.right.type))return p.right.left.value*=p.left.value,p.right.right.value*=p.left.value,p.right}else if(p.left.type==="Value"&&i(p.right.type))return p.right.value*=p.left.value,p.right}return p}function v(p,w){switch(p=o(p,w),p.operator){case"+":case"-":return f(p,w);case"/":return h(p,w);case"*":return m(p)}return p}return fh.default=n,fh}var ym={exports:{}},s6;function DB(){return s6||(s6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o,l,u){var f=i(l,u);return l.type==="MathExpression"&&(f=o+"("+f+")"),f};var r=VP(),n={"*":0,"/":0,"+":1,"-":1};function s(o,l){if(l!==!1){var u=Math.pow(10,l);return Math.round(o*u)/u}return o}function i(o,l){switch(o.type){case"MathExpression":{var u=o.left,f=o.right,h=o.operator,m="";return u.type==="MathExpression"&&n[h]<n[u.operator]?m+="("+i(u,l)+")":m+=i(u,l),m+=" "+o.operator+" ",f.type==="MathExpression"&&n[h]<n[f.operator]?m+="("+i(f,l)+")":(f.type==="MathExpression"&&h==="-"&&["+","-"].includes(f.operator)&&(f.operator=(0,r.flip)(f.operator)),m+=i(f,l)),m}case"Value":return s(o.value,l);case"CssVariable":return o.fallback?"var("+o.value+", "+i(o.fallback,l)+")":"var("+o.value+")";case"Calc":return o.prefix?"-"+o.prefix+"-calc("+i(o.value,l)+")":"calc("+i(o.value,l)+")";default:return s(o.value,l)+o.unit}}e.exports=t.default})(ym,ym.exports)),ym.exports}var i6;function FB(){return i6||(i6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=OB(),n=f(r),s=TB(),i=VP(),o=f(i),l=DB(),u=f(l);function f(m){return m&&m.__esModule?m:{default:m}}var h=/((?:\-[a-z]+\-)?calc)/;t.default=function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,n.default)(m).walk(function(p){if(!(p.type!=="function"||!h.test(p.value))){var w=n.default.stringify(p.nodes);if(!(w.indexOf("constant")>=0||w.indexOf("env")>=0)){var x=s.parser.parse(w),y=(0,o.default)(x,v);p.type="word",p.value=(0,u.default)(p.value,y,v)}}},!0).toString()},e.exports=t.default})(vm,vm.exports)),vm.exports}var $B=FB();const Qy=Qr($B);function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(n){BB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BB(e,t,r){return t=UB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=qB(e,"string");return zh(t)==="symbol"?t:String(t)}function qB(e,t){if(zh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c6(e){return VB(e)||HB(e)||WB(e)||zB()}function zB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WB(e,t){if(e){if(typeof e=="string")return Jb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jb(e,t)}}function HB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VB(e){if(Array.isArray(e))return Jb(e)}function Jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ad={widthCache:{},cacheCount:0},YB=2e3,GB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KB=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],u6="recharts_measurement_span";function XB(e,t){return KB.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function JB(e){var t=e.split(""),r=t.reduce(function(n,s){return s===s.toUpperCase()?[].concat(c6(n),["-",s.toLowerCase()]):[].concat(c6(n),[s])},[]);return r.join("")}var QB=function(t){return Object.keys(t).reduce(function(r,n){return"".concat(r).concat(JB(n),":").concat(XB(n,t[n]),";")},"")},Hu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Pf.isSsr)return{width:0,height:0};var n="".concat(t),s=QB(r),i="".concat(n,"-").concat(s);if(Ad.widthCache[i])return Ad.widthCache[i];try{var o=document.getElementById(u6);o||(o=document.createElement("span"),o.setAttribute("id",u6),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=l6(l6({},GB),r);Object.keys(l).map(function(h){return o.style[h]=l[h],h}),o.textContent=n;var u=o.getBoundingClientRect(),f={width:u.width,height:u.height};return Ad.widthCache[i]=f,++Ad.cacheCount>YB&&(Ad.cacheCount=0,Ad.widthCache={}),f}catch{return{width:0,height:0}}},ZB=function(t){var r=t.ownerDocument.documentElement,n={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(n=t.getBoundingClientRect()),{top:n.top+window.pageYOffset-r.clientTop,left:n.left+window.pageXOffset-r.clientLeft}},eU=function(t,r){return{chartX:Math.round(t.pageX-r.left),chartY:Math.round(t.pageY-r.top)}},tU=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(this,arguments)}function rU(e,t){if(e==null)return{};var r=nU(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nU(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function d6(e,t){return oU(e)||iU(e,t)||sU(e,t)||aU()}function aU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sU(e,t){if(e){if(typeof e=="string")return f6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f6(e,t)}}function f6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function oU(e){if(Array.isArray(e))return e}var YP=/[ \f\n\r\t\v\u2028\u2029]+/,GP=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];cr(r)||(n?i=r.toString().split(""):i=r.toString().split(YP));var o=i.map(function(u){return{word:u,width:Hu(u,s).width}}),l=n?0:Hu("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},lU=function(t,r,n,s,i){var o=t.maxLines,l=t.children,u=t.style,f=t.breakAll,h=Nt(o),m=l,v=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(le,ge){var te=ge.word,ue=ge.width,H=le[le.length-1];if(H&&(s==null||i||H.width+ue+n<Number(s)))H.words.push(te),H.width+=ue+n;else{var ae={words:[te],width:ue};le.push(ae)}return le},[])},p=v(r),w=function(Z){return Z.reduce(function(le,ge){return le.width>ge.width?le:ge})};if(!h)return p;for(var x="",y=function(Z){var le=m.slice(0,Z),ge=GP({breakAll:f,style:u,children:le+x}).wordsWithComputedWidth,te=v(ge),ue=te.length>o||w(te).width>Number(s);return[ue,te]},j=0,A=m.length-1,N=0,k;j<=A&&N<=m.length-1;){var C=Math.floor((j+A)/2),T=C-1,F=y(T),M=d6(F,2),q=M[0],G=M[1],R=y(C),D=d6(R,1),z=D[0];if(!q&&!z&&(j=C+1),q&&z&&(A=C-1),!q&&z){k=G;break}N++}return k||p},h6=function(t){var r=cr(t)?[]:t.toString().split(YP);return[{words:r}]},cU=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Pf.isSsr){var u,f,h=GP({breakAll:o,children:s,style:i});if(h){var m=h.wordsWithComputedWidth,v=h.spaceWidth;u=m,f=v}else return h6(s);return lU({breakAll:o,children:s,maxLines:l,style:i},u,f,r,n)}return h6(s)},KP={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"},Gc=function(t){var r=L.useMemo(function(){return cU({breakAll:t.breakAll,children:t.children,maxLines:t.maxLines,scaleToFit:t.scaleToFit,style:t.style,width:t.width})},[t.breakAll,t.children,t.maxLines,t.scaleToFit,t.style,t.width]),n=t.dx,s=t.dy,i=t.textAnchor,o=t.verticalAnchor,l=t.scaleToFit,u=t.angle,f=t.lineHeight,h=t.capHeight,m=t.className,v=t.breakAll,p=rU(t,tU);if(!Ma(p.x)||!Ma(p.y))return null;var w=p.x+(Nt(n)?n:0),x=p.y+(Nt(s)?s:0),y;switch(o){case"start":y=Qy("calc(".concat(h,")"));break;case"middle":y=Qy("calc(".concat((r.length-1)/2," * -").concat(f," + (").concat(h," / 2))"));break;default:y=Qy("calc(".concat(r.length-1," * -").concat(f,")"));break}var j=[];if(l){var A=r[0].width,N=t.width;j.push("scale(".concat((Nt(N)?N/A:1)/A,")"))}return u&&j.push("rotate(".concat(u,", ").concat(w,", ").concat(x,")")),j.length&&(p.transform=j.join(" ")),Te.createElement("text",Qb({},wr(p,!0),{x:w,y:x,className:_n("recharts-text",m),textAnchor:i,fill:p.fill.includes("url")?KP.fill:p.fill}),r.map(function(k,C){return Te.createElement("tspan",{x:w,dy:C===0?y:f,key:C},k.words.join(v?"":" "))}))};Gc.defaultProps=KP;var Zy,m6;function uU(){if(m6)return Zy;m6=1;var e=k5();function t(r,n){return e(r,n)}return Zy=t,Zy}var dU=uU();const I5=Qr(dU);var e2,p6;function mg(){if(p6)return e2;p6=1;var e=Af();function t(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],u=n(l);if(u!=null&&(f===void 0?u===u&&!e(u):s(u,f)))var f=u,h=l}return h}return e2=t,e2}var t2,g6;function XP(){if(g6)return t2;g6=1;function e(t,r){return t>r}return t2=e,t2}var r2,v6;function fU(){if(v6)return r2;v6=1;var e=mg(),t=XP(),r=Cf();function n(s){return s&&s.length?e(s,r,t):void 0}return r2=n,r2}var hU=fU();const pg=Qr(hU);var n2,x6;function JP(){if(x6)return n2;x6=1;function e(t,r){return t<r}return n2=e,n2}var a2,y6;function mU(){if(y6)return a2;y6=1;var e=mg(),t=JP(),r=Cf();function n(s){return s&&s.length?e(s,r,t):void 0}return a2=n,a2}var pU=mU();const gg=Qr(pU);var s2,b6;function gU(){if(b6)return s2;b6=1;var e=x5(),t=ll(),r=BP(),n=Ws();function s(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return s2=s,s2}var i2,w6;function vU(){if(w6)return i2;w6=1;var e=FP(),t=gU();function r(n,s){return e(t(n,s),1)}return i2=r,i2}var xU=vU();const yU=Qr(xU);function Hc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function D5(e){let t,r,n;e.length!==2?(t=Hc,r=(l,u)=>Hc(e(l),u),n=(l,u)=>e(l)-u):(t=e===Hc||e===bU?e:wU,r=e,n=e);function s(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(l[m],u)<0?f=m+1:h=m}while(f<h)}return f}function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(l[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function o(l,u,f=0,h=l.length){const m=s(l,u,f,h-1);return m>f&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:s,center:o,right:i}}function wU(){return 0}function QP(e){return e===null?NaN:+e}function*jU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const NU=D5(Hc),N0=NU.right;D5(QP).center;class j6 extends Map{constructor(t,r=kU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(N6(this,t))}has(t){return super.has(N6(this,t))}set(t,r){return super.set(SU(this,t),r)}delete(t){return super.delete(_U(this,t))}}function N6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function SU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _U({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function AU(e=Hc){if(e===Hc)return ZP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ZP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CU=Math.sqrt(50),PU=Math.sqrt(10),EU=Math.sqrt(2);function up(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=CU?10:i>=PU?5:i>=EU?2:1;let l,u,f;return s<0?(f=Math.pow(10,-s)/o,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,s)*o,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=r&&r<2?up(e,t,r*2):[l,u,f]}function Zb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?up(t,e,r):up(e,t,r);if(!(i>=s))return[];const l=i-s+1,u=new Array(l);if(n)if(o<0)for(let f=0;f<l;++f)u[f]=(i-f)/-o;else for(let f=0;f<l;++f)u[f]=(i-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(s+f)/-o;else for(let f=0;f<l;++f)u[f]=(s+f)*o;return u}function ew(e,t,r){return t=+t,e=+e,r=+r,up(e,t,r)[2]}function tw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?ew(t,e,r):ew(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function S6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function _6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function e7(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?ZP:AU(s);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(u-m)/u)*(f-u/2<0?-1:1),p=Math.max(r,Math.floor(t-f*m/u+v)),w=Math.min(n,Math.floor(t+(u-f)*m/u+v));e7(e,t,p,w,s)}const i=e[t];let o=r,l=n;for(hh(e,r,t),s(e[n],i)>0&&hh(e,r,n);o<l;){for(hh(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?hh(e,r,l):(++l,hh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function hh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function LU(e,t,r){if(e=Float64Array.from(jU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return _6(e);if(t>=1)return S6(e);var n,s=(n-1)*t,i=Math.floor(s),o=S6(e7(e,i).subarray(0,i+1)),l=_6(e.subarray(i+1));return o+(l-o)*(s-i)}}function OU(e,t,r=QP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function RU(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function to(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ic(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rw=Symbol("implicit");function F5(){var e=new j6,t=[],r=[],n=rw;function s(i){let o=e.get(i);if(o===void 0){if(n!==rw)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new j6;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return F5(t,r).unknown(n)},to.apply(s,arguments),s}function Wh(){var e=F5().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,u=0,f=0,h=.5;delete e.unknown;function m(){var v=t().length,p=s<n,w=p?s:n,x=p?n:s;i=(x-w)/Math.max(1,v-u+f*2),l&&(i=Math.floor(i)),w+=(x-w-i*(v-u))*h,o=i*(1-u),l&&(w=Math.round(w),o=Math.round(o));var y=RU(v).map(function(j){return w+i*j});return r(p?y.reverse():y)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([n,s]=v,n=+n,s=+s,m()):[n,s]},e.rangeRound=function(v){return[n,s]=v,n=+n,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(v){return arguments.length?(l=!!v,m()):l},e.padding=function(v){return arguments.length?(u=Math.min(1,f=+v),m()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),m()):u},e.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},e.copy=function(){return Wh(t(),[n,s]).round(l).paddingInner(u).paddingOuter(f).align(h)},to.apply(m(),arguments)}function t7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t7(t())},e}function Ch(){return t7(Wh.apply(null,arguments).paddingInner(1))}function $5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function r7(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function S0(){}var Hh=.7,dp=1/Hh,Ud="\\s*([+-]?\\d+)\\s*",Vh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",al="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TU=/^#([0-9a-f]{3,8})$/,MU=new RegExp(`^rgb\\(${Ud},${Ud},${Ud}\\)$`),IU=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),DU=new RegExp(`^rgba\\(${Ud},${Ud},${Ud},${Vh}\\)$`),FU=new RegExp(`^rgba\\(${al},${al},${al},${Vh}\\)$`),$U=new RegExp(`^hsl\\(${Vh},${al},${al}\\)$`),BU=new RegExp(`^hsla\\(${Vh},${al},${al},${Vh}\\)$`),k6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$5(S0,Yh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:A6,formatHex:A6,formatHex8:UU,formatHsl:qU,formatRgb:C6,toString:C6});function A6(){return this.rgb().formatHex()}function UU(){return this.rgb().formatHex8()}function qU(){return n7(this).formatHsl()}function C6(){return this.rgb().formatRgb()}function Yh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=TU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?P6(t):r===3?new ui(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MU.exec(e))?new ui(t[1],t[2],t[3],1):(t=IU.exec(e))?new ui(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DU.exec(e))?bm(t[1],t[2],t[3],t[4]):(t=FU.exec(e))?bm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$U.exec(e))?O6(t[1],t[2]/100,t[3]/100,1):(t=BU.exec(e))?O6(t[1],t[2]/100,t[3]/100,t[4]):k6.hasOwnProperty(e)?P6(k6[e]):e==="transparent"?new ui(NaN,NaN,NaN,0):null}function P6(e){return new ui(e>>16&255,e>>8&255,e&255,1)}function bm(e,t,r,n){return n<=0&&(e=t=r=NaN),new ui(e,t,r,n)}function zU(e){return e instanceof S0||(e=Yh(e)),e?(e=e.rgb(),new ui(e.r,e.g,e.b,e.opacity)):new ui}function nw(e,t,r,n){return arguments.length===1?zU(e):new ui(e,t,r,n??1)}function ui(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}$5(ui,nw,r7(S0,{brighter(e){return e=e==null?dp:Math.pow(dp,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hh:Math.pow(Hh,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ui(Vu(this.r),Vu(this.g),Vu(this.b),fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E6,formatHex:E6,formatHex8:WU,formatRgb:L6,toString:L6}));function E6(){return`#${Uu(this.r)}${Uu(this.g)}${Uu(this.b)}`}function WU(){return`#${Uu(this.r)}${Uu(this.g)}${Uu(this.b)}${Uu((isNaN(this.opacity)?1:this.opacity)*255)}`}function L6(){const e=fp(this.opacity);return`${e===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${e===1?")":`, ${e})`}`}function fp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Uu(e){return e=Vu(e),(e<16?"0":"")+e.toString(16)}function O6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new _o(e,t,r,n)}function n7(e){if(e instanceof _o)return new _o(e.h,e.s,e.l,e.opacity);if(e instanceof S0||(e=Yh(e)),!e)return new _o;if(e instanceof _o)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,u=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+s:2-i-s,o*=60):l=u>0&&u<1?0:o,new _o(o,l,u,e.opacity)}function HU(e,t,r,n){return arguments.length===1?n7(e):new _o(e,t,r,n??1)}function _o(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}$5(_o,HU,r7(S0,{brighter(e){return e=e==null?dp:Math.pow(dp,e),new _o(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hh:Math.pow(Hh,e),new _o(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new ui(o2(e>=240?e-240:e+120,s,n),o2(e,s,n),o2(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new _o(R6(this.h),wm(this.s),wm(this.l),fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fp(this.opacity);return`${e===1?"hsl(":"hsla("}${R6(this.h)}, ${wm(this.s)*100}%, ${wm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R6(e){return e=(e||0)%360,e<0?e+360:e}function wm(e){return Math.max(0,Math.min(1,e||0))}function o2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const B5=e=>()=>e;function VU(e,t){return function(r){return e+r*t}}function YU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GU(e){return(e=+e)==1?a7:function(t,r){return r-t?YU(t,r,e):B5(isNaN(t)?r:t)}}function a7(e,t){var r=t-e;return r?VU(e,r):B5(isNaN(e)?t:e)}const T6=(function e(t){var r=GU(t);function n(s,i){var o=r((s=nw(s)).r,(i=nw(i)).r),l=r(s.g,i.g),u=r(s.b,i.b),f=a7(s.opacity,i.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=u(h),s.opacity=f(h),s+""}}return n.gamma=e,n})(1);function KU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function XU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function JU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Ef(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function QU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ZU(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Ef(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var aw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l2=new RegExp(aw.source,"g");function eq(e){return function(){return e}}function tq(e){return function(t){return e(t)+""}}function rq(e,t){var r=aw.lastIndex=l2.lastIndex=0,n,s,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=aw.exec(e))&&(s=l2.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:hp(n,s)})),r=l2.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?tq(u[0].x):eq(t):(t=u.length,function(f){for(var h=0,m;h<t;++h)l[(m=u[h]).i]=m.x(f);return l.join("")})}function Ef(e,t){var r=typeof t,n;return t==null||r==="boolean"?B5(t):(r==="number"?hp:r==="string"?(n=Yh(t))?(t=n,T6):rq:t instanceof Yh?T6:t instanceof Date?QU:XU(t)?KU:Array.isArray(t)?JU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZU:hp)(e,t)}function U5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nq(e,t){t===void 0&&(t=e,e=Ef);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function aq(e){return function(){return e}}function mp(e){return+e}var M6=[0,1];function zs(e){return e}function sw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:aq(isNaN(t)?NaN:.5)}function sq(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iq(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=sw(s,n),i=r(o,i)):(n=sw(n,s),i=r(i,o)),function(l){return i(n(l))}}function oq(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=sw(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=N0(e,l,1,n)-1;return i[u](s[u](l))}}function _0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vg(){var e=M6,t=M6,r=Ef,n,s,i,o=zs,l,u,f;function h(){var v=Math.min(e.length,t.length);return o!==zs&&(o=sq(e[0],e[v-1])),l=v>2?oq:iq,u=f=null,m}function m(v){return v==null||isNaN(v=+v)?i:(u||(u=l(e.map(n),t,r)))(n(o(v)))}return m.invert=function(v){return o(s((f||(f=l(t,e.map(n),hp)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,mp),h()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),r=U5,h()},m.clamp=function(v){return arguments.length?(o=v?!0:zs,h()):o!==zs},m.interpolate=function(v){return arguments.length?(r=v,h()):r},m.unknown=function(v){return arguments.length?(i=v,m):i},function(v,p){return n=v,s=p,h()}}function q5(){return vg()(zs,zs)}function lq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function af(e){return e=pp(Math.abs(e)),e?e[1]:NaN}function cq(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],u=0;s>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(s-=l,s+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function uq(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gh(e){if(!(t=dq.exec(e)))throw new Error("invalid format: "+e);var t;return new z5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gh.prototype=z5.prototype;function z5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}z5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fq(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var s7;function hq(e,t){var r=pp(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(s7=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pp(e,Math.max(0,t+i-1))[0]}function I6(e,t){var r=pp(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const D6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I6(e*100,t),r:I6,s:hq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F6(e){return e}var $6=Array.prototype.map,B6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mq(e){var t=e.grouping===void 0||e.thousands===void 0?F6:cq($6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?F6:uq($6.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Gh(m);var v=m.fill,p=m.align,w=m.sign,x=m.symbol,y=m.zero,j=m.width,A=m.comma,N=m.precision,k=m.trim,C=m.type;C==="n"?(A=!0,C="g"):D6[C]||(N===void 0&&(N=12),k=!0,C="g"),(y||v==="0"&&p==="=")&&(y=!0,v="0",p="=");var T=x==="$"?r:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",F=x==="$"?n:/[%p]/.test(C)?o:"",M=D6[C],q=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function G(R){var D=T,z=F,W,Z,le;if(C==="c")z=M(R)+z,R="";else{R=+R;var ge=R<0||1/R<0;if(R=isNaN(R)?u:M(Math.abs(R),N),k&&(R=fq(R)),ge&&+R==0&&w!=="+"&&(ge=!1),D=(ge?w==="("?w:l:w==="-"||w==="("?"":w)+D,z=(C==="s"?B6[8+s7/3]:"")+z+(ge&&w==="("?")":""),q){for(W=-1,Z=R.length;++W<Z;)if(le=R.charCodeAt(W),48>le||le>57){z=(le===46?s+R.slice(W+1):R.slice(W))+z,R=R.slice(0,W);break}}}A&&!y&&(R=t(R,1/0));var te=D.length+R.length+z.length,ue=te<j?new Array(j-te+1).join(v):"";switch(A&&y&&(R=t(ue+R,ue.length?j-z.length:1/0),ue=""),p){case"<":R=D+R+z+ue;break;case"=":R=D+ue+R+z;break;case"^":R=ue.slice(0,te=ue.length>>1)+D+R+z+ue.slice(te);break;default:R=ue+D+R+z;break}return i(R)}return G.toString=function(){return m+""},G}function h(m,v){var p=f((m=Gh(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(af(v)/3)))*3,x=Math.pow(10,-w),y=B6[8+w/3];return function(j){return p(x*j)+y}}return{format:f,formatPrefix:h}}var jm,W5,i7;pq({thousands:",",grouping:[3],currency:["$",""]});function pq(e){return jm=mq(e),W5=jm.format,i7=jm.formatPrefix,jm}function gq(e){return Math.max(0,-af(Math.abs(e)))}function vq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(af(t)/3)))*3-af(Math.abs(e)))}function xq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,af(t)-af(e))+1}function o7(e,t,r,n){var s=tw(e,t,r),i;switch(n=Gh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=vq(s,o))&&(n.precision=i),i7(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xq(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=gq(s))&&(n.precision=i-(n.type==="%")*2);break}}return W5(n)}function Zc(e){var t=e.domain;return e.ticks=function(r){var n=t();return Zb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return o7(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],u,f,h=10;for(l<o&&(f=o,o=l,l=f,f=s,s=i,i=f);h-- >0;){if(f=ew(o,l,r),f===u)return n[s]=o,n[i]=l,t(n);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function gp(){var e=q5();return e.copy=function(){return _0(e,gp())},to.apply(e,arguments),Zc(e)}function l7(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,mp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return l7(e).unknown(t)},e=arguments.length?Array.from(e,mp):[0,1],Zc(r)}function c7(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function U6(e){return Math.log(e)}function q6(e){return Math.exp(e)}function yq(e){return-Math.log(-e)}function bq(e){return-Math.exp(-e)}function wq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jq(e){return e===10?wq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Nq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function z6(e){return(t,r)=>-e(-t,r)}function H5(e){const t=e(U6,q6),r=t.domain;let n=10,s,i;function o(){return s=Nq(n),i=jq(n),r()[0]<0?(s=z6(s),i=z6(i),e(yq,bq)):e(U6,q6),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let v=s(f),p=s(h),w,x;const y=l==null?10:+l;let j=[];if(!(n%1)&&p-v<y){if(v=Math.floor(v),p=Math.ceil(p),f>0){for(;v<=p;++v)for(w=1;w<n;++w)if(x=v<0?w/i(-v):w*i(v),!(x<f)){if(x>h)break;j.push(x)}}else for(;v<=p;++v)for(w=n-1;w>=1;--w)if(x=v>0?w/i(-v):w*i(v),!(x<f)){if(x>h)break;j.push(x)}j.length*2<y&&(j=Zb(f,h,y))}else j=Zb(v,p,Math.min(p-v,y)).map(i);return m?j.reverse():j},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Gh(u)).precision==null&&(u.trim=!0),u=W5(u)),l===1/0)return u;const f=Math.max(1,n*l/t.ticks().length);return h=>{let m=h/i(Math.round(s(h)));return m*n<n-.5&&(m*=n),m<=f?u(h):""}},t.nice=()=>r(c7(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function u7(){const e=H5(vg()).domain([1,10]);return e.copy=()=>_0(e,u7()).base(e.base()),to.apply(e,arguments),e}function W6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function V5(e){var t=1,r=e(W6(t),H6(t));return r.constant=function(n){return arguments.length?e(W6(t=+n),H6(t)):t},Zc(r)}function d7(){var e=V5(vg());return e.copy=function(){return _0(e,d7()).constant(e.constant())},to.apply(e,arguments)}function V6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Sq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _q(e){return e<0?-e*e:e*e}function Y5(e){var t=e(zs,zs),r=1;function n(){return r===1?e(zs,zs):r===.5?e(Sq,_q):e(V6(r),V6(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Zc(t)}function G5(){var e=Y5(vg());return e.copy=function(){return _0(e,G5()).exponent(e.exponent())},to.apply(e,arguments),e}function kq(){return G5.apply(null,arguments).exponent(.5)}function Y6(e){return Math.sign(e)*e*e}function Aq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function f7(){var e=q5(),t=[0,1],r=!1,n;function s(i){var o=Aq(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(Y6(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,mp)).map(Y6)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return f7(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},to.apply(s,arguments),Zc(s)}function h7(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=OU(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[N0(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Hc),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return h7().domain(e).range(t).unknown(n)},to.apply(i,arguments)}function m7(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[N0(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,l()):s.slice()},o.invertExtent=function(u){var f=s.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return m7().domain([e,t]).range(s).unknown(i)},to.apply(Zc(o),arguments)}function p7(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[N0(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return p7().domain(e).range(t).unknown(r)},to.apply(s,arguments)}const c2=new Date,u2=new Date;function Da(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const u=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let f;do u.push(f=new Date(+i)),t(i,l),e(i);while(f<i&&i<o);return u},s.filter=i=>Da(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(c2.setTime(+i),u2.setTime(+o),e(c2),e(u2),Math.floor(r(c2,u2))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const vp=Da(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Da(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vp);vp.range;const Hl=1e3,Ki=Hl*60,Vl=Ki*60,Xl=Vl*24,K5=Xl*7,G6=Xl*30,d2=Xl*365,qu=Da(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCSeconds());qu.range;const X5=Da(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hl)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getMinutes());X5.range;const J5=Da(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCMinutes());J5.range;const Q5=Da(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hl-e.getMinutes()*Ki)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getHours());Q5.range;const Z5=Da(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getUTCHours());Z5.range;const k0=Da(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ki)/Xl,e=>e.getDate()-1);k0.range;const xg=Da(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xl,e=>e.getUTCDate()-1);xg.range;const g7=Da(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xl,e=>Math.floor(e/Xl));g7.range;function nd(e){return Da(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ki)/K5)}const yg=nd(0),xp=nd(1),Cq=nd(2),Pq=nd(3),sf=nd(4),Eq=nd(5),Lq=nd(6);yg.range;xp.range;Cq.range;Pq.range;sf.range;Eq.range;Lq.range;function ad(e){return Da(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/K5)}const bg=ad(0),yp=ad(1),Oq=ad(2),Rq=ad(3),of=ad(4),Tq=ad(5),Mq=ad(6);bg.range;yp.range;Oq.range;Rq.range;of.range;Tq.range;Mq.range;const ej=Da(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ej.range;const tj=Da(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tj.range;const Jl=Da(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Da(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Jl.range;const Ql=Da(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Da(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ql.range;function v7(e,t,r,n,s,i){const o=[[qu,1,Hl],[qu,5,5*Hl],[qu,15,15*Hl],[qu,30,30*Hl],[i,1,Ki],[i,5,5*Ki],[i,15,15*Ki],[i,30,30*Ki],[s,1,Vl],[s,3,3*Vl],[s,6,6*Vl],[s,12,12*Vl],[n,1,Xl],[n,2,2*Xl],[r,1,K5],[t,1,G6],[t,3,3*G6],[e,1,d2]];function l(f,h,m){const v=h<f;v&&([f,h]=[h,f]);const p=m&&typeof m.range=="function"?m:u(f,h,m),w=p?p.range(f,+h+1):[];return v?w.reverse():w}function u(f,h,m){const v=Math.abs(h-f)/m,p=D5(([,,y])=>y).right(o,v);if(p===o.length)return e.every(tw(f/d2,h/d2,m));if(p===0)return vp.every(Math.max(tw(f,h,m),1));const[w,x]=o[v/o[p-1][2]<o[p][2]/v?p-1:p];return w.every(x)}return[l,u]}const[Iq,Dq]=v7(Ql,tj,bg,g7,Z5,J5),[Fq,$q]=v7(Jl,ej,yg,k0,Q5,X5);function f2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function h2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Bq(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=ph(s),h=gh(s),m=ph(i),v=gh(i),p=ph(o),w=gh(o),x=ph(l),y=gh(l),j=ph(u),A=gh(u),N={a:ge,A:te,b:ue,B:H,c:null,d:ek,e:ek,f:cz,g:yz,G:wz,H:iz,I:oz,j:lz,L:x7,m:uz,M:dz,p:ae,q:U,Q:nk,s:ak,S:fz,u:hz,U:mz,V:pz,w:gz,W:vz,x:null,X:null,y:xz,Y:bz,Z:jz,"%":rk},k={a:B,A:Y,b:ne,B:he,c:null,d:tk,e:tk,f:kz,g:Iz,G:Fz,H:Nz,I:Sz,j:_z,L:b7,m:Az,M:Cz,p:Q,q:pe,Q:nk,s:ak,S:Pz,u:Ez,U:Lz,V:Oz,w:Rz,W:Tz,x:null,X:null,y:Mz,Y:Dz,Z:$z,"%":rk},C={a:G,A:R,b:D,B:z,c:W,d:Q6,e:Q6,f:rz,g:J6,G:X6,H:Z6,I:Z6,j:Qq,L:tz,m:Jq,M:Zq,p:q,q:Xq,Q:az,s:sz,S:ez,u:Hq,U:Vq,V:Yq,w:Wq,W:Gq,x:Z,X:le,y:J6,Y:X6,Z:Kq,"%":nz};N.x=T(r,N),N.X=T(n,N),N.c=T(t,N),k.x=T(r,k),k.X=T(n,k),k.c=T(t,k);function T(ce,me){return function(_e){var se=[],ye=-1,fe=0,V=ce.length,Re,Je,nt;for(_e instanceof Date||(_e=new Date(+_e));++ye<V;)ce.charCodeAt(ye)===37&&(se.push(ce.slice(fe,ye)),(Je=K6[Re=ce.charAt(++ye)])!=null?Re=ce.charAt(++ye):Je=Re==="e"?" ":"0",(nt=me[Re])&&(Re=nt(_e,Je)),se.push(Re),fe=ye+1);return se.push(ce.slice(fe,ye)),se.join("")}}function F(ce,me){return function(_e){var se=mh(1900,void 0,1),ye=M(se,ce,_e+="",0),fe,V;if(ye!=_e.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(me&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(fe=h2(mh(se.y,0,1)),V=fe.getUTCDay(),fe=V>4||V===0?yp.ceil(fe):yp(fe),fe=xg.offset(fe,(se.V-1)*7),se.y=fe.getUTCFullYear(),se.m=fe.getUTCMonth(),se.d=fe.getUTCDate()+(se.w+6)%7):(fe=f2(mh(se.y,0,1)),V=fe.getDay(),fe=V>4||V===0?xp.ceil(fe):xp(fe),fe=k0.offset(fe,(se.V-1)*7),se.y=fe.getFullYear(),se.m=fe.getMonth(),se.d=fe.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),V="Z"in se?h2(mh(se.y,0,1)).getUTCDay():f2(mh(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(V+5)%7:se.w+se.U*7-(V+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,h2(se)):f2(se)}}function M(ce,me,_e,se){for(var ye=0,fe=me.length,V=_e.length,Re,Je;ye<fe;){if(se>=V)return-1;if(Re=me.charCodeAt(ye++),Re===37){if(Re=me.charAt(ye++),Je=C[Re in K6?me.charAt(ye++):Re],!Je||(se=Je(ce,_e,se))<0)return-1}else if(Re!=_e.charCodeAt(se++))return-1}return se}function q(ce,me,_e){var se=f.exec(me.slice(_e));return se?(ce.p=h.get(se[0].toLowerCase()),_e+se[0].length):-1}function G(ce,me,_e){var se=p.exec(me.slice(_e));return se?(ce.w=w.get(se[0].toLowerCase()),_e+se[0].length):-1}function R(ce,me,_e){var se=m.exec(me.slice(_e));return se?(ce.w=v.get(se[0].toLowerCase()),_e+se[0].length):-1}function D(ce,me,_e){var se=j.exec(me.slice(_e));return se?(ce.m=A.get(se[0].toLowerCase()),_e+se[0].length):-1}function z(ce,me,_e){var se=x.exec(me.slice(_e));return se?(ce.m=y.get(se[0].toLowerCase()),_e+se[0].length):-1}function W(ce,me,_e){return M(ce,t,me,_e)}function Z(ce,me,_e){return M(ce,r,me,_e)}function le(ce,me,_e){return M(ce,n,me,_e)}function ge(ce){return o[ce.getDay()]}function te(ce){return i[ce.getDay()]}function ue(ce){return u[ce.getMonth()]}function H(ce){return l[ce.getMonth()]}function ae(ce){return s[+(ce.getHours()>=12)]}function U(ce){return 1+~~(ce.getMonth()/3)}function B(ce){return o[ce.getUTCDay()]}function Y(ce){return i[ce.getUTCDay()]}function ne(ce){return u[ce.getUTCMonth()]}function he(ce){return l[ce.getUTCMonth()]}function Q(ce){return s[+(ce.getUTCHours()>=12)]}function pe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var me=T(ce+="",N);return me.toString=function(){return ce},me},parse:function(ce){var me=F(ce+="",!1);return me.toString=function(){return ce},me},utcFormat:function(ce){var me=T(ce+="",k);return me.toString=function(){return ce},me},utcParse:function(ce){var me=F(ce+="",!0);return me.toString=function(){return ce},me}}}var K6={"-":"",_:" ",0:"0"},Qa=/^\s*\d+/,Uq=/^%/,qq=/[\\^$*+?|[\]().{}]/g;function Jr(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function zq(e){return e.replace(qq,"\\$&")}function ph(e){return new RegExp("^(?:"+e.map(zq).join("|")+")","i")}function gh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wq(e,t,r){var n=Qa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Hq(e,t,r){var n=Qa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Vq(e,t,r){var n=Qa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Yq(e,t,r){var n=Qa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Gq(e,t,r){var n=Qa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function X6(e,t,r){var n=Qa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function J6(e,t,r){var n=Qa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Kq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Xq(e,t,r){var n=Qa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Jq(e,t,r){var n=Qa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Q6(e,t,r){var n=Qa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Qq(e,t,r){var n=Qa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Z6(e,t,r){var n=Qa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Zq(e,t,r){var n=Qa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ez(e,t,r){var n=Qa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tz(e,t,r){var n=Qa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rz(e,t,r){var n=Qa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nz(e,t,r){var n=Uq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function az(e,t,r){var n=Qa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function sz(e,t,r){var n=Qa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ek(e,t){return Jr(e.getDate(),t,2)}function iz(e,t){return Jr(e.getHours(),t,2)}function oz(e,t){return Jr(e.getHours()%12||12,t,2)}function lz(e,t){return Jr(1+k0.count(Jl(e),e),t,3)}function x7(e,t){return Jr(e.getMilliseconds(),t,3)}function cz(e,t){return x7(e,t)+"000"}function uz(e,t){return Jr(e.getMonth()+1,t,2)}function dz(e,t){return Jr(e.getMinutes(),t,2)}function fz(e,t){return Jr(e.getSeconds(),t,2)}function hz(e){var t=e.getDay();return t===0?7:t}function mz(e,t){return Jr(yg.count(Jl(e)-1,e),t,2)}function y7(e){var t=e.getDay();return t>=4||t===0?sf(e):sf.ceil(e)}function pz(e,t){return e=y7(e),Jr(sf.count(Jl(e),e)+(Jl(e).getDay()===4),t,2)}function gz(e){return e.getDay()}function vz(e,t){return Jr(xp.count(Jl(e)-1,e),t,2)}function xz(e,t){return Jr(e.getFullYear()%100,t,2)}function yz(e,t){return e=y7(e),Jr(e.getFullYear()%100,t,2)}function bz(e,t){return Jr(e.getFullYear()%1e4,t,4)}function wz(e,t){var r=e.getDay();return e=r>=4||r===0?sf(e):sf.ceil(e),Jr(e.getFullYear()%1e4,t,4)}function jz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jr(t/60|0,"0",2)+Jr(t%60,"0",2)}function tk(e,t){return Jr(e.getUTCDate(),t,2)}function Nz(e,t){return Jr(e.getUTCHours(),t,2)}function Sz(e,t){return Jr(e.getUTCHours()%12||12,t,2)}function _z(e,t){return Jr(1+xg.count(Ql(e),e),t,3)}function b7(e,t){return Jr(e.getUTCMilliseconds(),t,3)}function kz(e,t){return b7(e,t)+"000"}function Az(e,t){return Jr(e.getUTCMonth()+1,t,2)}function Cz(e,t){return Jr(e.getUTCMinutes(),t,2)}function Pz(e,t){return Jr(e.getUTCSeconds(),t,2)}function Ez(e){var t=e.getUTCDay();return t===0?7:t}function Lz(e,t){return Jr(bg.count(Ql(e)-1,e),t,2)}function w7(e){var t=e.getUTCDay();return t>=4||t===0?of(e):of.ceil(e)}function Oz(e,t){return e=w7(e),Jr(of.count(Ql(e),e)+(Ql(e).getUTCDay()===4),t,2)}function Rz(e){return e.getUTCDay()}function Tz(e,t){return Jr(yp.count(Ql(e)-1,e),t,2)}function Mz(e,t){return Jr(e.getUTCFullYear()%100,t,2)}function Iz(e,t){return e=w7(e),Jr(e.getUTCFullYear()%100,t,2)}function Dz(e,t){return Jr(e.getUTCFullYear()%1e4,t,4)}function Fz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?of(e):of.ceil(e),Jr(e.getUTCFullYear()%1e4,t,4)}function $z(){return"+0000"}function rk(){return"%"}function nk(e){return+e}function ak(e){return Math.floor(+e/1e3)}var Cd,j7,N7;Bz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bz(e){return Cd=Bq(e),j7=Cd.format,Cd.parse,N7=Cd.utcFormat,Cd.utcParse,Cd}function Uz(e){return new Date(e)}function qz(e){return e instanceof Date?+e:+new Date(+e)}function rj(e,t,r,n,s,i,o,l,u,f){var h=q5(),m=h.invert,v=h.domain,p=f(".%L"),w=f(":%S"),x=f("%I:%M"),y=f("%I %p"),j=f("%a %d"),A=f("%b %d"),N=f("%B"),k=f("%Y");function C(T){return(u(T)<T?p:l(T)<T?w:o(T)<T?x:i(T)<T?y:n(T)<T?s(T)<T?j:A:r(T)<T?N:k)(T)}return h.invert=function(T){return new Date(m(T))},h.domain=function(T){return arguments.length?v(Array.from(T,qz)):v().map(Uz)},h.ticks=function(T){var F=v();return e(F[0],F[F.length-1],T??10)},h.tickFormat=function(T,F){return F==null?C:f(F)},h.nice=function(T){var F=v();return(!T||typeof T.range!="function")&&(T=t(F[0],F[F.length-1],T??10)),T?v(c7(F,T)):h},h.copy=function(){return _0(h,rj(e,t,r,n,s,i,o,l,u,f))},h}function zz(){return to.apply(rj(Fq,$q,Jl,ej,yg,k0,Q5,X5,qu,j7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wz(){return to.apply(rj(Iq,Dq,Ql,tj,bg,xg,Z5,J5,qu,N7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wg(){var e=0,t=1,r,n,s,i,o=zs,l=!1,u;function f(m){return m==null||isNaN(m=+m)?u:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(o=m,f):o};function h(m){return function(v){var p,w;return arguments.length?([p,w]=v,o=m(p,w),f):[o(0),o(1)]}}return f.range=h(Ef),f.rangeRound=h(U5),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return i=m,r=m(e),n=m(t),s=r===n?0:1/(n-r),f}}function eu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function S7(){var e=Zc(wg()(zs));return e.copy=function(){return eu(e,S7())},ic.apply(e,arguments)}function _7(){var e=H5(wg()).domain([1,10]);return e.copy=function(){return eu(e,_7()).base(e.base())},ic.apply(e,arguments)}function k7(){var e=V5(wg());return e.copy=function(){return eu(e,k7()).constant(e.constant())},ic.apply(e,arguments)}function nj(){var e=Y5(wg());return e.copy=function(){return eu(e,nj()).exponent(e.exponent())},ic.apply(e,arguments)}function Hz(){return nj.apply(null,arguments).exponent(.5)}function A7(){var e=[],t=zs;function r(n){if(n!=null&&!isNaN(n=+n))return t((N0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Hc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>LU(e,i/n))},r.copy=function(){return A7(t).domain(e)},ic.apply(r,arguments)}function jg(){var e=0,t=.5,r=1,n=1,s,i,o,l,u,f=zs,h,m=!1,v;function p(x){return isNaN(x=+x)?v:(x=.5+((x=+h(x))-i)*(n*x<n*i?l:u),f(m?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,s=h(e=+e),i=h(t=+t),o=h(r=+r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(m=!!x,p):m},p.interpolator=function(x){return arguments.length?(f=x,p):f};function w(x){return function(y){var j,A,N;return arguments.length?([j,A,N]=y,f=nq(x,[j,A,N]),p):[f(0),f(.5),f(1)]}}return p.range=w(Ef),p.rangeRound=w(U5),p.unknown=function(x){return arguments.length?(v=x,p):v},function(x){return h=x,s=x(e),i=x(t),o=x(r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function C7(){var e=Zc(jg()(zs));return e.copy=function(){return eu(e,C7())},ic.apply(e,arguments)}function P7(){var e=H5(jg()).domain([.1,1,10]);return e.copy=function(){return eu(e,P7()).base(e.base())},ic.apply(e,arguments)}function E7(){var e=V5(jg());return e.copy=function(){return eu(e,E7()).constant(e.constant())},ic.apply(e,arguments)}function aj(){var e=Y5(jg());return e.copy=function(){return eu(e,aj()).exponent(e.exponent())},ic.apply(e,arguments)}function Vz(){return aj.apply(null,arguments).exponent(.5)}const sk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wh,scaleDiverging:C7,scaleDivergingLog:P7,scaleDivergingPow:aj,scaleDivergingSqrt:Vz,scaleDivergingSymlog:E7,scaleIdentity:l7,scaleImplicit:rw,scaleLinear:gp,scaleLog:u7,scaleOrdinal:F5,scalePoint:Ch,scalePow:G5,scaleQuantile:h7,scaleQuantize:m7,scaleRadial:f7,scaleSequential:S7,scaleSequentialLog:_7,scaleSequentialPow:nj,scaleSequentialQuantile:A7,scaleSequentialSqrt:Hz,scaleSequentialSymlog:k7,scaleSqrt:kq,scaleSymlog:d7,scaleThreshold:p7,scaleTime:zz,scaleUtc:Wz,tickFormat:o7},Symbol.toStringTag,{value:"Module"}));var Lf=1e9,Yz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ij,Xn=!0,Zi="[DecimalError] ",Yu=Zi+"Invalid argument: ",sj=Zi+"Exponent out of range: ",Of=Math.floor,Tu=Math.pow,Gz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,Xa=1e7,Fn=7,L7=9007199254740991,bp=Of(L7/Fn),It={};It.absoluteValue=It.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};It.comparedTo=It.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};It.decimalPlaces=It.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};It.dividedBy=It.div=function(e){return Gl(this,new this.constructor(e))};It.dividedToIntegerBy=It.idiv=function(e){var t=this,r=t.constructor;return Sn(Gl(t,new r(e),0,1),r.precision)};It.equals=It.eq=function(e){return!this.cmp(e)};It.exponent=function(){return ka(this)};It.greaterThan=It.gt=function(e){return this.cmp(e)>0};It.greaterThanOrEqualTo=It.gte=function(e){return this.cmp(e)>=0};It.isInteger=It.isint=function(){return this.e>this.d.length-2};It.isNegative=It.isneg=function(){return this.s<0};It.isPositive=It.ispos=function(){return this.s>0};It.isZero=function(){return this.s===0};It.lessThan=It.lt=function(e){return this.cmp(e)<0};It.lessThanOrEqualTo=It.lte=function(e){return this.cmp(e)<1};It.logarithm=It.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pi))throw Error(Zi+"NaN");if(r.s<1)throw Error(Zi+(r.s?"NaN":"-Infinity"));return r.eq(Pi)?new n(0):(Xn=!1,t=Gl(Kh(r,i),Kh(e,i),i),Xn=!0,Sn(t,s))};It.minus=It.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T7(t,e):O7(t,(e.s=-e.s,e))};It.modulo=It.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Zi+"NaN");return r.s?(Xn=!1,t=Gl(r,e,0,1).times(e),Xn=!0,r.minus(t)):Sn(new n(r),s)};It.naturalExponential=It.exp=function(){return R7(this)};It.naturalLogarithm=It.ln=function(){return Kh(this)};It.negated=It.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};It.plus=It.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O7(t,e):T7(t,(e.s=-e.s,e))};It.precision=It.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yu+e);if(t=ka(s)+1,n=s.d.length-1,r=n*Fn+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};It.squareRoot=It.sqrt=function(){var e,t,r,n,s,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Zi+"NaN")}for(e=ka(l),Xn=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=rl(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Of((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(s.toString()),r=u.precision,s=o=r+3;;)if(i=n,n=i.plus(Gl(l,i,o+2)).times(.5),rl(i.d).slice(0,o)===(t=rl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Sn(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Xn=!0,Sn(n,r)};It.times=It.mul=function(e){var t,r,n,s,i,o,l,u,f,h=this,m=h.constructor,v=h.d,p=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=v.length,f=p.length,u<f&&(i=v,v=p,p=i,o=u,u=f,f=o),i=[],o=u+f,n=o;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,s=u+n;s>n;)l=i[s]+p[n]*v[s-n-1]+t,i[s--]=l%Xa|0,t=l/Xa|0;i[s]=(i[s]+t)%Xa|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Xn?Sn(e,m.precision):e};It.toDecimalPlaces=It.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(il(e,0,Lf),t===void 0?t=n.rounding:il(t,0,8),Sn(r,e+ka(r)+1,t))};It.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Qu(n,!0):(il(e,0,Lf),t===void 0?t=s.rounding:il(t,0,8),n=Sn(new s(n),e+1,t),r=Qu(n,!0,e+1)),r};It.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Qu(s):(il(e,0,Lf),t===void 0?t=i.rounding:il(t,0,8),n=Sn(new i(s),e+ka(s)+1,t),r=Qu(n.abs(),!1,e+ka(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};It.toInteger=It.toint=function(){var e=this,t=e.constructor;return Sn(new t(e),ka(e)+1,t.rounding)};It.toNumber=function(){return+this};It.toPower=It.pow=function(e){var t,r,n,s,i,o,l=this,u=l.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Pi);if(l=new u(l),!l.s){if(e.s<1)throw Error(Zi+"Infinity");return l}if(l.eq(Pi))return l;if(n=u.precision,e.eq(Pi))return Sn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=h<0?-h:h)<=L7){for(s=new u(Pi),t=Math.ceil(n/Fn+4),Xn=!1;r%2&&(s=s.times(l),ok(s.d,t)),r=Of(r/2),r!==0;)l=l.times(l),ok(l.d,t);return Xn=!0,e.s<0?new u(Pi).div(s):Sn(s,n)}}else if(i<0)throw Error(Zi+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Xn=!1,s=e.times(Kh(l,n+f)),Xn=!0,s=R7(s),s.s=i,s};It.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=ka(s),n=Qu(s,r<=i.toExpNeg||r>=i.toExpPos)):(il(e,1,Lf),t===void 0?t=i.rounding:il(t,0,8),s=Sn(new i(s),e,t),r=ka(s),n=Qu(s,e<=r||r<=i.toExpNeg,e)),n};It.toSignificantDigits=It.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(il(e,1,Lf),t===void 0?t=n.rounding:il(t,0,8)),Sn(new n(r),e,t)};It.toString=It.valueOf=It.val=It.toJSON=It[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ka(e),r=e.constructor;return Qu(e,t<=r.toExpNeg||t>=r.toExpPos)};function O7(e,t){var r,n,s,i,o,l,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Xn?Sn(t,m):t;if(u=e.d,f=t.d,o=e.e,s=t.e,u=u.slice(),i=o-s,i){for(i<0?(n=u,i=-i,l=f.length):(n=f,s=o,l=u.length),o=Math.ceil(m/Fn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=f.length,l-i<0&&(i=l,n=f,f=u,u=n),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/Xa|0,u[i]%=Xa;for(r&&(u.unshift(r),++s),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=s,Xn?Sn(t,m):t}function il(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Yu+e)}function rl(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Fn-n.length,r&&(i+=Fc(r)),i+=n;o=e[t],n=o+"",r=Fn-n.length,r&&(i+=Fc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Gl=(function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Xa|0,o=i/Xa|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=s[l]){u=n[l]>s[l]?1:-1;break}return u}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Xa+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,u,f,h,m,v,p,w,x,y,j,A,N,k,C,T,F,M,q=n.constructor,G=n.s==s.s?1:-1,R=n.d,D=s.d;if(!n.s)return new q(n);if(!s.s)throw Error(Zi+"Division by zero");for(u=n.e-s.e,F=D.length,C=R.length,p=new q(G),w=p.d=[],f=0;D[f]==(R[f]||0);)++f;if(D[f]>(R[f]||0)&&--u,i==null?A=i=q.precision:o?A=i+(ka(n)-ka(s))+1:A=i,A<0)return new q(0);if(A=A/Fn+2|0,f=0,F==1)for(h=0,D=D[0],A++;(f<C||h)&&A--;f++)N=h*Xa+(R[f]||0),w[f]=N/D|0,h=N%D|0;else{for(h=Xa/(D[0]+1)|0,h>1&&(D=e(D,h),R=e(R,h),F=D.length,C=R.length),k=F,x=R.slice(0,F),y=x.length;y<F;)x[y++]=0;M=D.slice(),M.unshift(0),T=D[0],D[1]>=Xa/2&&++T;do h=0,l=t(D,x,F,y),l<0?(j=x[0],F!=y&&(j=j*Xa+(x[1]||0)),h=j/T|0,h>1?(h>=Xa&&(h=Xa-1),m=e(D,h),v=m.length,y=x.length,l=t(m,x,v,y),l==1&&(h--,r(m,F<v?M:D,v))):(h==0&&(l=h=1),m=D.slice()),v=m.length,v<y&&m.unshift(0),r(x,m,y),l==-1&&(y=x.length,l=t(D,x,F,y),l<1&&(h++,r(x,F<y?M:D,y))),y=x.length):l===0&&(h++,x=[0]),w[f++]=h,l&&x[0]?x[y++]=R[k]||0:(x=[R[k]],y=1);while((k++<C||x[0]!==void 0)&&A--)}return w[0]||w.shift(),p.e=u,Sn(p,o?i+ka(p)+1:i)}})();function R7(e,t){var r,n,s,i,o,l,u=0,f=0,h=e.constructor,m=h.precision;if(ka(e)>16)throw Error(sj+ka(e));if(!e.s)return new h(Pi);for(Xn=!1,l=m,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(n=Math.log(Tu(2,f))/Math.LN10*2+5|0,l+=n,r=s=i=new h(Pi),h.precision=l;;){if(s=Sn(s.times(e),l),r=r.times(++u),o=i.plus(Gl(s,r,l)),rl(o.d).slice(0,l)===rl(i.d).slice(0,l)){for(;f--;)i=Sn(i.times(i),l);return h.precision=m,t==null?(Xn=!0,Sn(i,m)):i}i=o}}function ka(e){for(var t=e.e*Fn,r=e.d[0];r>=10;r/=10)t++;return t}function m2(e,t,r){if(t>e.LN10.sd())throw Xn=!0,r&&(e.precision=r),Error(Zi+"LN10 precision limit exceeded");return Sn(new e(e.LN10),t)}function Fc(e){for(var t="";e--;)t+="0";return t}function Kh(e,t){var r,n,s,i,o,l,u,f,h,m=1,v=10,p=e,w=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(Zi+(p.s?"NaN":"-Infinity"));if(p.eq(Pi))return new x(0);if(t==null?(Xn=!1,f=y):f=t,p.eq(10))return t==null&&(Xn=!0),m2(x,f);if(f+=v,x.precision=f,r=rl(w),n=r.charAt(0),i=ka(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=rl(p.d),n=r.charAt(0),m++;i=ka(p),n>1?(p=new x("0."+r),i++):p=new x(n+"."+r.slice(1))}else return u=m2(x,f+2,y).times(i+""),p=Kh(new x(n+"."+r.slice(1)),f-v).plus(u),x.precision=y,t==null?(Xn=!0,Sn(p,y)):p;for(l=o=p=Gl(p.minus(Pi),p.plus(Pi),f),h=Sn(p.times(p),f),s=3;;){if(o=Sn(o.times(h),f),u=l.plus(Gl(o,new x(s),f)),rl(u.d).slice(0,f)===rl(l.d).slice(0,f))return l=l.times(2),i!==0&&(l=l.plus(m2(x,f+2,y).times(i+""))),l=Gl(l,new x(m),f),x.precision=y,t==null?(Xn=!0,Sn(l,y)):l;l=u,s+=2}}function ik(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Of(r/Fn),e.d=[],n=(r+1)%Fn,r<0&&(n+=Fn),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Fn;n<s;)e.d.push(+t.slice(n,n+=Fn));t=t.slice(n),n=Fn-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Xn&&(e.e>bp||e.e<-bp))throw Error(sj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Sn(e,t,r){var n,s,i,o,l,u,f,h,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Fn,s=t,f=m[h=0];else{if(h=Math.ceil((n+1)/Fn),i=m.length,h>=i)return e;for(f=i=m[h],o=1;i>=10;i/=10)o++;n%=Fn,s=n-Fn+o}if(r!==void 0&&(i=Tu(10,o-s-1),l=f/i%10|0,u=t<0||m[h+1]!==void 0||f%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?s>0?f/Tu(10,o-s):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=ka(e),m.length=1,t=t-i-1,m[0]=Tu(10,(Fn-t%Fn)%Fn),e.e=Of(-t/Fn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=Tu(10,Fn-n),m[h]=s>0?(f/Tu(10,o-s)%Tu(10,s)|0)*i:0),u)for(;;)if(h==0){(m[0]+=i)==Xa&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=Xa)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Xn&&(e.e>bp||e.e<-bp))throw Error(sj+ka(e));return e}function T7(e,t){var r,n,s,i,o,l,u,f,h,m,v=e.constructor,p=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Xn?Sn(t,p):t;if(u=e.d,m=t.d,n=t.e,f=e.e,u=u.slice(),o=f-n,o){for(h=o<0,h?(r=u,o=-o,l=m.length):(r=m,n=f,l=u.length),s=Math.max(Math.ceil(p/Fn),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=u.length,l=m.length,h=s<l,h&&(l=s),s=0;s<l;s++)if(u[s]!=m[s]){h=u[s]<m[s];break}o=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,s=m.length-l;s>0;--s)u[l++]=0;for(s=m.length;s>o;){if(u[--s]<m[s]){for(i=s;i&&u[--i]===0;)u[i]=Xa-1;--u[i],u[s]+=Xa}u[s]-=m[s]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Xn?Sn(t,p):t):new v(0)}function Qu(e,t,r){var n,s=ka(e),i=rl(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Fc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Fc(-s-1)+i,r&&(n=r-o)>0&&(i+=Fc(n))):s>=o?(i+=Fc(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Fc(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Fc(n))),e.s<0?"-"+i:i}function ok(e,t){if(e.length>t)return e.length=t,!0}function M7(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Yu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ik(o,i.toString())}else if(typeof i!="string")throw Error(Yu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Gz.test(i))ik(o,i);else throw Error(Yu+i)}if(s.prototype=It,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=M7,s.config=s.set=Kz,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Kz(e){if(!e||typeof e!="object")throw Error(Zi+"Object expected");var t,r,n,s=["precision",1,Lf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Of(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Yu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yu+r+": "+n);return this}var ij=M7(Yz);Pi=new ij(1);const gn=ij;function Xz(e){return eW(e)||Zz(e)||Qz(e)||Jz()}function Jz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qz(e,t){if(e){if(typeof e=="string")return iw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iw(e,t)}}function Zz(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eW(e){if(Array.isArray(e))return iw(e)}function iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tW=function(t){return t},I7={},D7=function(t){return t===I7},lk=function(t){return function r(){return arguments.length===0||arguments.length===1&&D7(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},rW=function e(t,r){return t===1?r:lk(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==I7}).length;return o>=t?r.apply(void 0,s):e(t-o,lk(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=s.map(function(m){return D7(m)?u.shift():m});return r.apply(void 0,Xz(h).concat(u))}))})},Ng=function(t){return rW(t.length,t)},ow=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},nW=Ng(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),aW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return tW;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,u){return u(l)},i.apply(void 0,arguments))}},lw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},F7=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,u){return l===r[u]})||(r=i,n=t.apply(void 0,i)),n}};function sW(e){var t;return e===0?t=1:t=Math.floor(new gn(e).abs().log(10).toNumber())+1,t}function iW(e,t,r){for(var n=new gn(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var oW=Ng(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),lW=Ng(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),cW=Ng(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Sg={rangeStep:iW,getDigitCount:sW,interpolateNumber:oW,uninterpolateNumber:lW,uninterpolateTruncation:cW};function cw(e){return fW(e)||dW(e)||$7(e)||uW()}function uW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fW(e){if(Array.isArray(e))return uw(e)}function Xh(e,t){return pW(e)||mW(e,t)||$7(e,t)||hW()}function hW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(e,t){if(e){if(typeof e=="string")return uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(e,t)}}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(u){s=!0,i=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function pW(e){if(Array.isArray(e))return e}function B7(e){var t=Xh(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function U7(e,t,r){if(e.lte(0))return new gn(0);var n=Sg.getDigitCount(e.toNumber()),s=new gn(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new gn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(s);return t?u:new gn(Math.ceil(u))}function gW(e,t,r){var n=1,s=new gn(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new gn(10).pow(Sg.getDigitCount(e)-1),s=new gn(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new gn(Math.floor(e)))}else e===0?s=new gn(Math.floor((t-1)/2)):r||(s=new gn(Math.floor(e)));var o=Math.floor((t-1)/2),l=aW(nW(function(u){return s.add(new gn(u-o).mul(n)).toNumber()}),ow);return l(0,t)}function q7(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gn(0),tickMin:new gn(0),tickMax:new gn(0)};var i=U7(new gn(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new gn(0):(o=new gn(e).add(t).div(2),o=o.sub(new gn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),u=Math.ceil(new gn(t).sub(o).div(i).toNumber()),f=l+u+1;return f>r?q7(e,t,r,n,s+1):(f<r&&(u=t>0?u+(r-f):u,l=t>0?l:l+(r-f)),{step:i,tickMin:o.sub(new gn(l).mul(i)),tickMax:o.add(new gn(u).mul(i))})}function vW(e){var t=Xh(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=B7([r,n]),u=Xh(l,2),f=u[0],h=u[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(cw(ow(0,s-1).map(function(){return 1/0}))):[].concat(cw(ow(0,s-1).map(function(){return-1/0})),[h]);return r>n?lw(m):m}if(f===h)return gW(f,s,i);var v=q7(f,h,o,i),p=v.step,w=v.tickMin,x=v.tickMax,y=Sg.rangeStep(w,x.add(new gn(.1).mul(p)),p);return r>n?lw(y):y}function xW(e,t){var r=Xh(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=B7([n,s]),l=Xh(o,2),u=l[0],f=l[1];if(u===-1/0||f===1/0)return[n,s];if(u===f)return[u];var h=Math.max(t,2),m=U7(new gn(f).sub(u).div(h-1),i,0),v=[].concat(cw(Sg.rangeStep(new gn(u),new gn(f).sub(new gn(.99).mul(m)),m)),[f]);return n>s?lw(v):v}var yW=F7(vW),bW=F7(xW),wW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(this,arguments)}function jW(e,t){return kW(e)||_W(e,t)||SW(e,t)||NW()}function NW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SW(e,t){if(e){if(typeof e=="string")return ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ck(e,t)}}function ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _W(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function kW(e){if(Array.isArray(e))return e}function AW(e,t){if(e==null)return{};var r=CW(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CW(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function _g(e){var t=e.offset,r=e.layout,n=e.width,s=e.dataKey,i=e.data,o=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,f=AW(e,wW),h=wr(f),m=i.map(function(v,p){var w=o(v,s),x=w.x,y=w.y,j=w.value,A=w.errorVal;if(!A)return null;var N=[],k,C;if(Array.isArray(A)){var T=jW(A,2);k=T[0],C=T[1]}else k=C=A;if(r==="vertical"){var F=l.scale,M=y+t,q=M+n,G=M-n,R=F(j-k),D=F(j+C);N.push({x1:D,y1:q,x2:D,y2:G}),N.push({x1:R,y1:M,x2:D,y2:M}),N.push({x1:R,y1:q,x2:R,y2:G})}else if(r==="horizontal"){var z=u.scale,W=x+t,Z=W-n,le=W+n,ge=z(j-k),te=z(j+C);N.push({x1:Z,y1:te,x2:le,y2:te}),N.push({x1:W,y1:ge,x2:W,y2:te}),N.push({x1:Z,y1:ge,x2:le,y2:ge})}return Te.createElement(vn,wp({className:"recharts-errorBar",key:"bar-".concat(p)},h),N.map(function(ue,H){return Te.createElement("line",wp({},ue,{key:"line-".concat(H)}))}))});return Te.createElement(vn,{className:"recharts-errorBars"},m)}_g.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};_g.displayName="ErrorBar";function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function uk(e){return OW(e)||LW(e)||EW(e)||PW()}function PW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EW(e,t){if(e){if(typeof e=="string")return dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dw(e,t)}}function LW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OW(e){if(Array.isArray(e))return dw(e)}function dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){qd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qd(e,t,r){return t=RW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=TW(e,"string");return Jh(t)==="symbol"?t:String(t)}function TW(e,t){if(Jh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(e,t,r){return cr(e)||cr(t)?r:Ma(t)?Li(e,t,r):ur(t)?t(e):r}function Ph(e,t,r,n){var s=yU(e,function(l){return Es(l,t)});if(r==="number"){var i=s.filter(function(l){return Nt(l)||parseFloat(l)});return i.length?[gg(i),pg(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!cr(l)}):s;return o.map(function(l){return Ma(l)||l instanceof Date?l:""})}var MW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,f=0;f<l;f++){var h=f>0?s[f-1].coordinate:s[l-1].coordinate,m=s[f].coordinate,v=f>=l-1?s[0].coordinate:s[f+1].coordinate,p=void 0;if(Ls(m-h)!==Ls(v-m)){var w=[];if(Ls(v-m)===Ls(u[1]-u[0])){p=v;var x=m+u[1]-u[0];w[0]=Math.min(x,(x+h)/2),w[1]=Math.max(x,(x+h)/2)}else{p=h;var y=v+u[1]-u[0];w[0]=Math.min(m,(y+m)/2),w[1]=Math.max(m,(y+m)/2)}var j=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(t>j[0]&&t<=j[1]||t>=w[0]&&t<=w[1]){o=s[f].index;break}}else{var A=Math.min(h,v),N=Math.max(h,v);if(t>(A+m)/2&&t<=(N+m)/2){o=s[f].index;break}}}else for(var k=0;k<l;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},oj=function(t){var r=t,n=r.type.displayName,s=t.props,i=s.stroke,o=s.fill,l;switch(n){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:o;break;default:l=o;break}return l},z7=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Wl(r,Vc);if(!o)return null;var l;return o.props&&o.props.payload?l=o.props&&o.props.payload:i==="children"?l=(n||[]).reduce(function(u,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return u.concat(v.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):l=(n||[]).map(function(u){var f=u.item,h=f.props,m=h.dataKey,v=h.name,p=h.legendType,w=h.hide;return{inactive:w,dataKey:m,type:o.props.iconType||p||"square",color:oj(f),value:v||m,payload:f.props}}),qs(qs(qs({},o.props),Vc.getWithHeight(o,s)),{},{payload:l,item:o})},IW=function(t){var r=t.barSize,n=t.stackGroups,s=n===void 0?{}:n;if(!s)return{};for(var i={},o=Object.keys(s),l=0,u=o.length;l<u;l++)for(var f=s[o[l]].stackGroups,h=Object.keys(f),m=0,v=h.length;m<v;m++){var p=f[h[m]],w=p.items,x=p.cateAxisId,y=w.filter(function(N){return zc(N.type).indexOf("Bar")>=0});if(y&&y.length){var j=y[0].props.barSize,A=y[0].props[x];i[A]||(i[A]=[]),i[A].push({item:y[0],stackList:y.slice(1),barSize:cr(j)?r:j})}}return i},DW=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,u=o.length;if(u<1)return null;var f=li(r,s,0,!0),h;if(o[0].barSize===+o[0].barSize){var m=!1,v=s/u,p=o.reduce(function(N,k){return N+k.barSize||0},0);p+=(u-1)*f,p>=s&&(p-=(u-1)*f,f=0),p>=s&&v>0&&(m=!0,v*=.9,p=u*v);var w=(s-p)/2>>0,x={offset:w-f,size:0};h=o.reduce(function(N,k){var C=[].concat(uk(N),[{item:k.item,position:{offset:x.offset+x.size+f,size:m?v:k.barSize}}]);return x=C[C.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){C.push({item:T,position:x})}),C},[])}else{var y=li(n,s,0,!0);s-2*y-(u-1)*f<=0&&(f=0);var j=(s-2*y-(u-1)*f)/u;j>1&&(j>>=0);var A=l===+l?Math.min(j,l):j;h=o.reduce(function(N,k,C){var T=[].concat(uk(N),[{item:k.item,position:{offset:y+(j+f)*C+(j-A)/2,size:A}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(F){T.push({item:F,position:T[T.length-1].position})}),T},[])}return h},FW=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,u=o-(l.left||0)-(l.right||0),f=z7({children:i,legendWidth:u}),h=t;if(f){var m=s||{},v=f.align,p=f.verticalAlign,w=f.layout;(w==="vertical"||w==="horizontal"&&p==="middle")&&Nt(t[v])&&(h=qs(qs({},t),{},qd({},v,h[v]+(m.width||0)))),(w==="horizontal"||w==="vertical"&&v==="center")&&Nt(t[p])&&(h=qs(qs({},t),{},qd({},p,h[p]+(m.height||0))))}return h},$W=function(t,r,n){return cr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},W7=function(t,r,n,s,i){var o=r.props.children,l=Ji(o,_g).filter(function(f){return $W(s,i,f.props.direction)});if(l&&l.length){var u=l.map(function(f){return f.props.dataKey});return t.reduce(function(f,h){var m=Es(h,n,0),v=us(m)?[gg(m),pg(m)]:[m,m],p=u.reduce(function(w,x){var y=Es(h,x,0),j=v[0]-Math.abs(us(y)?y[0]:y),A=v[1]+Math.abs(us(y)?y[1]:y);return[Math.min(j,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(p[0],f[0]),Math.max(p[1],f[1])]},[1/0,-1/0])}return null},BW=function(t,r,n,s,i){var o=r.map(function(l){return W7(t,l,n,i,s)}).filter(function(l){return!cr(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},H7=function(t,r,n,s,i){var o=r.map(function(u){var f=u.props.dataKey;return n==="number"&&f&&W7(t,u,f,s)||Ph(t,f,n,i)});if(n==="number")return o.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,u.push(f[h]));return u},[])},V7=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},fk=function(t,r,n){var s,i,o=t.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===n&&(i=!0),l.coordinate});return s||o.push(r),i||o.push(n),o},Ic=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,u=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/u:0;if(f=t.axisType==="angleAxis"&&l?.length>=2?Ls(l[0]-l[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var v=i?i.indexOf(m):m;return{coordinate:s(v)+f,value:m,offset:f}});return h.filter(function(m){return!y0(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,v){return{coordinate:s(m)+f,value:m,index:v,offset:f}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+f,value:m,offset:f}}):s.domain().map(function(m,v){return{coordinate:s(m)+f,value:i?i[m]:m,index:v,offset:f}})},Nm=function(t,r,n){var s;return ur(n)?s=n:ur(r)&&(s=r),ur(t)||s?function(i,o,l,u){ur(t)&&t(i,o,l,u),ur(s)&&s(i,o,l,u)}:null},Y7=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Wh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:gp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ch(),realScaleType:"point"}:i==="category"?{scale:Wh(),realScaleType:"band"}:{scale:gp(),realScaleType:"linear"};if(x0(s)){var u="scale".concat(lg(s));return{scale:(sk[u]||Ch)(),realScaleType:sk[u]?u:"point"}}return ur(s)?{scale:s}:{scale:Ch(),realScaleType:"point"}},hk=1e-4,G7=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-hk,o=Math.max(s[0],s[1])+hk,l=t(r[0]),u=t(r[n-1]);(l<i||l>o||u<i||u>o)&&t.domain([r[0],r[n-1]])}},UW=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},qW=function(t,r){if(!r||r.length!==2||!Nt(r[0])||!Nt(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Nt(t[0])||t[0]<n)&&(i[0]=n),(!Nt(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},zW=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var u=y0(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1])}},WW=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=y0(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},HW={sign:zW,expand:eD,none:Jd,silhouette:tD,wiggle:rD,positive:WW},VW=function(t,r,n){var s=r.map(function(o){return o.props.dataKey}),i=ZI().keys(s).value(function(o,l){return+Es(o,l,0)}).order(Ob).offset(HW[n]);return i(t)},YW=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,u=l.reduce(function(f,h){var m=h.props,v=m.stackId,p=m.hide;if(p)return f;var w=h.props[n],x=f[w]||{hasStack:!1,stackGroups:{}};if(Ma(v)){var y=x.stackGroups[v]||{numericAxisId:n,cateAxisId:s,items:[]};y.items.push(h),x.hasStack=!0,x.stackGroups[v]=y}else x.stackGroups[b0("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return qs(qs({},f),{},qd({},w,x))},{});return Object.keys(u).reduce(function(f,h){var m=u[h];return m.hasStack&&(m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,p){var w=m.stackGroups[p];return qs(qs({},v),{},qd({},p,{numericAxisId:n,cateAxisId:s,items:w.items,stackedData:VW(t,w.items,i)}))},{})),qs(qs({},f),{},qd({},h,m))},{})},K7=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=t.domain();if(!f.length)return null;var h=yW(f,i,l);return t.domain([gg(h),pg(h)]),{niceTicks:h}}if(i&&s==="number"){var m=t.domain(),v=bW(m,i,l);return{niceTicks:v}}return null},mk=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var u=Es(o,r.dataKey,r.domain[l]);return cr(u)?null:r.scale(u)-i/2+s},GW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},KW=function(t,r){var n=t.props.stackId;if(Ma(n)){var s=r[n];if(s&&s.items.length){for(var i=-1,o=0,l=s.items.length;o<l;o++)if(s.items[o]===t){i=o;break}return i>=0?s.stackedData[i]:null}}return null},XW=function(t){return t.reduce(function(r,n){return[gg(n.concat([r[0]]).filter(Nt)),pg(n.concat([r[1]]).filter(Nt))]},[1/0,-1/0])},X7=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,u=l.reduce(function(f,h){var m=XW(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},pk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fw=function(t,r,n){if(ur(t))return t(r,n);if(!us(t))return r;var s=[];if(Nt(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(pk.test(t[0])){var i=+pk.exec(t[0])[1];s[0]=r[0]-i}else ur(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Nt(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(gk.test(t[1])){var o=+gk.exec(t[1])[1];s[1]=r[1]+o}else ur(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},jp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=R5(r,function(m){return m.coordinate}),o=1/0,l=1,u=i.length;l<u;l++){var f=i[l],h=i[l-1];o=Math.min((f.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},vk=function(t,r,n){return!t||!t.length||I5(t,Li(n,"type.defaultProps.domain"))?r:t},J7=function(t,r){var n=t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,u=n.tooltipType,f=n.chartType;return qs(qs({},wr(t)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:oj(t),value:Es(r,s),type:u,payload:r,chartType:f})};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return t=JW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=QW(e,"string");return Qh(t)==="symbol"?t:String(t)}function QW(e,t){if(Qh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZW(e,t){return nH(e)||rH(e,t)||tH(e,t)||eH()}function eH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tH(e,t){if(e){if(typeof e=="string")return yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yk(e,t)}}function yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function nH(e){if(Array.isArray(e))return e}var Np=Math.PI/180,aH=function(t){return t*180/Math.PI},Mn=function(t,r,n,s){return{x:t+Math.cos(-Np*s)*n,y:r+Math.sin(-Np*s)*n}},Z7=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sH=function(t,r,n,s,i){var o=t.width,l=t.height,u=t.startAngle,f=t.endAngle,h=li(t.cx,o,o/2),m=li(t.cy,l,l/2),v=Z7(o,l,n),p=li(t.innerRadius,v,0),w=li(t.outerRadius,v,v*.8),x=Object.keys(r);return x.reduce(function(y,j){var A=r[j],N=A.domain,k=A.reversed,C;if(cr(A.range))s==="angleAxis"?C=[u,f]:s==="radiusAxis"&&(C=[p,w]),k&&(C=[C[1],C[0]]);else{C=A.range;var T=C,F=ZW(T,2);u=F[0],f=F[1]}var M=Y7(A,i),q=M.realScaleType,G=M.scale;G.domain(N).range(C),G7(G);var R=K7(G,ql(ql({},A),{},{realScaleType:q})),D=ql(ql(ql({},A),R),{},{range:C,radius:w,realScaleType:q,scale:G,cx:h,cy:m,innerRadius:p,outerRadius:w,startAngle:u,endAngle:f});return ql(ql({},y),{},Q7({},j,D))},{})},iH=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},oH=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=iH({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var u=(n-i)/l,f=Math.acos(u);return s>o&&(f=2*Math.PI-f),{radius:l,angle:aH(f),angleInRadian:f}},lH=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},cH=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},bk=function(t,r){var n=t.x,s=t.y,i=oH({x:n,y:s},r),o=i.radius,l=i.angle,u=r.innerRadius,f=r.outerRadius;if(o<u||o>f)return!1;if(o===0)return!0;var h=lH(r),m=h.startAngle,v=h.endAngle,p=l,w;if(m<=v){for(;p>v;)p-=360;for(;p<m;)p+=360;w=p>=m&&p<=v}else{for(;p>m;)p-=360;for(;p<v;)p+=360;w=p>=v&&p<=m}return w?ql(ql({},r),{},{radius:o,angle:cH(p,r)}):null};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function uH(e){return mH(e)||hH(e)||fH(e)||dH()}function dH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fH(e,t){if(e){if(typeof e=="string")return hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hw(e,t)}}function hH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mH(e){if(Array.isArray(e))return hw(e)}function hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){pH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pH(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=vH(e,"string");return Zh(t)==="symbol"?t:String(t)}function vH(e,t){if(Zh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(this,arguments)}var xH=function(t){var r=t.value,n=t.formatter,s=cr(t.children)?r:t.children;return ur(n)?n(s):s},yH=function(t,r){var n=Ls(r-t),s=Math.min(Math.abs(r-t),360);return n*s},bH=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,u=i,f=u.cx,h=u.cy,m=u.innerRadius,v=u.outerRadius,p=u.startAngle,w=u.endAngle,x=u.clockWise,y=(m+v)/2,j=yH(p,w),A=j>=0?1:-1,N,k;s==="insideStart"?(N=p+A*o,k=x):s==="insideEnd"?(N=w-A*o,k=!x):s==="end"&&(N=w+A*o,k=x),k=j<=0?k:!k;var C=Mn(f,h,y,N),T=Mn(f,h,y,N+(k?1:-1)*359),F="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(T.x,",").concat(T.y),M=cr(t.id)?b0("recharts-radial-line-"):t.id;return Te.createElement("text",e0({},n,{dominantBaseline:"central",className:_n("recharts-radial-bar-label",l)}),Te.createElement("defs",null,Te.createElement("path",{id:M,d:F})),Te.createElement("textPath",{xlinkHref:"#".concat(M)},r))},wH=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,u=i.innerRadius,f=i.outerRadius,h=i.startAngle,m=i.endAngle,v=(h+m)/2;if(s==="outside"){var p=Mn(o,l,f+n,v),w=p.x,x=p.y;return{x:w,y:x,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(u+f)/2,j=Mn(o,l,y,v),A=j.x,N=j.y;return{x:A,y:N,textAnchor:"middle",verticalAnchor:"middle"}},jH=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,u=o.y,f=o.width,h=o.height,m=h>=0?1:-1,v=m*s,p=m>0?"end":"start",w=m>0?"start":"end",x=f>=0?1:-1,y=x*s,j=x>0?"end":"start",A=x>0?"start":"end";if(i==="top"){var N={x:l+f/2,y:u-m*s,textAnchor:"middle",verticalAnchor:p};return Ga(Ga({},N),n?{height:Math.max(u-n.y,0),width:f}:{})}if(i==="bottom"){var k={x:l+f/2,y:u+h+v,textAnchor:"middle",verticalAnchor:w};return Ga(Ga({},k),n?{height:Math.max(n.y+n.height-(u+h),0),width:f}:{})}if(i==="left"){var C={x:l-y,y:u+h/2,textAnchor:j,verticalAnchor:"middle"};return Ga(Ga({},C),n?{width:Math.max(C.x-n.x,0),height:h}:{})}if(i==="right"){var T={x:l+f+y,y:u+h/2,textAnchor:A,verticalAnchor:"middle"};return Ga(Ga({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:h}:{})}var F=n?{width:f,height:h}:{};return i==="insideLeft"?Ga({x:l+y,y:u+h/2,textAnchor:A,verticalAnchor:"middle"},F):i==="insideRight"?Ga({x:l+f-y,y:u+h/2,textAnchor:j,verticalAnchor:"middle"},F):i==="insideTop"?Ga({x:l+f/2,y:u+v,textAnchor:"middle",verticalAnchor:w},F):i==="insideBottom"?Ga({x:l+f/2,y:u+h-v,textAnchor:"middle",verticalAnchor:p},F):i==="insideTopLeft"?Ga({x:l+y,y:u+v,textAnchor:A,verticalAnchor:w},F):i==="insideTopRight"?Ga({x:l+f-y,y:u+v,textAnchor:j,verticalAnchor:w},F):i==="insideBottomLeft"?Ga({x:l+y,y:u+h-v,textAnchor:A,verticalAnchor:p},F):i==="insideBottomRight"?Ga({x:l+f-y,y:u+h-v,textAnchor:j,verticalAnchor:p},F):kf(i)&&(Nt(i.x)||Bu(i.x))&&(Nt(i.y)||Bu(i.y))?Ga({x:l+li(i.x,f),y:u+li(i.y,h),textAnchor:"end",verticalAnchor:"end"},F):Ga({x:l+f/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},NH=function(t){return"cx"in t&&Nt(t.cx)};function Ta(e){var t=e.viewBox,r=e.position,n=e.value,s=e.children,i=e.content,o=e.className,l=o===void 0?"":o,u=e.textBreakAll;if(!t||cr(n)&&cr(s)&&!L.isValidElement(i)&&!ur(i))return null;if(L.isValidElement(i))return L.cloneElement(i,e);var f;if(ur(i)){if(f=L.createElement(i,e),L.isValidElement(f))return f}else f=xH(e);var h=NH(t),m=wr(e,!0);if(h&&(r==="insideStart"||r==="insideEnd"||r==="end"))return bH(e,f,m);var v=h?wH(e):jH(e);return Te.createElement(Gc,e0({className:_n("recharts-label",l)},m,v,{breakAll:u}),f)}Ta.displayName="Label";Ta.defaultProps={offset:5};var eE=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,u=t.radius,f=t.innerRadius,h=t.outerRadius,m=t.x,v=t.y,p=t.top,w=t.left,x=t.width,y=t.height,j=t.clockWise,A=t.labelViewBox;if(A)return A;if(Nt(x)&&Nt(y)){if(Nt(m)&&Nt(v))return{x:m,y:v,width:x,height:y};if(Nt(p)&&Nt(w))return{x:p,y:w,width:x,height:y}}return Nt(m)&&Nt(v)?{x:m,y:v,width:0,height:0}:Nt(r)&&Nt(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:f||0,outerRadius:h||u||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},SH=function(t,r){return t?t===!0?Te.createElement(Ta,{key:"label-implicit",viewBox:r}):Ma(t)?Te.createElement(Ta,{key:"label-implicit",viewBox:r,value:t}):L.isValidElement(t)?t.type===Ta?L.cloneElement(t,{key:"label-implicit",viewBox:r}):Te.createElement(Ta,{key:"label-implicit",content:t,viewBox:r}):ur(t)?Te.createElement(Ta,{key:"label-implicit",content:t,viewBox:r}):kf(t)?Te.createElement(Ta,e0({viewBox:r},t,{key:"label-implicit"})):null:null},_H=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=eE(t),o=Ji(s,Ta).map(function(u,f){return L.cloneElement(u,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return o;var l=SH(t.label,r||i);return[l].concat(uH(o))};Ta.parseViewBox=eE;Ta.renderCallByParent=_H;var p2,jk;function kH(){if(jk)return p2;jk=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return p2=e,p2}var AH=kH();const CH=Qr(AH);function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}var PH=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function EH(e){return TH(e)||RH(e)||OH(e)||LH()}function LH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OH(e,t){if(e){if(typeof e=="string")return mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mw(e,t)}}function RH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TH(e){if(Array.isArray(e))return mw(e)}function mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sp.apply(this,arguments)}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){MH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MH(e,t,r){return t=IH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=DH(e,"string");return t0(t)==="symbol"?t:String(t)}function DH(e,t){if(t0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(t0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FH(e,t){if(e==null)return{};var r=$H(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $H(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var BH={valueAccessor:function(t){return us(t.value)?CH(t.value):t.value}};function Kl(e){var t=e.data,r=e.valueAccessor,n=e.dataKey,s=e.clockWise,i=e.id,o=e.textBreakAll,l=FH(e,PH);return!t||!t.length?null:Te.createElement(vn,{className:"recharts-label-list"},t.map(function(u,f){var h=cr(n)?r(u,f):Es(u&&u.payload,n),m=cr(i)?{}:{id:"".concat(i,"-").concat(f)};return Te.createElement(Ta,Sp({},wr(u,!0),l,m,{parentViewBox:u.parentViewBox,index:f,value:h,textBreakAll:o,viewBox:Ta.parseViewBox(cr(s)?u:Sk(Sk({},u),{},{clockWise:s})),key:"label-".concat(f)}))}))}Kl.displayName="LabelList";function UH(e,t){return e?e===!0?Te.createElement(Kl,{key:"labelList-implicit",data:t}):Te.isValidElement(e)||ur(e)?Te.createElement(Kl,{key:"labelList-implicit",data:t,content:e}):kf(e)?Te.createElement(Kl,Sp({data:t},e,{key:"labelList-implicit"})):null:null}function qH(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Ji(n,Kl).map(function(o,l){return L.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=UH(e.label,t);return[i].concat(EH(s))}Kl.renderCallByParent=qH;Kl.defaultProps=BH;function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function zH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tE(n.key),n)}}function HH(e,t,r){return t&&WH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gw(e,t)}function gw(e,t){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gw(e,t)}function YH(e){var t=XH();return function(){var n=_p(e),s;if(t){var i=_p(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return GH(this,s)}}function GH(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KH(e)}function KH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _p(e){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(e)}function JH(e,t,r){return t=tE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tE(e){var t=QH(e,"string");return lf(t)==="symbol"?t:String(t)}function QH(e,t){if(lf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZH=function(t,r){var n=Ls(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Sm=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,u=t.cornerRadius,f=t.cornerIsExternal,h=u*(l?1:-1)+s,m=Math.asin(u/h)/Np,v=f?i:i+o*m,p=Mn(r,n,h,v),w=Mn(r,n,s,v),x=f?i-o*m:i,y=Mn(r,n,h*Math.cos(m*Np),x);return{center:p,circleTangency:w,lineTangency:y,theta:m}},rE=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,u=ZH(o,l),f=o+u,h=Mn(r,n,i,o),m=Mn(r,n,i,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var p=Mn(r,n,s,o),w=Mn(r,n,s,f);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(p.x,",").concat(p.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},eV=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,f=t.startAngle,h=t.endAngle,m=Ls(h-f),v=Sm({cx:r,cy:n,radius:i,angle:f,sign:m,cornerRadius:o,cornerIsExternal:u}),p=v.circleTangency,w=v.lineTangency,x=v.theta,y=Sm({cx:r,cy:n,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:u}),j=y.circleTangency,A=y.lineTangency,N=y.theta,k=u?Math.abs(f-h):Math.abs(f-h)-x-N;if(k<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rE({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:f,endAngle:h});var C="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(s>0){var T=Sm({cx:r,cy:n,radius:s,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),F=T.circleTangency,M=T.lineTangency,q=T.theta,G=Sm({cx:r,cy:n,radius:s,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),R=G.circleTangency,D=G.lineTangency,z=G.theta,W=u?Math.abs(f-h):Math.abs(f-h)-q-z;if(W<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(W>180),",").concat(+(m>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},kp=(function(e){VH(r,e);var t=YH(r);function r(){return zH(this,r),t.apply(this,arguments)}return HH(r,[{key:"render",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.innerRadius,u=s.outerRadius,f=s.cornerRadius,h=s.forceCornerRadius,m=s.cornerIsExternal,v=s.startAngle,p=s.endAngle,w=s.className;if(u<l||v===p)return null;var x=_n("recharts-sector",w),y=u-l,j=li(f,y,0,!0),A;return j>0&&Math.abs(v-p)<360?A=eV({cx:i,cy:o,innerRadius:l,outerRadius:u,cornerRadius:Math.min(j,y/2),forceCornerRadius:h,cornerIsExternal:m,startAngle:v,endAngle:p}):A=rE({cx:i,cy:o,innerRadius:l,outerRadius:u,startAngle:v,endAngle:p}),Te.createElement("path",pw({},wr(this.props,!0),{className:x,d:A,role:"img"}))}}]),r})(L.PureComponent);JH(kp,"defaultProps",{cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1});function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(this,arguments)}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(n){tV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tV(e,t,r){return t=rV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return r0(t)==="symbol"?t:String(t)}function nV(e,t){if(r0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(r0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ak={curveBasisClosed:qI,curveBasisOpen:zI,curveBasis:UI,curveLinearClosed:WI,curveLinear:ug,curveMonotoneX:HI,curveMonotoneY:VI,curveNatural:YI,curveStep:GI,curveStepAfter:XI,curveStepBefore:KI},_m=function(t){return t.x===+t.x&&t.y===+t.y},vh=function(t){return t.x},xh=function(t){return t.y},aV=function(t,r){if(ur(t))return t;var n="curve".concat(lg(t));return n==="curveMonotone"&&r?Ak["".concat(n).concat(r==="vertical"?"Y":"X")]:Ak[n]||ug},sV=function(t){var r=t.type,n=t.points,s=t.baseLine,i=t.layout,o=t.connectNulls,l=aV(r,i),u=o?n.filter(function(v){return _m(v)}):n,f;if(us(s)){var h=o?s.filter(function(v){return _m(v)}):s,m=u.map(function(v,p){return kk(kk({},v),{},{base:h[p]})});return i==="vertical"?f=mm().y(xh).x1(vh).x0(function(v){return v.base.x}):f=mm().x(vh).y1(xh).y0(function(v){return v.base.y}),f.defined(_m).curve(l),f(m)}return i==="vertical"&&Nt(s)?f=mm().y(xh).x1(vh).x0(s):Nt(s)?f=mm().x(vh).y1(xh).y0(s):f=gP().x(vh).y(xh),f.defined(_m).curve(l),f(u)},Ap=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?sV(t):s;return Te.createElement("path",vw({},wr(t),Km(t),{className:_n("recharts-curve",r),d:o,ref:i}))};Ap.defaultProps={type:"linear",points:[],connectNulls:!1};function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(this,arguments)}function iV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sE(n.key),n)}}function lV(e,t,r){return t&&oV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xw(e,t)}function xw(e,t){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xw(e,t)}function uV(e){var t=fV();return function(){var n=Pp(e),s;if(t){var i=Pp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return dV(this,s)}}function dV(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nE(e)}function nE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function aE(e,t,r){return t=sE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sE(e){var t=hV(e,"string");return cf(t)==="symbol"?t:String(t)}function hV(e,t){if(cf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ck=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,u=n>=0?1:-1,f=s>=0&&n>=0||s<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],v=0,p=4;v<p;v++)m[v]=i[v]>o?o:i[v];h="M".concat(t,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+u*m[0],",").concat(r)),h+="L ".concat(t+n-u*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+l*m[1])),h+="L ".concat(t+n,",").concat(r+s-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-u*m[2],",").concat(r+s)),h+="L ".concat(t+u*m[3],",").concat(r+s),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-l*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);h="M ".concat(t,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+u*w,",").concat(r,`
            L `).concat(t+n-u*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(r+l*w,`
            L `).concat(t+n,",").concat(r+s-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-u*w,",").concat(r+s,`
            L `).concat(t+u*w,",").concat(r+s,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+s-l*w," Z")}else h="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return h},mV=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var f=Math.min(i,i+l),h=Math.max(i,i+l),m=Math.min(o,o+u),v=Math.max(o,o+u);return n>=f&&n<=h&&s>=m&&s<=v}return!1},kg=(function(e){cV(r,e);var t=uV(r);function r(){var n;iV(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),aE(nE(n),"state",{totalLength:-1}),n}return lV(r,[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var s=this.node.getTotalLength();s&&this.setState({totalLength:s})}catch{}}},{key:"render",value:function(){var s=this,i=this.props,o=i.x,l=i.y,u=i.width,f=i.height,h=i.radius,m=i.className,v=this.state.totalLength,p=this.props,w=p.animationEasing,x=p.animationDuration,y=p.animationBegin,j=p.isAnimationActive,A=p.isUpdateAnimationActive;if(o!==+o||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var N=_n("recharts-rectangle",m);return A?Te.createElement(Ju,{canBegin:v>0,from:{width:u,height:f,x:o,y:l},to:{width:u,height:f,x:o,y:l},duration:x,animationEasing:w,isActive:A},function(k){var C=k.width,T=k.height,F=k.x,M=k.y;return Te.createElement(Ju,{canBegin:v>0,from:"0px ".concat(v===-1?1:v,"px"),to:"".concat(v,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:j,easing:w},Te.createElement("path",Cp({},wr(s.props,!0),{className:N,d:Ck(F,M,C,T,h),ref:function(G){s.node=G}})))}):Te.createElement("path",Cp({},wr(this.props,!0),{className:N,d:Ck(o,l,u,f,h)}))}}]),r})(L.PureComponent);aE(kg,"defaultProps",{x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"});function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}var pV=["points","className","baseLinePoints","connectNulls"];function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(this,arguments)}function gV(e,t){if(e==null)return{};var r=vV(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vV(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function xV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wV(n.key),n)}}function bV(e,t,r){return t&&yV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wV(e){var t=jV(e,"string");return uf(t)==="symbol"?t:String(t)}function jV(e,t){if(uf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yw(e,t)}function yw(e,t){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yw(e,t)}function SV(e){var t=AV();return function(){var n=Ep(e),s;if(t){var i=Ep(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return _V(this,s)}}function _V(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kV(e)}function kV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function Pk(e){return LV(e)||EV(e)||PV(e)||CV()}function CV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(e,t){if(e){if(typeof e=="string")return bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bw(e,t)}}function EV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LV(e){if(Array.isArray(e))return bw(e)}function bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ek=function(t){return t&&t.x===+t.x&&t.y===+t.y},OV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Ek(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Ek(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Eh=function(t,r){var n=OV(t);r&&(n=[n.reduce(function(i,o){return[].concat(Pk(i),Pk(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,u){return"".concat(o).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},RV=function(t,r,n){var s=Eh(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Eh(r.reverse(),n).slice(1))},TV=(function(e){NV(r,e);var t=SV(r);function r(){return xV(this,r),t.apply(this,arguments)}return bV(r,[{key:"render",value:function(){var s=this.props,i=s.points,o=s.className,l=s.baseLinePoints,u=s.connectNulls,f=gV(s,pV);if(!i||!i.length)return null;var h=_n("recharts-polygon",o);if(l&&l.length){var m=f.stroke&&f.stroke!=="none",v=RV(i,l,u);return Te.createElement("g",{className:h},Te.createElement("path",Id({},wr(f,!0),{fill:v.slice(-1)==="Z"?f.fill:"none",stroke:"none",d:v})),m?Te.createElement("path",Id({},wr(f,!0),{fill:"none",d:Eh(i,u)})):null,m?Te.createElement("path",Id({},wr(f,!0),{fill:"none",d:Eh(l,u)})):null)}var p=Eh(i,u);return Te.createElement("path",Id({},wr(f,!0),{fill:p.slice(-1)==="Z"?f.fill:"none",className:h,d:p}))}}]),r})(L.PureComponent);function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(this,arguments)}function MV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FV(n.key),n)}}function DV(e,t,r){return t&&IV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FV(e){var t=$V(e,"string");return df(t)==="symbol"?t:String(t)}function $V(e,t){if(df(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jw(e,t)}function jw(e,t){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jw(e,t)}function UV(e){var t=WV();return function(){var n=Lp(e),s;if(t){var i=Lp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return qV(this,s)}}function qV(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zV(e)}function zV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}var lj=(function(e){BV(r,e);var t=UV(r);function r(){return MV(this,r),t.apply(this,arguments)}return DV(r,[{key:"render",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.r,u=s.className,f=_n("recharts-dot",u);return i===+i&&o===+o&&l===+l?Te.createElement("circle",ww({},wr(this.props),Km(this.props),{className:f,cx:i,cy:o,r:l})):null}}]),r})(L.PureComponent);function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(this,arguments)}var HV=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},iE=function(t){var r=t.x,n=t.y,s=t.width,i=t.height,o=t.top,l=t.left,u=t.className;return!Nt(r)||!Nt(n)||!Nt(s)||!Nt(i)||!Nt(o)||!Nt(l)?null:Te.createElement("path",Nw({},wr(t,!0),{className:_n("recharts-cross",u),d:HV(r,n,s,i,o,l)}))};iE.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var g2,Lk;function VV(){if(Lk)return g2;Lk=1;var e=mg(),t=ll(),r=JP();function n(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return g2=n,g2}var YV=VV();const GV=Qr(YV);var v2,Ok;function KV(){if(Ok)return v2;Ok=1;var e=mg(),t=XP(),r=ll();function n(s,i){return s&&s.length?e(s,r(i,2),t):void 0}return v2=n,v2}var XV=KV();const JV=Qr(XV);var QV=["cx","cy","angle","ticks","axisLine"],ZV=["ticks","tick","angle","tickFormatter","stroke"];function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lh.apply(this,arguments)}function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tk(e,t){if(e==null)return{};var r=eY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eY(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function tY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oE(n.key),n)}}function rY(e,t,r){return t&&Mk(e.prototype,t),r&&Mk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Sw(e,t)}function aY(e){var t=oY();return function(){var n=Op(e),s;if(t){var i=Op(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return sY(this,s)}}function sY(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iY(e)}function iY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}function Ag(e,t,r){return t=oE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oE(e){var t=lY(e,"string");return ff(t)==="symbol"?t:String(t)}function lY(e,t){if(ff(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cg=(function(e){nY(r,e);var t=aY(r);function r(){return tY(this,r),t.apply(this,arguments)}return rY(r,[{key:"getTickValueCoord",value:function(s){var i=s.coordinate,o=this.props,l=o.angle,u=o.cx,f=o.cy;return Mn(u,f,i,l)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,i;switch(s){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.angle,u=s.ticks,f=JV(u,function(m){return m.coordinate||0}),h=GV(u,function(m){return m.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.angle,u=s.ticks,f=s.axisLine,h=Tk(s,QV),m=u.reduce(function(x,y){return[Math.min(x[0],y.coordinate),Math.max(x[1],y.coordinate)]},[1/0,-1/0]),v=Mn(i,o,m[0],l),p=Mn(i,o,m[1],l),w=Lu(Lu(Lu({},wr(h)),{},{fill:"none"},wr(f)),{},{x1:v.x,y1:v.y,x2:p.x,y2:p.y});return Te.createElement("line",Lh({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var s=this,i=this.props,o=i.ticks,l=i.tick,u=i.angle,f=i.tickFormatter,h=i.stroke,m=Tk(i,ZV),v=this.getTickTextAnchor(),p=wr(m),w=wr(l),x=o.map(function(y,j){var A=s.getTickValueCoord(y),N=Lu(Lu(Lu(Lu({textAnchor:v,transform:"rotate(".concat(90-u,", ").concat(A.x,", ").concat(A.y,")")},p),{},{stroke:"none",fill:h},w),{},{index:j},A),{},{payload:y});return Te.createElement(vn,Lh({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(j)},Xu(s.props,y,j)),r.renderTickItem(l,N,f?f(y.value,j):y.value))});return Te.createElement(vn,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,i=s.ticks,o=s.axisLine,l=s.tick;return!i||!i.length?null:Te.createElement(vn,{className:"recharts-polar-radius-axis"},o&&this.renderAxisLine(),l&&this.renderTicks(),Ta.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,i,o){var l;return Te.isValidElement(s)?l=Te.cloneElement(s,i):ur(s)?l=s(i):l=Te.createElement(Gc,Lh({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}]),r})(L.PureComponent);Ag(Cg,"displayName","PolarRadiusAxis");Ag(Cg,"axisType","radiusAxis");Ag(Cg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iu.apply(this,arguments)}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){Pg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lE(n.key),n)}}function uY(e,t,r){return t&&Dk(e.prototype,t),r&&Dk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_w(e,t)}function fY(e){var t=pY();return function(){var n=Rp(e),s;if(t){var i=Rp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return hY(this,s)}}function hY(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mY(e)}function mY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function Pg(e,t,r){return t=lE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lE(e){var t=gY(e,"string");return hf(t)==="symbol"?t:String(t)}function gY(e,t){if(hf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vY=Math.PI/180,Fk=1e-5,Eg=(function(e){dY(r,e);var t=fY(r);function r(){return cY(this,r),t.apply(this,arguments)}return uY(r,[{key:"getTickLineCoord",value:function(s){var i=this.props,o=i.cx,l=i.cy,u=i.radius,f=i.orientation,h=i.tickSize,m=h||8,v=Mn(o,l,u,s.coordinate),p=Mn(o,l,u+(f==="inner"?-1:1)*m,s.coordinate);return{x1:v.x,y1:v.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(s){var i=this.props.orientation,o=Math.cos(-s.coordinate*vY),l;return o>Fk?l=i==="outer"?"start":"end":o<-Fk?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.radius,u=s.axisLine,f=s.axisLineType,h=Ou(Ou({},wr(this.props)),{},{fill:"none"},wr(u));if(f==="circle")return Te.createElement(lj,Iu({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:o,r:l}));var m=this.props.ticks,v=m.map(function(p){return Mn(i,o,l,p.coordinate)});return Te.createElement(TV,Iu({className:"recharts-polar-angle-axis-line"},h,{points:v}))}},{key:"renderTicks",value:function(){var s=this,i=this.props,o=i.ticks,l=i.tick,u=i.tickLine,f=i.tickFormatter,h=i.stroke,m=wr(this.props),v=wr(l),p=Ou(Ou({},m),{},{fill:"none"},wr(u)),w=o.map(function(x,y){var j=s.getTickLineCoord(x),A=s.getTickTextAnchor(x),N=Ou(Ou(Ou({textAnchor:A},m),{},{stroke:"none",fill:h},v),{},{index:y,payload:x,x:j.x2,y:j.y2});return Te.createElement(vn,Iu({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(y)},Xu(s.props,x,y)),u&&Te.createElement("line",Iu({className:"recharts-polar-angle-axis-tick-line"},p,j)),l&&r.renderTickItem(l,N,f?f(x.value,y):x.value))});return Te.createElement(vn,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var s=this.props,i=s.ticks,o=s.radius,l=s.axisLine;return o<=0||!i||!i.length?null:Te.createElement(vn,{className:"recharts-polar-angle-axis"},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,i,o){var l;return Te.isValidElement(s)?l=Te.cloneElement(s,i):ur(s)?l=s(i):l=Te.createElement(Gc,Iu({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}]),r})(L.PureComponent);Pg(Eg,"displayName","PolarAngleAxis");Pg(Eg,"axisType","angleAxis");Pg(Eg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var x2,$k;function xY(){if($k)return x2;$k=1;var e=sP(),t=e(Object.getPrototypeOf,Object);return x2=t,x2}var y2,Bk;function yY(){if(Bk)return y2;Bk=1;var e=ac(),t=xY(),r=sc(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,u=o.call(Object);function f(h){if(!r(h)||e(h)!=n)return!1;var m=t(h);if(m===null)return!0;var v=l.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==u}return y2=f,y2}var bY=yY();const wY=Qr(bY);function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(this,arguments)}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){Gi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cE(n.key),n)}}function NY(e,t,r){return t&&qk(e.prototype,t),r&&qk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kw(e,t)}function _Y(e){var t=AY();return function(){var n=Tp(e),s;if(t){var i=Tp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return kY(this,s)}}function kY(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Od(e)}function Od(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function Gi(e,t,r){return t=cE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cE(e){var t=CY(e,"string");return mf(t)==="symbol"?t:String(t)}function CY(e,t){if(mf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xi=(function(e){SY(r,e);var t=_Y(r);function r(n){var s;return jY(this,r),s=t.call(this,n),Gi(Od(s),"pieRef",null),Gi(Od(s),"sectorRefs",[]),Gi(Od(s),"id",b0("recharts-pie-")),Gi(Od(s),"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ur(i)&&i()}),Gi(Od(s),"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ur(i)&&i()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return NY(r,[{key:"isActiveIndex",value:function(s){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(s)!==-1:s===i}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,f=o.dataKey,h=o.valueKey,m=wr(this.props),v=wr(l),p=wr(u),w=l&&l.offsetRadius||20,x=s.map(function(y,j){var A=(y.startAngle+y.endAngle)/2,N=Mn(y.cx,y.cy,y.outerRadius+w,A),k=Kn(Kn(Kn(Kn({},m),y),{},{stroke:"none"},v),{},{index:j,textAnchor:r.getTextAnchor(N.x,y.cx)},N),C=Kn(Kn(Kn(Kn({},m),y),{},{fill:"none",stroke:y.fill},p),{},{index:j,points:[Mn(y.cx,y.cy,y.outerRadius,A),N],key:"line"}),T=f;return cr(f)&&cr(h)?T="value":cr(f)&&(T=h),Te.createElement(vn,{key:"label-".concat(j)},u&&r.renderLabelLineItem(u,C),r.renderLabelItem(l,k,Es(y,T)))});return Te.createElement(vn,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var i=this,o=this.props,l=o.activeShape,u=o.blendStroke,f=o.inactiveShape;return s.map(function(h,m){var v=f&&i.hasActiveIndex()?f:null,p=i.isActiveIndex(m)?l:v,w=Kn(Kn({},h),{},{stroke:u?h.fill:h.stroke});return Te.createElement(vn,Du({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Xu(i.props,h,m),{key:"sector-".concat(m)}),r.renderSectorItem(p,w))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,i=this.props,o=i.sectors,l=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,v=this.state,p=v.prevSectors,w=v.prevIsAnimationActive;return Te.createElement(Ju,{begin:u,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(w),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var y=x.t,j=[],A=o&&o[0],N=A.startAngle;return o.forEach(function(k,C){var T=p&&p[C],F=C>0?Li(k,"paddingAngle",0):0;if(T){var M=Dc(T.endAngle-T.startAngle,k.endAngle-k.startAngle),q=Kn(Kn({},k),{},{startAngle:N+F,endAngle:N+M(y)+F});j.push(q),N=q.endAngle}else{var G=k.endAngle,R=k.startAngle,D=Dc(0,G-R),z=D(y),W=Kn(Kn({},k),{},{startAngle:N+F,endAngle:N+z+F});j.push(W),N=W.endAngle}}),Te.createElement(vn,null,s.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(s){var i=this;s.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,i=s.sectors,o=s.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!I5(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,i=this.props,o=i.hide,l=i.sectors,u=i.className,f=i.label,h=i.cx,m=i.cy,v=i.innerRadius,p=i.outerRadius,w=i.isAnimationActive,x=this.state.isAnimationFinished;if(o||!l||!l.length||!Nt(h)||!Nt(m)||!Nt(v)||!Nt(p))return null;var y=_n("recharts-pie",u);return Te.createElement(vn,{tabIndex:0,className:y,ref:function(A){s.pieRef=A}},this.renderSectors(),f&&this.renderLabels(l),Ta.renderCallByParent(this.props,null,!1),(!w||x)&&Kl.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:s.sectors!==i.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,i){return s>i?"start":s<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,i){return Te.isValidElement(s)?Te.cloneElement(s,i):ur(s)?s(i):Te.createElement(Ap,Du({},i,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(s,i,o){if(Te.isValidElement(s))return Te.cloneElement(s,i);var l=o;return ur(s)&&(l=s(i),Te.isValidElement(l))?l:Te.createElement(Gc,Du({},i,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),l)}},{key:"renderSectorItem",value:function(s,i){return Te.isValidElement(s)?Te.cloneElement(s,i):ur(s)?s(i):wY(s)?Te.createElement(kp,Du({tabIndex:-1},i,s)):Te.createElement(kp,Du({tabIndex:-1},i))}}]),r})(L.PureComponent);Gi(Xi,"displayName","Pie");Gi(Xi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Pf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1});Gi(Xi,"parseDeltaAngle",function(e,t){var r=Ls(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Gi(Xi,"getRealPieData",function(e){var t=e.props,r=t.data,n=t.children,s=wr(e.props),i=Ji(n,j0);return r&&r.length?r.map(function(o,l){return Kn(Kn(Kn({payload:o},s),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return Kn(Kn({},s),o.props)}):[]});Gi(Xi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=Z7(s,i),l=n+li(e.props.cx,s,s/2),u=r+li(e.props.cy,i,i/2),f=li(e.props.innerRadius,o,0),h=li(e.props.outerRadius,o,o*.8),m=e.props.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:u,innerRadius:f,outerRadius:h,maxRadius:m}});Gi(Xi,"getComposedData",function(e){var t=e.item,r=e.offset,n=Xi.getRealPieData(t);if(!n||!n.length)return null;var s=t.props,i=s.cornerRadius,o=s.startAngle,l=s.endAngle,u=s.paddingAngle,f=s.dataKey,h=s.nameKey,m=s.valueKey,v=s.tooltipType,p=Math.abs(t.props.minAngle),w=Xi.parseCoordinateOfPie(t,r),x=Xi.parseDeltaAngle(o,l),y=Math.abs(x),j=f;cr(f)&&cr(m)?(Wc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):cr(f)&&(Wc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=m);var A=n.filter(function(M){return Es(M,j,0)!==0}).length,N=(y>=360?A:A-1)*u,k=y-A*p-N,C=n.reduce(function(M,q){var G=Es(q,j,0);return M+(Nt(G)?G:0)},0),T;if(C>0){var F;T=n.map(function(M,q){var G=Es(M,j,0),R=Es(M,h,q),D=(Nt(G)?G:0)/C,z;q?z=F.endAngle+Ls(x)*u*(G!==0?1:0):z=o;var W=z+Ls(x)*((G!==0?p:0)+D*k),Z=(z+W)/2,le=(w.innerRadius+w.outerRadius)/2,ge=[{name:R,value:G,payload:M,dataKey:j,type:v}],te=Mn(w.cx,w.cy,le,Z);return F=Kn(Kn(Kn({percent:D,cornerRadius:i,name:R,tooltipPayload:ge,midAngle:Z,middleRadius:le,tooltipPosition:te},M),w),{},{value:Es(M,j),startAngle:z,endAngle:W,payload:M,paddingAngle:Ls(x)*u}),F})}return Kn(Kn({},w),{},{sectors:T,data:n})});var b2,zk;function PY(){if(zk)return b2;zk=1;var e=Math.ceil,t=Math.max;function r(n,s,i,o){for(var l=-1,u=t(e((s-n)/(i||1)),0),f=Array(u);u--;)f[o?u:++l]=n,n+=i;return f}return b2=r,b2}var w2,Wk;function uE(){if(Wk)return w2;Wk=1;var e=zP(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return w2=n,w2}var j2,Hk;function EY(){if(Hk)return j2;Hk=1;var e=PY(),t=hg(),r=uE();function n(s){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,s)}}return j2=n,j2}var N2,Vk;function LY(){if(Vk)return N2;Vk=1;var e=EY(),t=e();return N2=t,N2}var OY=LY();const Mp=Qr(OY);function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(n){dE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dE(e,t,r){return t=RY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=TY(e,"string");return n0(t)==="symbol"?t:String(t)}function TY(e,t){if(n0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(n0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MY=["Webkit","Moz","O","ms"],IY=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=MY.reduce(function(i,o){return Gk(Gk({},i),{},dE({},o+n,r))},{});return s[t]=r,s};function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ip.apply(this,arguments)}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){Yi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fE(n.key),n)}}function FY(e,t,r){return t&&Xk(e.prototype,t),r&&Xk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Aw(e,t)}function BY(e){var t=qY();return function(){var n=Dp(e),s;if(t){var i=Dp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return UY(this,s)}}function UY(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return el(e)}function el(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function Yi(e,t,r){return t=fE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fE(e){var t=zY(e,"string");return pf(t)==="symbol"?t:String(t)}function zY(e,t){if(pf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WY=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=Ch().domain(Mp(0,u)).range([i,i+o-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:f(n),endX:f(s),scale:f,scaleValues:h}},Jk=function(t){return t.changedTouches&&!!t.changedTouches.length},a0=(function(e){$Y(r,e);var t=BY(r);function r(n){var s;return DY(this,r),s=t.call(this,n),Yi(el(s),"handleDrag",function(i){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(i):s.state.isSlideMoving&&s.handleSlideDrag(i)}),Yi(el(s),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&s.handleDrag(i.changedTouches[0])}),Yi(el(s),"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1}),s.detachDragEndListener()}),Yi(el(s),"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Yi(el(s),"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Yi(el(s),"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Yi(el(s),"handleSlideDragStart",function(i){var o=Jk(i)?i.changedTouches[0]:i;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(el(s),"startX"),endX:s.handleTravellerDragStart.bind(el(s),"endX")},s.state={},s}return FY(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var i=s.startX,o=s.endX,l=this.state.scaleValues,u=this.props,f=u.gap,h=u.data,m=h.length-1,v=Math.min(i,o),p=Math.max(i,o),w=r.getIndexInRange(l,v),x=r.getIndexInRange(l,p);return{startIndex:w-w%f,endIndex:x===m?m:x-x%f}}},{key:"getTextOfTick",value:function(s){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,f=Es(o[s],u,s);return ur(l)?l(f,s):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,f=this.props,h=f.x,m=f.width,v=f.travellerWidth,p=f.startIndex,w=f.endIndex,x=f.onChange,y=s.pageX-o;y>0?y=Math.min(y,h+m-v-u,h+m-v-l):y<0&&(y=Math.max(y,h-l,h-u));var j=this.getIndex({startX:l+y,endX:u+y});(j.startIndex!==p||j.endIndex!==w)&&x&&x(j),this.setState({startX:l+y,endX:u+y,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,i){var o=Jk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var i,o=this.state,l=o.brushMoveStartX,u=o.movingTravellerId,f=o.endX,h=o.startX,m=this.state[u],v=this.props,p=v.x,w=v.width,x=v.travellerWidth,y=v.onChange,j=v.gap,A=v.data,N={startX:this.state.startX,endX:this.state.endX},k=s.pageX-l;k>0?k=Math.min(k,p+w-x-m):k<0&&(k=Math.max(k,p-m)),N[u]=m+k;var C=this.getIndex(N),T=C.startIndex,F=C.endIndex,M=function(){var G=A.length-1;return u==="startX"&&(f>h?T%j===0:F%j===0)||f<h&&F===G||u==="endX"&&(f>h?F%j===0:T%j===0)||f>h&&F===G};this.setState((i={},Yi(i,u,m+k),Yi(i,"brushMoveStartX",s.pageX),i),function(){y&&M()&&y(C)})}},{key:"renderBackground",value:function(){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,f=s.fill,h=s.stroke;return Te.createElement("rect",{stroke:h,fill:f,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,f=s.data,h=s.children,m=s.padding,v=L.Children.only(h);return v?Te.cloneElement(v,{x:i,y:o,width:l,height:u,margin:m,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(s,i){var o=this.props,l=o.y,u=o.travellerWidth,f=o.height,h=o.traveller,m=Math.max(s,this.props.x),v=S2(S2({},wr(this.props)),{},{x:m,y:l,width:u,height:f});return Te.createElement(vn,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],style:{cursor:"col-resize"}},r.renderTraveller(h,v))}},{key:"renderSlide",value:function(s,i){var o=this.props,l=o.y,u=o.height,f=o.stroke,h=o.travellerWidth,m=Math.min(s,i)+h,v=Math.max(Math.abs(i-s)-h,0);return Te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:m,y:l,width:v,height:u})}},{key:"renderText",value:function(){var s=this.props,i=s.startIndex,o=s.endIndex,l=s.y,u=s.height,f=s.travellerWidth,h=s.stroke,m=this.state,v=m.startX,p=m.endX,w=5,x={pointerEvents:"none",fill:h};return Te.createElement(vn,{className:"recharts-brush-texts"},Te.createElement(Gc,Ip({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,p)-w,y:l+u/2},x),this.getTextOfTick(i)),Te.createElement(Gc,Ip({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,p)+f+w,y:l+u/2},x),this.getTextOfTick(o)))}},{key:"render",value:function(){var s=this.props,i=s.data,o=s.className,l=s.children,u=s.x,f=s.y,h=s.width,m=s.height,v=s.alwaysShowText,p=this.state,w=p.startX,x=p.endX,y=p.isTextActive,j=p.isSlideMoving,A=p.isTravellerMoving;if(!i||!i.length||!Nt(u)||!Nt(f)||!Nt(h)||!Nt(m)||h<=0||m<=0)return null;var N=_n("recharts-brush",o),k=Te.Children.count(l)===1,C=IY("userSelect","none");return Te.createElement(vn,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(w,x),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(x,"endX"),(y||j||A||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var i=s.x,o=s.y,l=s.width,u=s.height,f=s.stroke,h=Math.floor(o+u/2)-1;return Te.createElement(Te.Fragment,null,Te.createElement("rect",{x:i,y:o,width:l,height:u,fill:f,stroke:"none"}),Te.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),Te.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,i){var o;return Te.isValidElement(s)?o=Te.cloneElement(s,i):ur(s)?o=s(i):o=r.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(s,i){var o=s.data,l=s.width,u=s.x,f=s.travellerWidth,h=s.updateId,m=s.startIndex,v=s.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return S2({prevData:o,prevTravellerWidth:f,prevUpdateId:h,prevX:u,prevWidth:l},o&&o.length?WY({data:o,width:l,x:u,travellerWidth:f,startIndex:m,endIndex:v}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([u,u+l-f]);var p=i.scale.domain().map(function(w){return i.scale(w)});return{prevData:o,prevTravellerWidth:f,prevUpdateId:h,prevX:u,prevWidth:l,startX:i.scale(s.startIndex),endX:i.scale(s.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(s,i){for(var o=s.length,l=0,u=o-1;u-l>1;){var f=Math.floor((l+u)/2);s[f]>i?u=f:l=f}return i>=s[u]?u:l}}]),r})(L.PureComponent);Yi(a0,"displayName","Brush");Yi(a0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _2,Qk;function HY(){if(Qk)return _2;Qk=1;var e=O5();function t(r,n){var s;return e(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return _2=t,_2}var k2,Zk;function VY(){if(Zk)return k2;Zk=1;var e=Q8(),t=ll(),r=HY(),n=Ws(),s=hg();function i(o,l,u){var f=n(o)?e:r;return u&&s(o,l,u)&&(l=void 0),f(o,t(l,3))}return k2=i,k2}var YY=VY();const GY=Qr(YY);var sl=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},A2,eA;function KY(){if(eA)return A2;eA=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(!r(t[n],n,t))return!1;return!0}return A2=e,A2}var C2,tA;function XY(){if(tA)return C2;tA=1;var e=O5();function t(r,n){var s=!0;return e(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return C2=t,C2}var P2,rA;function JY(){if(rA)return P2;rA=1;var e=KY(),t=XY(),r=ll(),n=Ws(),s=hg();function i(o,l,u){var f=n(o)?e:t;return u&&s(o,l,u)&&(l=void 0),f(o,r(l,3))}return P2=i,P2}var QY=JY();const hE=Qr(QY);var E2,nA;function ZY(){if(nA)return E2;nA=1;var e=UP();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return E2=t,E2}var L2,aA;function eG(){if(aA)return L2;aA=1;var e=ZY(),t=$P(),r=ll();function n(s,i){var o={};return i=r(i,3),t(s,function(l,u,f){e(o,u,i(l,u,f))}),o}return L2=n,L2}var tG=eG();const rG=Qr(tG);var nG=["value","background"];function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function aG(e,t){if(e==null)return{};var r=sG(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sG(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(this,arguments)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){Bc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mE(n.key),n)}}function oG(e,t,r){return t&&iA(e.prototype,t),r&&iA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pw(e,t)}function Pw(e,t){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Pw(e,t)}function cG(e){var t=dG();return function(){var n=Fp(e),s;if(t){var i=Fp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return uG(this,s)}}function uG(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _h(e)}function _h(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function Bc(e,t,r){return t=mE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mE(e){var t=fG(e,"string");return gf(t)==="symbol"?t:String(t)}function fG(e,t){if(gf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ia=(function(e){lG(r,e);var t=cG(r);function r(){var n;iG(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),Bc(_h(n),"state",{isAnimationFinished:!1}),Bc(_h(n),"id",b0("recharts-bar-")),Bc(_h(n),"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),Bc(_h(n),"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return oG(r,[{key:"renderRectanglesStatically",value:function(s){var i=this,o=this.props.shape,l=wr(this.props);return s&&s.map(function(u,f){var h=Ka(Ka(Ka({},l),u),{},{index:f});return Te.createElement(vn,Cw({className:"recharts-bar-rectangle"},Xu(i.props,u,f),{key:"rectangle-".concat(f),role:"img"}),r.renderRectangle(o,h))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,m=i.animationEasing,v=i.animationId,p=this.state.prevData;return Te.createElement(Ju,{begin:f,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var x=w.t,y=o.map(function(j,A){var N=p&&p[A];if(N){var k=Dc(N.x,j.x),C=Dc(N.y,j.y),T=Dc(N.width,j.width),F=Dc(N.height,j.height);return Ka(Ka({},j),{},{x:k(x),y:C(x),width:T(x),height:F(x)})}if(l==="horizontal"){var M=Dc(0,j.height),q=M(x);return Ka(Ka({},j),{},{y:j.y+j.height-q,height:q})}var G=Dc(0,j.width),R=G(x);return Ka(Ka({},j),{},{width:R})});return Te.createElement(vn,null,s.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var s=this.props,i=s.data,o=s.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!I5(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var s=this,i=this.props.data,o=wr(this.props.background);return i.map(function(l,u){l.value;var f=l.background,h=aG(l,nG);if(!f)return null;var m=Ka(Ka(Ka(Ka(Ka({},h),{},{fill:"#eee"},f),o),Xu(s.props,l,u)),{},{index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return r.renderRectangle(s.props.background,m)})}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,f=o.yAxis,h=o.layout,m=o.children,v=Ji(m,_g);if(!v)return null;var p=h==="vertical"?l[0].height/2:l[0].width/2;function w(y,j){return{x:y.x,y:y.y,value:y.value,errorVal:Es(y,j)}}var x={clipPath:s?"url(#clipPath-".concat(i,")"):null};return Te.createElement(vn,x,v.map(function(y,j){return Te.cloneElement(y,{key:"error-bar-".concat(j),data:l,xAxis:u,yAxis:f,layout:h,offset:p,dataPointFormatter:w})}))}},{key:"render",value:function(){var s=this.props,i=s.hide,o=s.data,l=s.className,u=s.xAxis,f=s.yAxis,h=s.left,m=s.top,v=s.width,p=s.height,w=s.isAnimationActive,x=s.background,y=s.id;if(i||!o||!o.length)return null;var j=this.state.isAnimationFinished,A=_n("recharts-bar",l),N=u&&u.allowDataOverflow||f&&f.allowDataOverflow,k=cr(y)?this.id:y;return Te.createElement(vn,{className:A},N?Te.createElement("defs",null,Te.createElement("clipPath",{id:"clipPath-".concat(k)},Te.createElement("rect",{x:h,y:m,width:v,height:p}))):null,Te.createElement(vn,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(k,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,k),(!w||j)&&Kl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:i.curData}:s.data!==i.curData?{curData:s.data}:null}},{key:"renderRectangle",value:function(s,i){var o;return Te.isValidElement(s)?o=Te.cloneElement(s,i):ur(s)?o=s(i):o=Te.createElement(kg,i),o}}]),r})(L.PureComponent);Bc(Ia,"displayName","Bar");Bc(Ia,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!Pf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bc(Ia,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,f=e.stackedData,h=e.dataStartIndex,m=e.displayedData,v=e.offset,p=UW(n,r);if(!p)return null;var w=t.layout,x=r.props,y=x.dataKey,j=x.children,A=x.minPointSize,N=w==="horizontal"?o:i,k=f?N.scale.domain():null,C=GW({numericAxis:N}),T=Ji(j,j0),F=m.map(function(M,q){var G,R,D,z,W,Z;if(f?G=qW(f[h+q],k):(G=Es(M,y),us(G)||(G=[C,G])),w==="horizontal"){var le,ge=[o.scale(G[0]),o.scale(G[1])],te=ge[0],ue=ge[1];R=mk({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:M,index:q}),D=(le=ue??te)!==null&&le!==void 0?le:void 0,z=p.size;var H=te-ue;if(W=Number.isNaN(H)?0:H,Z={x:R,y:o.y,width:z,height:o.height},Math.abs(A)>0&&Math.abs(W)<Math.abs(A)){var ae=Ls(W||A)*(Math.abs(A)-Math.abs(W));D-=ae,W+=ae}}else{var U=[i.scale(G[0]),i.scale(G[1])],B=U[0],Y=U[1];if(R=B,D=mk({axis:o,ticks:u,bandSize:s,offset:p.offset,entry:M,index:q}),z=Y-B,W=p.size,Z={x:i.x,y:D,width:i.width,height:W},Math.abs(A)>0&&Math.abs(z)<Math.abs(A)){var ne=Ls(z||A)*(Math.abs(A)-Math.abs(z));z+=ne}}return Ka(Ka(Ka({},M),{},{x:R,y:D,width:z,height:W,value:f?G:G[1],payload:M,background:Z},T&&T[q]&&T[q].props),{},{tooltipPayload:[J7(r,M)],tooltipPosition:{x:R+z/2,y:D+W/2}})});return Ka({data:F,layout:w},v)});function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function hG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pE(n.key),n)}}function mG(e,t,r){return t&&oA(e.prototype,t),r&&oA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){Lg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lg(e,t,r){return t=pE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pE(e){var t=pG(e,"string");return s0(t)==="symbol"?t:String(t)}function pG(e,t){if(s0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(s0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gG=function(t,r,n,s,i){var o=t.width,l=t.height,u=t.layout,f=t.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},v=!!Wl(f,Ia);return h.reduce(function(p,w){var x=r[w],y=x.orientation,j=x.domain,A=x.padding,N=A===void 0?{}:A,k=x.mirror,C=x.reversed,T="".concat(y).concat(k?"Mirror":""),F,M,q,G,R;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var D=j[1]-j[0],z=1/0,W=x.categoricalDomain.sort();W.forEach(function(Y,ne){ne>0&&(z=Math.min((Y||0)-(W[ne-1]||0),z))});var Z=z/D,le=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(F=Z*le/2),x.padding==="no-gap"){var ge=li(t.barCategoryGap,Z*le),te=Z*le/2;F=te-ge-(te-ge)/le*ge}}s==="xAxis"?M=[n.left+(N.left||0)+(F||0),n.left+n.width-(N.right||0)-(F||0)]:s==="yAxis"?M=u==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(F||0),n.top+n.height-(N.bottom||0)-(F||0)]:M=x.range,C&&(M=[M[1],M[0]]);var ue=Y7(x,i,v),H=ue.scale,ae=ue.realScaleType;H.domain(j).range(M),G7(H);var U=K7(H,So(So({},x),{},{realScaleType:ae}));s==="xAxis"?(R=y==="top"&&!k||y==="bottom"&&k,q=n.left,G=m[T]-R*x.height):s==="yAxis"&&(R=y==="left"&&!k||y==="right"&&k,q=m[T]-R*x.width,G=n.top);var B=So(So(So({},x),U),{},{realScaleType:ae,x:q,y:G,scale:H,width:s==="xAxis"?n.width:x.width,height:s==="yAxis"?n.height:x.height});return B.bandSize=jp(B,U),!x.hide&&s==="xAxis"?m[T]+=(R?-1:1)*B.height:x.hide||(m[T]+=(R?-1:1)*B.width),So(So({},p),{},Lg({},w,B))},{})},gE=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},vG=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return gE({x:r,y:n},{x:s,y:i})},vE=(function(){function e(t){hG(this,e),this.scale=t}return mG(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}]),e})();Lg(vE,"EPS",1e-4);var cj=function(t){var r=Object.keys(t).reduce(function(n,s){return So(So({},n),{},Lg({},s,vE.create(t[s])))},{});return So(So({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return rG(s,function(u,f){return r[f].apply(u,{bandAware:o,position:l})})},isInRange:function(s){return hE(s,function(i,o){return r[o].isInRange(i)})}})};function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=bG(e,"string");return i0(t)==="symbol"?t:String(t)}function bG(e,t){if(i0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(i0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wG(e,t){return _G(e)||SG(e,t)||NG(e,t)||jG()}function jG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NG(e,t){if(e){if(typeof e=="string")return dA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dA(e,t)}}function dA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function _G(e){if(Array.isArray(e))return e}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(this,arguments)}var kG=function(t,r){var n;return Te.isValidElement(t)?n=Te.cloneElement(t,r):ur(t)?n=t(r):n=Te.createElement("line",Ew({},r,{className:"recharts-reference-line-line"})),n},AG=function(t,r,n,s,i){var o=i.viewBox,l=o.x,u=o.y,f=o.width,h=o.height,m=i.position;if(n){var v=i.y,p=i.yAxis.orientation,w=t.y.apply(v,{position:m});if(sl(i,"discard")&&!t.y.isInRange(w))return null;var x=[{x:l+f,y:w},{x:l,y:w}];return p==="left"?x.reverse():x}if(r){var y=i.x,j=i.xAxis.orientation,A=t.x.apply(y,{position:m});if(sl(i,"discard")&&!t.x.isInRange(A))return null;var N=[{x:A,y:u+h},{x:A,y:u}];return j==="top"?N.reverse():N}if(s){var k=i.segment,C=k.map(function(T){return t.apply(T,{position:m})});return sl(i,"discard")&&GY(C,function(T){return!t.isInRange(T)})?null:C}return null};function uj(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxis,i=e.yAxis,o=e.shape,l=e.className,u=e.alwaysShow,f=e.clipPathId;Wc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=cj({x:s.scale,y:i.scale}),m=Ma(t),v=Ma(r),p=n&&n.length===2,w=AG(h,m,v,p,e);if(!w)return null;var x=wG(w,2),y=x[0],j=y.x,A=y.y,N=x[1],k=N.x,C=N.y,T=sl(e,"hidden")?"url(#".concat(f,")"):void 0,F=uA(uA({clipPath:T},wr(e,!0)),{},{x1:j,y1:A,x2:k,y2:C});return Te.createElement(vn,{className:_n("recharts-reference-line",l)},kG(o,F),Ta.renderCallByParent(e,vG({x1:j,y1:A,x2:k,y2:C})))}uj.displayName="ReferenceLine";uj.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){CG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CG(e,t,r){return t=PG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=EG(e,"string");return o0(t)==="symbol"?t:String(t)}function EG(e,t){if(o0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(o0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LG=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=cj({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return sl(t,"discard")&&!o.isInRange(l)?null:l};function A0(e){var t=e.x,r=e.y,n=e.r,s=e.alwaysShow,i=e.clipPathId,o=Ma(t),l=Ma(r);if(Wc(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var u=LG(e);if(!u)return null;var f=u.x,h=u.y,m=e.shape,v=e.className,p=sl(e,"hidden")?"url(#".concat(i,")"):void 0,w=hA(hA({clipPath:p},wr(e,!0)),{},{cx:f,cy:h});return Te.createElement(vn,{className:_n("recharts-reference-dot",v)},A0.renderDot(m,w),Ta.renderCallByParent(e,{x:f-n,y:h-n,width:2*n,height:2*n}))}A0.displayName="ReferenceDot";A0.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};A0.renderDot=function(e,t){var r;return Te.isValidElement(e)?r=Te.cloneElement(e,t):ur(e)?r=e(t):r=Te.createElement(lj,Lw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r};function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(this,arguments)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){OG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OG(e,t,r){return t=RG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=TG(e,"string");return l0(t)==="symbol"?t:String(t)}function TG(e,t){if(l0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(l0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MG=function(t,r,n,s,i){var o=i.x1,l=i.x2,u=i.y1,f=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var v=cj({x:h.scale,y:m.scale}),p={x:t?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(u,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:s?v.y.apply(f,{position:"end"}):v.y.rangeMax};return sl(i,"discard")&&(!v.isInRange(p)||!v.isInRange(w))?null:gE(p,w)};function C0(e){var t=e.x1,r=e.x2,n=e.y1,s=e.y2,i=e.className,o=e.alwaysShow,l=e.clipPathId;Wc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Ma(t),f=Ma(r),h=Ma(n),m=Ma(s),v=e.shape;if(!u&&!f&&!h&&!m&&!v)return null;var p=MG(u,f,h,m,e);if(!p&&!v)return null;var w=sl(e,"hidden")?"url(#".concat(l,")"):void 0;return Te.createElement(vn,{className:_n("recharts-reference-area",i)},C0.renderRect(v,pA(pA({clipPath:w},wr(e,!0)),p)),Ta.renderCallByParent(e,p))}C0.displayName="ReferenceArea";C0.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};C0.renderRect=function(e,t){var r;return Te.isValidElement(e)?r=Te.cloneElement(e,t):ur(e)?r=e(t):r=Te.createElement(kg,Ow({},t,{className:"recharts-reference-area-rect"})),r};function Rw(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)if(r===void 0||r(e[s])===!0)n.push(e[s]);else return;return n}function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){IG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IG(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=FG(e,"string");return c0(t)==="symbol"?t:String(t)}function FG(e,t){if(c0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(c0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $G(e){for(var t=1,r=Rw(e,t,function(n){return n.isShow});t<=e.length;){if(r!==void 0)return r;t++,r=Rw(e,t,function(n){return n.isShow})}return e.slice(0,1)}function BG(e,t){return Rw(e,t+1)}function UG(e){var t=e.ticks,r=e.tickFormatter,n=e.viewBox,s=e.orientation,i=e.minTickGap,o=e.unit,l=e.fontSize,u=e.letterSpacing,f=n.x,h=n.y,m=n.width,v=n.height,p=s==="top"||s==="bottom"?"width":"height",w=o&&p==="width"?Hu(o,{fontSize:l,letterSpacing:u})[p]:0,x=(t||[]).slice(),y=x.length,j=y>=2?Ls(x[1].coordinate-x[0].coordinate):1,A,N;j===1?(A=p==="width"?f:h,N=p==="width"?f+m:h+v):(A=p==="width"?f+m:h+v,N=p==="width"?f:h);for(var k=y-1;k>=0;k--){var C=x[k],T=ur(r)?r(C.value,y-k-1):C.value,F=Hu(T,{fontSize:l,letterSpacing:u})[p]+w;if(k===y-1){var M=j*(C.coordinate+j*F/2-N);x[k]=C=Cs(Cs({},C),{},{tickCoord:M>0?C.coordinate-M*j:C.coordinate})}else x[k]=C=Cs(Cs({},C),{},{tickCoord:C.coordinate});var q=j*(C.tickCoord-j*F/2-A)>=0&&j*(C.tickCoord+j*F/2-N)<=0;q&&(N=C.tickCoord-j*(F/2+i),x[k]=Cs(Cs({},C),{},{isShow:!0}))}return x}function vA(e,t){var r=e.ticks,n=e.tickFormatter,s=e.viewBox,i=e.orientation,o=e.minTickGap,l=e.unit,u=e.fontSize,f=e.letterSpacing,h=s.x,m=s.y,v=s.width,p=s.height,w=i==="top"||i==="bottom"?"width":"height",x=(r||[]).slice(),y=l&&w==="width"?Hu(l,{fontSize:u,letterSpacing:f})[w]:0,j=x.length,A=j>=2?Ls(x[1].coordinate-x[0].coordinate):1,N,k;if(A===1?(N=w==="width"?h:m,k=w==="width"?h+v:m+p):(N=w==="width"?h+v:m+p,k=w==="width"?h:m),t){var C=r[j-1],T=ur(n)?n(C.value,j-1):C.value,F=Hu(T,{fontSize:u,letterSpacing:f})[w]+y,M=A*(C.coordinate+A*F/2-k);x[j-1]=C=Cs(Cs({},C),{},{tickCoord:M>0?C.coordinate-M*A:C.coordinate});var q=A*(C.tickCoord-A*F/2-N)>=0&&A*(C.tickCoord+A*F/2-k)<=0;q&&(k=C.tickCoord-A*(F/2+o),x[j-1]=Cs(Cs({},C),{},{isShow:!0}))}for(var G=t?j-1:j,R=0;R<G;R++){var D=x[R],z=ur(n)?n(D.value,R):D.value,W=Hu(z,{fontSize:u,letterSpacing:f})[w]+y;if(R===0){var Z=A*(D.coordinate-A*W/2-N);x[R]=D=Cs(Cs({},D),{},{tickCoord:Z<0?D.coordinate-Z*A:D.coordinate})}else x[R]=D=Cs(Cs({},D),{},{tickCoord:D.coordinate});var le=A*(D.tickCoord-A*W/2-N)>=0&&A*(D.tickCoord+A*W/2-k)<=0;le&&(N=D.tickCoord+A*(W/2+o),x[R]=Cs(Cs({},D),{},{isShow:!0}))}return x}function Tw(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,u=e.interval,f=e.tickFormatter,h=e.unit;if(!s||!s.length||!n)return[];if(Nt(u)||Pf.isSsr)return BG(s,typeof u=="number"&&Nt(u)?u:0);var m=[];return u==="equidistantPreserveStart"?(m=vA({ticks:s,tickFormatter:f,viewBox:i,orientation:l,minTickGap:o,unit:h,fontSize:t,letterSpacing:r}),$G(m)):(u==="preserveStart"||u==="preserveStartEnd"?m=vA({ticks:s,tickFormatter:f,viewBox:i,orientation:l,minTickGap:o,unit:h,fontSize:t,letterSpacing:r},u==="preserveStartEnd"):m=UG({ticks:s,tickFormatter:f,viewBox:i,orientation:l,minTickGap:o,unit:h,fontSize:t,letterSpacing:r}),m.filter(function(v){return v.isShow}))}var qG=["viewBox"],zG=["viewBox"],WG=["ticks"];function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dd.apply(this,arguments)}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){dj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O2(e,t){if(e==null)return{};var r=HG(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HG(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function VG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xE(n.key),n)}}function YG(e,t,r){return t&&yA(e.prototype,t),r&&yA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Mw(e,t)}function KG(e){var t=QG();return function(){var n=$p(e),s;if(t){var i=$p(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return XG(this,s)}}function XG(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JG(e)}function JG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function dj(e,t,r){return t=xE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xE(e){var t=ZG(e,"string");return vf(t)==="symbol"?t:String(t)}function ZG(e,t){if(vf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oh=(function(e){GG(r,e);var t=KG(r);function r(n){var s;return VG(this,r),s=t.call(this,n),s.state={fontSize:"",letterSpacing:""},s}return YG(r,[{key:"shouldComponentUpdate",value:function(s,i){var o=s.viewBox,l=O2(s,qG),u=this.props,f=u.viewBox,h=O2(u,zG);return!Bd(o,f)||!Bd(l,h)||!Bd(i,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var i=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var i=this.props,o=i.x,l=i.y,u=i.width,f=i.height,h=i.orientation,m=i.tickSize,v=i.mirror,p=i.tickMargin,w,x,y,j,A,N,k=v?-1:1,C=s.tickSize||m,T=Nt(s.tickCoord)?s.tickCoord:s.coordinate;switch(h){case"top":w=x=s.coordinate,j=l+ +!v*f,y=j-k*C,N=y-k*p,A=T;break;case"left":y=j=s.coordinate,x=o+ +!v*u,w=x-k*C,A=w-k*p,N=T;break;case"right":y=j=s.coordinate,x=o+ +v*u,w=x+k*C,A=w+k*p,N=T;break;default:w=x=s.coordinate,j=l+ +v*f,y=j+k*C,N=y+k*p,A=T;break}return{line:{x1:w,y1:y,x2:x,y2:j},tick:{x:A,y:N}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,i=s.orientation,o=s.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,i=s.orientation,o=s.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,f=s.orientation,h=s.mirror,m=s.axisLine,v=Us(Us(Us({},wr(this.props)),wr(m)),{},{fill:"none"});if(f==="top"||f==="bottom"){var p=+(f==="top"&&!h||f==="bottom"&&h);v=Us(Us({},v),{},{x1:i,y1:o+p*u,x2:i+l,y2:o+p*u})}else{var w=+(f==="left"&&!h||f==="right"&&h);v=Us(Us({},v),{},{x1:i+w*l,y1:o,x2:i+w*l,y2:o+u})}return Te.createElement("line",Dd({},v,{className:_n("recharts-cartesian-axis-line",Li(m,"className"))}))}},{key:"renderTicks",value:function(s,i,o){var l=this,u=this.props,f=u.tickLine,h=u.stroke,m=u.tick,v=u.tickFormatter,p=u.unit,w=Tw(Us(Us({},this.props),{},{ticks:s}),i,o),x=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),j=wr(this.props),A=wr(m),N=Us(Us({},j),{},{fill:"none"},wr(f)),k=w.map(function(C,T){var F=l.getTickLineCoord(C),M=F.line,q=F.tick,G=Us(Us(Us(Us({textAnchor:x,verticalAnchor:y},j),{},{stroke:"none",fill:h},A),q),{},{index:T,payload:C,visibleTicksCount:w.length,tickFormatter:v});return Te.createElement(vn,Dd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T)},Xu(l.props,C,T)),f&&Te.createElement("line",Dd({},N,M,{className:_n("recharts-cartesian-axis-tick-line",Li(f,"className"))})),m&&r.renderTickItem(m,G,"".concat(ur(v)?v(C.value,T):C.value).concat(p||"")))});return Te.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var s=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,f=i.ticksGenerator,h=i.className,m=i.hide;if(m)return null;var v=this.props,p=v.ticks,w=O2(v,WG),x=p;return ur(f)&&(x=p&&p.length>0?f(this.props):f(w)),l<=0||u<=0||!x||!x.length?null:Te.createElement(vn,{className:_n("recharts-cartesian-axis",h),ref:function(j){s.layerReference=j}},o&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Ta.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,i,o){var l;return Te.isValidElement(s)?l=Te.cloneElement(s,i):ur(s)?l=s(i):l=Te.createElement(Gc,Dd({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}]),r})(L.Component);dj(Oh,"displayName","CartesianAxis");dj(Oh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eK=["x1","y1","x2","y2","key"];function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(this,arguments)}function tK(e,t){if(e==null)return{};var r=rK(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rK(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){fj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yE(n.key),n)}}function aK(e,t,r){return t&&wA(e.prototype,t),r&&wA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dw(e,t)}function Dw(e,t){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Dw(e,t)}function iK(e){var t=cK();return function(){var n=Bp(e),s;if(t){var i=Bp(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return oK(this,s)}}function oK(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lK(e)}function lK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(e)}function fj(e,t,r){return t=yE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yE(e){var t=uK(e,"string");return xf(t)==="symbol"?t:String(t)}function uK(e,t){if(xf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P0=(function(e){sK(r,e);var t=iK(r);function r(){return nK(this,r),t.apply(this,arguments)}return aK(r,[{key:"renderHorizontal",value:function(s){var i=this,o=this.props,l=o.x,u=o.width,f=o.horizontal;if(!s||!s.length)return null;var h=s.map(function(m,v){var p=km(km({},i.props),{},{x1:l,y1:m,x2:l+u,y2:m,key:"line-".concat(v),index:v});return r.renderLineItem(f,p)});return Te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}},{key:"renderVertical",value:function(s){var i=this,o=this.props,l=o.y,u=o.height,f=o.vertical;if(!s||!s.length)return null;var h=s.map(function(m,v){var p=km(km({},i.props),{},{x1:m,y1:l,x2:m,y2:l+u,key:"line-".concat(v),index:v});return r.renderLineItem(f,p)});return Te.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}},{key:"renderVerticalStripes",value:function(s){var i=this.props.verticalFill;if(!i||!i.length)return null;var o=this.props,l=o.fillOpacity,u=o.x,f=o.y,h=o.width,m=o.height,v=s.map(function(w){return Math.round(w+u-u)}).sort(function(w,x){return w-x});u!==v[0]&&v.unshift(0);var p=v.map(function(w,x){var y=!v[x+1],j=y?u+h-w:v[x+1]-w;if(j<=0)return null;var A=x%i.length;return Te.createElement("rect",{key:"react-".concat(x),x:w,y:f,width:j,height:m,stroke:"none",fill:i[A],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return Te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}},{key:"renderHorizontalStripes",value:function(s){var i=this.props.horizontalFill;if(!i||!i.length)return null;var o=this.props,l=o.fillOpacity,u=o.x,f=o.y,h=o.width,m=o.height,v=s.map(function(w){return Math.round(w+f-f)}).sort(function(w,x){return w-x});f!==v[0]&&v.unshift(0);var p=v.map(function(w,x){var y=!v[x+1],j=y?f+m-w:v[x+1]-w;if(j<=0)return null;var A=x%i.length;return Te.createElement("rect",{key:"react-".concat(x),y:w,x:u,height:j,width:h,stroke:"none",fill:i[A],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return Te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}},{key:"renderBackground",value:function(){var s=this.props.fill;if(!s||s==="none")return null;var i=this.props,o=i.fillOpacity,l=i.x,u=i.y,f=i.width,h=i.height;return Te.createElement("rect",{x:l,y:u,width:f,height:h,stroke:"none",fill:s,fillOpacity:o,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,f=s.horizontal,h=s.vertical,m=s.horizontalCoordinatesGenerator,v=s.verticalCoordinatesGenerator,p=s.xAxis,w=s.yAxis,x=s.offset,y=s.chartWidth,j=s.chartHeight;if(!Nt(l)||l<=0||!Nt(u)||u<=0||!Nt(i)||i!==+i||!Nt(o)||o!==+o)return null;var A=this.props,N=A.horizontalPoints,k=A.verticalPoints;return(!N||!N.length)&&ur(m)&&(N=m({yAxis:w,width:y,height:j,offset:x})),(!k||!k.length)&&ur(v)&&(k=v({xAxis:p,width:y,height:j,offset:x})),Te.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),f&&this.renderHorizontal(N),h&&this.renderVertical(k),f&&this.renderHorizontalStripes(N),h&&this.renderVerticalStripes(k))}}],[{key:"renderLineItem",value:function(s,i){var o;if(Te.isValidElement(s))o=Te.cloneElement(s,i);else if(ur(s))o=s(i);else{var l=i.x1,u=i.y1,f=i.x2,h=i.y2,m=i.key,v=tK(i,eK);o=Te.createElement("line",Iw({},wr(v),{x1:l,y1:u,x2:f,y2:h,fill:"none",key:m}))}return o}}]),r})(L.PureComponent);fj(P0,"displayName","CartesianGrid");fj(P0,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var oc=function(){return null};oc.displayName="XAxis";oc.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var lc=function(){return null};lc.displayName="YAxis";lc.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var R2,jA;function dK(){if(jA)return R2;jA=1;var e=ll(),t=w0(),r=og();function n(s){return function(i,o,l){var u=Object(i);if(!t(i)){var f=e(o,3);i=r(i),o=function(m){return f(u[m],m,u)}}var h=s(i,o,l);return h>-1?u[f?i[h]:h]:void 0}}return R2=n,R2}var T2,NA;function fK(){if(NA)return T2;NA=1;var e=uE();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return T2=t,T2}var M2,SA;function hK(){if(SA)return M2;SA=1;var e=cP(),t=ll(),r=fK(),n=Math.max;function s(i,o,l){var u=i==null?0:i.length;if(!u)return-1;var f=l==null?0:r(l);return f<0&&(f=n(u+f,0)),e(i,t(o,3),f)}return M2=s,M2}var I2,_A;function mK(){if(_A)return I2;_A=1;var e=dK(),t=hK(),r=e(t);return I2=r,I2}var pK=mK();const gK=Qr(pK);var D2,kA;function vK(){if(kA)return D2;kA=1;var e=ac(),t=sc(),r="[object Boolean]";function n(s){return s===!0||s===!1||t(s)&&e(s)==r}return D2=n,D2}var xK=vK();const yK=Qr(xK);function AA(e){return NK(e)||jK(e)||wK(e)||bK()}function bK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wK(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function jK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NK(e){if(Array.isArray(e))return Fw(e)}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $w=function(t,r,n,s,i){var o=Ji(t,uj),l=Ji(t,A0),u=[].concat(AA(o),AA(l)),f=Ji(t,C0),h="".concat(s,"Id"),m=s[0],v=r;if(u.length&&(v=u.reduce(function(x,y){if(y.props[h]===n&&sl(y.props,"extendDomain")&&Nt(y.props[m])){var j=y.props[m];return[Math.min(x[0],j),Math.max(x[1],j)]}return x},v)),f.length){var p="".concat(m,"1"),w="".concat(m,"2");v=f.reduce(function(x,y){if(y.props[h]===n&&sl(y.props,"extendDomain")&&Nt(y.props[p])&&Nt(y.props[w])){var j=y.props[p],A=y.props[w];return[Math.min(x[0],j,A),Math.max(x[1],j,A)]}return x},v)}return i&&i.length&&(v=i.reduce(function(x,y){return Nt(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},v)),v},F2={exports:{}},CA;function SK(){return CA||(CA=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new s(h,m||u,v),w=r?r+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],p]:u._events[w].push(p):(u._events[w]=p,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,p=m.length,w=new Array(p);v<p;v++)w[v]=m[v].fn;return w},l.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,v,p,w){var x=r?r+f:f;if(!this._events[x])return!1;var y=this._events[x],j=arguments.length,A,N;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),j){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,m),!0;case 4:return y.fn.call(y.context,h,m,v),!0;case 5:return y.fn.call(y.context,h,m,v,p),!0;case 6:return y.fn.call(y.context,h,m,v,p,w),!0}for(N=1,A=new Array(j-1);N<j;N++)A[N-1]=arguments[N];y.fn.apply(y.context,A)}else{var k=y.length,C;for(N=0;N<k;N++)switch(y[N].once&&this.removeListener(f,y[N].fn,void 0,!0),j){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,h);break;case 3:y[N].fn.call(y[N].context,h,m);break;case 4:y[N].fn.call(y[N].context,h,m,v);break;default:if(!A)for(C=1,A=new Array(j-1);C<j;C++)A[C-1]=arguments[C];y[N].fn.apply(y[N].context,A)}}return!0},l.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,v){var p=r?r+f:f;if(!this._events[p])return this;if(!h)return o(this,p),this;var w=this._events[p];if(w.fn)w.fn===h&&(!v||w.once)&&(!m||w.context===m)&&o(this,p);else{for(var x=0,y=[],j=w.length;x<j;x++)(w[x].fn!==h||v&&!w[x].once||m&&w[x].context!==m)&&y.push(w[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(F2)),F2.exports}var _K=SK();const kK=Qr(_K);var Ci=new kK;Ci.setMaxListeners&&Ci.setMaxListeners(10);var $2="recharts.syncMouseEvents";function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}function AK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bE(n.key),n)}}function PK(e,t,r){return t&&CK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B2(e,t,r){return t=bE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bE(e){var t=EK(e,"string");return u0(t)==="symbol"?t:String(t)}function EK(e,t){if(u0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(u0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LK=(function(){function e(){AK(this,e),B2(this,"activeIndex",0),B2(this,"coordinateList",[]),B2(this,"layout","horizontal")}return PK(e,[{key:"setDetails",value:function(r){var n=r.coordinateList,s=n===void 0?[]:n,i=r.container,o=i===void 0?null:i,l=r.layout,u=l===void 0?null:l,f=r.offset,h=f===void 0?null:f,m=r.mouseHandlerCallback,v=m===void 0?null:m;this.coordinateList=s??this.coordinateList,this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex>=this.coordinateList.length&&(this.activeIndex=this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){if(this.layout==="horizontal"){var r=this.container.getBoundingClientRect(),n=r.x,s=r.y,i=this.coordinateList[this.activeIndex].coordinate,o=n+i,l=s+this.offset.top;this.mouseHandlerCallback({pageX:o,pageY:l})}}}]),e})(),OK=["item"],RK=["children","className","width","height","style","compact","title","desc"];function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function PA(e,t){return IK(e)||MK(e,t)||wE(e,t)||TK()}function TK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function IK(e){if(Array.isArray(e))return e}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function EA(e,t){if(e==null)return{};var r=DK(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DK(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function FK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jE(n.key),n)}}function BK(e,t,r){return t&&$K(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bw(e,t)}function qK(e){var t=WK();return function(){var n=Up(e),s;if(t){var i=Up(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return zK(this,s)}}function zK(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dr(e)}function Dr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function bf(e){return YK(e)||VK(e)||wE(e)||HK()}function HK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wE(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function VK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YK(e){if(Array.isArray(e))return Uw(e)}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){hr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hr(e,t,r){return t=jE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jE(e){var t=GK(e,"string");return yf(t)==="symbol"?t:String(t)}function GK(e,t){if(yf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KK={xAxis:["bottom","top"],yAxis:["left","right"]},NE={x:0,y:0},XK=Number.isFinite?Number.isFinite:isFinite,OA=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,RA=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,JK=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},QK=function(t,r,n,s){var i=r.find(function(h){return h&&h.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ft(ft(ft({},s),Mn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,f=s.angle;return ft(ft(ft({},s),Mn(s.cx,s.cy,u,f)),{},{angle:f,radius:u})}return NE},Og=function(t,r,n){var s=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(s||[]).reduce(function(u,f){var h=f.props.data;return h&&h.length?[].concat(bf(u),bf(h)):u},[]);return l&&l.length>0?l:n&&n.props&&n.props.data&&n.props.data.length>0?n.props.data:t&&t.length&&Nt(i)&&Nt(o)?t.slice(i,o+1):[]};function ZK(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],s=e?.[1];if(n&&s&&Nt(n)&&Nt(s))return!0}return!1}function SE(e){return e==="number"?[0,"auto"]:void 0}var _E=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Og(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(u,f){var h=f.props.hide;if(h)return u;var m=f.props.data,v;if(o.dataKey&&!o.allowDuplicatedCategory){var p=m===void 0?l:m;v=Sb(p,o.dataKey,s)}else v=m&&m[n]||l[n];return v?[].concat(bf(u),[J7(f,v)]):u},[])},TA=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=JK(i,n),l=t.orderedTooltipTicks,u=t.tooltipAxis,f=t.tooltipTicks,h=MW(o,l,f,u);if(h>=0&&f){var m=f[h]&&f[h].value,v=_E(t,r,h,m),p=QK(n,l,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:v,activeCoordinate:p}}return null},eX=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,v=t.stackOffset,p=V7(h,i),w=n.reduce(function(x,y){var j,A=y.props,N=A.type,k=A.dataKey,C=A.allowDataOverflow,T=A.allowDuplicatedCategory,F=A.scale,M=A.ticks,q=A.includeHidden,G=y.props[o];if(x[G])return x;var R=Og(t.data,{graphicalItems:s.filter(function(B){return B.props[o]===G}),dataStartIndex:u,dataEndIndex:f}),D=R.length,z,W,Z;ZK(y.props.domain,C,N)&&(z=fw(y.props.domain,null,C),p&&(N==="number"||F!=="auto")&&(Z=Ph(R,k,"category")));var le=SE(N);if(!z||z.length===0){var ge,te=(ge=y.props.domain)!==null&&ge!==void 0?ge:le;if(k){if(z=Ph(R,k,N),N==="category"&&p){var ue=aM(z);T&&ue?(W=z,z=Mp(0,D)):T||(z=vk(te,z,y).reduce(function(B,Y){return B.indexOf(Y)>=0?B:[].concat(bf(B),[Y])},[]))}else if(N==="category")T?z=z.filter(function(B){return B!==""&&!cr(B)}):z=vk(te,z,y).reduce(function(B,Y){return B.indexOf(Y)>=0||Y===""||cr(Y)?B:[].concat(bf(B),[Y])},[]);else if(N==="number"){var H=BW(R,s.filter(function(B){return B.props[o]===G&&(q||!B.props.hide)}),k,i,h);H&&(z=H)}p&&(N==="number"||F!=="auto")&&(Z=Ph(R,k,"category"))}else p?z=Mp(0,D):l&&l[G]&&l[G].hasStack&&N==="number"?z=v==="expand"?[0,1]:X7(l[G].stackGroups,u,f):z=H7(R,s.filter(function(B){return B.props[o]===G&&(q||!B.props.hide)}),N,h,!0);if(N==="number")z=$w(m,z,G,i,M),te&&(z=fw(te,z,C));else if(N==="category"&&te){var ae=te,U=z.every(function(B){return ae.indexOf(B)>=0});U&&(z=ae)}}return ft(ft({},x),{},hr({},G,ft(ft({},y.props),{},{axisType:i,domain:z,categoricalDomain:Z,duplicateDomain:W,originalDomain:(j=y.props.domain)!==null&&j!==void 0?j:le,isCategorical:p,layout:h})))},{});return w},tX=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,v=Og(t.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:f}),p=v.length,w=V7(h,i),x=-1,y=n.reduce(function(j,A){var N=A.props[o],k=SE("number");if(!j[N]){x++;var C;return w?C=Mp(0,p):l&&l[N]&&l[N].hasStack?(C=X7(l[N].stackGroups,u,f),C=$w(m,C,N,i)):(C=fw(k,H7(v,n.filter(function(T){return T.props[o]===N&&!T.props.hide}),"number",h),s.defaultProps.allowDataOverflow),C=$w(m,C,N,i)),ft(ft({},j),{},hr({},N,ft(ft({axisType:i},s.defaultProps),{},{hide:!0,orientation:Li(KK,"".concat(i,".").concat(x%2),null),domain:C,originalDomain:k,isCategorical:w,layout:h})))}return j},{});return y},rX=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=t.children,m="".concat(s,"Id"),v=Ji(h,i),p={};return v&&v.length?p=eX(t,{axes:v,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:f}):o&&o.length&&(p=tX(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:f})),p},nX=function(t){var r=Mc(t),n=Ic(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:R5(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jp(r,n)}},MA=function(t){var r,n,s=t.children,i=t.defaultShowTooltip,o=Wl(s,a0),l=o&&o.props&&o.props.startIndex||0,u=(o==null||(r=o.props)===null||r===void 0?void 0:r.endIndex)!==void 0?o==null||(n=o.props)===null||n===void 0?void 0:n.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:l,dataEndIndex:u,activeTooltipIndex:-1,isTooltipActive:cr(i)?!1:i}},aX=function(t){return!t||!t.length?!1:t.some(function(r){var n=zc(r&&r.type);return n&&n.indexOf("Bar")>=0})},IA=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sX=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,u=l===void 0?{}:l,f=n.width,h=n.height,m=n.children,v=n.margin||{},p=Wl(m,a0),w=Wl(m,Vc),x=Object.keys(u).reduce(function(N,k){var C=u[k],T=C.orientation;return!C.mirror&&!C.hide?ft(ft({},N),{},hr({},T,N[T]+C.width)):N},{left:v.left||0,right:v.right||0}),y=Object.keys(o).reduce(function(N,k){var C=o[k],T=C.orientation;return!C.mirror&&!C.hide?ft(ft({},N),{},hr({},T,Li(N,"".concat(T))+C.height)):N},{top:v.top||0,bottom:v.bottom||0}),j=ft(ft({},y),x),A=j.bottom;return p&&(j.bottom+=p.props.height||a0.defaultProps.height),w&&r&&(j=FW(j,s,n,r)),ft(ft({brushBottom:A},j),{},{width:f-j.left-j.right,height:h-j.top-j.bottom})},kE=function(t){var r,n=t.chartName,s=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,f=t.axisComponents,h=t.legendContent,m=t.formatAxisMap,v=t.defaultProps,p=function(y,j){var A=j.graphicalItems,N=j.stackGroups,k=j.offset,C=j.updateId,T=j.dataStartIndex,F=j.dataEndIndex,M=y.barSize,q=y.layout,G=y.barGap,R=y.barCategoryGap,D=y.maxBarSize,z=IA(q),W=z.numericAxisName,Z=z.cateAxisName,le=aX(A),ge=le&&IW({barSize:M,stackGroups:N}),te=[];return A.forEach(function(ue,H){var ae=Og(y.data,{dataStartIndex:T,dataEndIndex:F},ue),U=ue.props,B=U.dataKey,Y=U.maxBarSize,ne=ue.props["".concat(W,"Id")],he=ue.props["".concat(Z,"Id")],Q=f.reduce(function(je,De){var jt,bt=j["".concat(De.axisType,"Map")],Ft=ue.props["".concat(De.axisType,"Id")],Tt=bt&&bt[Ft];return ft(ft({},je),{},(jt={},hr(jt,De.axisType,Tt),hr(jt,"".concat(De.axisType,"Ticks"),Ic(Tt)),jt))},{}),pe=Q[Z],ce=Q["".concat(Z,"Ticks")],me=N&&N[ne]&&N[ne].hasStack&&KW(ue,N[ne].stackGroups),_e=zc(ue.type).indexOf("Bar")>=0,se=jp(pe,ce),ye=[];if(_e){var fe,V,Re=cr(Y)?D:Y,Je=(fe=(V=jp(pe,ce,!0))!==null&&V!==void 0?V:Re)!==null&&fe!==void 0?fe:0;ye=DW({barGap:G,barCategoryGap:R,bandSize:Je!==se?Je:se,sizeList:ge[he],maxBarSize:Re}),Je!==se&&(ye=ye.map(function(je){return ft(ft({},je),{},{position:ft(ft({},je.position),{},{offset:je.position.offset-Je/2})})}))}var nt=ue&&ue.type&&ue.type.getComposedData;if(nt){var ze;te.push({props:ft(ft({},nt(ft(ft({},Q),{},{displayedData:ae,props:y,dataKey:B,item:ue,bandSize:se,barPosition:ye,offset:k,stackedData:me,layout:q,dataStartIndex:T,dataEndIndex:F}))),{},(ze={key:ue.key||"item-".concat(H)},hr(ze,W,Q[W]),hr(ze,Z,Q[Z]),hr(ze,"animationId",C),ze)),childIndex:pM(ue,y.children),item:ue})}}),te},w=function(y,j){var A=y.props,N=y.dataStartIndex,k=y.dataEndIndex,C=y.updateId;if(!d3({props:A}))return null;var T=A.children,F=A.layout,M=A.stackOffset,q=A.data,G=A.reverseStackOrder,R=IA(F),D=R.numericAxisName,z=R.cateAxisName,W=Ji(T,s),Z=YW(q,W,"".concat(D,"Id"),"".concat(z,"Id"),M,G),le=f.reduce(function(ae,U){var B="".concat(U.axisType,"Map");return ft(ft({},ae),{},hr({},B,rX(A,ft(ft({},U),{},{graphicalItems:W,stackGroups:U.axisType===D&&Z,dataStartIndex:N,dataEndIndex:k}))))},{}),ge=sX(ft(ft({},le),{},{props:A,graphicalItems:W}),j?.legendBBox);Object.keys(le).forEach(function(ae){le[ae]=m(A,le[ae],ge,ae.replace("Map",""),n)});var te=le["".concat(z,"Map")],ue=nX(te),H=p(A,ft(ft({},le),{},{dataStartIndex:N,dataEndIndex:k,updateId:C,graphicalItems:W,stackGroups:Z,offset:ge}));return ft(ft({formattedGraphicalItems:H,graphicalItems:W,offset:ge,stackGroups:Z},ue),le)};return r=(function(x){UK(j,x);var y=qK(j);function j(A){var N;return FK(this,j),N=y.call(this,A),hr(Dr(N),"accessibilityManager",new LK),hr(Dr(N),"clearDeferId",function(){!cr(N.deferId)&&RA&&RA(N.deferId),N.deferId=null}),hr(Dr(N),"handleLegendBBoxUpdate",function(k){if(k){var C=N.state,T=C.dataStartIndex,F=C.dataEndIndex,M=C.updateId;N.setState(ft({legendBBox:k},w({props:N.props,dataStartIndex:T,dataEndIndex:F,updateId:M},ft(ft({},N.state),{},{legendBBox:k}))))}}),hr(Dr(N),"handleReceiveSyncEvent",function(k,C,T){var F=N.props.syncId;F===k&&C!==N.uniqueChartId&&(N.clearDeferId(),N.deferId=OA&&OA(N.applySyncEvent.bind(Dr(N),T)))}),hr(Dr(N),"handleBrushChange",function(k){var C=k.startIndex,T=k.endIndex;if(C!==N.state.dataStartIndex||T!==N.state.dataEndIndex){var F=N.state.updateId;N.setState(function(){return ft({dataStartIndex:C,dataEndIndex:T},w({props:N.props,dataStartIndex:C,dataEndIndex:T,updateId:F},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:T})}}),hr(Dr(N),"handleMouseEnter",function(k){var C=N.props.onMouseEnter,T=N.getMouseInfo(k);if(T){var F=ft(ft({},T),{},{isTooltipActive:!0});N.setState(F),N.triggerSyncEvent(F),ur(C)&&C(F,k)}}),hr(Dr(N),"triggeredAfterMouseMove",function(k){var C=N.props.onMouseMove,T=N.getMouseInfo(k),F=T?ft(ft({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(F),N.triggerSyncEvent(F),ur(C)&&C(F,k)}),hr(Dr(N),"handleItemMouseEnter",function(k){N.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),hr(Dr(N),"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),hr(Dr(N),"handleMouseMove",function(k){k&&ur(k.persist)&&k.persist(),N.triggeredAfterMouseMove(k)}),hr(Dr(N),"handleMouseLeave",function(k){var C=N.props.onMouseLeave,T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T),ur(C)&&C(T,k),N.cancelThrottledTriggerAfterMouseMove()}),hr(Dr(N),"handleOuterEvent",function(k){var C=mM(k),T=Li(N.props,"".concat(C));if(C&&ur(T)){var F;/.*touch.*/i.test(C)?F=N.getMouseInfo(k.changedTouches[0]):F=N.getMouseInfo(k);var M=T;M(F,k)}}),hr(Dr(N),"handleClick",function(k){var C=N.props.onClick,T=N.getMouseInfo(k);if(T){var F=ft(ft({},T),{},{isTooltipActive:!0});N.setState(F),N.triggerSyncEvent(F),ur(C)&&C(F,k)}}),hr(Dr(N),"handleMouseDown",function(k){var C=N.props.onMouseDown;if(ur(C)){var T=N.getMouseInfo(k);C(T,k)}}),hr(Dr(N),"handleMouseUp",function(k){var C=N.props.onMouseUp;if(ur(C)){var T=N.getMouseInfo(k);C(T,k)}}),hr(Dr(N),"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseMove(k.changedTouches[0])}),hr(Dr(N),"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseDown(k.changedTouches[0])}),hr(Dr(N),"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseUp(k.changedTouches[0])}),hr(Dr(N),"verticalCoordinatesGenerator",function(k){var C=k.xAxis,T=k.width,F=k.height,M=k.offset;return fk(Tw(ft(ft(ft({},Oh.defaultProps),C),{},{ticks:Ic(C,!0),viewBox:{x:0,y:0,width:T,height:F}})),M.left,M.left+M.width)}),hr(Dr(N),"horizontalCoordinatesGenerator",function(k){var C=k.yAxis,T=k.width,F=k.height,M=k.offset;return fk(Tw(ft(ft(ft({},Oh.defaultProps),C),{},{ticks:Ic(C,!0),viewBox:{x:0,y:0,width:T,height:F}})),M.top,M.top+M.height)}),hr(Dr(N),"axesTicksGenerator",function(k){return Ic(k,!0)}),hr(Dr(N),"renderCursor",function(k){var C=N.state,T=C.isTooltipActive,F=C.activeCoordinate,M=C.activePayload,q=C.offset,G=C.activeTooltipIndex,R=N.getTooltipEventType();if(!k||!k.props.cursor||!T||!F||n!=="ScatterChart"&&R!=="axis")return null;var D=N.props.layout,z,W=Ap;if(n==="ScatterChart")z=F,W=iE;else if(n==="BarChart")z=N.getCursorRectangle(),W=kg;else if(D==="radial"){var Z=N.getCursorPoints(),le=Z.cx,ge=Z.cy,te=Z.radius,ue=Z.startAngle,H=Z.endAngle;z={cx:le,cy:ge,startAngle:ue,endAngle:H,innerRadius:te,outerRadius:te},W=kp}else z={points:N.getCursorPoints()},W=Ap;var ae=k.key||"_recharts-cursor",U=ft(ft(ft(ft({stroke:"#ccc",pointerEvents:"none"},q),z),wr(k.props.cursor)),{},{payload:M,payloadIndex:G,key:ae,className:"recharts-tooltip-cursor"});return L.isValidElement(k.props.cursor)?L.cloneElement(k.props.cursor,U):L.createElement(W,U)}),hr(Dr(N),"renderPolarAxis",function(k,C,T){var F=Li(k,"type.axisType"),M=Li(N.state,"".concat(F,"Map")),q=M&&M[k.props["".concat(F,"Id")]];return L.cloneElement(k,ft(ft({},q),{},{className:F,key:k.key||"".concat(C,"-").concat(T),ticks:Ic(q,!0)}))}),hr(Dr(N),"renderXAxis",function(k,C,T){var F=N.state.xAxisMap,M=F[k.props.xAxisId];return N.renderAxis(M,k,C,T)}),hr(Dr(N),"renderYAxis",function(k,C,T){var F=N.state.yAxisMap,M=F[k.props.yAxisId];return N.renderAxis(M,k,C,T)}),hr(Dr(N),"renderGrid",function(k){var C=N.state,T=C.xAxisMap,F=C.yAxisMap,M=C.offset,q=N.props,G=q.width,R=q.height,D=Mc(T),z=gK(F,function(le){return hE(le.domain,XK)}),W=z||Mc(F),Z=k.props||{};return L.cloneElement(k,{key:k.key||"grid",x:Nt(Z.x)?Z.x:M.left,y:Nt(Z.y)?Z.y:M.top,width:Nt(Z.width)?Z.width:M.width,height:Nt(Z.height)?Z.height:M.height,xAxis:D,yAxis:W,offset:M,chartWidth:G,chartHeight:R,verticalCoordinatesGenerator:Z.verticalCoordinatesGenerator||N.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:Z.horizontalCoordinatesGenerator||N.horizontalCoordinatesGenerator})}),hr(Dr(N),"renderPolarGrid",function(k){var C=k.props,T=C.radialLines,F=C.polarAngles,M=C.polarRadius,q=N.state,G=q.radiusAxisMap,R=q.angleAxisMap,D=Mc(G),z=Mc(R),W=z.cx,Z=z.cy,le=z.innerRadius,ge=z.outerRadius;return L.cloneElement(k,{polarAngles:us(F)?F:Ic(z,!0).map(function(te){return te.coordinate}),polarRadius:us(M)?M:Ic(D,!0).map(function(te){return te.coordinate}),cx:W,cy:Z,innerRadius:le,outerRadius:ge,key:k.key||"polar-grid",radialLines:T})}),hr(Dr(N),"renderLegend",function(){var k=N.state.formattedGraphicalItems,C=N.props,T=C.children,F=C.width,M=C.height,q=N.props.margin||{},G=F-(q.left||0)-(q.right||0),R=z7({children:T,formattedGraphicalItems:k,legendWidth:G,legendContent:h});if(!R)return null;var D=R.item,z=EA(R,OK);return L.cloneElement(D,ft(ft({},z),{},{chartWidth:F,chartHeight:M,margin:q,ref:function(Z){N.legendInstance=Z},onBBoxUpdate:N.handleLegendBBoxUpdate}))}),hr(Dr(N),"renderTooltip",function(){var k=N.props.children,C=Wl(k,ci);if(!C)return null;var T=N.state,F=T.isTooltipActive,M=T.activeCoordinate,q=T.activePayload,G=T.activeLabel,R=T.offset;return L.cloneElement(C,{viewBox:ft(ft({},R),{},{x:R.left,y:R.top}),active:F,label:G,payload:F?q:[],coordinate:M})}),hr(Dr(N),"renderBrush",function(k){var C=N.props,T=C.margin,F=C.data,M=N.state,q=M.offset,G=M.dataStartIndex,R=M.dataEndIndex,D=M.updateId;return L.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Nm(N.handleBrushChange,null,k.props.onChange),data:F,x:Nt(k.props.x)?k.props.x:q.left,y:Nt(k.props.y)?k.props.y:q.top+q.height+q.brushBottom-(T.bottom||0),width:Nt(k.props.width)?k.props.width:q.width,startIndex:G,endIndex:R,updateId:"brush-".concat(D)})}),hr(Dr(N),"renderReferenceElement",function(k,C,T){if(!k)return null;var F=Dr(N),M=F.clipPathId,q=N.state,G=q.xAxisMap,R=q.yAxisMap,D=q.offset,z=k.props,W=z.xAxisId,Z=z.yAxisId;return L.cloneElement(k,{key:k.key||"".concat(C,"-").concat(T),xAxis:G[W],yAxis:R[Z],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:M})}),hr(Dr(N),"renderActivePoints",function(k){var C=k.item,T=k.activePoint,F=k.basePoint,M=k.childIndex,q=k.isRange,G=[],R=C.props.key,D=C.item.props,z=D.activeDot,W=D.dataKey,Z=ft(ft({index:M,dataKey:W,cx:T.x,cy:T.y,r:4,fill:oj(C.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value,key:"".concat(R,"-activePoint-").concat(M)},wr(z)),Km(z));return G.push(j.renderActiveDot(z,Z)),F?G.push(j.renderActiveDot(z,ft(ft({},Z),{},{cx:F.x,cy:F.y,key:"".concat(R,"-basePoint-").concat(M)}))):q&&G.push(null),G}),hr(Dr(N),"renderGraphicChild",function(k,C,T){var F=N.filterFormatItem(k,C,T);if(!F)return null;var M=N.getTooltipEventType(),q=N.state,G=q.isTooltipActive,R=q.tooltipAxis,D=q.activeTooltipIndex,z=q.activeLabel,W=N.props.children,Z=Wl(W,ci),le=F.props,ge=le.points,te=le.isRange,ue=le.baseLine,H=F.item.props,ae=H.activeDot,U=H.hide,B=!U&&G&&Z&&ae&&D>=0,Y={};M!=="axis"&&Z&&Z.props.trigger==="click"?Y={onClick:Nm(N.handleItemMouseEnter,null,k.props.onCLick)}:M!=="axis"&&(Y={onMouseLeave:Nm(N.handleItemMouseLeave,null,k.props.onMouseLeave),onMouseEnter:Nm(N.handleItemMouseEnter,null,k.props.onMouseEnter)});var ne=L.cloneElement(k,ft(ft({},F.props),Y));function he(me){return typeof R.dataKey=="function"?R.dataKey(me.payload):null}if(B){var Q,pe;if(R.dataKey&&!R.allowDuplicatedCategory){var ce=typeof R.dataKey=="function"?he:"payload.".concat(R.dataKey.toString());Q=Sb(ge,ce,z),pe=te&&ue&&Sb(ue,ce,z)}else Q=ge[D],pe=te&&ue&&ue[D];if(!cr(Q))return[ne].concat(bf(N.renderActivePoints({item:F,activePoint:Q,basePoint:pe,childIndex:D,isRange:te})))}return te?[ne,null,null]:[ne,null]}),hr(Dr(N),"renderCustomized",function(k,C,T){return L.cloneElement(k,ft(ft({key:"recharts-customized-".concat(T)},N.props),N.state))}),N.uniqueChartId=cr(A.id)?b0("recharts"):A.id,N.clipPathId="".concat(N.uniqueChartId,"-clip"),A.throttleDelay&&(N.triggeredAfterMouseMove=HP(N.triggeredAfterMouseMove,A.throttleDelay)),N.state={},N}return BK(j,[{key:"componentDidMount",value:function(){var N,k;cr(this.props.syncId)||this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.handleMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(N,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var C,T;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(N){cr(N.syncId)&&!cr(this.props.syncId)&&this.addListener(),!cr(N.syncId)&&cr(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),cr(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Wl(this.props.children,ci);if(N&&yK(N.props.shared)){var k=N.props.shared?"axis":"item";return u.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var k=ZB(this.container),C=eU(N,k),T=this.inRange(C.chartX,C.chartY);if(!T)return null;var F=this.state,M=F.xAxisMap,q=F.yAxisMap,G=this.getTooltipEventType();if(G!=="axis"&&M&&q){var R=Mc(M).scale,D=Mc(q).scale,z=R&&R.invert?R.invert(C.chartX):null,W=D&&D.invert?D.invert(C.chartY):null;return ft(ft({},C),{},{xValue:z,yValue:W})}var Z=TA(this.state,this.props.data,this.props.layout,T);return Z?ft(ft({},C),Z):null}},{key:"getCursorRectangle",value:function(){var N=this.props.layout,k=this.state,C=k.activeCoordinate,T=k.offset,F=k.tooltipAxisBandSize,M=F/2;return{stroke:"none",fill:"#ccc",x:N==="horizontal"?C.x-M:T.left+.5,y:N==="horizontal"?T.top+.5:C.y-M,width:N==="horizontal"?F:T.width-1,height:N==="horizontal"?T.height-1:F}}},{key:"getCursorPoints",value:function(){var N=this.props.layout,k=this.state,C=k.activeCoordinate,T=k.offset,F,M,q,G;if(N==="horizontal")F=C.x,q=F,M=T.top,G=T.top+T.height;else if(N==="vertical")M=C.y,G=M,F=T.left,q=T.left+T.width;else if(!cr(C.cx)||!cr(C.cy))if(N==="centric"){var R=C.cx,D=C.cy,z=C.innerRadius,W=C.outerRadius,Z=C.angle,le=Mn(R,D,z,Z),ge=Mn(R,D,W,Z);F=le.x,M=le.y,q=ge.x,G=ge.y}else{var te=C.cx,ue=C.cy,H=C.radius,ae=C.startAngle,U=C.endAngle,B=Mn(te,ue,H,ae),Y=Mn(te,ue,H,U);return{points:[B,Y],cx:te,cy:ue,radius:H,startAngle:ae,endAngle:U}}return[{x:F,y:M},{x:q,y:G}]}},{key:"inRange",value:function(N,k){var C=this.props.layout;if(C==="horizontal"||C==="vertical"){var T=this.state.offset,F=N>=T.left&&N<=T.left+T.width&&k>=T.top&&k<=T.top+T.height;return F?{x:N,y:k}:null}var M=this.state,q=M.angleAxisMap,G=M.radiusAxisMap;if(q&&G){var R=Mc(q);return bk({x:N,y:k},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,k=this.getTooltipEventType(),C=Wl(N,ci),T={};C&&k==="axis"&&(C.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var F=Km(this.props,this.handleOuterEvent);return ft(ft({},F),T)}},{key:"addListener",value:function(){Ci.on($2,this.handleReceiveSyncEvent),Ci.setMaxListeners&&Ci._maxListeners&&Ci.setMaxListeners(Ci._maxListeners+1)}},{key:"removeListener",value:function(){Ci.removeListener($2,this.handleReceiveSyncEvent),Ci.setMaxListeners&&Ci._maxListeners&&Ci.setMaxListeners(Ci._maxListeners-1)}},{key:"triggerSyncEvent",value:function(N){var k=this.props.syncId;cr(k)||Ci.emit($2,k,this.uniqueChartId,N)}},{key:"applySyncEvent",value:function(N){var k=this.props,C=k.layout,T=k.syncMethod,F=this.state.updateId,M=N.dataStartIndex,q=N.dataEndIndex;if(!cr(N.dataStartIndex)||!cr(N.dataEndIndex))this.setState(ft({dataStartIndex:M,dataEndIndex:q},w({props:this.props,dataStartIndex:M,dataEndIndex:q,updateId:F},this.state)));else if(cr(N.activeTooltipIndex))this.setState(N);else{var G=N.chartX,R=N.chartY,D=N.activeTooltipIndex,z=this.state,W=z.offset,Z=z.tooltipTicks;if(!W)return;if(typeof T=="function")D=T(Z,N);else if(T==="value"){D=-1;for(var le=0;le<Z.length;le++)if(Z[le].value===N.activeLabel){D=le;break}}var ge=ft(ft({},W),{},{x:W.left,y:W.top}),te=Math.min(G,ge.x+ge.width),ue=Math.min(R,ge.y+ge.height),H=Z[D]&&Z[D].value,ae=_E(this.state,this.props.data,D),U=Z[D]?{x:C==="horizontal"?Z[D].coordinate:te,y:C==="horizontal"?ue:Z[D].coordinate}:NE;this.setState(ft(ft({},N),{},{activeLabel:H,activeCoordinate:U,activePayload:ae,activeTooltipIndex:D}))}}},{key:"filterFormatItem",value:function(N,k,C){for(var T=this.state.formattedGraphicalItems,F=0,M=T.length;F<M;F++){var q=T[F];if(q.item===N||q.props.key===N.key||k===zc(q.item.type)&&C===q.childIndex)return q}return null}},{key:"renderAxis",value:function(N,k,C,T){var F=this.props,M=F.width,q=F.height;return Te.createElement(Oh,Fd({},N,{className:"recharts-".concat(N.axisType," ").concat(N.axisType),key:k.key||"".concat(C,"-").concat(T),viewBox:{x:0,y:0,width:M,height:q},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var N=this.clipPathId,k=this.state.offset,C=k.left,T=k.top,F=k.height,M=k.width;return Te.createElement("defs",null,Te.createElement("clipPath",{id:N},Te.createElement("rect",{x:C,y:T,height:F,width:M})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(k,C){var T=PA(C,2),F=T[0],M=T[1];return ft(ft({},k),{},hr({},F,M.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(k,C){var T=PA(C,2),F=T[0],M=T[1];return ft(ft({},k),{},hr({},F,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var k,C;return(k=this.state.xAxisMap)===null||k===void 0||(C=k[N])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(N){var k,C;return(k=this.state.yAxisMap)===null||k===void 0||(C=k[N])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(N){var k=this.state.formattedGraphicalItems;if(k&&k.length)for(var C=0,T=k.length;C<T;C++){var F=k[C],M=F.props,q=F.item,G=zc(q.type);if(G==="Bar"){var R=(M.data||[]).find(function(z){return mV(N,z)});if(R)return{graphicalItem:F,payload:R}}else if(G==="RadialBar"){var D=(M.data||[]).find(function(z){return bk(N,z)});if(D)return{graphicalItem:F,payload:D}}}return null}},{key:"render",value:function(){var N=this;if(!d3(this))return null;var k=this.props,C=k.children,T=k.className,F=k.width,M=k.height,q=k.style,G=k.compact,R=k.title,D=k.desc,z=EA(k,RK),W=wr(z),Z={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(G)return Te.createElement(Ab,Fd({},W,{width:F,height:M,title:R,desc:D}),this.renderClipPath(),h3(C,Z));if(this.props.accessibilityLayer){var le,ge;W.tabIndex=(le=0)!==null&&le!==void 0?le:this.props.tabIndex,W.role=(ge="img")!==null&&ge!==void 0?ge:this.props.role,W.onKeyDown=function(ue){N.accessibilityManager.keyboardEvent(ue)},W.onFocus=function(){N.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return Te.createElement("div",Fd({className:_n("recharts-wrapper",T),style:ft({position:"relative",cursor:"default",width:F,height:M},q)},te,{ref:function(H){N.container=H},role:"region"}),Te.createElement(Ab,Fd({},W,{width:F,height:M,title:R,desc:D}),this.renderClipPath(),h3(C,Z)),this.renderLegend(),this.renderTooltip())}}]),j})(L.Component),hr(r,"displayName",n),hr(r,"defaultProps",ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),hr(r,"getDerivedStateFromProps",function(x,y){var j=x.data,A=x.children,N=x.width,k=x.height,C=x.layout,T=x.stackOffset,F=x.margin;if(cr(y.updateId)){var M=MA(x);return ft(ft(ft({},M),{},{updateId:0},w(ft(ft({props:x},M),{},{updateId:0}),y)),{},{prevData:j,prevWidth:N,prevHeight:k,prevLayout:C,prevStackOffset:T,prevMargin:F,prevChildren:A})}if(j!==y.prevData||N!==y.prevWidth||k!==y.prevHeight||C!==y.prevLayout||T!==y.prevStackOffset||!Bd(F,y.prevMargin)){var q=MA(x),G={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},R=ft(ft({},TA(y,j,C)),{},{updateId:y.updateId+1}),D=ft(ft(ft({},q),G),R);return ft(ft(ft({},D),w(ft({props:x},D),y)),{},{prevData:j,prevWidth:N,prevHeight:k,prevLayout:C,prevStackOffset:T,prevMargin:F,prevChildren:A})}if(!K8(A,y.prevChildren)){var z=!cr(j),W=z?y.updateId:y.updateId+1;return ft(ft({updateId:W},w(ft(ft({props:x},y),{},{updateId:W}),y)),{},{prevChildren:A})}return null}),hr(r,"renderActiveDot",function(x,y){var j;return L.isValidElement(x)?j=L.cloneElement(x,y):ur(x)?j=x(y):j=Te.createElement(lj,y),Te.createElement(vn,{className:"recharts-active-dot",key:y.key},j)}),r},Rf=kE({chartName:"BarChart",GraphicalChild:Ia,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oc},{axisType:"yAxis",AxisComp:lc}],formatAxisMap:gG}),AE=kE({chartName:"PieChart",GraphicalChild:Xi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Eg},{axisType:"radiusAxis",AxisComp:Cg}],formatAxisMap:sH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function tu(e,t=[],r=3e4){const[n,s]=L.useState(null),[i,o]=L.useState(!0),[l,u]=L.useState(null),[f,h]=L.useState(0),m=()=>{h(v=>v+1),u(null),o(!0)};return L.useEffect(()=>{let v=!0,p;return(async()=>{try{o(!0),u(null);const x=new Promise((j,A)=>{p=setTimeout(()=>{A(new Error("Request timed out. Please check your connection and try again."))},r)}),y=await Promise.race([e(),x]);v&&(clearTimeout(p),s(y),o(!1))}catch(x){v&&(clearTimeout(p),console.error("API Error:",x),u(x.message||"An unexpected error occurred"),o(!1))}})(),()=>{v=!1,p&&clearTimeout(p)}},[...t,f]),{data:n,loading:i,error:l,retry:m}}function ko({message:e="Loading..."}){return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#7a0000] mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:e})]})})}function ru({error:e,onRetry:t}){return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-xl shadow-lg max-w-md w-full",children:[a.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Oops! Something went wrong"}),a.jsx("p",{className:"mt-2 text-gray-600",children:e}),a.jsxs("div",{className:"mt-6 space-y-3",children:[t&&a.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-[#7a0000] text-white rounded-lg hover:bg-[#5a0000] transition-colors font-medium",children:"Try Again"}),a.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Go to Home"})]})]})})}function iX(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState("overview"),{data:s,loading:i,error:o,retry:l}=tu(async()=>{const m=await rt.getDashboardStats();return m.data||m},[t?.id,t?.role]),u=L.useMemo(()=>s?s.totalUsers!==void 0?s:s.data?s.data:s:null,[s]);L.useEffect(()=>{if(!t){e("/");return}if(!un(t)){e("/dashboard");return}},[t?.role,t?.id,e]);const f=L.useMemo(()=>u?.programStats?Object.entries(u.programStats).map(([m,v])=>({name:m,courses:v.courses||0,students:v.students||0,evaluations:v.evaluations||0})):[],[u]),h=L.useMemo(()=>u?.userRoles?[{name:"Students",value:u.userRoles.students||0,color:"#10b981"},{name:"Dept. Heads",value:u.userRoles.departmentHeads||0,color:"#3b82f6"},{name:"Secretaries",value:u.userRoles.secretaries||0,color:"#f59e0b"},{name:"Admins",value:u.userRoles.admins||0,color:"#7a0000"}]:[],[u]);return!t||!un(t)?null:i?a.jsx(ko,{message:"Loading admin dashboard..."}):o?a.jsx(ru,{error:o,onRetry:l}):u?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-5",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Course Insight Guardian"}),a.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:"System Administration Panel"})]})]}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 lg:px-8 py-4 lg:py-5 text-left lg:text-right w-full lg:w-auto",children:[a.jsx("p",{className:"text-[#ffd700] text-sm font-medium",children:"Welcome back,"}),a.jsxs("p",{className:"text-white font-bold text-lg lg:text-xl mt-1",children:[t?.first_name||t?.name||"Admin"," ",t?.last_name||""]})]})]})})}),a.jsxs("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[a.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/admin/users"),children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Users"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white mb-2",children:u.totalUsers}),a.jsx("p",{className:"text-sm text-white/90 font-medium",children:"System-wide"})]}),a.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:a.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/admin/courses"),children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Courses"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white mb-2",children:u.totalCourses}),a.jsxs("p",{className:"text-sm text-white/90 font-medium",children:[u.totalPrograms," Programs"]})]}),a.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:a.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#9D1535] to-[#7D1028] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/admin/periods"),children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Evaluations"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white mb-2",children:u.totalEvaluations}),a.jsxs("p",{className:"text-sm text-white/90 font-medium",children:[u.participationRate,"% Participation"]})]}),a.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:a.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 mb-12",children:[a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 lg:p-10",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Program Distribution"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Courses, students, and evaluations by program"})]}),a.jsx(Yc,{width:"100%",height:320,children:a.jsxs(Rf,{data:f,children:[a.jsx(P0,{strokeDasharray:"3 3"}),a.jsx(oc,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),a.jsx(lc,{}),a.jsx(ci,{}),a.jsx(Vc,{}),a.jsx(Ia,{dataKey:"courses",fill:"#7a0000",name:"Courses"}),a.jsx(Ia,{dataKey:"students",fill:"#10b981",name:"Students"}),a.jsx(Ia,{dataKey:"evaluations",fill:"#3b82f6",name:"Evaluations"})]})})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 lg:p-10",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"User Roles Distribution"}),a.jsx("p",{className:"text-sm text-gray-600",children:"System users by role type"})]}),a.jsx(Yc,{width:"100%",height:320,children:a.jsxs(AE,{children:[a.jsx(Xi,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:m,percent:v})=>`${m}: ${(v*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:h.map((m,v)=>a.jsx(j0,{fill:m.color},`cell-${v}`))}),a.jsx(ci,{})]})})]})]})]})]}):null}/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),DA=e=>{const t=lX(e);return t.charAt(0).toUpperCase()+t.slice(1)},CE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),cX=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=L.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},u)=>L.createElement("svg",{ref:u,...uX,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:CE("lucide",s),...!i&&!cX(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,h])=>L.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=(e,t)=>{const r=L.forwardRef(({className:n,...s},i)=>L.createElement(dX,{ref:i,iconNode:t,className:CE(`lucide-${oX(DA(e))}`,`lucide-${e}`,n),...s}));return r.displayName=DA(e),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hX=Aa("book-open",fX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FA=Aa("chevron-down",mX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qw=Aa("chevron-right",pX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vX=Aa("chevron-left",gX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zl=Aa("circle-alert",xX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rh=Aa("circle-check-big",yX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],PE=Aa("download",bX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jX=Aa("eye",wX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$A=Aa("file-text",NX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_X=Aa("funnel",SX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],AX=Aa("graduation-cap",kX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rg=Aa("info",CX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qp=Aa("search",PX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],BA=Aa("trash-2",EX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],OX=Aa("trending-up",LX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],EE=Aa("triangle-alert",RX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],U2=Aa("upload",TX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],LE=Aa("user-x",MX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zp=Aa("users",IX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rd=Aa("x",DX),Tg=({isOpen:e,onClose:t,children:r,size:n="md",autoSize:s=!1})=>{if(!e)return null;const i={xs:"max-w-sm",sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-5xl","3xl":"max-w-6xl",full:"max-w-[95vw]"},o=s?"max-w-fit min-w-[320px]":i[n]||i.md;return a.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300 ease-out",onClick:t,"aria-hidden":"true"}),a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx("div",{className:`relative w-full ${o} transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all duration-300 ease-out animate-modal-appear`,onClick:l=>l.stopPropagation(),role:"document",children:r})}),a.jsx("style",{jsx:!0,children:`
        @keyframes modalAppear {
          from {
            opacity: 0;
            transform: scale(0.95) translateY(-20px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }
        .animate-modal-appear {
          animation: modalAppear 0.2s ease-out;
        }
      `})]})},Mg=({children:e,onClose:t,icon:r,iconColor:n="text-white",variant:s="default"})=>{const i={default:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",danger:"bg-gradient-to-r from-red-600 to-red-700 text-white",warning:"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white",success:"bg-gradient-to-r from-green-600 to-green-700 text-white",info:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",light:"bg-gradient-to-r from-gray-50 to-white text-gray-900 border-b border-gray-200"},o=s==="light";return a.jsxs("div",{className:`relative px-6 py-4 rounded-t-2xl ${i[s]||i.default}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[r&&a.jsx("div",{className:`flex-shrink-0 ${o?n:"text-white/90"}`,children:a.jsx(r,{className:"w-6 h-6"})}),a.jsx("h3",{className:`text-xl font-bold ${o?"text-gray-900":"text-white"}`,children:e})]}),t&&a.jsx("button",{type:"button",onClick:t,className:`absolute top-4 right-4 rounded-lg p-1.5 transition-all
            ${o?"text-gray-400 hover:text-gray-600 hover:bg-gray-100":"text-white/70 hover:text-white hover:bg-white/10"}`,"aria-label":"Close",children:a.jsx(Rd,{className:"w-5 h-5"})})]})},Ig=({children:e})=>a.jsx("div",{className:"px-6 py-5 max-h-[calc(100vh-300px)] overflow-y-auto",children:e}),Dg=({children:e})=>a.jsx("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:e}),E0=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:i="Confirm",cancelText:o="Cancel",variant:l="danger",icon:u})=>{const h={danger:{icon:EE,iconColor:"text-red-600",buttonClass:"bg-red-600 hover:bg-red-700 text-white"},warning:{icon:Zl,iconColor:"text-yellow-600",buttonClass:"bg-yellow-600 hover:bg-yellow-700 text-white"},info:{icon:Rg,iconColor:"text-[#7a0000]",buttonClass:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white"},success:{icon:Rh,iconColor:"text-green-600",buttonClass:"bg-green-600 hover:bg-green-700 text-white"}}[l],m=u||h.icon;return a.jsxs(Tg,{isOpen:e,onClose:t,size:"md",children:[a.jsx(Mg,{icon:m,iconColor:h.iconColor,onClose:t,children:n}),a.jsx(Ig,{children:a.jsx("p",{className:"text-base text-gray-700 leading-relaxed whitespace-pre-line",children:s})}),a.jsxs(Dg,{children:[a.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 shadow-sm transition-all",children:o}),a.jsx("button",{type:"button",onClick:()=>{r(),t()},className:`px-5 py-2.5 text-sm font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-md transition-all ${h.buttonClass}`,children:i})]})]})},ec=({isOpen:e,onClose:t,title:r,message:n,variant:s="info",buttonText:i="OK"})=>{const l={danger:{icon:EE,iconColor:"text-red-600",buttonClass:"bg-red-600 hover:bg-red-700 text-white"},warning:{icon:Zl,iconColor:"text-yellow-600",buttonClass:"bg-yellow-600 hover:bg-yellow-700 text-white"},info:{icon:Rg,iconColor:"text-[#7a0000]",buttonClass:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white"},success:{icon:Rh,iconColor:"text-green-600",buttonClass:"bg-green-600 hover:bg-green-700 text-white"}}[s],u=l.icon;return a.jsxs(Tg,{isOpen:e,onClose:t,size:"sm",children:[a.jsx(Mg,{icon:u,iconColor:l.iconColor,onClose:t,children:r}),a.jsx(Ig,{children:a.jsx("p",{className:"text-base text-gray-700 leading-relaxed whitespace-pre-line",children:n})}),a.jsx(Dg,{children:a.jsx("button",{type:"button",onClick:t,className:`px-5 py-2.5 text-sm font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-md transition-all ${l.buttonClass}`,children:i})})]})},FX=({isOpen:e,onClose:t,onConfirm:r,userName:n,hasData:s=!1})=>a.jsxs(Tg,{isOpen:e,onClose:t,size:"md",children:[a.jsx(Mg,{icon:LE,iconColor:"text-red-600",onClose:t,children:"Delete User"}),a.jsx(Ig,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete ",a.jsx("span",{className:"font-semibold",children:n}),"?"]}),a.jsx("div",{className:"bg-[#7a0000]/5 border border-[#7a0000]/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Rg,{className:"w-5 h-5 text-[#7a0000] mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-[#7a0000]",children:[a.jsx("p",{className:"font-medium mb-1",children:"Note:"}),a.jsxs("p",{children:["If this user has no evaluations or enrollments, they will be ",a.jsx("span",{className:"font-semibold",children:"permanently deleted"}),". Otherwise, they will be ",a.jsx("span",{className:"font-semibold",children:"deactivated"})," to preserve data integrity."]})]})]})})]})}),a.jsxs(Dg,{children:[a.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 shadow-sm transition-all",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>{r(),t()},className:"px-5 py-2.5 text-sm font-semibold bg-red-600 hover:bg-red-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 shadow-md transition-all",children:"Delete User"})]})]}),$X=({isOpen:e,onClose:t,userName:r,deleteType:n,reason:s})=>{const i=n==="hard";return a.jsxs(Tg,{isOpen:e,onClose:t,size:"md",children:[a.jsx(Mg,{icon:i?BA:LE,iconColor:i?"text-red-600":"text-yellow-600",onClose:t,children:i?"User Permanently Deleted":"User Deactivated"}),a.jsx(Ig,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:[a.jsx("span",{className:"font-semibold",children:r})," has been ",i?"permanently deleted":"deactivated","."]}),a.jsx("div",{className:`${i?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"} border rounded-lg p-4`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[i?a.jsx(BA,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):a.jsx(Zl,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:`text-sm ${i?"text-red-800":"text-yellow-800"}`,children:[a.jsx("p",{className:"font-medium mb-1",children:"Reason:"}),a.jsx("p",{children:s})]})]})}),!i&&a.jsx("div",{className:"bg-[#7a0000]/5 border border-[#7a0000]/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Rg,{className:"w-5 h-5 text-[#7a0000] mt-0.5 flex-shrink-0"}),a.jsx("div",{className:"text-sm text-[#7a0000]",children:a.jsx("p",{children:"The user account has been deactivated but their data (evaluations, enrollments) has been preserved for data integrity."})})]})})]})}),a.jsx(Dg,{children:a.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-semibold bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#7a0000] shadow-md transition-all",children:"OK"})})]})},ht=({options:e=[],value:t,onChange:r,placeholder:n="Select...",disabled:s=!1,required:i=!1,label:o=null,error:l=null,helpText:u=null,searchable:f=!1,className:h=""})=>{const[m,v]=L.useState(!1),[p,w]=L.useState(""),x=L.useRef(null),y=L.useRef(null);L.useEffect(()=>{const C=T=>{x.current&&!x.current.contains(T.target)&&(v(!1),w(""))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),L.useEffect(()=>{m&&f&&y.current&&y.current.focus()},[m,f]);const j=e.find(C=>String(C.value)===String(t)),A=f&&p?e.filter(C=>C.label.toLowerCase().includes(p.toLowerCase())):e,N=C=>{r(C),v(!1),w("")},k=C=>{C.key==="Escape"?(v(!1),w("")):C.key==="Enter"&&!m&&v(!0)};return a.jsxs("div",{ref:x,className:`relative min-w-0 ${h}`,style:{overflow:"visible"},children:[o&&a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[o,i&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("button",{type:"button",disabled:s,onClick:()=>!s&&v(!m),onKeyDown:k,className:`w-full px-4 py-3 text-left bg-white border-2 rounded-xl transition-all duration-200 flex items-center justify-between min-h-[50px]
          ${l?"border-red-300 focus:border-red-500 focus:ring-2 focus:ring-red-100":s?"bg-gray-50 border-gray-200 text-gray-400 cursor-not-allowed":m?"border-[#7a0000] ring-2 ring-red-100 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-md"}
        `,children:[a.jsx("span",{className:`flex-1 ${j?"text-gray-900":"text-gray-400"}`,children:j?j.label:n}),a.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform duration-200 flex-shrink-0 ml-2 ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),m&&!s&&a.jsxs("div",{className:"absolute z-[9999] min-w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-2xl overflow-hidden left-0",style:{animation:"dropdownFadeIn 0.15s ease-out",minWidth:"max-content"},children:[f&&a.jsx("div",{className:"p-2 border-b border-gray-100",children:a.jsx("input",{ref:y,type:"text",value:p,onChange:C=>w(C.target.value),placeholder:"Type to search...",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:border-[#7a0000] focus:ring-1 focus:ring-red-100"})}),a.jsx("div",{className:"max-h-60 overflow-y-auto",children:A.length===0?a.jsx("div",{className:"px-4 py-3 text-gray-400 text-sm text-center",children:p?"No matching options":"No options available"}):A.map((C,T)=>a.jsxs("button",{type:"button",onClick:()=>N(C.value),className:`w-full px-4 py-3 text-left hover:bg-red-50 transition-colors flex items-center gap-3 border-b border-gray-50 last:border-b-0 whitespace-nowrap
                    ${String(t)===String(C.value)?"bg-red-50 text-[#7a0000] font-medium":"text-gray-700"}
                  `,children:[String(t)===String(C.value)&&a.jsx("svg",{className:"w-4 h-4 text-[#7a0000] flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),a.jsx("span",{className:String(t)===String(C.value)?"":"ml-7",children:C.label})]},C.value??T))})]}),u&&!l&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:u}),l&&a.jsx("p",{className:"mt-1.5 text-xs text-red-500",children:l}),a.jsx("style",{children:`
        @keyframes dropdownFadeIn {
          from {
            opacity: 0;
            transform: translateY(-8px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})},OE=()=>{const[e,t]=L.useState([]),[r,n]=L.useState([]),[s,i]=L.useState(!0),[o,l]=L.useState(!1),[u,f]=L.useState(!1),[h,m]=L.useState(!1),[v,p]=L.useState("create"),[w,x]=L.useState(null),[y,j]=L.useState({}),[A,N]=L.useState({sectionName:"",programId:"",yearLevel:"",semester:"",schoolYear:new Date().getFullYear()+"-"+(new Date().getFullYear()+1)}),[k,C]=L.useState([]),[T,F]=L.useState([]),[M,q]=L.useState({programId:"",yearLevel:"",search:""}),[G,R]=L.useState([]),[D,z]=L.useState(!1),[W,Z]=L.useState(!1),[le,ge]=L.useState({title:"",message:"",type:"info"}),[te,ue]=L.useState(!1),[H,ae]=L.useState({title:"",message:"",onConfirm:()=>{},confirmText:"Confirm",cancelText:"Cancel"}),U=(je,De="Notification",jt="info")=>{ge({title:De,message:je,type:jt}),Z(!0)},B=(je,De,jt="Confirm Action",bt="Confirm",Ft="Cancel")=>{ae({title:jt,message:je,onConfirm:De,confirmText:bt,cancelText:Ft}),ue(!0)};L.useEffect(()=>{Y(),ne()},[]),L.useEffect(()=>{(y.programId||y.yearLevel||y.semester||y.schoolYear)&&Y()},[y]);const Y=async()=>{try{i(!0);const je=await rt.getProgramSections(y);t(je.data||[])}catch(je){console.error("Failed to load sections:",je),U("Failed to load program sections","Error","error")}finally{i(!1)}},ne=async()=>{try{const je=await rt.getPrograms();n(je.data||[])}catch(je){console.error("Failed to load programs:",je)}},he=async(je=null)=>{try{z(!0);const De=await rt.getStudentsForAssignment({...M,excludeSectionId:je});C(De.data||[])}catch(De){console.error("Failed to load students:",De),U("Failed to load students","Error","error")}finally{z(!1)}},Q=async je=>{try{const De=await rt.getSectionStudents(je);R(De.data||[])}catch(De){console.error("Failed to load assigned students:",De),U("Failed to load section students","Error","error")}},pe=()=>{p("create"),N({sectionName:"",programId:"",yearLevel:"",semester:"",schoolYear:new Date().getFullYear()+"-"+(new Date().getFullYear()+1)}),l(!0)},ce=je=>{p("edit"),x(je),N({sectionName:je.sectionName,programId:je.programId.toString(),yearLevel:je.yearLevel.toString(),semester:je.semester.toString(),schoolYear:je.schoolYear}),l(!0)},me=async je=>{B(`Are you sure you want to delete section "${je.sectionName}"? This will remove all student assignments.`,async()=>{try{await rt.deleteProgramSection(je.id),U("Section deleted successfully","Success","success"),Y()}catch(De){console.error("Failed to delete section:",De),U("Failed to delete section","Error","error")}},"Delete Section","Delete","Cancel")},_e=async je=>{if(je.preventDefault(),!A.sectionName||!A.programId||!A.yearLevel||!A.semester||!A.schoolYear){U("Please fill in all required fields","Validation Error","warning");return}const De={sectionName:A.sectionName.trim(),programId:parseInt(A.programId),yearLevel:parseInt(A.yearLevel),semester:parseInt(A.semester),schoolYear:A.schoolYear.trim()};if(isNaN(De.programId)||isNaN(De.yearLevel)||isNaN(De.semester)){U("Invalid numeric values","Validation Error","warning");return}try{v==="create"?(await rt.createProgramSection(De),U("Section created successfully","Success","success")):(await rt.updateProgramSection(w.id,De),U("Section updated successfully","Success","success")),l(!1),Y()}catch(jt){console.error("Failed to save section:",jt),U(jt.response?.data?.detail||"Failed to save section","Error","error")}},se=je=>{x(je),q({programId:je.programId.toString(),yearLevel:je.yearLevel.toString(),search:""}),F([]),he(je.id),f(!0)},ye=je=>{x(je),Q(je.id),m(!0)},fe=je=>{F(De=>De.includes(je)?De.filter(jt=>jt!==je):[...De,je])},V=()=>{T.length===k.length?F([]):F(k.map(je=>je.id))},Re=async()=>{if(T.length===0){U("Please select at least one student","Validation Error","warning");return}try{const je=await rt.assignStudentsToSection(w.id,T);U(je.message,"Success","success"),f(!1),Y()}catch(je){console.error("Failed to assign students:",je),U("Failed to assign students","Error","error")}},Je=async je=>{B("Are you sure you want to remove this student from the section?",async()=>{try{await rt.removeStudentFromSection(w.id,je),U("Student removed successfully","Success","success"),Q(w.id),Y()}catch(De){console.error("Failed to remove student:",De),U("Failed to remove student","Error","error")}},"Remove Student","Remove","Cancel")};L.useEffect(()=>{u&&w&&he(w.id)},[M.programId,M.yearLevel,M.search]);const nt=[{value:1,label:"1st Year"},{value:2,label:"2nd Year"},{value:3,label:"3rd Year"},{value:4,label:"4th Year"}],ze=[{value:1,label:"1st Semester"},{value:2,label:"2nd Semester"},{value:3,label:"Summer"}];return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:pe,className:"bg-[#7a0000] hover:bg-[#5a0000] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition-all flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:"Create Section"})]})}),a.jsx("div",{className:"bg-white p-6 lg:p-8 rounded-card shadow-card mb-12 overflow-visible",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 overflow-visible",children:[a.jsx(ht,{label:"Program",value:y.programId?y.programId.toString():"",onChange:je=>j({...y,programId:je}),options:[{value:"",label:"All Programs"},...r.map(je=>({value:je.id.toString(),label:je.code}))],searchable:!0}),a.jsx(ht,{label:"Year Level",value:y.yearLevel?y.yearLevel.toString():"",onChange:je=>j({...y,yearLevel:je}),options:[{value:"",label:"All Years"},...nt.map(je=>({value:je.value.toString(),label:je.label}))]}),a.jsx(ht,{label:"Semester",value:y.semester?y.semester.toString():"",onChange:je=>j({...y,semester:je}),options:[{value:"",label:"All Semesters"},...ze.map(je=>({value:je.value.toString(),label:je.label}))]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"School Year"}),a.jsx("input",{type:"text",value:y.schoolYear||"",onChange:je=>j({...y,schoolYear:je.target.value}),placeholder:"e.g., 2024-2025",className:"w-full border rounded px-3 py-2"})]})]})}),s?a.jsx("div",{className:"text-center py-8",children:"Loading sections..."}):e.length===0?a.jsx("div",{className:"bg-white p-8 rounded-lg shadow text-center text-gray-500",children:"No sections found. Create your first section to get started."}):a.jsx("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Section Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Program"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Year/Semester"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"School Year"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Students"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(je=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 font-medium",children:je.sectionName}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:je.programCode}),a.jsx("div",{className:"text-gray-500",children:je.programName})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[nt.find(De=>De.value===je.yearLevel)?.label," -",ze.find(De=>De.value===je.semester)?.label]})}),a.jsx("td",{className:"px-6 py-4",children:je.schoolYear}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("button",{onClick:()=>ye(je),className:"text-red-600 hover:underline font-medium",children:[je.studentCount," student",je.studentCount!==1?"s":""]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${je.isActive?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:je.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>se(je),className:"text-red-600 hover:underline text-sm",children:"Add Students"}),a.jsx("button",{onClick:()=>ce(je),className:"text-red-600 hover:underline text-sm",children:"Edit"}),a.jsx("button",{onClick:()=>me(je),className:"text-red-600 hover:underline text-sm",children:"Delete"})]})})]},je.id))})]})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"p-6 border-b flex-shrink-0",children:a.jsx("h3",{className:"text-xl font-bold",children:v==="create"?"Create Section":"Edit Section"})}),a.jsxs("form",{onSubmit:_e,className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section Name *"}),a.jsx("input",{type:"text",value:A.sectionName,onChange:je=>N({...A,sectionName:je.target.value}),placeholder:"e.g., BSIT 3A",required:!0,className:"w-full border rounded px-3 py-2"})]}),a.jsx(ht,{label:"Program *",value:A.programId,onChange:je=>N({...A,programId:je}),options:[{value:"",label:"Select a program"},...r.map(je=>({value:je.id.toString(),label:`${je.code} - ${je.name}`}))],searchable:!0}),a.jsx(ht,{label:"Year Level *",value:A.yearLevel,onChange:je=>N({...A,yearLevel:je}),options:[{value:"",label:"Select year level"},...nt.map(je=>({value:je.value.toString(),label:je.label}))]}),a.jsx(ht,{label:"Semester *",value:A.semester,onChange:je=>N({...A,semester:je}),options:[{value:"",label:"Select semester"},...ze.map(je=>({value:je.value.toString(),label:je.label}))]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"School Year *"}),a.jsx("input",{type:"text",value:A.schoolYear,onChange:je=>N({...A,schoolYear:je.target.value}),placeholder:"e.g., 2024-2025",required:!0,className:"w-full border rounded px-3 py-2"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:v==="create"?"Create":"Update"})]})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"p-6 border-b flex-shrink-0",children:a.jsxs("h3",{className:"text-xl font-bold",children:["Assign Students to ",w?.sectionName]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(ht,{label:"Program",value:M.programId,onChange:je=>q({...M,programId:je}),options:[{value:"",label:"All Programs"},...r.map(je=>({value:je.id.toString(),label:je.code}))],searchable:!0}),a.jsx(ht,{label:"Year Level",value:M.yearLevel,onChange:je=>q({...M,yearLevel:je}),options:[{value:"",label:"All Years"},...nt.map(je=>({value:je.value.toString(),label:je.label}))]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Search"}),a.jsx("input",{type:"text",value:M.search,onChange:je=>q({...M,search:je.target.value}),placeholder:"Name, email, or student #",className:"w-full border rounded px-3 py-2"})]})]})}),D?a.jsx("div",{className:"text-center py-8",children:"Loading students..."}):k.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No students found"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 flex items-center gap-2 border-b pb-2",children:[a.jsx("input",{type:"checkbox",checked:T.length===k.length&&k.length>0,onChange:V,className:"w-4 h-4"}),a.jsxs("span",{className:"font-medium",children:["Select All (",T.length," selected)"]})]}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:k.map(je=>a.jsxs("label",{className:`flex items-center gap-3 p-3 rounded border cursor-pointer hover:bg-gray-50 ${je.alreadyAssigned?"bg-gray-100 opacity-60":""}`,children:[a.jsx("input",{type:"checkbox",checked:T.includes(je.id),onChange:()=>fe(je.id),disabled:je.alreadyAssigned,className:"w-4 h-4"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"font-medium",children:[je.lastName,", ",je.firstName]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[je.studentNumber," | ",je.email]}),a.jsxs("div",{className:"text-xs text-gray-400",children:[je.programCode," - ",nt.find(De=>De.value===je.yearLevel)?.label]})]}),je.alreadyAssigned&&a.jsx("span",{className:"text-xs text-gray-500",children:"Already in section"})]},je.id))})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"Cancel"}),a.jsxs("button",{onClick:Re,disabled:T.length===0,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Assign ",T.length," Student",T.length!==1?"s":""]})]})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"p-6 border-b flex-shrink-0",children:a.jsxs("h3",{className:"text-xl font-bold",children:["Students in ",w?.sectionName," (",G.length,")"]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[G.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No students assigned to this section yet"}):a.jsx("div",{className:"space-y-2",children:G.map(je=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium",children:[je.lastName,", ",je.firstName]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[je.studentNumber," | ",je.email]}),a.jsxs("div",{className:"text-xs text-gray-400",children:[je.programCode," - ",nt.find(De=>De.value===je.yearLevel)?.label]})]}),a.jsx("button",{onClick:()=>Je(je.id),className:"text-red-600 hover:underline text-sm",children:"Remove"})]},je.id))}),a.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0 p-6 border-t",children:a.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"Close"})})]})]})}),a.jsx(ec,{isOpen:W,onClose:()=>Z(!1),title:le.title,message:le.message,variant:le.type==="error"?"danger":le.type}),a.jsx(E0,{isOpen:te,onClose:()=>ue(!1),onConfirm:()=>{H.onConfirm(),ue(!1)},title:H.title,message:H.message,confirmText:H.confirmText,cancelText:H.cancelText,variant:"danger"})]})})},tc=({currentPage:e,totalPages:t,totalItems:r,onPageChange:n,itemLabel:s="items",itemsPerPage:i=10,onItemsPerPageChange:o,showItemsPerPage:l=!0})=>{if(t<=1&&!l)return null;const u=(e-1)*i+1,f=Math.min(e*i,r),h=()=>{const m=[];let p,w;t<=5?(p=1,w=t):e<=3?(p=1,w=5):e>=t-2?(p=t-5+1,w=t):(p=e-2,w=e+2);for(let x=p;x<=w;x++)m.push(x);return m};return a.jsx("div",{className:"p-4 lg:p-6 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[l&&o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),a.jsxs("select",{value:i,onChange:m=>o(Number(m.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000]",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"per page"})]}):a.jsx("div",{}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",u," to ",f," of ",r," ",s]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>n(1),disabled:e===1,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"First"}),a.jsx("button",{onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"p-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:a.jsx(vX,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex items-center gap-1",children:h().map(m=>a.jsx("button",{onClick:()=>n(m),className:`w-10 h-10 rounded-lg text-sm font-medium transition-colors ${e===m?"bg-[#7a0000] text-white":"border border-gray-300 text-gray-700 hover:bg-gray-100"}`,"aria-label":`Go to page ${m}`,"aria-current":e===m?"page":void 0,children:m},m))}),a.jsx("button",{onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"p-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:a.jsx(qw,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>n(t),disabled:e===t,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Last"})]})]})})};function Tf(e,t=500){const[r,n]=L.useState(e);return L.useEffect(()=>{const s=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(s)}},[e,t]),r}const BX={"BSCS-DS":"BSCS-DS","BS-CYBER":"BSCYSEC",BSIT:"BSIT",BSPSY:"BSPSYCH",BAPSY:"ABPSYCH",BMA:"BMMA",ABCOMM:"ABCOMM"};function zd(e){return e&&(BX[e]||e)}function UX(e){if(!e)return e;const t=e.program_code||e.code,r=e.program_name||e.name;return{...e,code:zd(t),program_code:zd(t),displayCode:zd(t),originalCode:t,name:r,program_name:r}}function Mf(e){return Array.isArray(e)?e.map(UX):e}function qX(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState("users"),[s,i]=L.useState({isOpen:!1,user:null}),[o,l]=L.useState({isOpen:!1,userName:"",deleteType:"",reason:""}),[u,f]=L.useState({isOpen:!1,message:""}),[h,m]=L.useState(!1),[v,p]=L.useState({title:"",message:"",type:"info"}),[w,x]=L.useState(!1),[y,j]=L.useState({title:"",message:"",onConfirm:null,confirmText:"Confirm",cancelText:"Cancel"}),[A,N]=L.useState(!1),[k,C]=L.useState(null),[T,F]=L.useState(""),[M,q]=L.useState(!1),[G,R]=L.useState(""),[D,z]=L.useState([]),[W,Z]=L.useState([]),[le,ge]=L.useState({total_users:0,students:0,dept_heads:0,secretaries:0,admins:0}),[te,ue]=L.useState(""),H=Tf(te,500),[ae,U]=L.useState("all"),[B,Y]=L.useState("all"),[ne,he]=L.useState("all"),[Q,pe]=L.useState("all"),[ce,me]=L.useState(!1),[_e,se]=L.useState(!1),[ye,fe]=L.useState(!1),[V,Re]=L.useState(null),[Je,nt]=L.useState([]),[ze,je]=L.useState(!1),[De,jt]=L.useState(null),[bt,Ft]=L.useState([]),[Tt,Pt]=L.useState([]),[sr,ke]=L.useState({current:0,total:0,status:""}),[be,Oe]=L.useState(1),[Fe,st]=L.useState(15),[mt,at]=L.useState(0),[gt,vt]=L.useState(0),[He,tt]=L.useState({name:"",email:"",school_id:"",role:"student",program:"BSIT",yearLevel:1,department:"",assignedPrograms:[],status:"Active"}),[Me,dt]=L.useState(null),[er,dr]=L.useState(null),[Et,fr]=L.useState(!1),[kn,Zr]=L.useState(!1),{data:en,loading:Bn,error:Ut,retry:Br}=tu(async()=>{const[Ie,ct,Ht]=await Promise.all([rt.getUsers({page:be,page_size:Fe,role:ae!=="all"?ae:void 0,status:B!=="all"?B:void 0,program:ne!=="all"?ne:void 0,year_level:Q!=="all"?parseInt(Q):void 0,search:H||void 0}),rt.getPrograms(),rt.getUserStats()]);return{users:Ie?.data||[],programs:ct?.data||[],stats:Ht?.data||{total_users:0,students:0,dept_heads:0,secretaries:0,admins:0},pagination:Ie?.pagination||{}}},[t?.id,t?.role,be,Fe,ae,B,ne,Q,H]);L.useEffect(()=>{if(en){const Ie=(en.users||[]).map(ct=>({...ct,status:ct.is_active?"Active":"Inactive"}));z(Ie),en.programs&&en.programs.length>0&&Z(Mf(en.programs||[]).map(ct=>ct.code).sort()),en.stats&&ge(en.stats),en.pagination&&(at(en.pagination.total||0),vt(en.pagination.total_pages||0))}},[en]),L.useEffect(()=>{t&&!Qi(t)&&e("/dashboard")},[t?.role,t?.id,e]),L.useEffect(()=>{ae!=="student"&&(he("all"),pe("all"))},[ae]);const mr=(Ie,ct="Notification",Ht="info")=>{p({title:ct,message:Ie,type:Ht}),m(!0)},Un=(Ie,ct,Ht="Confirm Action",rr="Confirm",nr="Cancel")=>{j({title:Ht,message:Ie,onConfirm:ct,confirmText:rr,cancelText:nr}),x(!0)};L.useEffect(()=>{Oe(1)},[ae,B,te,Q,ne]);const qn=D,Fr=()=>{tt({name:"",email:"",role:"student",program:"BSIT",yearLevel:1,department:"",assignedPrograms:[],status:"Active"}),me(!0)},xn=Ie=>{Re(Ie);const ct=Ie.year_level||Ie.yearLevel||1,Ht=Ie.is_active!==void 0?Ie.is_active?"Active":"Inactive":Ie.status||"Active";console.log("Editing user:",Ie.email,"year_level from API:",Ie.year_level,"parsed:",ct),tt({name:`${Ie.first_name||""} ${Ie.last_name||""}`.trim(),email:Ie.email,role:Ie.role,program:Ie.program||"BSIT",yearLevel:ct,department:Ie.department||"",assignedPrograms:Ie.assignedPrograms||[],status:Ht}),se(!0)},Wr=(Ie,ct=!1)=>{i({isOpen:!0,user:Ie,force:ct})},Os=async()=>{const Ie=s.user,ct=s.force||!1,Ht=`${Ie.first_name||""} ${Ie.last_name||""}`.trim();try{je(!0);const rr=await rt.deleteUser(Ie.id,ct);Br();const nr=rr.delete_type||"soft";l({isOpen:!0,userName:Ht,deleteType:nr,reason:nr==="hard"?"No related data found (newly created user)":"User has related data (evaluations/enrollments). Account preserved for data integrity"})}catch(rr){console.error("Error deleting user:",rr),f({isOpen:!0,message:`Failed to delete user: ${rr.message}`})}finally{je(!1)}},Hs=async Ie=>{const ct=Ie.target.files?.[0];if(!ct)return;jt(ct),Pt([]),Ft([]);const Ht=new FileReader;Ht.onload=rr=>{try{const gr=rr.target.result.split(`
`).filter(Er=>Er.trim());if(gr.length<2){Pt(["CSV file is empty or has no data rows"]);return}const qr=gr[0].split(",").map(Er=>Er.trim().toLowerCase()),zr=["email","first_name","last_name","school_id","role"].filter(Er=>!qr.includes(Er));if(zr.length>0){Pt([`Missing required columns: ${zr.join(", ")}`]);return}const yn=[],Ar=[],hn=["student","instructor","department_head","secretary","admin"];for(let Er=1;Er<Math.min(gr.length,101);Er++){const an=gr[Er].split(",").map(zt=>zt.trim()),Xt={};qr.forEach((zt,Lr)=>{Xt[zt]=an[Lr]||""});const pr=[];(!Xt.email||!Xt.email.includes("@"))&&pr.push("Invalid email"),Xt.email&&!Xt.email.toLowerCase().endsWith("@lpubatangas.edu.ph")&&pr.push("Email must be @lpubatangas.edu.ph"),Xt.first_name||pr.push("Missing first name"),Xt.last_name||pr.push("Missing last name"),(!Xt.school_id||Xt.school_id.trim()==="")&&pr.push("Missing school_id"),Xt.role=Xt.role.toLowerCase(),hn.includes(Xt.role)||pr.push(`Invalid role: ${Xt.role}`),Xt.role==="student"&&(Xt.program&&!W.includes(Xt.program)&&pr.push(`Invalid program: ${Xt.program}`),Xt.year_level&&![1,2,3,4,"1","2","3","4"].includes(Xt.year_level)&&pr.push("Invalid year level (must be 1-4)")),pr.length>0&&Ar.push({row:Er,errors:pr,data:Xt}),yn.push({...Xt,rowNumber:Er,hasErrors:pr.length>0})}Ft(yn.slice(0,5)),Pt(Ar)}catch(nr){Pt([`Failed to parse CSV: ${nr.message}`])}},Ht.readAsText(ct)},Fa=async()=>{if(!De){mr("Please select a CSV file first","Warning","warning");return}const Ie=async()=>{try{je(!0),ke({current:0,total:0,status:"Reading file..."});const Ht=(await De.text()).split(`
`).filter(Ar=>Ar.trim()),rr=Ht[0].split(",").map(Ar=>Ar.trim().toLowerCase()),nr=[];for(let Ar=1;Ar<Ht.length;Ar++){const hn=Ht[Ar].split(",").map(an=>an.trim()),Er={};rr.forEach((an,Xt)=>{Er[an]=hn[Xt]||""}),!(!Er.email||!Er.email.includes("@")||!Er.first_name||!Er.last_name)&&Er.email.toLowerCase().endsWith("@lpubatangas.edu.ph")&&(Er.role=Er.role.toLowerCase(),["student","instructor","department_head","secretary","admin"].includes(Er.role)&&nr.push(Er))}ke({current:0,total:nr.length,status:"Importing users..."});const gr=nr.map(Ar=>{let hn=1;if(Ar.year_level&&Ar.year_level.toString().trim()!==""){const Er=parseInt(Ar.year_level);!isNaN(Er)&&Er>=1&&Er<=4&&(hn=Er)}return console.log(`User ${Ar.email}: year_level from CSV = '${Ar.year_level}', parsed = ${hn}`),{email:Ar.email,first_name:Ar.first_name,last_name:Ar.last_name,role:Ar.role.toLowerCase(),password:Ar.password||"changeme123",department:Ar.department||null,program:Ar.program||null,program_id:null,year_level:hn,school_id:Ar.school_id||null}}),qr=await Ze.post("/admin/users/bulk-import",gr),$r=qr.data?.success||0,zr=qr.data?.errors||[],yn=`Bulk import complete!

 Successfully imported: ${$r} users
 Failed: ${zr.length} users`+(zr.length>0?`

Failed users:
${zr.slice(0,5).map(Ar=>`Row ${Ar.row}: ${Ar.email} - ${Ar.error}`).join(`
`)}`:"");mr(yn,zr.length>0?"Partial Success":"Success",zr.length>0?"warning":"success"),Br(),fe(!1),jt(null),Ft([]),Pt([]),ke({current:0,total:0,status:""})}catch(ct){mr(`Bulk import failed: ${ct.message}`,"Error","error")}finally{je(!1)}};Tt.length>0?Un(`Found ${Tt.length} error(s) in the CSV file.

Do you want to skip invalid rows and import only valid ones?`,Ie,"Validation Errors","Import Valid Rows"):Ie()},ds=()=>{const Ie=`email,first_name,last_name,school_id,role,program,year_level
iturraldejose@lpubatangas.edu.ph,Jose,Iturralde,23130778,student,BSIT,1
juandelacruz@lpubatangas.edu.ph,Juan,Dela Cruz,23140001,student,BSCS,2
mariasantos@lpubatangas.edu.ph,Maria,Santos,23150001,student,BAPSY,3
secretary@lpubatangas.edu.ph,Ana,Reyes,20100001,secretary,,
depthead@lpubatangas.edu.ph,Pedro,Garcia,19050001,department_head,,

# IMPORTANT: school_id is REQUIRED for all users
# For students: Password will be auto-generated as lpub@{school_id}
# Example: school_id "23130778"  password "lpub@23130778"
# Students must change this password on first login
`,ct=new Blob([Ie],{type:"text/csv"}),Ht=URL.createObjectURL(ct),rr=document.createElement("a");rr.href=Ht,rr.download="user_import_template.csv",rr.click(),URL.revokeObjectURL(Ht)},An=Ie=>{C(Ie),F("changeme123"),N(!0)},Ur=async()=>{const Ie=`${k.first_name||""} ${k.last_name||""}`.trim();if(T.length<8){mr("Password must be at least 8 characters long","Warning","warning");return}try{je(!0);const ct=await rt.resetPassword(k.id,T);mr(ct?.data?.message||`Password for ${Ie} has been reset successfully!`,"Success","success"),N(!1),F(""),C(null),Br()}catch(ct){console.error("Error resetting password:",ct);const Ht=ct.response?.data?.detail||ct.message||"Unknown error occurred";mr(`Failed to reset password: ${Ht}`,"Error","error")}finally{je(!1)}},oa=async()=>{if(!G||G.length<8){mr("Password must be at least 8 characters long","Warning","warning");return}try{je(!0),q(!1);const Ie=Je;let ct=0,Ht=0;const rr=[];for(const gr of Ie)try{await rt.resetPassword(gr,G),ct++}catch(qr){Ht++,rr.push(`User ID ${gr}: ${qr.message}`),console.error(`Failed to reset password for user ${gr}:`,qr)}let nr=`Password reset completed: ${ct} successful`;Ht>0&&(nr+=`, ${Ht} failed`,rr.length>0&&(console.error("Bulk password reset errors:",rr),nr+=`

Errors:
${rr.slice(0,5).join(`
`)}`,rr.length>5&&(nr+=`
...and ${rr.length-5} more`))),mr(nr,ct>0&&Ht===0?"Success":"Completed with Errors",ct>0&&Ht===0?"success":"warning"),nt([]),R(""),Br()}catch(Ie){mr(Ie.message,"Error","error")}finally{je(!1)}},pa=async()=>{if(!He.school_id||He.school_id.trim()===""){mr("Please enter a student number first","Warning","warning");return}fr(!0),dr(null);try{const Ie=await Ze.get(`/admin/enrollment-list/student/${He.school_id}`),ct=Ie?.data||Ie;if(ct){dt(ct),Zr(!0);const Ht=ct.first_name||"",rr=ct.middle_name||"",nr=ct.last_name||"",gr=`${Ht} ${rr?rr+" ":""}${nr}`.trim();tt(qr=>({...qr,name:gr||qr.name,email:ct.email||qr.email,program:ct.program_code||qr.program,yearLevel:qr.yearLevel})),mr(` Student found in enrollment list!

Name: ${gr||"N/A"}
Program: ${ct.program_code||"N/A"} - ${ct.program_name||"N/A"}

Form has been auto-filled with enrollment data.`,"Success","success")}}catch(Ie){Ie.response?.status===404?(Zr(!0),dt(null),mr(` Student number "${He.school_id}" not found in enrollment list.

Please verify the student number or contact the registrar to add this student to the enrollment list first.`,"Warning","warning")):(console.error("Error looking up enrollment:",Ie),mr("Failed to lookup enrollment information. Please try again.","Error","error"))}finally{fr(!1)}},la=async Ie=>{if(Ie.preventDefault(),He.role==="student"&&Me&&Me.program_code!==He.program){Un(` PROGRAM MISMATCH WARNING

Enrollment List: ${Me.program_code} - ${Me.program_name}
Selected Program: ${He.program}

Student "${He.name}" is enrolled in ${Me.program_code}, not ${He.program}.

Do you want to correct the program to match the enrollment list?`,()=>{tt(ct=>({...ct,program:Me.program_code}))},"Program Mismatch Warning","Correct Program","Cancel");return}try{if(je(!0),!He.email.toLowerCase().endsWith("@lpubatangas.edu.ph")){mr("Email must be from @lpubatangas.edu.ph domain","Validation Error","error");return}if(He.role!=="student"&&He.password){const $r=He.password;if($r.length<8){mr("Password must be at least 8 characters long","Validation Error","error");return}if(!/[A-Z]/.test($r)){mr("Password must contain at least one uppercase letter","Validation Error","error");return}if(!/[a-z]/.test($r)){mr("Password must contain at least one lowercase letter","Validation Error","error");return}if(!/[0-9]/.test($r)){mr("Password must contain at least one number","Validation Error","error");return}if(!/[!@#$%^&*(),.?":{}|<>]/.test($r)){mr('Password must contain at least one special character (!@#$%^&*(),.?":{}|<>)',"Validation Error","error");return}}const ct=He.name.trim().split(" "),Ht=ct[0]||"",rr=ct.slice(1).join(" ")||ct[0]||"User";let nr=null;He.role==="student"&&He.program&&(nr=(await rt.getPrograms())?.data?.find(yn=>yn.code===He.program)?.id);const gr={email:He.email,first_name:Ht,last_name:rr,school_id:He.school_id||null,role:He.role,password:He.role==="student"?"temp":He.password||"changeme123",department:He.department||null,program_id:nr,year_level:He.yearLevel||1},qr=await rt.createUser(gr);Br(),He.role==="student"&&qr.generated_password?mr(` Student created successfully!

Temporary Password: ${qr.generated_password}

 IMPORTANT: Share this password with the student. They will be required to change it on first login.`,"Success","success"):mr(`User ${He.name} created successfully!`,"Success","success"),me(!1),tt({name:"",email:"",password:"",role:"student",program:"BSIT",yearLevel:1,department:"",assignedPrograms:[],status:"Active"}),dt(null),dr(null),Zr(!1)}catch(ct){if(console.error("Error creating user:",ct),ct.response?.data?.error==="PROGRAM_MISMATCH"){const Ht=ct.response.data,rr=Ht.enrolled_program,nr=Ht.attempted_program;mr(` PROGRAM MISMATCH ERROR

${Ht.message}

Enrolled in: ${rr.code} - ${rr.name}
Attempted: ${nr.code} - ${nr.name}

 Please use "${rr.code}" as the program for this student.`,"Error","error")}else if(ct.response?.data?.error==="STUDENT_NOT_IN_ENROLLMENT_LIST")mr(` ENROLLMENT VALIDATION ERROR

${ct.response.data.message}

 This student must be added to the enrollment list by the registrar before creating their account.`,"Error","error");else{const Ht=ct.response?.data?.detail||ct.message||"Unknown error",rr=ct.response?.data?.errors||[],nr=rr.length>0?`${Ht}
${rr.map(gr=>`- ${gr.msg||gr}`).join(`
`)}`:Ht;mr(`Failed to create user: ${nr}`,"Error","error")}}finally{je(!1)}},Za=async Ie=>{Ie.preventDefault();try{je(!0);const ct=He.name.trim().split(" "),Ht=ct[0]||"",rr=ct.slice(1).join(" ")||ct[0]||"User",nr={email:He.email,first_name:Ht,last_name:rr,role:He.role,department:He.department||null,is_active:He.status==="Active"};await rt.updateUser(V.id,nr),Br(),mr(`User ${He.name} updated successfully!`,"Success","success"),se(!1)}catch(ct){console.error("Error updating user:",ct);const Ht=ct.response?.data?.detail||ct.message||"Unknown error",rr=ct.response?.data?.errors||[],nr=rr.length>0?`${Ht}
${rr.map(gr=>`- ${gr.msg||gr}`).join(`
`)}`:Ht;mr(`Failed to update user: ${nr}`,"Error","error")}finally{je(!1)}},ga=async Ie=>{if(Je.length===0){mr("Please select users first","Warning","warning");return}Un(`${Ie} ${Je.length} selected users?`,async()=>{try{je(!0);const Ht=D.filter($r=>Je.includes($r.email)).map($r=>$r.id);console.log(`[BULK ACTION] ${Ie} for users:`,Ht);let rr=0,nr=0;const gr=[];if(Ie==="Activate")for(const $r of Ht)try{await rt.activateUser($r),rr++}catch(zr){nr++,gr.push(`User ID ${$r}: ${zr.message}`),console.error(`Failed to activate user ${$r}:`,zr)}else if(Ie==="Deactivate")for(const $r of Ht)try{await rt.deactivateUser($r),rr++}catch(zr){nr++,gr.push(`User ID ${$r}: ${zr.message}`),console.error(`Failed to deactivate user ${$r}:`,zr)}else if(Ie==="Delete")for(const $r of Ht)try{await rt.deleteUser($r),rr++}catch(zr){nr++,gr.push(`User ID ${$r}: ${zr.message}`),console.error(`Failed to delete user ${$r}:`,zr)}else if(Ie==="Reset Password"){q(!0),je(!1);return}let qr=`${Ie} completed: ${rr} successful`;nr>0&&(qr+=`, ${nr} failed`,gr.length>0&&(console.error("Bulk action errors:",gr),qr+=`

Errors:
${gr.slice(0,5).join(`
`)}`,gr.length>5&&(qr+=`
... and ${gr.length-5} more`))),mr(qr,gr.length>0?"Partial Success":"Success",gr.length>0?"warning":"success"),nt([]),console.log("[BULK ACTION] Refreshing user list..."),await Br()}catch(ct){console.error("Bulk action error:",ct),mr(`Failed to ${Ie.toLowerCase()}: ${ct.response?.data?.detail||ct.message}`,"Error","error")}finally{je(!1)}},`Confirm ${Ie}`,Ie)},mi=Ie=>{nt(ct=>ct.includes(Ie)?ct.filter(Ht=>Ht!==Ie):[...ct,Ie])},pi=()=>{Je.length===qn.length?nt([]):nt(qn.map(Ie=>Ie.email))};return!t||!Qi(t)?null:Bn?a.jsx(ko,{message:"Loading users..."}):Ut?a.jsx(ru,{error:Ut,onRetry:Br}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl",children:"User Management"}),a.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Manage all system users and permissions"})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>fe(!0),className:"bg-white hover:bg-white/90 text-[#7a0000] font-semibold px-6 py-3 rounded-button shadow-card hover:shadow-card-hover transition-all duration-250 flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsx("span",{children:"Bulk Import"})]}),a.jsxs("button",{onClick:Fr,className:"bg-[#ffd700] hover:bg-[#ffed4e] text-[#7a0000] font-semibold px-6 py-3 rounded-xl shadow-lg transition-all flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:"Add User"})]})]})]})})}),a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[a.jsx("div",{className:"bg-white rounded-card shadow-card mb-6",children:a.jsxs("div",{className:"flex border-b",children:[a.jsx("button",{onClick:()=>n("users"),className:`px-6 py-4 font-semibold transition-colors ${r==="users"?"border-b-2 border-red-600 text-red-600":"text-gray-600 hover:text-gray-800"}`,children:" Users"}),a.jsx("button",{onClick:()=>n("sections"),className:`px-6 py-4 font-semibold transition-colors ${r==="sections"?"border-b-2 border-red-600 text-red-600":"text-gray-600 hover:text-gray-800"}`,children:" Program Sections"})]})}),r==="sections"?a.jsx(OE,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Users"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:le.total_users})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-200 group",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Students"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:le.students})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-200",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-200 group",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Dept Heads"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:le.dept_heads})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-200",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-200 group",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Staff Members"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:le.secretaries+le.admins})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-200",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]})})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 overflow-visible relative z-30",children:a.jsxs("div",{className:"grid md:grid-cols-5 gap-4 overflow-visible",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Search"}),a.jsx("input",{type:"text",placeholder:"Search by name or email...",value:te,onChange:Ie=>ue(Ie.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all"})]}),a.jsx(ht,{label:" Role",options:[{value:"all",label:"All Roles"},{value:"student",label:"Student"},{value:"instructor",label:"Instructor"},{value:"department_head",label:"Department Head"},{value:"secretary",label:"Secretary"},{value:"admin",label:"Administrator"}],value:ae,onChange:Ie=>U(Ie),placeholder:"All Roles"}),a.jsx(ht,{label:" Program",options:[{value:"all",label:ae==="student"?"All Programs":"Select Student Role First"},...ae==="student"?W.map(Ie=>({value:Ie,label:Ie})):[]],value:ne,onChange:Ie=>he(Ie),disabled:ae!=="student",placeholder:ae==="student"?"All Programs":"Select Student Role First"}),a.jsx(ht,{label:" Status",options:[{value:"all",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],value:B,onChange:Ie=>Y(Ie),placeholder:"All Status"}),a.jsx(ht,{label:" Year Level",options:[{value:"all",label:ae==="student"?"All Levels":"Select Student Role First"},...ae==="student"?[{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"}]:[]],value:Q,onChange:Ie=>pe(Ie),disabled:ae!=="student",placeholder:ae==="student"?"All Levels":"Select Student Role First"})]})}),Je.length>0&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6 flex items-center justify-between",children:[a.jsxs("p",{className:"text-blue-900 font-semibold",children:[Je.length," user(s) selected"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>ga("Activate"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-all",children:"Activate"}),a.jsx("button",{onClick:()=>ga("Deactivate"),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-all",children:"Deactivate"}),a.jsx("button",{onClick:()=>ga("Reset Password"),className:"px-4 py-2 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white rounded-lg transition-all",children:"Reset Password"}),a.jsx("button",{onClick:()=>ga("Delete"),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all",children:"Delete"})]})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden w-fit mx-auto",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table-auto",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"checkbox",checked:Je.length===qn.length&&qn.length>0,onChange:pi,className:"w-4 h-4 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"})}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"School ID"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Program"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:qn.map((Ie,ct)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("input",{type:"checkbox",checked:Je.includes(Ie.email),onChange:()=>mi(Ie.email),className:"w-4 h-4 text-red-600 rounded focus:ring-2 focus:ring-red-500"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold mr-3",children:(Ie.first_name?.[0]||Ie.email?.[0]||"?").toUpperCase()}),a.jsx("span",{className:"font-medium text-gray-900",children:`${Ie.first_name||""} ${Ie.last_name||""}`.trim()||Ie.email})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ie.email}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ie.school_id||"N/A"}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${Ie.role==="student"?"bg-green-100 text-green-800":Ie.role==="instructor"?"bg-indigo-100 text-indigo-800":Ie.role==="department_head"?"bg-purple-100 text-purple-800":Ie.role==="secretary"?"bg-blue-100 text-blue-800":Ie.role==="admin"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:yb(Ie.role)})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ie.program||(Ie.assignedPrograms&&Ie.assignedPrograms.length>0?Ie.assignedPrograms.join(", "):"N/A")}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${Ie.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Ie.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>xn(Ie),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-all",title:"Edit User",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:()=>An(Ie),className:"p-2 bg-orange-100 hover:bg-orange-200 text-orange-600 rounded-lg transition-all",title:"Reset Password",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),a.jsx("button",{onClick:()=>Wr(Ie,!1),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-all",title:"Delete User",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),a.jsx("button",{onClick:()=>Wr(Ie,!0),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all",title:"Force Delete (Remove All Data)",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})})]},Ie.email||ct))})]})}),a.jsx(tc,{currentPage:be,totalPages:gt,totalItems:mt,onPageChange:Oe,itemLabel:"users",itemsPerPage:Fe,onItemsPerPageChange:Ie=>{st(Ie),Oe(1)},showItemsPerPage:!0})]}),ce&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full max-h-[90vh] flex flex-col shadow-2xl my-4",children:[a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] p-5 rounded-t-2xl flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Add New User"]}),a.jsx("button",{onClick:()=>me(!1),className:"w-8 h-8 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:la,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",required:!0,value:He.name,onChange:Ie=>tt({...He,name:Ie.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all",placeholder:"Enter full name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",required:!0,value:He.email,onChange:Ie=>tt({...He,email:Ie.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all",placeholder:"user@lpubatangas.edu.ph"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"School ID Number *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",required:!0,value:He.school_id,onChange:Ie=>{tt({...He,school_id:Ie.target.value}),Zr(!1),dt(null)},className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all",placeholder:"e.g., 2022-00001"}),He.role==="student"&&a.jsx("button",{type:"button",onClick:pa,disabled:Et||!He.school_id,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:Et?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Looking up..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Lookup"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:He.role==="student"?a.jsxs(a.Fragment,{children:['Click "Lookup" to auto-fill from enrollment list. Password: ',a.jsxs("span",{className:"font-mono font-semibold",children:["lpub@",He.school_id||"studentid"]})]}):a.jsxs(a.Fragment,{children:["This will be used to generate the temporary password: ",a.jsxs("span",{className:"font-mono font-semibold",children:["lpub@",He.school_id||"schoolid"]})]})}),Me&&He.role==="student"&&a.jsx("div",{className:"mt-2 bg-green-50 border border-green-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"flex-1 text-sm",children:[a.jsx("p",{className:"font-semibold text-green-800 mb-1",children:" Found in Enrollment List"}),a.jsxs("div",{className:"text-green-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",Me.first_name," ",Me.middle_name||""," ",Me.last_name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Program:"})," ",Me.program_code," - ",Me.program_name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Year Level:"})," ",Me.year_level]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"College:"})," ",Me.college_code," - ",Me.college_name]}),Me.email&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",Me.email]})]}),a.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Program is locked to enrollment record. Cannot be changed."})]})]})}),kn&&!Me&&He.role==="student"&&a.jsx("div",{className:"mt-2 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsxs("div",{className:"text-sm text-yellow-800",children:[a.jsx("p",{className:"font-semibold mb-1",children:" Not in Enrollment List"}),a.jsx("p",{children:"This student must be added to the enrollment list by the registrar before account creation."})]})]})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",He.role!=="student"&&He.role!=="secretary"&&He.role!=="department_head"&&"*"]}),["student","secretary","department_head"].includes(He.role)?a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("p",{className:"font-semibold mb-1",children:" Auto-Generated Temporary Password"}),a.jsxs("p",{children:["Password will be: ",a.jsxs("span",{className:"font-mono font-bold bg-blue-100 px-2 py-1 rounded",children:["lpub@",He.school_id||"schoolid"]})]}),a.jsxs("p",{className:"mt-2 text-xs text-red-600",children:[" User will receive a welcome email",a.jsx("br",{})," Required to change password on first login"]})]})]})}):a.jsx("input",{type:"password",required:!0,value:He.password||"",onChange:Ie=>tt({...He,password:Ie.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"Enter password (min 8 characters)",minLength:8})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role *"}),a.jsx(ht,{options:[{value:"student",label:"Student"},{value:"instructor",label:"Instructor"},{value:"department_head",label:"Department Head"},{value:"secretary",label:"Secretary"},{value:"admin",label:"Administrator"}],value:He.role,onChange:Ie=>tt({...He,role:Ie})})]}),He.role==="student"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Program * ",Me&&a.jsx("span",{className:"text-green-600 text-xs ml-2",children:" Locked to enrollment"})]}),a.jsx(ht,{options:W.map(Ie=>({value:Ie,label:Ie})),value:He.program,onChange:Ie=>tt({...He,program:Ie}),disabled:Me!==null,helpText:Me?" Program is automatically set from enrollment list and cannot be changed":null})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year Level *"}),a.jsx(ht,{options:[{value:1,label:"1st Year"},{value:2,label:"2nd Year"},{value:3,label:"3rd Year"},{value:4,label:"4th Year"}],value:He.yearLevel,onChange:Ie=>tt({...He,yearLevel:parseInt(Ie)})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),a.jsx(ht,{options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],value:He.status,onChange:Ie=>tt({...He,status:Ie})})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>me(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:ze,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:ze?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Creating..."})]}):a.jsx("span",{children:"Create User"})})]})]})]})}),_e&&V&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full my-4 max-h-[90vh] flex flex-col shadow-2xl",children:[a.jsxs("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] p-5 rounded-t-2xl flex-shrink-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit User"]}),a.jsx("button",{onClick:()=>se(!1),className:"w-8 h-8 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:`${V.first_name||""} ${V.last_name||""}`.trim()||V.email})]}),a.jsxs("form",{onSubmit:Za,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",required:!0,value:He.name,onChange:Ie=>tt({...He,name:Ie.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:He.email,disabled:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl bg-gray-50 cursor-not-allowed text-gray-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role *"}),a.jsx(ht,{options:[{value:"student",label:"Student"},{value:"instructor",label:"Instructor"},{value:"department_head",label:"Department Head"},{value:"secretary",label:"Secretary"},{value:"admin",label:"Administrator"}],value:He.role,onChange:Ie=>tt({...He,role:Ie})})]}),He.role==="student"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Program *"}),a.jsx(ht,{options:W.map(Ie=>({value:Ie,label:Ie})),value:He.program,onChange:Ie=>tt({...He,program:Ie})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year Level *"}),a.jsx(ht,{options:[{value:1,label:"1st Year"},{value:2,label:"2nd Year"},{value:3,label:"3rd Year"},{value:4,label:"4th Year"}],value:He.yearLevel,onChange:Ie=>tt({...He,yearLevel:parseInt(Ie)})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"Active",checked:He.status==="Active",onChange:Ie=>tt({...He,status:Ie.target.value}),className:"w-4 h-4 text-green-600 focus:ring-2 focus:ring-green-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:" Active"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"Inactive",checked:He.status==="Inactive",onChange:Ie=>tt({...He,status:Ie.target.value}),className:"w-4 h-4 text-gray-600 focus:ring-2 focus:ring-gray-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:" Inactive"})]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Activity Stats:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Joined: Aug 15, 2025"}),a.jsx("li",{children:" Evaluations: 5/10 completed"}),a.jsx("li",{children:" Last Login: Oct 20, 2025"})]})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:" Tip:"})," Use the Reset Password action button in the user table to send a password reset email."]})}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>se(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:ze,className:"flex-1 px-6 py-3 bg-[#7a0000] hover:bg-[#9a1000] text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:ze?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Saving..."})]}):a.jsx("span",{children:"Save Changes"})})]})]})]})}),ye&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col shadow-2xl my-4",children:[a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] p-5 rounded-t-2xl flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Bulk Import Users"]}),a.jsx("button",{onClick:()=>fe(!1),className:"w-8 h-8 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-4",children:[a.jsxs("div",{className:"bg-red-50 border-2 border-red-100 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#7a0000] rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"CSV Template"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Step 1: Download the template first"})]})]}),a.jsxs("button",{onClick:ds,className:"w-full px-4 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white rounded-xl text-sm font-semibold transition-all flex items-center justify-center gap-2 mb-3",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{children:"Download Template"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1.5",children:"Required Columns"}),a.jsxs("ul",{className:"space-y-0.5 text-xs text-gray-700",children:[a.jsx("li",{children:" email"}),a.jsx("li",{children:" first_name"}),a.jsx("li",{children:" last_name"}),a.jsxs("li",{children:[" school_id ",a.jsx("span",{className:"text-red-600 font-semibold",children:"(REQUIRED)"})]}),a.jsx("li",{children:" role"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1.5",children:"Optional Columns"}),a.jsxs("ul",{className:"space-y-0.5 text-xs text-gray-700 mb-2",children:[a.jsx("li",{children:" program"}),a.jsx("li",{children:" year_level"})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded p-2",children:[a.jsx("p",{className:"text-xs font-semibold text-orange-800",children:" Password Generation"}),a.jsxs("p",{className:"text-xs text-orange-700",children:["Password: lpub@","{school_id}"]})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-bold",children:"2"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Upload Your CSV File"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Select the filled CSV file to import"})]})]}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${De?"border-green-400 bg-green-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx("input",{type:"file",accept:".csv",onChange:Hs,className:"hidden",id:"bulk-import-file"}),a.jsx("label",{htmlFor:"bulk-import-file",className:"cursor-pointer block",children:De?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-12 h-12 text-green-600 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"text-sm font-bold text-green-900 mb-1",children:De.name}),a.jsx("p",{className:"text-xs text-green-700",children:"File uploaded successfully!"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to change file"})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-gray-500",children:"CSV file only"})]})})]})]}),Tt.length>0&&a.jsx("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 border-2 border-red-300 rounded-xl p-5 shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-base font-bold text-red-900 mb-3",children:[" Found ",Tt.length," Validation Error(s)"]}),a.jsx("div",{className:"bg-white border border-red-200 rounded-lg p-4 max-h-48 overflow-y-auto",children:a.jsxs("div",{className:"space-y-2",children:[Tt.slice(0,10).map((Ie,ct)=>a.jsxs("div",{className:"flex items-start space-x-2 pb-2 border-b border-red-100 last:border-0",children:[a.jsx("span",{className:"text-red-600 font-bold text-xs mt-0.5",children:""}),a.jsx("p",{className:"text-sm text-red-800 flex-1",children:typeof Ie=="string"?Ie:a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"font-bold",children:["Row ",Ie.row,":"]})," ",(Ie.errors||[]).join(", ")]})})]},ct)),Tt.length>10&&a.jsxs("p",{className:"text-sm text-red-700 font-bold bg-red-100 px-3 py-2 rounded-lg text-center",children:["+ ",Tt.length-10," more errors"]})]})})]})]})}),bt.length>0&&a.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-lg flex items-center justify-center",children:a.jsxs("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Data Preview"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Showing first 5 rows"})]})]}),a.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold",children:[bt.length," rows"]})]}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden shadow-sm",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Row"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"First Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Last Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"School ID"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Program"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Year"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:bt.map((Ie,ct)=>a.jsxs("tr",{className:`${Ie.hasErrors?"bg-red-50":"hover:bg-gray-50"} transition-colors`,children:[a.jsx("td",{className:"px-4 py-3 text-xs text-gray-600 font-semibold",children:Ie.rowNumber}),a.jsx("td",{className:"px-4 py-3 text-xs text-gray-900 font-medium",children:Ie.email}),a.jsx("td",{className:"px-4 py-3 text-xs text-gray-900",children:Ie.first_name}),a.jsx("td",{className:"px-4 py-3 text-xs text-gray-900",children:Ie.last_name}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"inline-flex px-2 py-1 rounded-md text-xs font-semibold bg-gray-100 text-gray-800",children:Ie.role})}),a.jsx("td",{className:"px-4 py-3 text-xs text-gray-900 font-mono font-bold",children:Ie.school_id||a.jsx("span",{className:"text-gray-400",children:"N/A"})}),a.jsx("td",{className:"px-4 py-3 text-xs text-gray-600",children:Ie.program||a.jsx("span",{className:"text-gray-400",children:"N/A"})}),a.jsx("td",{className:"px-4 py-3 text-center text-xs font-bold text-gray-900",children:Ie.year_level||a.jsx("span",{className:"text-gray-400",children:"1"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:Ie.hasErrors?a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-red-100 text-red-800",children:[a.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Invalid"]}):a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-800",children:[a.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Valid"]})})]},ct))})]})})})]}),sr.total>0&&a.jsxs("div",{className:"bg-red-50 border border-[#7a0000]/20 rounded-xl p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-[#7a0000] mb-2",children:sr.status}),a.jsx("div",{className:"w-full bg-[#7a0000]/20 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] h-2 rounded-full transition-all duration-300",style:{width:`${sr.current/sr.total*100}%`}})}),a.jsxs("p",{className:"text-xs text-[#7a0000] mt-1",children:[sr.current," / ",sr.total]})]})]}),a.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex-shrink-0 rounded-b-2xl",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>fe(!1),disabled:ze,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 bg-white rounded-lg hover:bg-gray-50 text-sm font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:Fa,disabled:ze||!De||bt.length===0,className:"flex-1 px-4 py-2.5 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg text-sm font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ze?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Importing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsx("span",{children:"Import Users"})]})})]})})]})})]})]}),a.jsx(FX,{isOpen:s.isOpen,onClose:()=>i({isOpen:!1,user:null}),onConfirm:Os,userName:s.user?`${s.user.first_name||""} ${s.user.last_name||""}`.trim():""}),a.jsx($X,{isOpen:o.isOpen,onClose:()=>l({isOpen:!1,userName:"",deleteType:"",reason:""}),userName:o.userName,deleteType:o.deleteType,reason:o.reason}),a.jsx(ec,{isOpen:u.isOpen,onClose:()=>f({isOpen:!1,message:""}),title:"Error",message:u.message,variant:"danger"}),a.jsx(ec,{isOpen:h,onClose:()=>m(!1),title:v.title,message:v.message,type:v.type}),a.jsx(E0,{isOpen:w,onClose:()=>x(!1),title:y.title,message:y.message,onConfirm:y.onConfirm,confirmText:y.confirmText,cancelText:y.cancelText}),A&&k&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full",children:[a.jsxs("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white p-5 rounded-t-2xl",children:[a.jsx("h3",{className:"text-lg font-bold",children:"Reset Password"}),a.jsxs("p",{className:"text-white/80 text-sm mt-1",children:[k.first_name," ",k.last_name]})]}),a.jsx("div",{className:"p-5 space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password (min. 8 characters)"}),a.jsx("input",{type:"text",value:T,onChange:Ie=>F(Ie.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all",placeholder:"Enter new password",autoFocus:!0})]})}),a.jsxs("div",{className:"flex gap-3 p-5 pt-0",children:[a.jsx("button",{onClick:()=>{N(!1),F(""),C(null)},className:"flex-1 px-4 py-3 border-2 border-gray-200 hover:bg-gray-50 text-gray-700 rounded-xl font-semibold transition-all",disabled:ze,children:"Cancel"}),a.jsx("button",{onClick:Ur,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white rounded-xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:ze||!T||T.length<8,children:ze?"Resetting...":"Reset Password"})]})]})}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full",children:[a.jsxs("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white p-5 rounded-t-2xl",children:[a.jsx("h3",{className:"text-lg font-bold",children:"Bulk Password Reset"}),a.jsxs("p",{className:"text-white/80 text-sm mt-1",children:[Je.length," users selected"]})]}),a.jsx("div",{className:"p-5 space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password (min. 8 characters)"}),a.jsx("input",{type:"text",value:G,onChange:Ie=>R(Ie.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all",placeholder:"Enter new password",autoFocus:!0}),G&&G.length<8&&a.jsx("p",{className:"mt-2 text-xs text-red-600",children:"Password must be at least 8 characters long"})]})}),a.jsxs("div",{className:"flex gap-3 p-5 pt-0",children:[a.jsx("button",{onClick:()=>{q(!1),R("")},className:"flex-1 px-4 py-3 border-2 border-gray-200 hover:bg-gray-50 text-gray-700 rounded-xl font-semibold transition-all",disabled:ze,children:"Cancel"}),a.jsx("button",{onClick:oa,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white rounded-xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:ze||!G||G.length<8,children:ze?"Resetting...":"Reset All"})]})]})})]})}function zX(){const e=Qn(),{user:t}=ma(),r=be=>be==="Open"||be==="active",n=be=>be==="Closed"||be==="closed",s=be=>be==="Archived"||be==="archived",[i,o]=L.useState(null),[l,u]=L.useState([]),[f,h]=L.useState([]),[m,v]=L.useState(!1),[p,w]=L.useState(""),[x,y]=L.useState(!1),[j,A]=L.useState(!1),[N,k]=L.useState({title:"",message:"",type:"info"}),[C,T]=L.useState(!1),[F,M]=L.useState({title:"",message:"",onConfirm:()=>{},confirmText:"Confirm",cancelText:"Cancel"}),[q,G]=L.useState(!1),[R,D]=L.useState(!1),[z,W]=L.useState(null),[Z,le]=L.useState({semester:"1st Semester",academicYear:"2025-2026",startDate:"",endDate:"",notifyUsers:!0}),[ge,te]=L.useState(!1),[ue,H]=L.useState([]),[ae,U]=L.useState([]),[B,Y]=L.useState({programSectionId:""}),[ne,he]=L.useState(!1),[Q,pe]=L.useState(!1),{data:ce,loading:me,error:_e,retry:se}=tu(()=>rt.getPeriods(),[t?.id,t?.role]);L.useEffect(()=>{if(ce?.data){const be=ce.data,Oe=be.find(mt=>mt.status==="Open"||r(mt.status))||null,Fe=be.filter(mt=>n(mt.status)&&!s(mt.status)),st=be.filter(mt=>s(mt.status));o(Oe),u(Fe),h(st)}},[ce]),L.useEffect(()=>{ge&&i?.id&&ye()},[ge,i?.id]);const ye=async()=>{try{pe(!0);const be=await rt.getProgramSections({is_active:!0});U(be?.data||[])}catch(be){console.error("Failed to load program sections:",be)}finally{pe(!1)}};L.useEffect(()=>{i?.id&&fe()},[i?.id]);const fe=async()=>{if(i?.id)try{he(!0);const be=await rt.getPeriodEnrolledProgramSections(i.id);H(be?.data||[])}catch(be){console.error("Failed to load enrolled program sections:",be)}finally{he(!1)}},V=(be,Oe="Notification",Fe="info")=>{k({title:Oe,message:be,type:Fe}),A(!0)},Re=(be,Oe,Fe="Confirm Action",st="Confirm",mt="Cancel")=>{M({title:Fe,message:be,onConfirm:Oe,confirmText:st,cancelText:mt}),T(!0)};L.useEffect(()=>{t&&!Qi(t)&&e("/dashboard")},[t?.role,t?.id,e]);const Je=async()=>{i&&Re(`Close "${i.name}"?

This will prevent any further evaluations from being submitted. This action cannot be undone.`,async()=>{try{v(!0),await rt.updatePeriodStatus(i.id,"closed");const Oe=(await rt.getPeriods())?.data||[],Fe=Oe.find(at=>r(at.status))||null,st=Oe.filter(at=>n(at.status)&&!s(at.status)),mt=Oe.filter(at=>s(at.status));o(Fe),u(st),h(mt),V("Evaluation period closed successfully!","Success","success")}catch(be){V(`Failed to close period: ${be.message}`,"Error","error")}finally{v(!1)}},"Close Period","Close Period","Cancel")},nt=async()=>{i&&Re(`Reopen "${i.name}"?

Students will be able to submit evaluations again.`,async()=>{try{v(!0),await rt.updatePeriodStatus(i.id,"active");const Oe=(await rt.getPeriods())?.data||[],Fe=Oe.find(at=>r(at.status))||null,st=Oe.filter(at=>n(at.status)&&!s(at.status)),mt=Oe.filter(at=>s(at.status));o(Fe),u(st),h(mt),V("Evaluation period reopened successfully!","Success","success")}catch(be){V(`Failed to reopen period: ${be.message}`,"Error","error")}finally{v(!1)}},"Reopen Period","Reopen Period","Cancel")},ze=async be=>{be.preventDefault();const Oe=z||i;if(!Oe)return;const Fe=new Date(Z.endDate),st=new Date(Oe.endDate);if(Fe<=st){V("New end date must be after the current end date.","Invalid Date","warning");return}const mt=n(Oe.status)?`Extend and Reopen "${Oe.name}"?

This will:
 Extend the period to ${Z.endDate}
 Reopen the period for new submissions
 Send notifications to all enrolled students`:`Extend "${Oe.name}" to ${Z.endDate}?

This will send notifications to all enrolled students.`;Re(mt,async()=>{await je(Oe)},"Extend Period","Extend Period","Cancel")},je=async be=>{try{v(!0),await rt.updatePeriod(be.id,{endDate:Z.endDate}),n(be.status)&&await rt.updatePeriodStatus(be.id,"active");const Fe=(await rt.getPeriods())?.data||[],st=Fe.find(gt=>r(gt.status))||null,mt=Fe.filter(gt=>n(gt.status)&&!s(gt.status)),at=Fe.filter(gt=>s(gt.status));o(st),u(mt),h(at),V(`Period extended successfully to ${Z.endDate}${n(be.status)?" and reopened":""}.`,"Success","success"),D(!1),W(null)}catch(Oe){V(Oe.message||"Failed to extend period","Error","error")}finally{v(!1)}},De=be=>{W(be);const Oe=new Date(be.endDate),Fe=new Date(Oe);Fe.setDate(Fe.getDate()+7),le(st=>({...st,endDate:Fe.toISOString().split("T")[0]})),D(!0)},jt=async be=>{if(be.preventDefault(),i&&r(i.status)){V("Please close the current period before creating a new one.","Cannot Create Period","warning");return}const Oe=new Date(Z.startDate),Fe=new Date(Z.endDate);if([...i?[i]:[],...l].some(gt=>{const vt=new Date(gt.startDate),He=new Date(gt.endDate);return Oe>=vt&&Oe<=He||Fe>=vt&&Fe<=He||Oe<=vt&&Fe>=He})){V("The selected dates overlap with an existing evaluation period. Please choose different dates that do not conflict with any active or past periods.","Date Overlap Detected","warning");return}const at=`${Z.semester} ${Z.academicYear}`;try{v(!0),await rt.createPeriod({...Z,name:at});const vt=(await rt.getPeriods())?.data||[],He=vt.find(dt=>r(dt.status))||null,tt=vt.filter(dt=>n(dt.status)&&!s(dt.status)),Me=vt.filter(dt=>s(dt.status));o(He),u(tt),h(Me),V(`New evaluation period "${at}" created successfully!`,"Success","success"),G(!1)}catch(gt){V(`Failed to create period: ${gt.message}`,"Error","error")}finally{v(!1)}},bt=async be=>{if(be.preventDefault(),!i?.id||!B.programSectionId)return;const Oe=ae.find(st=>st.id===parseInt(B.programSectionId));if(!Oe)return;const Fe=`Enable program section "${Oe.sectionName}" (${Oe.programCode}) for evaluation?

All students in this program section will be able to evaluate ALL their enrolled courses during this period.`;Re(Fe,async()=>{try{v(!0);const st=await rt.enrollProgramSectionInPeriod(i.id,parseInt(B.programSectionId)),mt=st.data||st;if(mt.success===!1){const Me=mt.message||"Enrollment failed";Me.includes("No students are assigned")?V(`${Me}

Please add students to this program section before enrolling it in an evaluation period.`,"No Students in Section","error"):Me.includes("No active students found")?V(`${Me}

Please ensure students are set to 'active' status in the system.`,"No Active Students","error"):Me.includes("No course enrollments found")?V(`${Me}

Students must be enrolled in courses (class sections) before they can be enabled for evaluation.`,"No Course Enrollments","error"):Me.includes("already enrolled")?V(Me,"Already Enrolled","warning"):Me.includes("none are 'active' status")?V(`${Me}

Please check that student enrollments are marked as 'active' in the database.`,"Enrollment Status Issue","error"):V(Me,"Enrollment Failed","warning")}else{const Me=mt.data||mt;V(`${mt.message}

 Summary:
 ${Me.students_enrolled} students enrolled
 ${Me.evaluations_created} evaluation records created
 ${Me.class_sections_affected} course section(s) affected`,"Enrollment Successful","success")}te(!1),Y({programSectionId:""});const gt=(await rt.getPeriods())?.data||[],vt=gt.find(Me=>r(Me.status))||null,He=gt.filter(Me=>n(Me.status)&&!s(Me.status)),tt=gt.filter(Me=>s(Me.status));o(vt),u(He),h(tt),await fe()}catch(st){console.error("Enrollment error:",st);const mt=st.response?.data?.detail||st.response?.data?.message||st.message||"Unknown error occurred";typeof mt=="string"?mt.includes("not found")?V(`${mt}

The selected program section or evaluation period may have been deleted.`,"Not Found","error"):mt.includes("No students")||mt.includes("No course enrollments")?V(mt,"Enrollment Error","error"):V(mt,"Failed to Enroll Program Section","error"):V("An unexpected error occurred. Please try again or contact support.","Failed to Enroll Program Section","error")}finally{v(!1)}te(!1),Y({programSectionId:""})},"Enable Program Section","Enable","Cancel")},Ft=async()=>{if(!i?.id||ae.length===0)return;const be=new Set(ue.map(st=>st.program_section_id||st.programSectionId)),Oe=ae.filter(st=>!be.has(st.id));if(Oe.length===0){V("All program sections are already enrolled in this evaluation period.","Already Enrolled","info");return}const Fe=`Enroll ALL ${Oe.length} program sections for evaluation?

This will enable evaluation for:
${Oe.slice(0,5).map(st=>` ${st.sectionName||st.section_name} (${st.programCode||st.program_code})`).join(`
`)}${Oe.length>5?`
... and ${Oe.length-5} more sections`:""}

All students in these sections will be able to evaluate their enrolled courses.`;Re(Fe,async()=>{try{v(!0);let st=0,mt=0,at=0,gt=0;const vt=[];for(const Et of Oe)try{const fr=await rt.enrollProgramSectionInPeriod(i.id,Et.id),kn=fr.data||fr;if(kn.success!==!1){at++;const Zr=kn.data||kn;st+=Zr.students_enrolled||0,mt+=Zr.evaluations_created||0}else gt++,vt.push(`${Et.sectionName||Et.section_name}: ${kn.message}`)}catch(fr){gt++;const kn=fr.response?.data?.detail||fr.response?.data?.message||fr.message||"Unknown error";vt.push(`${Et.sectionName||Et.section_name}: ${kn}`)}let He=`Bulk Enrollment Complete!

 Summary:
 ${at} sections enrolled successfully
 ${st} total students enrolled
 ${mt} evaluation records created`;gt>0&&(He+=`

 ${gt} section(s) failed:
${vt.slice(0,3).join(`
`)}${vt.length>3?`
... and ${vt.length-3} more`:""}`),V(He,gt===0?"Bulk Enrollment Successful":"Bulk Enrollment Completed with Issues",gt===0?"success":"warning");const Me=(await rt.getPeriods())?.data||[],dt=Me.find(Et=>r(Et.status))||null,er=Me.filter(Et=>n(Et.status)&&!s(Et.status)),dr=Me.filter(Et=>s(Et.status));o(dt),u(er),h(dr),await fe()}catch(st){V(st.message||"Failed to enroll all sections","Bulk Enrollment Failed","error")}finally{v(!1)}},"Enroll All Program Sections","Enroll All","Cancel")},Tt=async(be,Oe,Fe)=>{Re(`Remove "${Oe}" from this evaluation period?

This will delete all evaluation records for students in this program section.`,async()=>{try{v(!0);const st=await rt.removePeriodEnrollment(i.id,be),at=(st?.data||st)?.evaluations_deleted||0;V(`Section removed successfully!

${at} evaluation record(s) deleted.`,"Success","success");const vt=(await rt.getPeriods())?.data||[],He=vt.find(dt=>r(dt.status))||null,tt=vt.filter(dt=>n(dt.status)&&!s(dt.status)),Me=vt.filter(dt=>s(dt.status));o(He),u(tt),h(Me),await fe()}catch(st){V(st.response?.data?.detail||st.message,"Failed to Remove Enrollment","error")}finally{v(!1)}},"Remove Enrollment","Remove","Cancel")},Pt=async(be,Oe)=>{Re(`Delete "${Oe}"?

This will permanently delete this evaluation period and all associated data. This action cannot be undone!`,async()=>{try{v(!0),await rt.deletePeriod(be);const st=(await rt.getPeriods())?.data||[],mt=st.find(vt=>r(vt.status))||null,at=st.filter(vt=>n(vt.status)&&!s(vt.status)),gt=st.filter(vt=>s(vt.status));o(mt),u(at),h(gt),V(`Period "${Oe}" deleted successfully!`,"Success","success")}catch(Fe){V(Fe.message||"Failed to delete period","Error","error")}finally{v(!1)}},"Delete Period","Delete Period","Cancel")},sr=async(be,Oe)=>{Re(`Archive "${Oe}"?

This will move the period to the archive. All evaluation data will be preserved and remain accessible for statistics.`,async()=>{try{v(!0),await rt.updatePeriodStatus(be,"archived");const st=(await rt.getPeriods())?.data||[],mt=st.find(vt=>r(vt.status))||null,at=st.filter(vt=>n(vt.status)&&!s(vt.status)),gt=st.filter(vt=>s(vt.status));o(mt),u(at),h(gt),V(`Period "${Oe}" has been archived. Evaluation data is preserved for statistics.`,"Archived","success")}catch(Fe){V(Fe.message||"Failed to archive period","Error","error")}finally{v(!1)}},"Archive Period","Archive","Cancel")},ke=async(be,Oe)=>{Re(`Restore "${Oe}" from archive?

This will move the period back to the Past Periods list.`,async()=>{try{v(!0),await rt.updatePeriodStatus(be,"closed");const st=(await rt.getPeriods())?.data||[],mt=st.find(vt=>r(vt.status))||null,at=st.filter(vt=>n(vt.status)&&!s(vt.status)),gt=st.filter(vt=>s(vt.status));o(mt),u(at),h(gt),V(`Period "${Oe}" has been restored to Past Periods.`,"Restored","success")}catch(Fe){V(Fe.message||"Failed to restore period","Error","error")}finally{v(!1)}},"Restore Period","Restore","Cancel")};return!t||!Qi(t)?null:me?a.jsx(ko,{message:"Loading evaluation periods..."}):_e?a.jsx(ru,{error:_e,onRetry:se}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl",children:"Evaluation Period Management"}),a.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Control evaluation schedules and monitor participation"})]})]})})})}),a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[i?a.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden mb-12 border-2 border-[#7a0000]/20",children:[a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:i.name}),a.jsx("span",{className:`px-4 py-1 rounded-full text-sm font-bold ${r(i.status)?"bg-green-400 text-green-900":"bg-gray-300 text-gray-700"}`,children:r(i.status)?" OPEN":" CLOSED"})]}),a.jsxs("p",{className:"text-white/80",children:[new Date(i.startDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})," - ",new Date(i.endDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),a.jsx("div",{className:"flex space-x-2",children:r(i.status)?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>De(i),className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all font-semibold",children:"Extend"}),a.jsx("button",{onClick:Je,className:"px-4 py-2 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-all font-semibold",children:"Close Period"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>De(i),className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all font-semibold",children:"Extend & Reopen"}),a.jsx("button",{onClick:nt,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-all font-semibold",children:"Reopen"})]})})]})}),a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[a.jsxs("div",{className:"bg-white rounded-card p-7 lg:p-8 border-2 border-gray-200 hover:border-[#7a0000] transition-all duration-250 shadow-card",children:[a.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Total Evaluations"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-[#7a0000]",children:i.totalEvaluations})]}),a.jsxs("div",{className:"bg-white rounded-card p-7 lg:p-8 border-2 border-gray-200 hover:border-green-500 transition-all duration-250 shadow-card",children:[a.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Completed"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-green-600",children:i.completedEvaluations})]}),a.jsxs("div",{className:"bg-white rounded-card p-7 lg:p-8 border-2 border-gray-200 hover:border-[#7a0000] transition-all duration-250 shadow-card",children:[a.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Participation Rate"}),a.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-[#7a0000]",children:[i.participationRate,"%"]})]}),a.jsxs("div",{className:"bg-white rounded-card p-7 lg:p-8 border-2 border-gray-200 hover:border-[#7a0000] transition-all duration-250 shadow-card",children:[a.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Days Remaining"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-[#7a0000]",children:i.daysRemaining})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Completion Progress"}),a.jsxs("span",{className:"text-sm font-bold text-[#7a0000]",children:[i.completedEvaluations,"/",i.totalEvaluations]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 overflow-hidden shadow-inner",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-[#7a0000] to-[#9a1000] transition-all duration-500 flex items-center justify-end px-2",style:{width:`${i.participationRate}%`},children:a.jsxs("span",{className:"text-xs font-bold text-white",children:[i.participationRate,"%"]})})})]}),r(i.status)&&i.daysRemaining<=5&&a.jsx("div",{className:"bg-[#7a0000]/5 border-l-4 border-[#7a0000] p-4 mb-6 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-[#7a0000]",children:" Period ending soon!"}),a.jsxs("p",{className:"text-sm text-[#7a0000]/80",children:["Only ",i.daysRemaining," days remaining."]})]})]})}),i.participationRate<50&&r(i.status)&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-red-900",children:" Low participation rate!"}),a.jsx("p",{className:"text-sm text-red-700",children:"Participation is below 50%. Immediate action recommended."})]})]})}),a.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx("svg",{className:"w-7 h-7 mr-3 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Enrolled Program Sections"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Program sections enrolled for evaluation during this period"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:Ft,disabled:m||ae.length===0,className:"px-5 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold rounded-xl shadow-lg transition-all flex items-center space-x-2 disabled:cursor-not-allowed",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{children:"Enroll All"})]}),a.jsxs("button",{onClick:()=>te(!0),className:"px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white font-semibold rounded-xl shadow-lg transition-all flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Enroll Section"})]})]})]}),ne?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading enrolled sections..."})]}):ue.length===0?a.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Program Sections Enrolled"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Enroll program sections to enable students to evaluate during this period."}),a.jsxs("button",{onClick:()=>te(!0),className:"px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white font-semibold rounded-xl transition-all inline-flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Enroll First Program Section"})]})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:ue.map(be=>a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000]/5 to-[#9a1000]/5 border-2 border-[#7a0000]/20 rounded-xl p-5 hover:shadow-lg hover:border-[#7a0000]/40 transition-all",children:a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900 truncate",children:be.section_name||be.sectionName}),a.jsxs("span",{className:"px-2 py-0.5 bg-[#7a0000] text-white rounded-md text-xs font-semibold whitespace-nowrap",children:["Year ",be.year_level||be.yearLevel]}),a.jsxs("span",{className:"px-2 py-0.5 bg-[#9a1000] text-white rounded-md text-xs font-semibold whitespace-nowrap",children:["Sem ",be.semester]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3 truncate",children:be.program_name||be.programName}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[a.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-700 rounded-lg font-semibold border border-gray-200",children:be.program_code||be.programCode}),a.jsxs("span",{className:"px-2.5 py-1 bg-blue-50 text-blue-700 rounded-lg font-semibold border border-blue-100",children:[" ",be.enrolled_count||be.enrolledCount," students"]}),a.jsxs("span",{className:"px-2.5 py-1 bg-green-50 text-green-700 rounded-lg font-semibold border border-green-100",children:[" ",be.evaluations_created||be.evaluationsCreated||0," evals"]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Enrolled ",new Date(be.created_at||be.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),a.jsxs("button",{onClick:()=>Tt(be.id,be.section_name||be.sectionName,be.program_name||be.programName),disabled:m,className:"px-3 py-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-400 text-white rounded-lg transition-all font-semibold text-xs flex items-center gap-1 flex-shrink-0",children:[a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a.jsx("span",{children:"Remove"})]})]})},be.id))})]})]})]}):a.jsx("div",{className:"bg-white rounded-card shadow-card overflow-hidden mb-12 border-2 border-gray-200",children:a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Active Evaluation Period"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create a new evaluation period to start collecting feedback"}),a.jsx("button",{onClick:()=>G(!0),className:"px-8 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white font-semibold rounded-xl shadow-lg transition-all",children:"Create New Period"})]})}),a.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Past Evaluation Periods"}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Historical evaluation period records"})]}),a.jsx("div",{className:"p-6 lg:p-8",children:a.jsx("div",{className:"space-y-4",children:l.map(be=>a.jsx("div",{className:"border-2 border-gray-200 rounded-card p-6 lg:p-8 hover:shadow-lg transition-all duration-250",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:be.name}),a.jsx("span",{className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-xs font-bold",children:"CLOSED"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[new Date(be.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," - ",new Date(be.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Participation"}),a.jsxs("p",{className:"text-2xl font-bold text-[#7a0000]",children:[be.participationRate,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:be.completedEvaluations})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-[#7a0000]",children:be.totalEvaluations})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>De(be),disabled:m,className:"px-4 py-2 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg transition-all font-semibold text-sm flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{children:"Extend & Reopen"})]}),a.jsxs("button",{onClick:()=>sr(be.id,be.name),disabled:m,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-400 text-white rounded-lg transition-all font-semibold text-sm flex items-center space-x-2",title:"Archive this period (preserves all evaluation data)",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),a.jsx("span",{children:"Archive"})]}),a.jsxs("button",{onClick:()=>Pt(be.id,be.name),disabled:m,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white rounded-lg transition-all font-semibold text-sm flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a.jsx("span",{children:"Delete"})]})]})]})},be.id))})})]}),f.length>0&&a.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden mt-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Archived Evaluation Periods"}),a.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Archived periods - evaluation data preserved for statistics"})]}),a.jsx("div",{className:"p-6 lg:p-8",children:a.jsx("div",{className:"space-y-4",children:f.map(be=>a.jsx("div",{className:"border-2 border-gray-200 rounded-card p-6 lg:p-8 hover:shadow-lg transition-all duration-250 bg-gray-50",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-700",children:be.name}),a.jsx("span",{className:"px-3 py-1 bg-gray-400 text-white rounded-full text-xs font-bold",children:"ARCHIVED"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[new Date(be.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," - ",new Date(be.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Participation"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-600",children:[be.participationRate,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-gray-500",children:be.completedEvaluations})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-gray-600",children:be.totalEvaluations})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>ke(be.id,be.name),disabled:m,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-all font-semibold text-sm flex items-center space-x-2",title:"Restore to Past Periods",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Restore"})]}),a.jsxs("button",{onClick:()=>Pt(be.id,be.name),disabled:m,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg transition-all font-semibold text-sm flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a.jsx("span",{children:"Delete Permanently"})]})]})]})},be.id))})})]})]}),q&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full max-h-[90vh] flex flex-col shadow-2xl my-4",children:[a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] p-5 rounded-t-2xl flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Create Evaluation Period"]}),a.jsx("button",{onClick:()=>G(!1),className:"w-8 h-8 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:jt,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 overflow-visible",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Semester *"}),a.jsx(ht,{options:[{value:"1st Semester",label:"1st Semester"},{value:"2nd Semester",label:"2nd Semester"},{value:"Summer",label:"Summer"}],value:Z.semester,onChange:be=>le({...Z,semester:be}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Academic Year *"}),a.jsx("input",{type:"text",required:!0,pattern:"\\d{4}-\\d{4}",value:Z.academicYear,onChange:be=>le({...Z,academicYear:be.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all",placeholder:"2025-2026"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: YYYY-YYYY (e.g., 2025-2026)"})]})]}),a.jsxs("div",{className:"bg-red-50 border-2 border-red-100 rounded-xl p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-[#7a0000] mb-1",children:" Period Name Preview:"}),a.jsxs("p",{className:"text-lg font-bold text-[#7a0000]",children:[Z.semester," ",Z.academicYear]}),a.jsx("p",{className:"text-xs text-[#7a0000]/70 mt-1",children:"Name will be auto-generated from semester and academic year"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date *"}),a.jsx("input",{type:"date",required:!0,min:new Date().toISOString().split("T")[0],value:Z.startDate,onChange:be=>le({...Z,startDate:be.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Cannot select past dates"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date *"}),a.jsx("input",{type:"date",required:!0,min:Z.startDate||new Date().toISOString().split("T")[0],value:Z.endDate,onChange:be=>le({...Z,endDate:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Must be after start date"})]})]}),a.jsx("div",{className:"bg-[#7a0000]/5 border border-[#7a0000]/20 rounded-lg p-4",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:Z.notifyUsers,onChange:be=>le({...Z,notifyUsers:be.target.checked}),className:"w-4 h-4 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000] mr-3"}),a.jsx("span",{className:"text-sm font-semibold text-[#7a0000]",children:" Send email notification to all users when period opens"})]})}),a.jsx("div",{className:"bg-[#7a0000]/5 border border-[#7a0000]/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-[#7a0000]",children:[a.jsx("strong",{children:" Note:"})," The current evaluation period must be closed before creating a new one."]})}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>G(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white rounded-lg font-semibold transition-all",children:"Create Period"})]})]})]})}),R&&(z||i)&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[85vh] flex flex-col shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] px-5 py-4 border-b-4 border-[#5a0000] flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-white",children:" Extend Period"}),a.jsx("p",{className:"text-white/90 text-xs mt-1",children:(z||i).name})]}),a.jsx("button",{onClick:()=>{D(!1),W(null)},className:"w-8 h-8 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:ze,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n((z||i).status)&&a.jsx("div",{className:"bg-[#7a0000]/5 border-l-4 border-[#7a0000] p-4 rounded",children:a.jsxs("p",{className:"text-sm text-[#7a0000]",children:[a.jsx("strong",{children:" Note:"})," This period is currently closed. Extending it will automatically reopen the period for new submissions."]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current End Date"}),a.jsx("input",{type:"date",disabled:!0,value:(z||i).endDate,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New End Date *"}),a.jsx("input",{type:"date",required:!0,min:(z||i).endDate,value:Z.endDate,onChange:be=>le({...Z,endDate:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent"})]}),a.jsx("div",{className:"bg-[#7a0000]/5 border border-[#7a0000]/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-[#7a0000]",children:[a.jsx("strong",{children:" Email notifications"})," will be sent to all users informing them of the extension."]})}),a.jsxs("div",{className:"flex gap-2 pt-3",children:[a.jsx("button",{type:"button",onClick:()=>D(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm font-semibold transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white rounded-lg text-sm font-semibold transition-all",children:"Extend Period"})]})]})]})}),ge&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-xl w-full max-h-[85vh] overflow-y-auto shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] px-5 py-4 border-b-4 border-[#5a0000]",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-white",children:" Enroll Program Section"}),a.jsx("p",{className:"text-white/80 text-xs mt-1",children:"Enable a student group for evaluation during this period"})]}),a.jsx("button",{onClick:()=>te(!1),className:"w-8 h-8 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:bt,className:"p-4 space-y-3",children:[Q?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading sections..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Program Section *"}),ae.length===0?a.jsxs("div",{className:"bg-[#7a0000]/5 border border-[#7a0000]/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-[#7a0000] mb-2",children:" No Program Sections Found"}),a.jsx("p",{className:"text-sm text-[#7a0000]/80 mb-3",children:"You need to create program sections before enrolling them in an evaluation period."}),a.jsxs("p",{className:"text-xs text-[#7a0000]/70",children:[a.jsx("strong",{children:"To create sections:"}),' Go to Course Management  Manage Sections  Create a section (e.g., "BSIT-3A") and assign students to it.']})]}):a.jsxs(a.Fragment,{children:[a.jsx(ht,{value:B.programSectionId,onChange:be=>Y({...B,programSectionId:be}),required:!0,options:[{value:"",label:"Select a program section..."},...ae.map(be=>({value:be.id.toString(),label:`${be.sectionName||be.section_name} - ${be.programCode||be.program_code} (Year ${be.yearLevel||be.year_level}, Sem ${be.semester}) - ${be.studentCount||be.student_count} students`}))],searchable:ae.length>5}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the student group (e.g., BSCS-DS-3A) to enable for evaluation"})]})]}),a.jsxs("div",{className:"bg-[#7a0000]/5 border border-[#7a0000]/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-[#7a0000]",children:a.jsx("strong",{children:" What happens:"})}),a.jsxs("ul",{className:"text-sm text-[#7a0000]/80 mt-2 space-y-1 ml-4 list-disc",children:[a.jsx("li",{children:"All students in the program section can submit evaluations"}),a.jsx("li",{children:"Evaluations created for ALL courses the students are enrolled in"}),a.jsx("li",{children:"One click enables evaluation for the entire student group"}),a.jsx("li",{children:"Evaluations will be linked to this evaluation period"})]})]}),B.programSectionId&&a.jsxs("div",{className:"bg-[#7a0000]/5 border border-[#7a0000]/20 rounded-lg p-4",children:[a.jsxs("p",{className:"text-sm font-semibold text-[#7a0000]",children:[" Selected: ",ae.find(be=>be.id===parseInt(B.programSectionId))?.sectionName||ae.find(be=>be.id===parseInt(B.programSectionId))?.section_name]}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[ae.find(be=>be.id===parseInt(B.programSectionId))?.programCode||ae.find(be=>be.id===parseInt(B.programSectionId))?.program_code," - Year ",ae.find(be=>be.id===parseInt(B.programSectionId))?.yearLevel||ae.find(be=>be.id===parseInt(B.programSectionId))?.year_level]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-3",children:[a.jsx("button",{type:"button",onClick:()=>te(!1),disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm font-semibold transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:m||ae.length===0,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg text-sm font-semibold transition-all disabled:cursor-not-allowed",children:m?"Enrolling...":ae.length===0?"No Sections Available":"Enroll Section"})]})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-5 py-4 rounded-t-2xl",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h2",{className:"text-lg font-bold text-white",children:"Operation Failed"})]})}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-sm text-red-900 whitespace-pre-wrap",children:p})}),a.jsx("button",{onClick:()=>y(!1),className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})]})]})}),a.jsx(ec,{isOpen:j,onClose:()=>A(!1),title:N.title,message:N.message,variant:N.type==="error"?"danger":N.type}),a.jsx(E0,{isOpen:C,onClose:()=>T(!1),onConfirm:()=>{F.onConfirm(),T(!1)},title:F.title,message:F.message,confirmText:F.confirmText,cancelText:F.cancelText,variant:"warning"})]})}function WX(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState("enrollment"),[s,i]=L.useState(""),[o,l]=L.useState("all"),[u,f]=L.useState("all"),[h,m]=L.useState(!1),[v,p]=L.useState(!1),[w,x]=L.useState(!1),[y,j]=L.useState(!1),[A,N]=L.useState(null),[k,C]=L.useState([]),[T,F]=L.useState(null),[M,q]=L.useState([]),[G,R]=L.useState([]),[D,z]=L.useState(1),[W,Z]=L.useState(15),[le,ge]=L.useState(0),[te,ue]=L.useState(0),[H,ae]=L.useState("");L.useEffect(()=>{const K=setTimeout(()=>{ae(s)},500);return()=>clearTimeout(K)},[s]),L.useEffect(()=>{z(1)},[H,o,u]);const[U,B]=L.useState([]),[Y,ne]=L.useState(null),[he,Q]=L.useState(!1),[pe,ce]=L.useState(!1),[me,_e]=L.useState(!1),[se,ye]=L.useState([]),[fe,V]=L.useState([]),[Re,Je]=L.useState([]),[nt,ze]=L.useState(""),[je,De]=L.useState(1),[jt,bt]=L.useState(15),[Ft,Tt]=L.useState(""),[Pt,sr]=L.useState("all"),[ke,be]=L.useState("all"),[Oe,Fe]=L.useState("all"),[st,mt]=L.useState("all"),[at,gt]=L.useState("all"),[vt,He]=L.useState([]),[tt,Me]=L.useState([]),[dt,er]=L.useState({program_id:"",year_level:"",semester:"",course_id:"",instructor_id:"",class_code:"",academic_year:"2024-2025",max_students:40}),[dr,Et]=L.useState(!1),[fr,kn]=L.useState(null),[Zr,en]=L.useState([]),[Bn,Ut]=L.useState([]),[Br,mr]=L.useState({current:0,total:0,status:""}),[Un,qn]=L.useState(!1),[Fr,xn]=L.useState([]),[Wr,Os]=L.useState(""),[Hs,Fa]=L.useState(!1),[ds,An]=L.useState(!1),[Ur,oa]=L.useState({program_id:"",year_level:"",semester:"",program_section_id:""}),[pa,la]=L.useState([]),[Za,ga]=L.useState([]),[mi,pi]=L.useState(!1),[Ie,ct]=L.useState(!1),[Ht,rr]=L.useState({title:"",message:"",type:"info"}),[nr,gr]=L.useState(!1),[qr,$r]=L.useState({title:"",message:"",onConfirm:null,confirmText:"Confirm",cancelText:"Cancel"}),[zr,yn]=L.useState([]),[Ar,hn]=L.useState([]),[Er,an]=L.useState([]),[Xt,pr]=L.useState(!1),[zt,Lr]=L.useState({name:"",classCode:"",instructor:"",program:"BSIT",yearLevel:1,semester:"First Semester",academicYear:"2024-2025",enrolledStudents:0,status:"Active"}),{data:tn,loading:ro,error:Cn,retry:gi}=tu(async()=>{const[K,Ue,ot]=await Promise.all([rt.getCourses({page:D,page_size:W,status:u!=="all"?u:void 0,search:H.trim()||void 0,program_code:o!=="all"?o:void 0}),rt.getInstructors(),rt.getPrograms()]);return{courses:K?.data||[],instructors:Ue?.data||[],programs:ot?.data||[],pagination:K?.pagination||{}}},[t?.id,t?.role,D,W,u,H,o],3e4);L.useEffect(()=>{tn&&(yn(tn.courses),an(tn.instructors),tn.pagination&&(ge(tn.pagination.total||0),ue(tn.pagination.total_pages||0)))},[tn]),L.useEffect(()=>{t&&!Qi(t)&&e("/courses")},[t?.role,t?.id,e]);const no=L.useMemo(()=>tn?.programs&&tn.programs.length>0?tn.programs.map(Ue=>Ue.code).sort():[...new Set(zr.map(Ue=>Ue.program))].filter(Boolean).sort(),[zr,tn]),Oo=L.useMemo(()=>zr.map(K=>({...K,evaluationCount:K.evaluation_count||0,avgRating:parseFloat(K.avg_rating||0),responseRate:K.response_rate||0,status:K.status||"Active"})),[zr]),Zn=L.useMemo(()=>Oo.filter(K=>{const Ue=s===""||K.name.toLowerCase().includes(s.toLowerCase())||K.classCode?.toLowerCase().includes(s.toLowerCase())||K.subject_code?.toLowerCase().includes(s.toLowerCase())||K.subject_name?.toLowerCase().includes(s.toLowerCase()),ot=o==="all"||K.program===o;return Ue&&ot}),[Oo,s,o]),ca=U,fs=L.useMemo(()=>{const K=(je-1)*jt,Ue=K+jt;return ca.slice(K,Ue)},[ca,je,jt]),Or=Math.ceil(ca.length/jt);L.useEffect(()=>{r==="enrollment"&&(ea(),dl(),vt.length===0&&es())},[r,Ft,Pt,ke,Oe,st,at]),L.useEffect(()=>{De(1)},[Ft,Pt,ke,Oe,st,at]),L.useMemo(()=>{const K={},Ue={};Zn.forEach(qt=>{K[qt.program]||(K[qt.program]={courses:0,students:0,avgRating:[]}),K[qt.program].courses++,K[qt.program].students+=qt.enrolledStudents||0,qt.avgRating&&K[qt.program].avgRating.push(qt.avgRating);const yr=`Year ${qt.yearLevel}`;Ue[yr]||(Ue[yr]={courses:0,students:0}),Ue[yr].courses++,Ue[yr].students+=qt.enrolledStudents||0});const ot=Object.entries(K).map(([qt,yr])=>({name:qt,courses:yr.courses,students:yr.students,avgRating:yr.avgRating.length>0?(yr.avgRating.reduce((P,X)=>P+X,0)/yr.avgRating.length).toFixed(2):0})),Ct=Object.entries(Ue).map(([qt,yr])=>({name:qt,courses:yr.courses,students:yr.students})),Zt=["S1 2023","S2 2023","S1 2024","S2 2024","S1 2025"].map((qt,yr)=>({semester:qt,courses:Math.round(Zn.length*(.8+yr*.05)),avgRating:(3.8+Math.random()*.6).toFixed(2)}));return{programChartData:ot,yearLevelData:Ct,trendChartData:Zt}},[Zn]);const Gt=(K,Ue="Notification",ot="info")=>{rr({title:Ue,message:K,type:ot}),ct(!0)},$a=(K,Ue,ot="Confirm Action",Ct="Confirm",Kt="Cancel")=>{$r({title:ot,message:K,onConfirm:Ue,confirmText:Ct,cancelText:Kt}),gr(!0)},ul=async K=>{K.preventDefault();try{pr(!0),await rt.createCourse(zt);const Ue=await rt.getCourses();yn(Ue?.data||[]),Gt(`Course "${zt.name}" created successfully!`,"Success","success"),m(!1),Lr({name:"",classCode:"",instructor:"",program:"BSIT",yearLevel:1,semester:"First Semester",academicYear:"2024-2025",enrolledStudents:0,status:"Active"})}catch(Ue){Gt(`Failed to create course: ${Ue.message}`,"Error","error")}finally{pr(!1)}},Ro=L.useMemo(()=>{if(!dt.program_id||!dt.year_level||!dt.semester)return[];const K=Ar.filter(Ue=>{const ot=Ue.program_id===parseInt(dt.program_id),Ct=Ue.year_level===parseInt(dt.year_level)||Ue.yearLevel===parseInt(dt.year_level),Kt=Ue.semester===parseInt(dt.semester);return ot&&Ct&&Kt});return console.log("Course filtering:",{totalCoursesInCurrentPage:Ar.length,filteredCount:K.length,filters:{program_id:dt.program_id,year_level:dt.year_level,semester:dt.semester},sampleCourse:Ar[0]}),K},[Ar,dt.program_id,dt.year_level,dt.semester]),cc=async()=>{ce(!0);try{const K=await rt.getCourses({page_size:1e4});hn(K?.data||[])}catch(K){console.error("Error loading all courses:",K)}},To=async K=>{K.preventDefault();try{pr(!0),await rt.createSection(dt),await ea(),Gt("Section created successfully!","Success","success"),ce(!1),er({course_id:"",instructor_id:"",class_code:"",semester:1,academic_year:"2024-2025",max_students:40})}catch(Ue){Gt(`Failed to create section: ${Ue.response?.data?.detail||Ue.message}`,"Error","error")}finally{pr(!1)}},vi=async K=>{const Ue=K.target.files[0];if(Ue){F(Ue),R([]);try{const Ct=(await Ue.text()).trim().split(`
`);if(Ct.length<2){R(["CSV file is empty or invalid"]);return}const Kt=Ct[0].split(",").map(X=>X.trim().toLowerCase()),qt=["name","classcode","instructor","program","yearlevel","semester","academicyear"].filter(X=>!Kt.includes(X));if(qt.length>0){R([`Missing required columns: ${qt.join(", ")}`]);return}const yr=[],P=[];for(let X=1;X<Ct.length;X++){const ve=Ct[X].split(",").map(Ye=>Ye.trim());if(ve.length!==Kt.length){P.push(`Row ${X+1}: Column count mismatch`);continue}const Se={};if(Kt.forEach((Ye,ut)=>{Se[Ye]=ve[ut]}),!Se.name||!Se.classcode||!Se.instructor||!Se.program){P.push(`Row ${X+1}: Missing required fields`);continue}const Pe=parseInt(Se.yearlevel);if(isNaN(Pe)||Pe<1||Pe>4){P.push(`Row ${X+1}: Invalid year level (must be 1-4)`);continue}yr.push({name:Se.name,classCode:Se.classcode,instructor:Se.instructor,program:Se.program,yearLevel:Pe,semester:Se.semester||"First Semester",academicYear:Se.academicyear||"2024-2025",enrolledStudents:0,status:"Active"})}q(yr),R(P)}catch(ot){R([`Failed to parse CSV: ${ot.message}`])}}},Rs=async K=>{if(K?.preventDefault(),M.length===0){Gt("No courses to import","Warning","warning");return}$a(`Import ${M.length} courses?

This will create new courses in the system.`,async()=>{try{pr(!0);let Ue=0;const ot=[];for(const Kt of M)try{await rt.createCourse(Kt),Ue++}catch(Zt){ot.push(`Failed to import "${Kt.name}": ${Zt.message}`)}const Ct=await rt.getCourses();yn(Ct?.data||[]),ot.length>0?Gt(`Imported ${Ue} of ${M.length} courses.

Errors:
${ot.join(`
`)}`,"Warning","warning"):Gt(`Successfully imported ${Ue} courses!`,"Success","success"),x(!1),F(null),q([]),R([])}catch(Ue){Gt(`Bulk import failed: ${Ue.message}`,"Error","error")}finally{pr(!1)}},"Confirm Import","Import Courses")},Vs=async K=>{if(K?.preventDefault(),!zt.instructor){Gt("Please select an instructor","Warning","warning");return}if(k.length===0){Gt("No courses selected","Warning","warning");return}$a(`Assign "${zt.instructor}" to ${k.length} course(s)?`,async()=>{try{pr(!0);let Ue=0;const ot=[];for(const Kt of k)try{await rt.updateCourse(Kt,{instructor:zt.instructor}),Ue++}catch(Zt){ot.push(`Failed to update course ID ${Kt}: ${Zt.message}`)}const Ct=await rt.getCourses();yn(Ct?.data||[]),ot.length>0?Gt(`Updated ${Ue} of ${k.length} courses.

Errors:
${ot.join(`
`)}`,"Warning","warning"):Gt(`Successfully assigned instructor to ${Ue} course(s)!`,"Success","success"),j(!1),C([]),Lr({...zt,instructor:""})}catch(Ue){Gt(`Instructor assignment failed: ${Ue.message}`,"Error","error")}finally{pr(!1)}},"Confirm Assignment","Assign Instructor")},Ba=async()=>{if(k.length===0){Gt("Please select courses to archive","Warning","warning");return}$a(`Archive ${k.length} course(s)?

This will hide them from active listings but preserve all data.`,async()=>{try{pr(!0);let K=0;const Ue=[];for(const ot of k)try{await rt.updateCourse(ot,{status:"Archived"}),K++}catch(Ct){const Kt=zr.find(Zt=>Zt.id===ot);Ue.push(`${Kt?.name||ot}: ${Ct.message}`)}gi(),C([]),Ue.length>0?Gt(`Archived ${K} of ${k.length} courses.

Errors:
${Ue.join(`
`)}`,"Warning","warning"):Gt(`Successfully archived ${K} course(s)!`,"Success","success")}catch(K){Gt(`Bulk archive failed: ${K.message}`,"Error","error")}finally{pr(!1)}},"Confirm Bulk Archive","Archive Courses")},hs=async()=>{if(k.length===0){Gt("Please select courses to export","Warning","warning");return}try{const K=zr.filter(qt=>k.includes(qt.id)).map(qt=>({Code:qt.classCode||qt.id,Name:qt.name,Program:qt.program,"Year Level":qt.yearLevel,Semester:qt.semester,Students:qt.enrolledStudents||0,"Avg Rating":qt.avgRating||"N/A",Status:qt.status})),Ue=Object.keys(K[0]).join(","),ot=K.map(qt=>Object.values(qt).map(yr=>`"${yr}"`).join(",")).join(`
`),Ct=`${Ue}
${ot}`,Kt=new Blob([Ct],{type:"text/csv;charset=utf-8;"}),Zt=document.createElement("a");Zt.href=URL.createObjectURL(Kt),Zt.download=`courses_export_${new Date().toISOString().split("T")[0]}.csv`,Zt.click(),Gt(`Successfully exported ${k.length} course(s)!`,"Success","success")}catch(K){Gt(`Export failed: ${K.message}`,"Error","error")}},ir=(K,Ue)=>{Ue?.preventDefault(),N(K),Lr({name:K.name||"",classCode:K.classCode||K.class_code||"",instructor:K.instructor||"",program:K.program||"BSIT",yearLevel:K.yearLevel||K.year_level||1,semester:K.semester||"First Semester",academicYear:K.academicYear||K.academic_year||"2024-2025",enrolledStudents:K.enrolledStudents||K.enrolled_students||0,status:K.status||"Active"}),p(!0)},ao=async K=>{if(K.preventDefault(),!!A)try{pr(!0),await rt.updateCourse(A.id,zt),gi(),Gt(`Course "${zt.name}" updated successfully!`,"Success","success"),p(!1),N(null),Lr({name:"",classCode:"",instructor:"",program:"BSIT",yearLevel:1,semester:"First Semester",academicYear:"2024-2025",enrolledStudents:0,status:"Active"})}catch(Ue){Gt(`Failed to update course: ${Ue.message}`,"Error","error")}finally{pr(!1)}},Ys=(K,Ue)=>{Ue?.preventDefault(),C(ot=>ot.includes(K)?ot.filter(Ct=>Ct!==K):[...ot,K])},uc=K=>K==="Open"||K==="active",Mo=K=>K==="Archived"||K==="archived",es=async()=>{try{const Ue=(await rt.getPeriods())?.data||[];if(He(Ue),at==="all"){const ot=Ue.find(Ct=>uc(Ct.status));ot&&gt(String(ot.id))}}catch(K){console.error("Error loading evaluation periods:",K)}},ea=async()=>{try{const K=(vt||[]).filter(Kt=>!Mo(Kt.status)).map(Kt=>Kt.id);let Ue;at!=="all"&&(Ue=parseInt(at));let Ct=(await rt.getSections({search:Ft||void 0,program_code:Pt!=="all"?Pt:void 0,program_section_id:ke!=="all"&&ke?parseInt(ke):void 0,year_level:st!=="all"?parseInt(st):void 0,semester:Oe!=="all"?parseInt(Oe):void 0,period_id:Ue}))?.data||[];at==="all"&&K.length>0&&(Ct=Ct.filter(Kt=>!Kt.evaluation_period_id||K.includes(Kt.evaluation_period_id))),B(Ct)}catch(K){console.error("Error loading sections:",K),B([])}},dc=async K=>{try{ne(K),Q(!0),pr(!0);const[Ue,ot]=await Promise.all([rt.getSectionStudents(K.id),rt.getAvailableStudents(K.id)]);console.log("[SECTION_MODAL] Enrolled response:",Ue),console.log("[SECTION_MODAL] Enrolled response keys:",Object.keys(Ue||{})),console.log("[SECTION_MODAL] Enrolled response.data:",Ue?.data),console.log("[SECTION_MODAL] Enrolled response.success:",Ue?.success),console.log("[SECTION_MODAL] Available response:",ot);const Ct=Array.isArray(Ue)?Ue:Ue?.data||[],Kt=Array.isArray(ot)?ot:ot?.data||[];console.log("[SECTION_MODAL] Setting enrolled students:",Ct),console.log("[SECTION_MODAL] Setting available students:",Kt),ye(Ct),V(Kt),Je([])}catch(Ue){console.error("[SECTION_MODAL] Error loading section data:",Ue),Gt(`Error loading section data: ${Ue.message}`,"Error","error")}finally{pr(!1)}},Io=async()=>{if(Re.length===0){Gt("Please select at least one student to enroll","Warning","warning");return}try{pr(!0);const K=await rt.enrollStudents(Y.id,Re),[Ue,ot]=await Promise.all([rt.getSectionStudents(Y.id),rt.getAvailableStudents(Y.id)]),Ct=Array.isArray(Ue)?Ue:Ue?.data||[],Kt=Array.isArray(ot)?ot:ot?.data||[];ye(Ct),V(Kt),Je([]),await ea();const Zt=K?.data?.enrolled_count||Re.length,qt=K?.data?.skipped_count||0,yr=qt>0?`Successfully enrolled ${Zt} student(s)! (${qt} already enrolled)`:`Successfully enrolled ${Zt} student(s)!`;Gt(yr,"Success","success")}catch(K){console.error("Enroll students error:",K);const Ue=K.response?.data?.detail||K.message||"Unknown error occurred";Gt(`Failed to enroll students: ${Ue}`,"Error","error")}finally{pr(!1)}},so=async(K,Ue)=>{$a(`Remove ${Ue} from this section?`,async()=>{try{pr(!0),await rt.removeStudentFromSection(Y.id,K);const[ot,Ct]=await Promise.all([rt.getSectionStudents(Y.id),rt.getAvailableStudents(Y.id)]),Kt=Array.isArray(ot)?ot:ot?.data||[],Zt=Array.isArray(Ct)?Ct:Ct?.data||[];ye(Kt),V(Zt),await ea(),Gt(`${Ue} removed successfully!`,"Success","success")}catch(ot){Gt(`Failed to remove student: ${ot.message}`,"Error","error")}finally{pr(!1)}},"Confirm Removal","Remove Student")},dl=async()=>{try{Fa(!0);const K=await rt.getProgramSections({isActive:!0});console.log("[EnhancedCourseManagement] Program sections loaded:",K?.data),xn(K?.data||[])}catch(K){console.error("Error loading program sections:",K),Gt(`Failed to load program sections: ${K.message}`,"Error","error")}finally{Fa(!1)}},Ts=async()=>{if(!Wr){Gt("Please select a program section","Warning","warning");return}const K=Fr.find(Ue=>Ue.id===parseInt(Wr));K&&$a(`Enroll all ${K.studentCount} student(s) from "${K.sectionName}" into this class section?`,async()=>{try{pr(!0);const Ue=await rt.enrollProgramSectionToClass(Y.id,parseInt(Wr));Gt(Ue.message||"Students enrolled successfully!","Success","success"),qn(!1);const[ot,Ct]=await Promise.all([rt.getSectionStudents(Y.id),rt.getAvailableStudents(Y.id)]);ye(ot?.data||[]),V(Ct?.data||[]),Gt(`${studentName} removed successfully!`,"Success","success")}catch(Ue){Gt(`Failed to remove student: ${Ue.message}`,"Error","error")}finally{pr(!1)}},"Confirm Enrollment","Enroll Program Section")},Gs=()=>{const K=`student_identifier,section_identifier,identifier_type,notes
student@example.com,CS101-A,email,Regular enrollment
2021-00001,BSIT-101-1A,student_number,Transfer student
student2@example.com,IT-PROG1-2024,email,
2021-00002,CS101-A,student_number,Needs accommodation`,Ue=new Blob([K],{type:"text/csv"}),ot=URL.createObjectURL(Ue),Ct=document.createElement("a");Ct.href=ot,Ct.download="enrollment_template.csv",document.body.appendChild(Ct),Ct.click(),document.body.removeChild(Ct),URL.revokeObjectURL(ot)},Ms=K=>{const Ue=K.target.files?.[0];if(!Ue)return;kn(Ue);const ot=new FileReader;ot.onload=Ct=>{const Zt=Ct.target.result.split(`
`).filter(Pe=>Pe.trim());if(Zt.length<2){Ut(["CSV file is empty or invalid"]),en([]);return}const qt=Zt[0].split(",").map(Pe=>Pe.trim().toLowerCase()),P=["student_identifier","section_identifier"].filter(Pe=>!qt.includes(Pe));if(P.length>0){Ut([`Missing required columns: ${P.join(", ")}`]),en([]);return}const X=[],ve=[];Zt.slice(1,6).forEach((Pe,Ye)=>{if(!Pe.trim())return;const ut=Pe.split(",").map(ar=>ar.trim()),kt={};qt.forEach((ar,Rr)=>{kt[ar]=ut[Rr]||""});const St=[],Jt=Ye+2;if(!kt.student_identifier)St.push(`Row ${Jt}: Missing student identifier`);else{const ar=kt.student_identifier.includes("@"),Rr=/^\d{4}-\d{5}$/.test(kt.student_identifier);!ar&&!Rr&&St.push(`Row ${Jt}: Invalid student identifier format (must be email or student number like 2021-00001)`)}kt.section_identifier||St.push(`Row ${Jt}: Missing section identifier`),kt.identifier_type&&!["email","student_number"].includes(kt.identifier_type.toLowerCase())&&St.push(`Row ${Jt}: Invalid identifier_type (must be 'email' or 'student_number')`),kt.valid=St.length===0,kt.errors=St,ve.push(kt),X.push(...St)}),en(ve),Ut(X)},ot.readAsText(Ue)},Do=async()=>{if(!fr){Gt("Please select a CSV file first","Warning","warning");return}const K=()=>{const Ue=new FileReader;Ue.onload=async ot=>{const Kt=ot.target.result.split(`
`).filter(Ye=>Ye.trim()),Zt=Kt[0].split(",").map(Ye=>Ye.trim().toLowerCase()),qt=Kt.slice(1),yr=[];if(qt.forEach(Ye=>{if(!Ye.trim())return;const ut=Ye.split(",").map(St=>St.trim()),kt={};Zt.forEach((St,Jt)=>{kt[St]=ut[Jt]||""}),kt.student_identifier&&kt.section_identifier&&yr.push(kt)}),yr.length===0){Gt("No valid enrollments found in CSV file","Warning","warning");return}const P=10;let X=0,ve=0;const Se=[];mr({current:0,total:yr.length,status:"processing"});for(let Ye=0;Ye<yr.length;Ye+=P){const ut=yr.slice(Ye,Ye+P);(await Promise.all(ut.map(async St=>{try{return await rt.bulkEnrollStudent({student_identifier:St.student_identifier,section_identifier:St.section_identifier,identifier_type:St.identifier_type||"auto",notes:St.notes||""}),{success:!0,enrollment:St}}catch(Jt){return{success:!1,enrollment:St,error:Jt.response?.data?.detail||Jt.message}}}))).forEach(St=>{St.success?X++:(ve++,Se.push(`${St.enrollment.student_identifier}  ${St.enrollment.section_identifier}: ${St.error}`))}),mr({current:Math.min(Ye+P,yr.length),total:yr.length,status:"processing"})}mr({current:yr.length,total:yr.length,status:"complete"});let Pe=`Bulk enrollment complete!

Successfully enrolled: ${X}
Failed: ${ve}`;Se.length>0&&(Pe+=`

Failed enrollments (first 5):
${Se.slice(0,5).join(`
`)}`),Gt(Pe,ve>0?"Partial Success":"Success",ve>0?"warning":"success"),Et(!1),kn(null),en([]),Ut([]),mr({current:0,total:0,status:""}),ea()},Ue.readAsText(fr)};Bn.length>0?$a(`There are ${Bn.length} validation errors. Some enrollments may fail. Continue anyway?`,K,"Validation Errors","Continue Anyway"):K()},Oi=async(K,Ue)=>{const ot={...Ur,[K]:Ue};if(oa(ot),K==="program_id"||K==="year_level"||K==="semester")if(ot.program_id&&ot.year_level&&ot.semester)try{pi(!0),console.log("[Quick Bulk] Fetching with filters:",{program_id:parseInt(ot.program_id),year_level:parseInt(ot.year_level),semester:parseInt(ot.semester)});const[Ct,Kt]=await Promise.all([rt.getCourses({program_id:parseInt(ot.program_id),year_level:parseInt(ot.year_level),semester:parseInt(ot.semester),page_size:1e3,show_all_periods:!0}),rt.getProgramSections({programId:parseInt(ot.program_id),yearLevel:parseInt(ot.year_level),semester:parseInt(ot.semester),isActive:!0})]);console.log("[Quick Bulk] Found courses:",Ct?.data?.length||0),console.log("[Quick Bulk] Found program sections:",Kt?.data?.length||0,Kt?.data),la(Ct?.data||[]),ga(Kt?.data||[])}catch(Ct){console.error("Error fetching matching data:",Ct),la([]),ga([])}finally{pi(!1)}else la([]),ga([])},fl=async()=>{if(!Ur.program_section_id||pa.length===0){Gt("Please select all required fields","Warning","warning");return}const K=Za.find(ot=>ot.id===parseInt(Ur.program_section_id));if(!K){Gt("Selected program section not found","Error","error");return}const Ue=`Create ${pa.length} class section(s) for program section "${K.sectionName}"?

Courses: ${pa.map(ot=>ot.subject_code).join(", ")}`;$a(Ue,async()=>{try{pr(!0);let ot=0,Ct=0;const Kt=[];for(const Zt of pa)try{const qt={course_id:Zt.id,class_code:`${Zt.subject_code}-${K.sectionName}`,semester:parseInt(Ur.semester),academic_year:K.schoolYear||"2024-2025",max_students:40,program_section_id:K.id};console.log(`[Quick Bulk] Creating section for ${Zt.subject_code}:`,qt),console.log("[Quick Bulk] program_section_id being sent:",K.id);const yr=await rt.createSection(qt,!0);ot++,console.log(`[Quick Bulk] Full response for ${Zt.subject_code}:`,yr);const P=yr.data?.enrolled_count||yr.enrolled_count||0;P>0?console.log(` Auto-enrolled ${P} students into ${Zt.subject_code}`):console.warn(` No students enrolled into ${Zt.subject_code}`)}catch(qt){Ct++,console.error(` Failed to create section for ${Zt.subject_code}:`,qt),Kt.push(`${Zt.subject_code}: ${qt.response?.data?.detail||qt.message}`)}Gt(` Quick Bulk Enrollment Complete!

Successfully created: ${ot} sections
Failed: ${Ct}

${Kt.length>0?`Errors:
${Kt.slice(0,5).join(`
`)}`:""}`,"Success","success"),An(!1),oa({program_id:"",year_level:"",semester:"",program_section_id:""}),la([]),ga([]),ea()}catch(ot){Gt(`Failed to process bulk enrollment: ${ot.message}`,"Error","error")}finally{pr(!1)}},"Confirm Bulk Enrollment","Create Sections")},xi=(K,Ue)=>{Ue?.stopPropagation(),ne(K),er({program_id:K.program_id||"",year_level:K.year_level||"",semester:K.semester||"",course_id:K.course_id||"",instructor_id:K.instructor_id||"",class_code:K.class_code||"",academic_year:K.academic_year||"2024-2025",max_students:K.max_students||40}),_e(!0)},Ks=async K=>{K.preventDefault();try{pr(!0);const{instructor_id:Ue,...ot}=dt;await rt.updateSection(Y.id,ot),await ea(),_e(!1),Gt("Section updated successfully!","Success","success")}catch(Ue){Gt(`Failed to update section: ${Ue.response?.data?.detail||Ue.message}`,"Error","error")}finally{pr(!1)}},io=async(K,Ue)=>{Ue?.stopPropagation(),$a(` DELETE Section "${K.class_code}"?

This will remove all student enrollments in this section.

This action CANNOT be undone!`,async()=>{try{pr(!0);const ot=await rt.deleteSection(K.id);await ea(),Gt(ot?.data?.message||"Section deleted successfully!","Success","success")}catch(ot){console.error("Delete section error:",ot);const Ct=ot.response?.data?.detail||ot.message||"Unknown error occurred";Gt(`Failed to delete section: ${Ct}`,"Error","error")}finally{pr(!1)}}," Confirm Delete","Delete Section")},oo=K=>{Me(Ue=>Ue.includes(K)?Ue.filter(ot=>ot!==K):[...Ue,K])},ts=()=>{tt.length===fs.length?Me([]):Me(fs.map(K=>K.id))},yi=async()=>{if(tt.length===0){Gt("Please select sections to delete","Warning","warning");return}const K=(U||[]).filter(Ue=>tt.includes(Ue.id)).map(Ue=>Ue.class_code).join(", ");$a(` DELETE ${tt.length} Section(s)?

Sections: ${K}

This will remove all student enrollments in these sections.

This action CANNOT be undone!`,async()=>{try{pr(!0);let Ue=0,ot=0;for(const Ct of tt)try{await rt.deleteSection(Ct),Ue++}catch(Kt){ot++,console.error(`Failed to delete section ${Ct}:`,Kt)}await ea(),Me([]),Gt(` Bulk Delete Complete:
${Ue} section(s) deleted successfully${ot>0?`
${ot} section(s) failed to delete`:""}`,"Success","success")}catch(Ue){console.error("Bulk delete error:",Ue),Gt(`Failed to delete sections: ${Ue.message}`,"Error","error")}finally{pr(!1)}}," Confirm Bulk Delete","Delete Sections")};return L.useEffect(()=>{r==="enrollment"&&ea()},[r,o]),!t||!Qi(t)?null:ro?a.jsx(ko,{message:"Loading courses..."}):Cn?a.jsx(ru,{error:Cn,onRetry:gi}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl",children:"Enhanced Course Management"}),a.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Comprehensive course administration and analytics"})]})]})})})}),a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[a.jsxs("div",{className:"bg-white rounded-card shadow-card mb-12 p-2 flex space-x-2",children:[a.jsx("button",{onClick:()=>n("enrollment"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="enrollment"?"bg-red-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Enrollment"}),a.jsx("button",{onClick:()=>n("courses"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="courses"?"bg-red-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Course List"})]}),r==="courses"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[a.jsx("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Total Courses"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-gray-900",children:le}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Showing ",Zn.length," on this page"]})]}),a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})}),a.jsx("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Active Programs"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:no.length})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),a.jsx("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Total Students"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:Zn.reduce((K,Ue)=>K+(Ue.enrolledStudents||0),0)})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),a.jsx("div",{className:"bg-white rounded-card shadow-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:Zn.length>0?(Zn.reduce((K,Ue)=>K+Ue.avgRating,0)/Zn.length).toFixed(2):"0.00"})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]})})]}),a.jsx("div",{className:"bg-white rounded-card shadow-card p-6 mb-6 overflow-visible",children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 overflow-visible",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Search"}),a.jsx("input",{type:"text",placeholder:"Search courses, codes, instructors...",value:s,onChange:K=>i(K.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent"})]}),a.jsx(ht,{label:" Program",value:o,onChange:K=>l(K),options:[{value:"all",label:"All Programs"},...no.map(K=>({value:K,label:K}))],searchable:!0}),a.jsx(ht,{label:" Status",value:u,onChange:K=>f(K),options:[{value:"all",label:"All Status"},{value:"Active",label:"Active"},{value:"Archived",label:"Archived"}]})]})}),k.length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-center justify-between",children:[a.jsxs("p",{className:"text-red-900 font-semibold",children:[k.length," course(s) selected"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all",children:"Assign Instructor"}),a.jsx("button",{onClick:Ba,className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-all",children:"Archive"}),a.jsx("button",{onClick:hs,className:"px-4 py-2 bg-yellow-500 hover:bg-amber-600 text-white rounded-lg transition-all",children:"Export"})]})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-fit mx-auto table-auto",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"checkbox",checked:k.length===Zn.length&&Zn.length>0,onChange:()=>{k.length===Zn.length?C([]):C(Zn.map(K=>K.id))},className:"w-4 h-4 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"})}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Code"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Course Name"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Program"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Students"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Rating"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Zn.map(K=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"checkbox",checked:k.includes(K.id),onChange:Ue=>Ys(K.id,Ue),className:"w-4 h-4 text-red-600 rounded focus:ring-2 focus:ring-[#7a0000]"})}),a.jsx("td",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:K.classCode||K.id}),a.jsxs("td",{className:"px-4 py-3 text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Year ",K.yearLevel,"  ",K.semester]})]}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-600",children:K.program}),a.jsxs("td",{className:"px-4 py-3 text-center",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:K.enrolledStudents||0}),a.jsxs("div",{className:"text-xs text-gray-500",children:[K.evaluationCount||0," evals"]})]}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("svg",{className:"w-4 h-4 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:K.avgRating||0})]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${K.status==="Active"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:K.status})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("button",{onClick:()=>e("/courses"),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-all",title:"View Course Details",children:a.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),a.jsx("button",{onClick:Ue=>ir(K,Ue),className:"p-2 bg-yellow-100 hover:bg-amber-200 text-yellow-600 rounded-lg transition-all",title:"Edit Course",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})})]},K.id))})]})}),a.jsx(tc,{currentPage:D,totalPages:te,totalItems:le,onPageChange:z,itemLabel:"courses",itemsPerPage:W,onItemsPerPageChange:K=>{Z(K),z(1)},showItemsPerPage:!0})]})]}),r==="enrollment"&&a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 overflow-visible",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:" Section Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage student enrollments by class section"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>An(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Quick Bulk Enroll"]}),a.jsxs("button",{onClick:cc,className:"px-4 py-2 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Create Section"]}),a.jsx("button",{onClick:ea,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all",children:" Refresh"})]})]}),a.jsxs("div",{className:"mb-6 grid md:grid-cols-7 gap-4 overflow-visible",children:[a.jsx("input",{type:"text",placeholder:" Search sections...",value:Ft,onChange:K=>Tt(K.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-red-500"}),a.jsx(ht,{label:"Period",value:at,onChange:K=>gt(K),options:[{value:"all",label:"All Periods"},...vt.filter(K=>!Mo(K.status)).map(K=>({value:K.id,label:`${K.name} (${uc(K.status)?" Active":K.status==="draft"?" Draft":" Closed"})`})),...vt.filter(K=>Mo(K.status)).map(K=>({value:K.id,label:`${K.name} ( Archived)`}))],searchable:!0}),a.jsx(ht,{label:"Program",value:Pt,onChange:K=>{sr(K),be("all")},options:[{value:"all",label:"All Programs"},...(tn?.programs||[]).map(K=>({value:K.code,label:K.code}))],searchable:!0}),a.jsx(ht,{label:"Section",value:ke,onChange:K=>be(K),disabled:Pt==="all",options:[{value:"all",label:Pt==="all"?"Select a program first...":"All Sections"},...Pt!=="all"?Fr.filter(K=>(K.programCode||K.program_code||K.programName||K.program_name||"").toLowerCase().includes(Pt.toLowerCase())).map(K=>{const Ue=K.sectionName||K.section_name||K.name||"Unnamed Section",ot=K.programCode||K.program_code||K.programName||K.program_name||"",Ct=K.yearLevel||K.year_level||K.year||"",Kt=K.semester||"",Zt=K.schoolYear||K.school_year||"";return Ue==="Unnamed Section"?null:{value:K.id,label:`${Ue} ${ot?`- ${ot}`:""} ${Ct?`(Yr ${Ct}`:"(Yr ?"}${Kt?`, Sem ${Kt}`:""}${Zt?`, ${Zt}`:""})`}}).filter(Boolean):[]],searchable:!0}),a.jsx(ht,{label:"Year Level",value:st,onChange:K=>mt(K),options:[{value:"all",label:"All Year Levels"},{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"}]}),a.jsx(ht,{label:"Semester",value:Oe,onChange:K=>Fe(K),options:[{value:"all",label:"All Semesters"},{value:"1",label:"First Semester"},{value:"2",label:"Second Semester"},{value:"3",label:"Summer"}]}),a.jsx("div",{className:"text-sm text-gray-600 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold",children:ca.length===0?"No sections":`${fs.length} sections`}),a.jsx("div",{className:"text-xs text-gray-500",children:ca.length>0&&`Page ${je} of ${Or}  ${ca.length} total`})]})})]}),tt.length>0&&a.jsx("div",{className:"bg-gradient-to-r from-red-800 to-amber-700 rounded-xl p-4 mb-4 shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-white font-semibold",children:[tt.length," section(s) selected"]}),a.jsx("button",{onClick:()=>Me([]),className:"text-white/80 hover:text-white text-sm underline",children:"Clear selection"})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:yi,disabled:Xt,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-semibold transition-all disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a.jsx("span",{children:"Delete"})]})})]})}),Xt&&!he?a.jsx("div",{className:"text-center py-8",children:a.jsx(ko,{})}):U.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{className:"text-lg",children:"No sections found"}),a.jsx("p",{className:"text-sm",children:"Create class sections from the Courses tab"})]}):ca.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{className:"text-lg",children:"No sections match your filters"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 flex items-center space-x-2 bg-gray-50 rounded-lg p-3",children:[a.jsx("input",{type:"checkbox",checked:fs.length>0&&tt.length===fs.length,onChange:ts,className:"w-5 h-5 text-red-600 border-gray-300 rounded focus:ring-[#7a0000]"}),a.jsxs("label",{className:"text-sm font-semibold text-gray-700 cursor-pointer",onClick:ts,children:["Select All (",fs.length," on this page)"]})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:fs.map(K=>a.jsxs("div",{className:`border-2 rounded-xl p-4 hover:shadow-lg transition-all relative group ${tt.includes(K.id)?"border-red-500 bg-red-50":"border-gray-200"}`,children:[a.jsx("div",{className:"absolute top-2 left-2 z-10",children:a.jsx("input",{type:"checkbox",checked:tt.includes(K.id),onChange:()=>oo(K.id),onClick:Ue=>Ue.stopPropagation(),className:"w-5 h-5 text-red-600 border-gray-300 rounded focus:ring-[#7a0000] cursor-pointer"})}),a.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:Ue=>xi(K,Ue),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",title:"Edit Section",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:Ue=>io(K,Ue),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",title:"Delete Section",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),a.jsxs("div",{className:"cursor-pointer",onClick:()=>dc(K),children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900",children:K.subject_code}),a.jsx("p",{className:"text-sm text-gray-600",children:K.subject_name}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Section: ",K.class_code||"N/A"]})]}),a.jsx("span",{className:"text-2xl font-bold text-red-600",children:K.enrolled_count||0})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Semester ",K.semester===3?"Summer":K.semester,"  ",K.academic_year]})})]})]},K.id))}),ca.length>0&&a.jsx(tc,{currentPage:je,totalPages:Or,totalItems:ca.length,onPageChange:De,itemLabel:"sections",itemsPerPage:jt,onItemsPerPageChange:K=>{bt(K),De(1)},showItemsPerPage:!0})]})]})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 border-b-4 border-indigo-800 flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Add New Course"}),a.jsx("button",{onClick:()=>m(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:ul,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Name *"}),a.jsx("input",{type:"text",required:!0,value:zt.name,onChange:K=>Lr({...zt,name:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"Introduction to Programming"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Class Code *"}),a.jsx("input",{type:"text",required:!0,value:zt.classCode,onChange:K=>Lr({...zt,classCode:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"CS101"})]})]}),a.jsx(ht,{label:"Instructor *",value:zt.instructor,onChange:K=>Lr({...zt,instructor:K}),options:[{value:"",label:"Select Instructor"},...Er.map(K=>({value:`${K.first_name} ${K.last_name}`,label:`${K.first_name} ${K.last_name}`}))],searchable:!0}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(ht,{label:"Program *",value:zt.program,onChange:K=>Lr({...zt,program:K}),options:no.map(K=>({value:K,label:K})),searchable:!0}),a.jsx(ht,{label:"Year Level *",value:zt.yearLevel,onChange:K=>Lr({...zt,yearLevel:parseInt(K)}),options:[{value:1,label:"1st Year"},{value:2,label:"2nd Year"},{value:3,label:"3rd Year"},{value:4,label:"4th Year"}]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(ht,{label:"Semester *",value:zt.semester,onChange:K=>Lr({...zt,semester:K}),options:[{value:"First Semester",label:"First Semester"},{value:"Second Semester",label:"Second Semester"},{value:"Summer",label:"Summer"}]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Academic Year *"}),a.jsx("input",{type:"text",required:!0,value:zt.academicYear,onChange:K=>Lr({...zt,academicYear:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"2024-2025"})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",disabled:Xt,children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:Xt,children:Xt?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a.jsx("span",{children:"Creating..."})]}):a.jsx("span",{children:"Create Course"})})]})]})]})}),v&&A&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-700 p-6 border-b-4 border-yellow-800 flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Edit Course"}),a.jsx("button",{onClick:()=>{p(!1),N(null)},className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:ao,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Name *"}),a.jsx("input",{type:"text",required:!0,value:zt.name,onChange:K=>Lr({...zt,name:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"Introduction to Programming"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Class Code *"}),a.jsx("input",{type:"text",required:!0,value:zt.classCode,onChange:K=>Lr({...zt,classCode:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"CS101"})]})]}),a.jsx(ht,{label:"Instructor *",value:zt.instructor,onChange:K=>Lr({...zt,instructor:K}),options:[{value:"",label:"Select Instructor"},...Er.map(K=>({value:`${K.first_name} ${K.last_name}`,label:`${K.first_name} ${K.last_name}`}))],searchable:!0}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(ht,{label:"Program *",value:zt.program,onChange:K=>Lr({...zt,program:K}),options:no.map(K=>({value:K,label:K})),searchable:!0}),a.jsx(ht,{label:"Year Level *",value:zt.yearLevel,onChange:K=>Lr({...zt,yearLevel:parseInt(K)}),options:[{value:1,label:"1st Year"},{value:2,label:"2nd Year"},{value:3,label:"3rd Year"},{value:4,label:"4th Year"}]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(ht,{label:"Semester *",value:zt.semester,onChange:K=>Lr({...zt,semester:K}),options:[{value:"First Semester",label:"First Semester"},{value:"Second Semester",label:"Second Semester"},{value:"Summer",label:"Summer"}]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Academic Year *"}),a.jsx("input",{type:"text",required:!0,value:zt.academicYear,onChange:K=>Lr({...zt,academicYear:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"2024-2025"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enrolled Students"}),a.jsx("input",{type:"number",value:zt.enrolledStudents,onChange:K=>Lr({...zt,enrolledStudents:parseInt(K.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"30",min:"0"})]}),a.jsx(ht,{label:"Status *",value:zt.status,onChange:K=>Lr({...zt,status:K}),options:[{value:"Active",label:"Active"},{value:"Archived",label:"Archived"}]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{p(!1),N(null)},className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",disabled:Xt,children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:Xt,children:Xt?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a.jsx("span",{children:"Updating..."})]}):a.jsx("span",{children:"Update Course"})})]})]})]})}),w&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-700 to-red-900 p-6 border-b-4 border-yellow-800",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Bulk Import Courses"}),a.jsx("button",{onClick:()=>x(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"bg-red-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-red-900 font-semibold mb-2",children:" CSV Format Requirements:"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Headers: name, classCode, instructor, program, yearLevel, semester, academicYear"}),a.jsx("li",{children:"Year level must be 1-4"}),a.jsx("li",{children:"Program must match existing programs"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Upload CSV File *"}),a.jsx("input",{type:"file",accept:".csv",onChange:vi,className:"w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-yellow-500 transition-all"})]}),G.length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-red-900 font-semibold mb-2",children:" Errors Found:"}),a.jsx("ul",{className:"text-sm text-red-800 space-y-1 list-disc list-inside",children:G.map((K,Ue)=>a.jsx("li",{children:K},Ue))})]}),M.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-yellow-900 font-semibold",children:[" Preview: ",M.length," courses ready to import"]})}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Course Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Code"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Instructor"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Program"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:M.map((K,Ue)=>a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-4 py-2",children:K.name}),a.jsx("td",{className:"px-4 py-2",children:K.classCode}),a.jsx("td",{className:"px-4 py-2",children:K.instructor}),a.jsx("td",{className:"px-4 py-2",children:K.program})]},Ue))})]})})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",disabled:Xt,children:"Cancel"}),a.jsx("button",{onClick:Rs,disabled:M.length===0||Xt,className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:Xt?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a.jsx("span",{children:"Importing..."})]}):a.jsxs("span",{children:["Import ",M.length," Courses"]})})]})]})]})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 border-b-4 border-yellow-800",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Assign Instructor"}),a.jsx("button",{onClick:()=>j(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"bg-red-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-red-900",children:["Assigning instructor to ",a.jsxs("strong",{children:[k.length," course(s)"]})]})}),a.jsx(ht,{label:"Select Instructor *",value:zt.instructor,onChange:K=>Lr({...zt,instructor:K}),options:[{value:"",label:"Choose instructor..."},...Er.map(K=>({value:`${K.first_name} ${K.last_name}`,label:`${K.first_name} ${K.last_name}`}))],searchable:!0}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",disabled:Xt,children:"Cancel"}),a.jsx("button",{onClick:Vs,disabled:!zt.instructor||Xt,className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:Xt?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a.jsx("span",{children:"Assigning..."})]}):a.jsx("span",{children:"Assign Instructor"})})]})]})]})}),he&&Y&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-7xl w-full my-4 shadow-2xl max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 border-b-4 border-indigo-800 flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white",children:[Y.subject_code," - ",Y.section_name]}),a.jsx("p",{className:"text-red-100",children:Y.subject_name})]}),a.jsx("button",{onClick:()=>Q(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-lg mr-2",children:se.length}),"Enrolled Students"]}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:se.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No students enrolled"}):se.map(K=>a.jsxs("div",{className:"bg-white rounded-lg p-3 flex justify-between items-center hover:shadow-md transition-all",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[K.first_name," ",K.last_name]}),a.jsx("p",{className:"text-sm text-gray-600",children:K.student_number})]}),a.jsx("button",{onClick:()=>so(K.id,`${K.first_name} ${K.last_name}`),disabled:Xt,className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg text-sm font-semibold transition-all disabled:opacity-50",children:"Remove"})]},K.id))})]}),a.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-2 flex items-center",children:[a.jsxs("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-lg mr-2",children:[fe.length," ",fe.length===1?"student":"students"]}),"Available to Enroll"]}),a.jsx("input",{type:"text",placeholder:"Search students...",value:nt,onChange:K=>ze(K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] text-sm"})]}),a.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto mb-4",children:fe.filter(K=>!nt||K.first_name.toLowerCase().includes(nt.toLowerCase())||K.last_name.toLowerCase().includes(nt.toLowerCase())||K.student_number.includes(nt)).map(K=>a.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center hover:shadow-md transition-all",children:[a.jsx("input",{type:"checkbox",checked:Re.includes(K.id),onChange:Ue=>{Ue.target.checked?Je([...Re,K.id]):Je(Re.filter(ot=>ot!==K.id))},className:"mr-3 w-5 h-5 text-red-600 rounded focus:ring-2 focus:ring-[#7a0000]"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[K.first_name," ",K.last_name]}),a.jsx("p",{className:"text-sm text-gray-600",children:K.student_number})]})]},K.id))}),a.jsx("button",{onClick:Io,disabled:Re.length===0||Xt,className:"w-full px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:Xt?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a.jsx("span",{children:"Enrolling..."})]}):a.jsxs("span",{children:["Enroll ",Re.length>0?`(${Re.length})`:""," Students"]})})]})]})})]})}),Un&&Y&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-700 p-6 border-b-4 border-yellow-800",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Enroll Program Section"}),a.jsxs("p",{className:"text-yellow-100",children:["Bulk enroll students from a program section into ",Y.class_code]})]}),a.jsx("button",{onClick:()=>qn(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-yellow-900",children:[a.jsx("span",{className:"font-semibold",children:" Tip:"})," Select a program section to enroll all its students at once. Students already enrolled will be skipped automatically."]})}),Hs?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading program sections..."})]}):Fr.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No program sections found."}),a.jsx("p",{className:"text-sm mt-2",children:"Create program sections in User Management first."})]}):a.jsxs(a.Fragment,{children:[a.jsx(ht,{label:"Select Program Section *",value:Wr,onChange:K=>Os(K),options:[{value:"",label:"Choose a program section..."},...Fr.map(K=>({value:K.id,label:`${K.sectionName} - ${K.programCode} Year ${K.yearLevel} Sem ${K.semester} (${K.schoolYear}) - ${K.studentCount} students`}))],searchable:!0}),Wr&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(()=>{const K=Fr.find(Ue=>Ue.id===parseInt(Wr));return K?a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-yellow-900",children:K.sectionName}),a.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:[K.programName,"  ",K.studentCount," student",K.studentCount!==1?"s":""]})]}):null})()})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{onClick:()=>qn(!1),disabled:Xt,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:Ts,disabled:!Wr||Xt,className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:Xt?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a.jsx("span",{children:"Enrolling..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Enroll Section"]})})]})]})]})}),pe&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-700 to-red-900 p-6 border-b-4 border-yellow-800",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Create New Section"}),a.jsx("button",{onClick:()=>ce(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:To,className:"p-6 space-y-4",children:[a.jsx(ht,{label:"Program *",value:dt.program_id,onChange:K=>{er({...dt,program_id:K,year_level:"",semester:"",course_id:""})},options:[{value:"",label:"Select a program"},...(tn?.programs||[]).map(K=>({value:K.id,label:`${K.code} - ${K.name}`}))],searchable:!0}),a.jsx(ht,{label:"Year Level *",value:dt.year_level,onChange:K=>{er({...dt,year_level:K,semester:"",course_id:""})},disabled:!dt.program_id,options:[{value:"",label:"Select year level"},{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"}]}),!dt.program_id&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a program first"}),a.jsx(ht,{label:"Semester *",value:dt.semester,onChange:K=>{er({...dt,semester:K,course_id:""})},disabled:!dt.year_level,options:[{value:"",label:"Select semester"},{value:"1",label:"First Semester"},{value:"2",label:"Second Semester"},{value:"3",label:"Summer"}]}),!dt.year_level&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level first"}),a.jsx(ht,{label:"Course *",value:dt.course_id,onChange:K=>er({...dt,course_id:parseInt(K)}),disabled:!dt.semester,options:[{value:"",label:"Select a course"},...Ro.length===0&&dt.semester?[{value:"",label:"No courses available for selected criteria",disabled:!0}]:Ro.map(K=>({value:K.id,label:`${K.course_code||K.classCode} - ${K.course_name||K.name}`}))],searchable:!0}),!dt.semester&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select semester first"}),dt.semester&&Ro.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:" No courses found for the selected program, year level, and semester"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Section Code *"}),a.jsx("input",{type:"text",required:!0,placeholder:"e.g., CS101-A, IT201-1",value:dt.class_code,onChange:K=>er({...dt,class_code:K.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Academic Year *"}),a.jsx("input",{type:"text",required:!0,placeholder:"2024-2025",value:dt.academic_year,onChange:K=>er({...dt,academic_year:K.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Max Students *"}),a.jsx("input",{type:"number",required:!0,min:"1",value:dt.max_students,onChange:K=>er({...dt,max_students:parseInt(K.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>ce(!1),className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:Xt,className:"px-6 py-3 bg-yellow-600 hover:bg-amber-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:Xt?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),a.jsx("span",{children:"Create Section"})]})})]})]})]})}),me&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 border-b-4 border-yellow-800",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Edit Section"}),a.jsx("button",{onClick:()=>_e(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("form",{onSubmit:Ks,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Section Code *"}),a.jsx("input",{type:"text",required:!0,placeholder:"e.g., CS101-A, IT201-1",value:dt.class_code,onChange:K=>er({...dt,class_code:K.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-yellow-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Academic Year *"}),a.jsx("input",{type:"text",required:!0,placeholder:"2024-2025",value:dt.academic_year,onChange:K=>er({...dt,academic_year:K.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-yellow-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Max Students *"}),a.jsx("input",{type:"number",required:!0,min:"1",value:dt.max_students,onChange:K=>er({...dt,max_students:parseInt(K.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-yellow-500"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>_e(!1),className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:Xt,className:"px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:Xt?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Updating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:"Update Section"})]})})]})]})]})}),dr&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full my-4 max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-yellow-600 to-amber-700 text-white p-6 rounded-t-2xl",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:" Bulk Student Enrollment"}),a.jsx("p",{className:"text-yellow-100 mt-1",children:"Enroll multiple students to sections via CSV upload"})]}),a.jsx("button",{onClick:()=>{Et(!1),kn(null),en([]),Ut([]),mr({current:0,total:0,status:""})},className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"bg-red-50 border-2 border-yellow-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"CSV Format Instructions"}),a.jsx("p",{className:"text-sm text-red-800 mb-3",children:"Download the template to see the required format. Your CSV must include these columns:"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm mb-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-red-600",children:"Required:"}),a.jsxs("ul",{className:"list-disc list-inside text-red-800 ml-2",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-red-100 px-1 rounded",children:"student_identifier"})," - Email or student number"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-red-100 px-1 rounded",children:"section_identifier"})," - Class code or section ID"]})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-600",children:"Optional:"}),a.jsxs("ul",{className:"list-disc list-inside text-red-800 ml-2",children:[a.jsxs("li",{children:[a.jsx("code",{className:"bg-red-100 px-1 rounded",children:"identifier_type"})," - 'email' or 'student_number'"]}),a.jsxs("li",{children:[a.jsx("code",{className:"bg-red-100 px-1 rounded",children:"notes"})," - Any enrollment notes"]})]})]})]}),a.jsxs("button",{onClick:Gs,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download CSV Template"]})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Upload Enrollment CSV File *"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-yellow-500 transition-all bg-gray-50",children:[a.jsx("input",{type:"file",accept:".csv",onChange:Ms,className:"hidden",id:"bulk-enroll-file"}),a.jsx("label",{htmlFor:"bulk-enroll-file",className:"cursor-pointer",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-gray-700",children:fr?fr.name:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-sm text-gray-500",children:"CSV file format only"})]})]})})]})]}),Bn.length>0&&a.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:[a.jsxs("h3",{className:"font-semibold text-red-900 mb-2 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Validation Errors (",Bn.length,")"]}),a.jsx("div",{className:"max-h-32 overflow-y-auto",children:a.jsxs("ul",{className:"list-disc list-inside text-sm text-red-800 space-y-1",children:[Bn.slice(0,10).map((K,Ue)=>a.jsx("li",{children:K},Ue)),Bn.length>10&&a.jsxs("li",{className:"font-semibold",children:["... and ",Bn.length-10," more errors"]})]})})]}),Zr.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:" Preview (First 5 rows)"}),a.jsx("div",{className:"overflow-x-auto border-2 border-gray-200 rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Student"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Notes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Zr.map((K,Ue)=>a.jsxs("tr",{className:K.valid?"bg-yellow-50":"bg-red-50",children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:K.valid?a.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:" Valid"}):a.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:" Invalid"})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:K.student_identifier||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:K.section_identifier||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:K.identifier_type||"auto"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:K.notes||"-"})]},Ue))})]})})]}),Br.status==="processing"&&a.jsxs("div",{className:"bg-red-50 border-2 border-yellow-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-red-900",children:"Processing enrollments..."}),a.jsxs("span",{className:"text-sm font-semibold text-red-900",children:[Br.current," / ",Br.total]})]}),a.jsx("div",{className:"w-full bg-red-200 rounded-full h-3",children:a.jsx("div",{className:"bg-red-600 h-3 rounded-full transition-all duration-300",style:{width:`${Br.current/Br.total*100}%`}})}),a.jsxs("p",{className:"text-xs text-red-700 mt-2",children:[Math.round(Br.current/Br.total*100),"% complete"]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>{Et(!1),kn(null),en([]),Ut([]),mr({current:0,total:0,status:""})},disabled:Br.status==="processing",className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),a.jsx("button",{type:"button",onClick:Do,disabled:!fr||Br.status==="processing",className:"px-6 py-3 bg-yellow-600 hover:bg-amber-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:Br.status==="processing"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Enrolling..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),a.jsxs("span",{children:["Enroll Students (",Zr.filter(K=>K.valid).length," valid)"]})]})})]})]})]})}),ds&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full my-4 max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 text-white p-6 rounded-t-2xl flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:" Quick Bulk Section Creation"}),a.jsx("p",{className:"text-red-100 mt-1",children:"Create sections for all courses in a program/year/semester"})]}),a.jsx("button",{onClick:()=>{An(!1),oa({program_id:"",year_level:"",semester:"",program_section_id:""}),la([]),ga([])},className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[a.jsx("div",{className:"bg-red-50 border-2 border-yellow-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"How it works"}),a.jsx("p",{className:"text-sm text-red-800",children:"Select a program, year level, and semester. The system will find all courses matching those criteria and create class sections for each course based on a template section you select."})]})]})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Program *"}),a.jsx(ht,{options:[{value:"",label:"Select program..."},...tn?.programs?.map(K=>({value:K.id,label:`${K.code} - ${K.name}`}))||[]],value:Ur.program_id,onChange:K=>Oi("program_id",K),placeholder:"Select program...",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Year Level *"}),a.jsx(ht,{options:[{value:"",label:"Select year..."},{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"}],value:Ur.year_level,onChange:K=>Oi("year_level",K),placeholder:"Select year...",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Semester *"}),a.jsx(ht,{options:[{value:"",label:"Select semester..."},{value:"1",label:"1st Semester"},{value:"2",label:"2nd Semester"},{value:"3",label:"Summer"}],value:Ur.semester,onChange:K=>Oi("semester",K),placeholder:"Select semester...",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Program Section *"}),a.jsx(ht,{options:[{value:"",label:Ur.program_id?"Select program section...":"Select program first..."},...Za.map(K=>{const Ue=K.sectionName||K.section_name||"Unnamed",ot=K.programCode||K.program_code||"",Ct=K.yearLevel||K.year_level||"",Kt=K.semester||"",Zt=K.studentCount||0;return{value:K.id,label:`${Ue} - ${ot} (Yr ${Ct}, Sem ${Kt})  ${Zt} students`}})],value:Ur.program_section_id,onChange:K=>Oi("program_section_id",K),placeholder:Ur.program_id?"Select program section...":"Select program first...",disabled:!Ur.program_id,required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Za.length===0&&Ur.program_id?"No program sections found for selected criteria":"Class sections will be created for this student group"})]})]}),mi?a.jsxs("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-xl p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading matching courses..."})]}):pa.length>0?a.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4",children:[a.jsxs("h3",{className:"font-semibold text-yellow-900 mb-3",children:[" Found ",pa.length," matching course(s)"]}),a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:pa.map(K=>a.jsxs("div",{className:"bg-white p-3 rounded-lg flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:K.subject_code}),a.jsx("span",{className:"text-gray-600 ml-2",children:K.subject_name})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[K.units," units"]})]},K.id))}),Ur.program_section_id&&a.jsxs("p",{className:"text-sm text-yellow-700 mt-3",children:[" Sections will be named: [SUBJECT_CODE]-",Za.find(K=>K.id===parseInt(Ur.program_section_id))?.sectionName]})]}):Ur.program_id&&Ur.year_level&&Ur.semester?a.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4",children:a.jsx("p",{className:"text-yellow-800",children:" No courses found for the selected criteria"})}):null,a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"button",onClick:()=>{An(!1),oa({program_id:"",year_level:"",semester:"",program_section_id:""}),la([]),ga([])},disabled:Xt,className:"flex-1 px-6 py-3 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),a.jsx("button",{type:"button",onClick:fl,disabled:!Ur.program_section_id||pa.length===0||Xt,className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center justify-center gap-2",children:Xt?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Creating Sections..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a.jsxs("span",{children:["Create ",pa.length," Section(s)"]})]})})]})]})]})}),a.jsx(ec,{isOpen:Ie,onClose:()=>ct(!1),title:Ht.title,message:Ht.message,type:Ht.type}),a.jsx(E0,{isOpen:nr,onClose:()=>gr(!1),title:qr.title,message:qr.message,onConfirm:qr.onConfirm,confirmText:qr.confirmText,cancelText:qr.cancelText})]})}function HX(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState("");Tf(r,500);const[s,i]=L.useState("all"),[o,l]=L.useState("all"),[u,f]=L.useState("all"),[h,m]=L.useState("all"),[v,p]=L.useState("all"),[w,x]=L.useState(""),[y,j]=L.useState(""),[A,N]=L.useState(null),[k,C]=L.useState(!1),[T,F]=L.useState(1),[M,q]=L.useState(1),[G,R]=L.useState(15),[D,z]=L.useState([]),[W,Z]=L.useState({totalLogs:0,last24h:0,criticalEvents:0,failedAttempts:0}),[le,ge]=L.useState(!0),[te,ue]=L.useState(null),[H,ae]=L.useState(!1),[U,B]=L.useState({title:"",message:"",type:"info"}),Y=(me,_e="Notification",se="info")=>{B({title:_e,message:me,type:se}),ae(!0)};L.useEffect(()=>{(!t||!Qi(t))&&e("/admin/dashboard")},[t,e]),L.useEffect(()=>{(async()=>{try{ge(!0),ue(null);const _e={page:T,page_size:G};if(s!=="all"&&(_e.action=s),o!=="all"&&(_e.category=o),u!=="all"&&(_e.status=u),h!=="all"&&(_e.user=h),r.trim()&&(_e.search=r.trim()),v==="custom"&&w&&y)_e.start_date=new Date(w).toISOString(),_e.end_date=new Date(y+"T23:59:59").toISOString();else if(v!=="all"){const ye=new Date;if(v==="today")_e.start_date=new Date(ye.setHours(0,0,0,0)).toISOString();else if(v==="yesterday"){const fe=new Date;fe.setDate(fe.getDate()-1),_e.start_date=new Date(fe.setHours(0,0,0,0)).toISOString(),_e.end_date=new Date(fe.setHours(23,59,59,999)).toISOString()}else if(v==="week"){const fe=new Date;fe.setDate(fe.getDate()-7),_e.start_date=fe.toISOString()}else if(v==="2weeks"){const fe=new Date;fe.setDate(fe.getDate()-14),_e.start_date=fe.toISOString()}else if(v==="month"){const fe=new Date;fe.setDate(fe.getDate()-30),_e.start_date=fe.toISOString()}else if(v==="3months"){const fe=new Date;fe.setMonth(fe.getMonth()-3),_e.start_date=fe.toISOString()}else if(v==="6months"){const fe=new Date;fe.setMonth(fe.getMonth()-6),_e.start_date=fe.toISOString()}else if(v==="year"){const fe=new Date;fe.setFullYear(fe.getFullYear()-1),_e.start_date=fe.toISOString()}}const se=await rt.getAuditLogs(_e);se?.success?(z(se.data||[]),se.pagination&&q(se.pagination.total_pages)):ue("Failed to load audit logs")}catch(_e){console.error("Error fetching audit logs:",_e),ue(_e.message||"Failed to load audit logs. Please try again.")}finally{ge(!1)}})()},[T,s,o,u,h,r,v,w,y]),L.useEffect(()=>{F(1)},[s,o,u,v,r,h]);const ne=L.useMemo(()=>[...new Set(D.map(me=>me.user))].sort(),[D]);L.useMemo(()=>[...new Set(D.map(me=>me.action))].sort(),[D]),L.useMemo(()=>[...new Set(D.map(me=>me.category))].sort(),[D]);const he=D;L.useEffect(()=>{(async()=>{try{const _e=await rt.getAuditLogStats();_e?.success&&Z({totalLogs:_e.data.total_logs||0,last24h:_e.data.last_24h||0,criticalEvents:_e.data.critical_events||0,failedAttempts:_e.data.failed_blocked||0})}catch(_e){console.error("Error fetching stats:",_e)}})()},[]);const Q=L.useMemo(()=>{if(W.last24h!==void 0)return W;const me=D.length,_e=D.filter(fe=>{const V=new Date(fe.timestamp),Re=new Date(Date.now()-1440*60*1e3);return V>=Re}).length,se=D.filter(fe=>fe.severity==="Critical").length,ye=D.filter(fe=>fe.status==="Failed"||fe.status==="Blocked").length;return{totalLogs:me,last24h:_e,criticalEvents:se,failedAttempts:ye}},[D,W]),pe=me=>{N(me),C(!0)},ce=async()=>{try{const _e=[["ID","Timestamp","User","Action","Category","IP Address","Status","Severity","Details"].join(","),...D.map(V=>[V.id,new Date(V.timestamp).toLocaleString(),`"${V.user}"`,`"${V.action}"`,`"${V.category}"`,V.ipAddress,V.status,V.severity,`"${typeof V.details=="object"?JSON.stringify(V.details):V.details}"`].join(","))].join(`
`),se=new Blob([_e],{type:"text/csv"}),ye=window.URL.createObjectURL(se),fe=document.createElement("a");fe.href=ye,fe.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),window.URL.revokeObjectURL(ye)}catch(me){console.error("Export error:",me),Y("Failed to export logs. Please try again.","Export Failed","error")}};return!t||!Qi(t)?null:le?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading audit logs..."})]})}):te?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:a.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md",children:a.jsxs("div",{className:"text-red-600 text-center",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Error Loading Audit Logs"}),a.jsx("p",{className:"text-gray-600 mb-4",children:te}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Retry"})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl",children:"Audit Log Viewer"}),a.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Monitor system activity and security events"})]})]}),a.jsxs("button",{onClick:ce,className:"bg-white hover:bg-[#ffd700] text-[#7a0000] font-semibold px-6 py-3 rounded-button shadow-card transition-all duration-250 flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{children:"Export Logs"})]})]})})}),a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[a.jsx("div",{className:"bg-white rounded-card shadow-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Total Logs"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-gray-900",children:Q.totalLogs})]}),a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),a.jsx("div",{className:"bg-white rounded-card shadow-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Last 24 Hours"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:Q.last24h})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"bg-white rounded-card shadow-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Critical Events"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-red-600",children:Q.criticalEvents})]}),a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),a.jsx("div",{className:"bg-white rounded-card shadow-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Failed/Blocked"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:Q.failedAttempts})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})})]})})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 mb-12 overflow-visible",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Advanced Filters"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4 overflow-visible",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Search"}),a.jsx("input",{type:"text",placeholder:"Search by user, action, IP, or details...",value:r,onChange:me=>n(me.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-100 focus:border-[#7a0000] transition-all"})]}),a.jsx(ht,{label:" Action Type",value:s,onChange:me=>i(me),searchable:!0,options:[{value:"all",label:"All Actions"},{value:"LOGIN",label:" LOGIN"},{value:"LOGOUT",label:" LOGOUT"},{value:"LOGIN_FAILED",label:" LOGIN_FAILED"},{value:"PASSWORD_RESET",label:" PASSWORD_RESET"},{value:"PASSWORD_CHANGED",label:" PASSWORD_CHANGED"},{value:"CREATE_USER",label:" CREATE_USER"},{value:"UPDATE_USER",label:" UPDATE_USER"},{value:"DELETE_USER",label:" DELETE_USER"},{value:"USER_ROLE_CHANGED",label:" USER_ROLE_CHANGED"},{value:"USER_ACTIVATED",label:" USER_ACTIVATED"},{value:"USER_DEACTIVATED",label:" USER_DEACTIVATED"},{value:"CREATE_COURSE",label:" CREATE_COURSE"},{value:"UPDATE_COURSE",label:" UPDATE_COURSE"},{value:"COURSE_UPDATED",label:" COURSE_UPDATED"},{value:"DELETE_COURSE",label:" DELETE_COURSE"},{value:"COURSE_ARCHIVED",label:" COURSE_ARCHIVED"},{value:"COURSE_RESTORED",label:" COURSE_RESTORED"},{value:"CREATE_SECTION",label:" CREATE_SECTION"},{value:"UPDATE_SECTION",label:" UPDATE_SECTION"},{value:"SECTION_UPDATED",label:" SECTION_UPDATED"},{value:"DELETE_SECTION",label:" DELETE_SECTION"},{value:"SECTION_DELETED",label:" SECTION_DELETED"},{value:"ENROLL_STUDENT",label:" ENROLL_STUDENT"},{value:"DROP_STUDENT",label:" DROP_STUDENT"},{value:"REMOVE_STUDENT_FROM_SECTION",label:" REMOVE_STUDENT"},{value:"BULK_ENROLLMENT",label:" BULK_ENROLLMENT"},{value:"QUESTIONNAIRE_SUBMITTED",label:" QUESTIONNAIRE_SUBMITTED"},{value:"QUESTIONNAIRE_UPDATED",label:" QUESTIONNAIRE_UPDATED"},{value:"EVALUATION_SUBMITTED",label:" EVALUATION_SUBMITTED"},{value:"EVALUATION_GRADED",label:" EVALUATION_GRADED"},{value:"CREATE_PERIOD",label:" CREATE_PERIOD"},{value:"UPDATE_PERIOD",label:" UPDATE_PERIOD"},{value:"DELETE_PERIOD",label:" DELETE_PERIOD"},{value:"PERIOD_ACTIVATED",label:" PERIOD_ACTIVATED"},{value:"PERIOD_CLOSED",label:" PERIOD_CLOSED"},{value:"EXPORT_USERS",label:" EXPORT_USERS"},{value:"EXPORT_COURSES",label:" EXPORT_COURSES"},{value:"EXPORT_SECTIONS",label:" EXPORT_SECTIONS"},{value:"EXPORT_EVALUATIONS",label:" EXPORT_EVALUATIONS"},{value:"EXPORT_AUDIT_LOGS",label:" EXPORT_AUDIT_LOGS"},{value:"SYSTEM_CONFIG_CHANGE",label:" SYSTEM_CONFIG_CHANGE"},{value:"SETTINGS_UPDATED",label:" SETTINGS_UPDATED"},{value:"BACKUP_CREATED",label:" BACKUP_CREATED"}]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4 overflow-visible",children:[a.jsx(ht,{label:" Category",value:o,onChange:me=>l(me),options:[{value:"all",label:"All Categories"},{value:"Authentication",label:"Authentication"},{value:"User Management",label:"User Management"},{value:"Course Management",label:"Course Management"},{value:"Section Management",label:"Section Management"},{value:"Enrollment",label:"Enrollment"},{value:"Questionnaire",label:"Questionnaire"},{value:"Evaluation",label:"Evaluation"},{value:"Period Management",label:"Period Management"},{value:"Data Export",label:"Data Export"},{value:"System Configuration",label:"System Configuration"},{value:"Program Management",label:"Program Management"}]}),a.jsx(ht,{label:" Status",value:u,onChange:me=>f(me),options:[{value:"all",label:"All Statuses"},{value:"Success",label:" Success"},{value:"Failed",label:" Failed"},{value:"Blocked",label:" Blocked"},{value:"Pending",label:" Pending"}]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 overflow-visible",children:[a.jsx(ht,{label:" User / Role",value:h,onChange:me=>m(me),searchable:ne.length>5,options:[{value:"all",label:"All Users"},{value:"System",label:" System"},{value:"Admin",label:" Admin"},{value:"Instructor",label:" Instructor"},{value:"Student",label:" Student"},{value:"Secretary",label:" Secretary"},{value:"Department Head",label:" Department Head"},...ne.map(me=>({value:me,label:me}))]}),a.jsx(ht,{label:" Date Range",value:v,onChange:me=>p(me),options:[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"week",label:"Last 7 Days"},{value:"2weeks",label:"Last 14 Days"},{value:"month",label:"Last 30 Days"},{value:"3months",label:"Last 3 Months"},{value:"6months",label:"Last 6 Months"},{value:"year",label:"Last Year"},{value:"custom",label:"Custom Range"}]})]}),v==="custom"&&a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Start Date"}),a.jsx("input",{type:"date",value:w,onChange:me=>x(me.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" End Date"}),a.jsx("input",{type:"date",value:y,onChange:me=>j(me.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-gray-200",children:[a.jsx("div",{className:"text-sm text-gray-600",children:(s!=="all"||o!=="all"||u!=="all"||h!=="all"||v!=="all"||r)&&a.jsxs("span",{children:[" Active filters: ",[s!=="all"&&"Action",o!=="all"&&"Category",u!=="all"&&"Status",h!=="all"&&"User",v!=="all"&&"Date",r&&"Search"].filter(Boolean).join(", ")]})}),a.jsx("button",{onClick:()=>{n(""),i("all"),l("all"),f("all"),m("all"),p("all"),x(""),j("")},className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-all text-sm font-medium",children:" Clear All Filters"})]})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden w-fit mx-auto",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table-auto",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Timestamp"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Action"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"IP Address"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:he.map(me=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium text-center",children:new Date(me.timestamp).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 text-center",children:me.user}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded",children:me.action})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 text-center",children:me.category}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-600 text-center",children:me.ipAddress}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${me.status==="Success"?"bg-yellow-100 text-yellow-800":me.status==="Failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-orange-800"}`,children:me.status}),me.severity==="Critical"&&a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-bold bg-red-500 text-white",children:""})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>pe(me),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-all inline-flex items-center justify-center",title:"View Details",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]},me.id))})]})}),a.jsx(tc,{currentPage:T,totalPages:M,totalItems:he.length,onPageChange:F,itemLabel:"logs",itemsPerPage:G,onItemsPerPageChange:me=>{R(me),F(1)},showItemsPerPage:!0})]})]}),k&&A&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 border-b-4 border-red-800",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:" Log Details"}),a.jsx("button",{onClick:()=>C(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Log ID"}),a.jsxs("p",{className:"text-gray-900 font-mono",children:["#",A.id]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Timestamp"}),a.jsx("p",{className:"text-gray-900",children:new Date(A.timestamp).toLocaleString()})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"User"}),a.jsx("p",{className:"text-gray-900",children:A.user})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Action"}),a.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold bg-red-100 text-red-800 rounded",children:A.action})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Category"}),a.jsx("p",{className:"text-gray-900",children:A.category})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Details"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 max-h-60 overflow-y-auto",children:typeof A.details=="object"?a.jsx("pre",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:JSON.stringify(A.details,null,2)}):a.jsx("p",{className:"text-gray-900",children:A.details||"No details available"})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"IP Address"}),a.jsx("p",{className:"text-gray-900 font-mono",children:A.ipAddress})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-semibold ${A.status==="Success"?"bg-yellow-100 text-yellow-800":A.status==="Failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-orange-800"}`,children:A.status})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Severity"}),a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-semibold ${A.severity==="Critical"?"bg-red-100 text-red-800":A.severity==="Warning"?"bg-yellow-100 text-orange-800":"bg-red-100 text-red-800"}`,children:A.severity})]}),a.jsx("button",{onClick:()=>C(!1),className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition-all",children:"Close"})]})]})}),a.jsx(ec,{isOpen:H,onClose:()=>ae(!1),title:U.title,message:U.message,variant:U.type==="error"?"danger":U.type})]})}const VX="modulepreload",YX=function(e){return"/"+e},UA={},q2=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=u(r.map(f=>{if(f=YX(f),f in UA)return;UA[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":VX,h||(v.as="script"),v.crossOrigin="",v.href=f,l&&v.setAttribute("nonce",l),document.head.appendChild(v),h)return new Promise((p,w)=>{v.addEventListener("load",p),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function fn(e){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(e)}var Ao=Uint8Array,Ei=Uint16Array,hj=Int32Array,mj=new Ao([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pj=new Ao([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qA=new Ao([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RE=function(e,t){for(var r=new Ei(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new hj(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},TE=RE(mj,2),GX=TE.b,zw=TE.r;GX[28]=258,zw[258]=28;var KX=RE(pj,0),zA=KX.r,Ww=new Ei(32768);for(var $n=0;$n<32768;++$n){var Rc=($n&43690)>>1|($n&21845)<<1;Rc=(Rc&52428)>>2|(Rc&13107)<<2,Rc=(Rc&61680)>>4|(Rc&3855)<<4,Ww[$n]=((Rc&65280)>>8|(Rc&255)<<8)>>1}var Th=(function(e,t,r){for(var n=e.length,s=0,i=new Ei(t);s<n;++s)e[s]&&++i[e[s]-1];var o=new Ei(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new Ei(1<<t);var u=15-t;for(s=0;s<n;++s)if(e[s])for(var f=s<<4|e[s],h=t-e[s],m=o[e[s]-1]++<<h,v=m|(1<<h)-1;m<=v;++m)l[Ww[m]>>u]=f}else for(l=new Ei(n),s=0;s<n;++s)e[s]&&(l[s]=Ww[o[e[s]-1]++]>>15-e[s]);return l}),Zu=new Ao(288);for(var $n=0;$n<144;++$n)Zu[$n]=8;for(var $n=144;$n<256;++$n)Zu[$n]=9;for(var $n=256;$n<280;++$n)Zu[$n]=7;for(var $n=280;$n<288;++$n)Zu[$n]=8;var Wp=new Ao(32);for(var $n=0;$n<32;++$n)Wp[$n]=5;var XX=Th(Zu,9,0),JX=Th(Wp,5,0),ME=function(e){return(e+7)/8|0},QX=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ao(e.subarray(t,r))},Bl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},yh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},z2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:DE,l:0};if(s==1){var o=new Ao(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(C,T){return C.f-T.f}),r.push({s:-1,f:25001});var l=r[0],u=r[1],f=0,h=1,m=2;for(r[0]={s:-1,f:l.f+u.f,l,r:u};h!=s-1;)l=r[r[f].f<r[m].f?f++:m++],u=r[f!=h&&r[f].f<r[m].f?f++:m++],r[h++]={s:-1,f:l.f+u.f,l,r:u};for(var v=i[0].s,n=1;n<s;++n)i[n].s>v&&(v=i[n].s);var p=new Ei(v+1),w=Hw(r[h-1],p,0);if(w>t){var n=0,x=0,y=w-t,j=1<<y;for(i.sort(function(T,F){return p[F.s]-p[T.s]||T.f-F.f});n<s;++n){var A=i[n].s;if(p[A]>t)x+=j-(1<<w-p[A]),p[A]=t;else break}for(x>>=y;x>0;){var N=i[n].s;p[N]<t?x-=1<<t-p[N]++-1:++n}for(;n>=0&&x;--n){var k=i[n].s;p[k]==t&&(--p[k],++x)}w=t}return{t:new Ao(p),l:w}},Hw=function(e,t,r){return e.s==-1?Math.max(Hw(e.l,t,r+1),Hw(e.r,t,r+1)):t[e.s]=r},WA=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ei(++t),n=0,s=e[0],i=1,o=function(u){r[n++]=u},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},bh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},IE=function(e,t,r){var n=r.length,s=ME(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},HA=function(e,t,r,n,s,i,o,l,u,f,h){Bl(t,h++,r),++s[256];for(var m=z2(s,15),v=m.t,p=m.l,w=z2(i,15),x=w.t,y=w.l,j=WA(v),A=j.c,N=j.n,k=WA(x),C=k.c,T=k.n,F=new Ei(19),M=0;M<A.length;++M)++F[A[M]&31];for(var M=0;M<C.length;++M)++F[C[M]&31];for(var q=z2(F,7),G=q.t,R=q.l,D=19;D>4&&!G[qA[D-1]];--D);var z=f+5<<3,W=bh(s,Zu)+bh(i,Wp)+o,Z=bh(s,v)+bh(i,x)+o+14+3*D+bh(F,G)+2*F[16]+3*F[17]+7*F[18];if(u>=0&&z<=W&&z<=Z)return IE(t,h,e.subarray(u,u+f));var le,ge,te,ue;if(Bl(t,h,1+(Z<W)),h+=2,Z<W){le=Th(v,p,0),ge=v,te=Th(x,y,0),ue=x;var H=Th(G,R,0);Bl(t,h,N-257),Bl(t,h+5,T-1),Bl(t,h+10,D-4),h+=14;for(var M=0;M<D;++M)Bl(t,h+3*M,G[qA[M]]);h+=3*D;for(var ae=[A,C],U=0;U<2;++U)for(var B=ae[U],M=0;M<B.length;++M){var Y=B[M]&31;Bl(t,h,H[Y]),h+=G[Y],Y>15&&(Bl(t,h,B[M]>>5&127),h+=B[M]>>12)}}else le=XX,ge=Zu,te=JX,ue=Wp;for(var M=0;M<l;++M){var ne=n[M];if(ne>255){var Y=ne>>18&31;yh(t,h,le[Y+257]),h+=ge[Y+257],Y>7&&(Bl(t,h,ne>>23&31),h+=mj[Y]);var he=ne&31;yh(t,h,te[he]),h+=ue[he],he>3&&(yh(t,h,ne>>5&8191),h+=pj[he])}else yh(t,h,le[ne]),h+=ge[ne]}return yh(t,h,le[256]),h+ge[256]},ZX=new hj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DE=new Ao(0),eJ=function(e,t,r,n,s,i){var o=i.z||e.length,l=new Ao(n+o+5*(1+Math.ceil(o/7e3))+s),u=l.subarray(n,l.length-s),f=i.l,h=(i.r||0)&7;if(t){h&&(u[0]=i.r>>3);for(var m=ZX[t-1],v=m>>13,p=m&8191,w=(1<<r)-1,x=i.p||new Ei(32768),y=i.h||new Ei(w+1),j=Math.ceil(r/3),A=2*j,N=function(fe){return(e[fe]^e[fe+1]<<j^e[fe+2]<<A)&w},k=new hj(25e3),C=new Ei(288),T=new Ei(32),F=0,M=0,q=i.i||0,G=0,R=i.w||0,D=0;q+2<o;++q){var z=N(q),W=q&32767,Z=y[z];if(x[W]=Z,y[z]=W,R<=q){var le=o-q;if((F>7e3||G>24576)&&(le>423||!f)){h=HA(e,u,0,k,C,T,M,G,D,q-D,h),G=F=M=0,D=q;for(var ge=0;ge<286;++ge)C[ge]=0;for(var ge=0;ge<30;++ge)T[ge]=0}var te=2,ue=0,H=p,ae=W-Z&32767;if(le>2&&z==N(q-ae))for(var U=Math.min(v,le)-1,B=Math.min(32767,q),Y=Math.min(258,le);ae<=B&&--H&&W!=Z;){if(e[q+te]==e[q+te-ae]){for(var ne=0;ne<Y&&e[q+ne]==e[q+ne-ae];++ne);if(ne>te){if(te=ne,ue=ae,ne>U)break;for(var he=Math.min(ae,ne-2),Q=0,ge=0;ge<he;++ge){var pe=q-ae+ge&32767,ce=x[pe],me=pe-ce&32767;me>Q&&(Q=me,Z=pe)}}}W=Z,Z=x[W],ae+=W-Z&32767}if(ue){k[G++]=268435456|zw[te]<<18|zA[ue];var _e=zw[te]&31,se=zA[ue]&31;M+=mj[_e]+pj[se],++C[257+_e],++T[se],R=q+te,++F}else k[G++]=e[q],++C[e[q]]}}for(q=Math.max(q,R);q<o;++q)k[G++]=e[q],++C[e[q]];h=HA(e,u,f,k,C,T,M,G,D,q-D,h),f||(i.r=h&7|u[h/8|0]<<3,h-=7,i.h=y,i.p=x,i.i=q,i.w=R)}else{for(var q=i.w||0;q<o+f;q+=65535){var ye=q+65535;ye>=o&&(u[h/8|0]=f,ye=o),h=IE(u,h+1,e.subarray(q,ye))}i.i=o}return QX(l,0,n+ME(h)+s)},FE=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},tJ=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Ao(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return eJ(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},$E=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},rJ=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=FE();s.p(t.dictionary),$E(e,2,s.d())}};function Vw(e,t){t||(t={});var r=FE();r.p(e);var n=tJ(e,t,t.dictionary?6:2,4);return rJ(n,t),$E(n,n.length-4,r.d()),n}var nJ=typeof TextDecoder<"u"&&new TextDecoder,aJ=0;try{nJ.decode(DE,{stream:!0}),aJ=1}catch{}function sJ(e){if(Array.isArray(e))return e}function iJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function VA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oJ(e,t){if(e){if(typeof e=="string")return VA(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VA(e,t):void 0}}function lJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YA(e,t){return sJ(e)||iJ(e,t)||oJ(e,t)||lJ()}function GA(e,t="utf8"){return new TextDecoder(t).decode(e)}const cJ=new TextEncoder;function uJ(e){return cJ.encode(e)}const dJ=1024*8,fJ=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),W2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class gj{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=dJ,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof gj)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=W2[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===fJ&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const u=new W2[r](l.buffer);return this.offset+=n,u.reverse(),u}const o=new W2[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return GA(this.readBytes(t))}decodeText(t=1,r="utf8"){return GA(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(uJ(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function If(e){let t=e.length;for(;--t>=0;)e[t]=0}const hJ=3,mJ=258,BE=29,pJ=256,gJ=pJ+1+BE,UE=30,vJ=512,xJ=new Array((gJ+2)*2);If(xJ);const yJ=new Array(UE*2);If(yJ);const bJ=new Array(vJ);If(bJ);const wJ=new Array(mJ-hJ+1);If(wJ);const jJ=new Array(BE);If(jJ);const NJ=new Array(UE);If(NJ);const SJ=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Yw=SJ;const _J=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},kJ=new Uint32Array(_J()),AJ=(e,t,r,n)=>{const s=kJ,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Qo=AJ,Gw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const CJ=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var PJ=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)CJ(r,n)&&(e[n]=r[n])}}return e},EJ=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let o=e[n];r.set(o,s),s+=o.length}return r},zE={assign:PJ,flattenChunks:EJ};let WE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{WE=!1}const d0=new Uint8Array(256);for(let e=0;e<256;e++)d0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;d0[254]=d0[254]=1;var LJ=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const OJ=(e,t)=>{if(t<65534&&e.subarray&&WE)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var RJ=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=e[n++];if(o<128){i[s++]=o;continue}let l=d0[o];if(l>4){i[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return OJ(i,s)},TJ=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+d0[e[r]]>t?r:t},Kw={string2buf:LJ,buf2string:RJ,utf8border:TJ};function MJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var IJ=MJ;const Am=16209,DJ=16191;var FJ=function(t,r){let n,s,i,o,l,u,f,h,m,v,p,w,x,y,j,A,N,k,C,T,F,M,q,G;const R=t.state;n=t.next_in,q=t.input,s=n+(t.avail_in-5),i=t.next_out,G=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),u=R.dmax,f=R.wsize,h=R.whave,m=R.wnext,v=R.window,p=R.hold,w=R.bits,x=R.lencode,y=R.distcode,j=(1<<R.lenbits)-1,A=(1<<R.distbits)-1;e:do{w<15&&(p+=q[n++]<<w,w+=8,p+=q[n++]<<w,w+=8),N=x[p&j];t:for(;;){if(k=N>>>24,p>>>=k,w-=k,k=N>>>16&255,k===0)G[i++]=N&65535;else if(k&16){C=N&65535,k&=15,k&&(w<k&&(p+=q[n++]<<w,w+=8),C+=p&(1<<k)-1,p>>>=k,w-=k),w<15&&(p+=q[n++]<<w,w+=8,p+=q[n++]<<w,w+=8),N=y[p&A];r:for(;;){if(k=N>>>24,p>>>=k,w-=k,k=N>>>16&255,k&16){if(T=N&65535,k&=15,w<k&&(p+=q[n++]<<w,w+=8,w<k&&(p+=q[n++]<<w,w+=8)),T+=p&(1<<k)-1,T>u){t.msg="invalid distance too far back",R.mode=Am;break e}if(p>>>=k,w-=k,k=i-o,T>k){if(k=T-k,k>h&&R.sane){t.msg="invalid distance too far back",R.mode=Am;break e}if(F=0,M=v,m===0){if(F+=f-k,k<C){C-=k;do G[i++]=v[F++];while(--k);F=i-T,M=G}}else if(m<k){if(F+=f+m-k,k-=m,k<C){C-=k;do G[i++]=v[F++];while(--k);if(F=0,m<C){k=m,C-=k;do G[i++]=v[F++];while(--k);F=i-T,M=G}}}else if(F+=m-k,k<C){C-=k;do G[i++]=v[F++];while(--k);F=i-T,M=G}for(;C>2;)G[i++]=M[F++],G[i++]=M[F++],G[i++]=M[F++],C-=3;C&&(G[i++]=M[F++],C>1&&(G[i++]=M[F++]))}else{F=i-T;do G[i++]=G[F++],G[i++]=G[F++],G[i++]=G[F++],C-=3;while(C>2);C&&(G[i++]=G[F++],C>1&&(G[i++]=G[F++]))}}else if((k&64)===0){N=y[(N&65535)+(p&(1<<k)-1)];continue r}else{t.msg="invalid distance code",R.mode=Am;break e}break}}else if((k&64)===0){N=x[(N&65535)+(p&(1<<k)-1)];continue t}else if(k&32){R.mode=DJ;break e}else{t.msg="invalid literal/length code",R.mode=Am;break e}break}}while(n<s&&i<l);C=w>>3,n-=C,w-=C<<3,p&=(1<<w)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),R.hold=p,R.bits=w};const Pd=15,KA=852,XA=592,JA=0,H2=1,QA=2,$J=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),BJ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),UJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qJ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zJ=(e,t,r,n,s,i,o,l)=>{const u=l.bits;let f=0,h=0,m=0,v=0,p=0,w=0,x=0,y=0,j=0,A=0,N,k,C,T,F,M=null,q;const G=new Uint16Array(Pd+1),R=new Uint16Array(Pd+1);let D=null,z,W,Z;for(f=0;f<=Pd;f++)G[f]=0;for(h=0;h<n;h++)G[t[r+h]]++;for(p=u,v=Pd;v>=1&&G[v]===0;v--);if(p>v&&(p=v),v===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<v&&G[m]===0;m++);for(p<m&&(p=m),y=1,f=1;f<=Pd;f++)if(y<<=1,y-=G[f],y<0)return-1;if(y>0&&(e===JA||v!==1))return-1;for(R[1]=0,f=1;f<Pd;f++)R[f+1]=R[f]+G[f];for(h=0;h<n;h++)t[r+h]!==0&&(o[R[t[r+h]]++]=h);if(e===JA?(M=D=o,q=20):e===H2?(M=$J,D=BJ,q=257):(M=UJ,D=qJ,q=0),A=0,h=0,f=m,F=i,w=p,x=0,C=-1,j=1<<p,T=j-1,e===H2&&j>KA||e===QA&&j>XA)return 1;for(;;){z=f-x,o[h]+1<q?(W=0,Z=o[h]):o[h]>=q?(W=D[o[h]-q],Z=M[o[h]-q]):(W=96,Z=0),N=1<<f-x,k=1<<w,m=k;do k-=N,s[F+(A>>x)+k]=z<<24|W<<16|Z|0;while(k!==0);for(N=1<<f-1;A&N;)N>>=1;if(N!==0?(A&=N-1,A+=N):A=0,h++,--G[f]===0){if(f===v)break;f=t[r+o[h]]}if(f>p&&(A&T)!==C){for(x===0&&(x=p),F+=m,w=f-x,y=1<<w;w+x<v&&(y-=G[w+x],!(y<=0));)w++,y<<=1;if(j+=1<<w,e===H2&&j>KA||e===QA&&j>XA)return 1;C=A&T,s[C]=p<<24|w<<16|F-i|0}}return A!==0&&(s[F+A]=f-x<<24|64<<16|0),l.bits=p,0};var Mh=zJ;const WJ=0,HE=1,VE=2,{Z_FINISH:ZA,Z_BLOCK:HJ,Z_TREES:Cm,Z_OK:ed,Z_STREAM_END:VJ,Z_NEED_DICT:YJ,Z_STREAM_ERROR:eo,Z_DATA_ERROR:YE,Z_MEM_ERROR:GE,Z_BUF_ERROR:GJ,Z_DEFLATED:eC}=qE,Fg=16180,tC=16181,rC=16182,nC=16183,aC=16184,sC=16185,iC=16186,oC=16187,lC=16188,cC=16189,Hp=16190,Ul=16191,V2=16192,uC=16193,Y2=16194,dC=16195,fC=16196,hC=16197,mC=16198,Pm=16199,Em=16200,pC=16201,gC=16202,vC=16203,xC=16204,yC=16205,G2=16206,bC=16207,wC=16208,Gn=16209,KE=16210,XE=16211,KJ=852,XJ=592,JJ=15,QJ=JJ,jC=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function ZJ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const sd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Fg||t.mode>XE?1:0},JE=e=>{if(sd(e))return eo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Fg,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(KJ),t.distcode=t.distdyn=new Int32Array(XJ),t.sane=1,t.back=-1,ed},QE=e=>{if(sd(e))return eo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,JE(e)},ZE=(e,t)=>{let r;if(sd(e))return eo;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?eo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,QE(e))},eL=(e,t)=>{if(!e)return eo;const r=new ZJ;e.state=r,r.strm=e,r.window=null,r.mode=Fg;const n=ZE(e,t);return n!==ed&&(e.state=null),n},eQ=e=>eL(e,QJ);let NC=!0,K2,X2;const tQ=e=>{if(NC){K2=new Int32Array(512),X2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Mh(HE,e.lens,0,288,K2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Mh(VE,e.lens,0,32,X2,0,e.work,{bits:5}),NC=!1}e.lencode=K2,e.lenbits=9,e.distcode=X2,e.distbits=5},tL=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},rQ=(e,t)=>{let r,n,s,i,o,l,u,f,h,m,v,p,w,x,y=0,j,A,N,k,C,T,F,M;const q=new Uint8Array(4);let G,R;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(sd(e)||!e.output||!e.input&&e.avail_in!==0)return eo;r=e.state,r.mode===Ul&&(r.mode=V2),o=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,f=r.hold,h=r.bits,m=l,v=u,M=ed;e:for(;;)switch(r.mode){case Fg:if(r.wrap===0){r.mode=V2;break}for(;h<16;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,q[0]=f&255,q[1]=f>>>8&255,r.check=Qo(r.check,q,2,0),f=0,h=0,r.mode=tC;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=Gn;break}if((f&15)!==eC){e.msg="unknown compression method",r.mode=Gn;break}if(f>>>=4,h-=4,F=(f&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){e.msg="invalid window size",r.mode=Gn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?cC:Ul,f=0,h=0;break;case tC:for(;h<16;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if(r.flags=f,(r.flags&255)!==eC){e.msg="unknown compression method",r.mode=Gn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Gn;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(q[0]=f&255,q[1]=f>>>8&255,r.check=Qo(r.check,q,2,0)),f=0,h=0,r.mode=rC;case rC:for(;h<32;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(q[0]=f&255,q[1]=f>>>8&255,q[2]=f>>>16&255,q[3]=f>>>24&255,r.check=Qo(r.check,q,4,0)),f=0,h=0,r.mode=nC;case nC:for(;h<16;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(q[0]=f&255,q[1]=f>>>8&255,r.check=Qo(r.check,q,2,0)),f=0,h=0,r.mode=aC;case aC:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(q[0]=f&255,q[1]=f>>>8&255,r.check=Qo(r.check,q,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=sC;case sC:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),F)),r.flags&512&&r.wrap&4&&(r.check=Qo(r.check,n,p,i)),l-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=iC;case iC:if(r.flags&2048){if(l===0)break e;p=0;do F=n[i+p++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Qo(r.check,n,p,i)),l-=p,i+=p,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=oC;case oC:if(r.flags&4096){if(l===0)break e;p=0;do F=n[i+p++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Qo(r.check,n,p,i)),l-=p,i+=p,F)break e}else r.head&&(r.head.comment=null);r.mode=lC;case lC:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Gn;break}f=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ul;break;case cC:for(;h<32;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}e.adler=r.check=jC(f),f=0,h=0,r.mode=Hp;case Hp:if(r.havedict===0)return e.next_out=o,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=f,r.bits=h,YJ;e.adler=r.check=1,r.mode=Ul;case Ul:if(t===HJ||t===Cm)break e;case V2:if(r.last){f>>>=h&7,h-=h&7,r.mode=G2;break}for(;h<3;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}switch(r.last=f&1,f>>>=1,h-=1,f&3){case 0:r.mode=uC;break;case 1:if(tQ(r),r.mode=Pm,t===Cm){f>>>=2,h-=2;break e}break;case 2:r.mode=fC;break;case 3:e.msg="invalid block type",r.mode=Gn}f>>>=2,h-=2;break;case uC:for(f>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Gn;break}if(r.length=f&65535,f=0,h=0,r.mode=Y2,t===Cm)break e;case Y2:r.mode=dC;case dC:if(p=r.length,p){if(p>l&&(p=l),p>u&&(p=u),p===0)break e;s.set(n.subarray(i,i+p),o),l-=p,i+=p,u-=p,o+=p,r.length-=p;break}r.mode=Ul;break;case fC:for(;h<14;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if(r.nlen=(f&31)+257,f>>>=5,h-=5,r.ndist=(f&31)+1,f>>>=5,h-=5,r.ncode=(f&15)+4,f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Gn;break}r.have=0,r.mode=hC;case hC:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}r.lens[D[r.have++]]=f&7,f>>>=3,h-=3}for(;r.have<19;)r.lens[D[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},M=Mh(WJ,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,M){e.msg="invalid code lengths set",r.mode=Gn;break}r.have=0,r.mode=mC;case mC:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[f&(1<<r.lenbits)-1],j=y>>>24,A=y>>>16&255,N=y&65535,!(j<=h);){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if(N<16)f>>>=j,h-=j,r.lens[r.have++]=N;else{if(N===16){for(R=j+2;h<R;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if(f>>>=j,h-=j,r.have===0){e.msg="invalid bit length repeat",r.mode=Gn;break}F=r.lens[r.have-1],p=3+(f&3),f>>>=2,h-=2}else if(N===17){for(R=j+3;h<R;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}f>>>=j,h-=j,F=0,p=3+(f&7),f>>>=3,h-=3}else{for(R=j+7;h<R;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}f>>>=j,h-=j,F=0,p=11+(f&127),f>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Gn;break}for(;p--;)r.lens[r.have++]=F}}if(r.mode===Gn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Gn;break}if(r.lenbits=9,G={bits:r.lenbits},M=Mh(HE,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,M){e.msg="invalid literal/lengths set",r.mode=Gn;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},M=Mh(VE,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,M){e.msg="invalid distances set",r.mode=Gn;break}if(r.mode=Pm,t===Cm)break e;case Pm:r.mode=Em;case Em:if(l>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=f,r.bits=h,FJ(e,v),o=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,f=r.hold,h=r.bits,r.mode===Ul&&(r.back=-1);break}for(r.back=0;y=r.lencode[f&(1<<r.lenbits)-1],j=y>>>24,A=y>>>16&255,N=y&65535,!(j<=h);){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if(A&&(A&240)===0){for(k=j,C=A,T=N;y=r.lencode[T+((f&(1<<k+C)-1)>>k)],j=y>>>24,A=y>>>16&255,N=y&65535,!(k+j<=h);){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}f>>>=k,h-=k,r.back+=k}if(f>>>=j,h-=j,r.back+=j,r.length=N,A===0){r.mode=yC;break}if(A&32){r.back=-1,r.mode=Ul;break}if(A&64){e.msg="invalid literal/length code",r.mode=Gn;break}r.extra=A&15,r.mode=pC;case pC:if(r.extra){for(R=r.extra;h<R;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=gC;case gC:for(;y=r.distcode[f&(1<<r.distbits)-1],j=y>>>24,A=y>>>16&255,N=y&65535,!(j<=h);){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if((A&240)===0){for(k=j,C=A,T=N;y=r.distcode[T+((f&(1<<k+C)-1)>>k)],j=y>>>24,A=y>>>16&255,N=y&65535,!(k+j<=h);){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}f>>>=k,h-=k,r.back+=k}if(f>>>=j,h-=j,r.back+=j,A&64){e.msg="invalid distance code",r.mode=Gn;break}r.offset=N,r.extra=A&15,r.mode=vC;case vC:if(r.extra){for(R=r.extra;h<R;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Gn;break}r.mode=xC;case xC:if(u===0)break e;if(p=v-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Gn;break}p>r.wnext?(p-=r.wnext,w=r.wsize-p):w=r.wnext-p,p>r.length&&(p=r.length),x=r.window}else x=s,w=o-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do s[o++]=x[w++];while(--p);r.length===0&&(r.mode=Em);break;case yC:if(u===0)break e;s[o++]=r.length,u--,r.mode=Em;break;case G2:if(r.wrap){for(;h<32;){if(l===0)break e;l--,f|=n[i++]<<h,h+=8}if(v-=u,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Qo(r.check,s,v,o-v):Yw(r.check,s,v,o-v)),v=u,r.wrap&4&&(r.flags?f:jC(f))!==r.check){e.msg="incorrect data check",r.mode=Gn;break}f=0,h=0}r.mode=bC;case bC:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Gn;break}f=0,h=0}r.mode=wC;case wC:M=VJ;break e;case Gn:M=YE;break e;case KE:return GE;case XE:default:return eo}return e.next_out=o,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=f,r.bits=h,(r.wsize||v!==e.avail_out&&r.mode<Gn&&(r.mode<G2||t!==ZA))&&tL(e,e.output,e.next_out,v-e.avail_out),m-=e.avail_in,v-=e.avail_out,e.total_in+=m,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Qo(r.check,s,v,e.next_out-v):Yw(r.check,s,v,e.next_out-v)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ul?128:0)+(r.mode===Pm||r.mode===Y2?256:0),(m===0&&v===0||t===ZA)&&M===ed&&(M=GJ),M},nQ=e=>{if(sd(e))return eo;let t=e.state;return t.window&&(t.window=null),e.state=null,ed},aQ=(e,t)=>{if(sd(e))return eo;const r=e.state;return(r.wrap&2)===0?eo:(r.head=t,t.done=!1,ed)},sQ=(e,t)=>{const r=t.length;let n,s,i;return sd(e)||(n=e.state,n.wrap!==0&&n.mode!==Hp)?eo:n.mode===Hp&&(s=1,s=Yw(s,t,r,0),s!==n.check)?YE:(i=tL(e,t,r,r),i?(n.mode=KE,GE):(n.havedict=1,ed))};var iQ=QE,oQ=ZE,lQ=JE,cQ=eQ,uQ=eL,dQ=rQ,fQ=nQ,hQ=aQ,mQ=sQ,pQ="pako inflate (from Nodeca project)",zl={inflateReset:iQ,inflateReset2:oQ,inflateResetKeep:lQ,inflateInit:cQ,inflateInit2:uQ,inflate:dQ,inflateEnd:fQ,inflateGetHeader:hQ,inflateSetDictionary:mQ,inflateInfo:pQ};function gQ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vQ=gQ;const rL=Object.prototype.toString,{Z_NO_FLUSH:xQ,Z_FINISH:yQ,Z_OK:f0,Z_STREAM_END:J2,Z_NEED_DICT:Q2,Z_STREAM_ERROR:bQ,Z_DATA_ERROR:SC,Z_MEM_ERROR:wQ}=qE;function L0(e){this.options=zE.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new IJ,this.strm.avail_out=0;let r=zl.inflateInit2(this.strm,t.windowBits);if(r!==f0)throw new Error(Gw[r]);if(this.header=new vQ,zl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Kw.string2buf(t.dictionary):rL.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=zl.inflateSetDictionary(this.strm,t.dictionary),r!==f0)))throw new Error(Gw[r])}L0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?yQ:xQ,rL.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=zl.inflate(r,o),i===Q2&&s&&(i=zl.inflateSetDictionary(r,s),i===f0?i=zl.inflate(r,o):i===SC&&(i=Q2));r.avail_in>0&&i===J2&&r.state.wrap>0&&e[r.next_in]!==0;)zl.inflateReset(r),i=zl.inflate(r,o);switch(i){case bQ:case SC:case Q2:case wQ:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===J2))if(this.options.to==="string"){let u=Kw.utf8border(r.output,r.next_out),f=r.next_out-u,h=Kw.buf2string(r.output,u);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(u,u+f),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===f0&&l===0)){if(i===J2)return i=zl.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};L0.prototype.onData=function(e){this.chunks.push(e)};L0.prototype.onEnd=function(e){e===f0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zE.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function jQ(e,t){const r=new L0(t);if(r.push(e),r.err)throw r.msg||Gw[r.err];return r.result}var NQ=L0,SQ=jQ,_Q={Inflate:NQ,inflate:SQ};const{Inflate:kQ,inflate:AQ}=_Q;var _C=kQ,CQ=AQ;const nL=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;nL[e]=t}const kC=4294967295;function PQ(e,t,r){let n=e;for(let s=0;s<r;s++)n=nL[(n^t[s])&255]^n>>>8;return n}function EQ(e,t){return(PQ(kC,e,t)^kC)>>>0}function AC(e,t,r){const n=e.readUint32(),s=EQ(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function aL(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function sL(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function iL(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function oL(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function lL(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+LQ(t[i-s],r[i],r[i-s])&255}}function LQ(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return s<=i&&s<=o?e:i<=o?t:r}function OQ(e,t,r,n,s,i){switch(e){case 0:aL(t,r,s);break;case 1:sL(t,r,s,i);break;case 2:iL(t,r,n,s);break;case 3:oL(t,r,n,s,i);break;case 4:lL(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const RQ=new Uint16Array([255]),TQ=new Uint8Array(RQ.buffer),MQ=TQ[0]===255;function IQ(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,u=new Uint8Array(n*r*l);let f=0;for(let h=0;h<7;h++){const m=o[h],v=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(v<=0||p<=0)continue;const w=v*l,x=new Uint8Array(w);for(let y=0;y<p;y++){const j=t[f++],A=t.subarray(f,f+w);f+=w;const N=new Uint8Array(w);OQ(j,A,N,x,w,l),x.set(N);for(let k=0;k<v;k++){const C=m.x+k*m.xStep,T=m.y+y*m.yStep;if(!(C>=r||T>=n))for(let F=0;F<l;F++)u[(T*r+C)*l+F]=N[k*l+F]}}}if(i===16){const h=new Uint16Array(u.buffer);if(MQ)for(let m=0;m<h.length;m++)h[m]=DQ(h[m]);return h}else return u}function DQ(e){return(e&255)<<8|e>>8&255}const FQ=new Uint16Array([255]),$Q=new Uint8Array(FQ.buffer),BQ=$Q[0]===255,UQ=new Uint8Array(0);function CC(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),u=new Uint8Array(n*l);let f=UQ,h=0,m,v;for(let p=0;p<n;p++){switch(m=t.subarray(h+1,h+1+l),v=u.subarray(p*l,(p+1)*l),t[h]){case 0:aL(m,v,l);break;case 1:sL(m,v,l,o);break;case 2:iL(m,v,f,l);break;case 3:oL(m,v,f,l,o);break;case 4:lL(m,v,f,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}f=v,h+=l+1}if(i===16){const p=new Uint16Array(u.buffer);if(BQ)for(let w=0;w<p.length;w++)p[w]=qQ(p[w]);return p}else return u}function qQ(e){return(e&255)<<8|e>>8&255}const Bm=Uint8Array.of(137,80,78,71,13,10,26,10);function PC(e){if(!zQ(e.readBytes(Bm.length)))throw new Error("wrong PNG signature")}function zQ(e){if(e.length<Bm.length)return!1;for(let t=0;t<Bm.length;t++)if(e[t]!==Bm[t])return!1;return!0}const WQ="tEXt",HQ=0,cL=new TextDecoder("latin1");function VQ(e){if(GQ(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const YQ=/^[\u0000-\u00FF]*$/;function GQ(e){if(!YQ.test(e))throw new Error("invalid latin1 text")}function KQ(e,t,r){const n=uL(t);e[n]=XQ(t,r-n.length-1)}function uL(e){for(e.mark();e.readByte()!==HQ;);const t=e.offset;e.reset();const r=cL.decode(e.readBytes(t-e.offset-1));return e.skip(1),VQ(r),r}function XQ(e,t){return cL.decode(e.readBytes(t))}const Ai={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Z2={UNKNOWN:-1,DEFLATE:0},EC={UNKNOWN:-1,ADAPTIVE:0},eb={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lm={NONE:0,BACKGROUND:1,PREVIOUS:2},tb={SOURCE:0,OVER:1};class JQ extends gj{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new _C,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Z2.UNKNOWN,this._filterMethod=EC.UNKNOWN,this._interlaceMethod=eb.UNKNOWN,this._colorType=Ai.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(PC(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(PC(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case WQ:KQ(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?AC(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?AC(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=QQ(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Ai.GREYSCALE:n=1;break;case Ai.TRUECOLOUR:n=3;break;case Ai.INDEXED_COLOUR:n=1;break;case Ai.GREYSCALE_ALPHA:n=2;break;case Ai.TRUECOLOUR_ALPHA:n=4;break;case Ai.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Z2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<r;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ai.GREYSCALE:case Ai.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Ai.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ai.UNKNOWN:case Ai.GREYSCALE_ALPHA:case Ai.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=uL(this),n=this.readUint8();if(n!==Z2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:CQ(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=CC({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(n,s,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case Lm.NONE:break;case Lm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const o=(s*t.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[o+l]=0}break;case Lm.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,s=(i,o)=>{const l=((i+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(i*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case tb.SOURCE:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(i,o);for(let f=0;f<this._png.channels;f++)t.data[l+f]=r.data[u+f]}break;case tb.OVER:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(i,o);for(let f=0;f<this._png.channels;f++){const h=r.data[u+this._png.channels-1]/n,m=f%(this._png.channels-1)===0?1:r.data[u+f],v=Math.floor(h*m+(1-h)*t.data[l+f]);t.data[l+f]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==EC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===eb.NO_INTERLACE)this._png.data=CC({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===eb.ADAM7)this._png.data=IQ({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lm.NONE,blendOp:tb.SOURCE,data:t}),this._inflator=new _C,this._writingDataChunks=!1}}function QQ(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var LC;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(LC||(LC={}));function ZQ(e,t){return new JQ(e,t).decode()}var xr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function rb(){xr.console&&typeof xr.console.log=="function"&&xr.console.log.apply(xr.console,arguments)}var Nn={log:rb,warn:function(e){xr.console&&(typeof xr.console.warn=="function"?xr.console.warn.apply(xr.console,arguments):rb.call(null,arguments))},error:function(e){xr.console&&(typeof xr.console.error=="function"?xr.console.error.apply(xr.console,arguments):rb(e))}};function nb(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Mu(n.response,t,r)},n.onerror=function(){Nn.error("could not download file")},n.send()}function OC(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Om(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Mu=xr.saveAs||((typeof window>"u"?"undefined":fn(window))!=="object"||window!==xr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=xr.URL||xr.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?OC(s.href)?nb(e,t,r):Om(s,s.target="_blank"):Om(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Om(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(OC(e))nb(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Om(n)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:fn(i)!=="object"&&(Nn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return nb(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(xr.HTMLElement)||xr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":fn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(e)}else{var u=xr.URL||xr.webkitURL,f=u.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dL(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f}}var Um=xr.atob.bind(xr),RC=xr.btoa.bind(xr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ab(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Ss(r,n,s,i,t[0],7,-680876936),i=Ss(i,r,n,s,t[1],12,-389564586),s=Ss(s,i,r,n,t[2],17,606105819),n=Ss(n,s,i,r,t[3],22,-1044525330),r=Ss(r,n,s,i,t[4],7,-176418897),i=Ss(i,r,n,s,t[5],12,1200080426),s=Ss(s,i,r,n,t[6],17,-1473231341),n=Ss(n,s,i,r,t[7],22,-45705983),r=Ss(r,n,s,i,t[8],7,1770035416),i=Ss(i,r,n,s,t[9],12,-1958414417),s=Ss(s,i,r,n,t[10],17,-42063),n=Ss(n,s,i,r,t[11],22,-1990404162),r=Ss(r,n,s,i,t[12],7,1804603682),i=Ss(i,r,n,s,t[13],12,-40341101),s=Ss(s,i,r,n,t[14],17,-1502002290),r=_s(r,n=Ss(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=_s(i,r,n,s,t[6],9,-1069501632),s=_s(s,i,r,n,t[11],14,643717713),n=_s(n,s,i,r,t[0],20,-373897302),r=_s(r,n,s,i,t[5],5,-701558691),i=_s(i,r,n,s,t[10],9,38016083),s=_s(s,i,r,n,t[15],14,-660478335),n=_s(n,s,i,r,t[4],20,-405537848),r=_s(r,n,s,i,t[9],5,568446438),i=_s(i,r,n,s,t[14],9,-1019803690),s=_s(s,i,r,n,t[3],14,-187363961),n=_s(n,s,i,r,t[8],20,1163531501),r=_s(r,n,s,i,t[13],5,-1444681467),i=_s(i,r,n,s,t[2],9,-51403784),s=_s(s,i,r,n,t[7],14,1735328473),r=ks(r,n=_s(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=ks(i,r,n,s,t[8],11,-2022574463),s=ks(s,i,r,n,t[11],16,1839030562),n=ks(n,s,i,r,t[14],23,-35309556),r=ks(r,n,s,i,t[1],4,-1530992060),i=ks(i,r,n,s,t[4],11,1272893353),s=ks(s,i,r,n,t[7],16,-155497632),n=ks(n,s,i,r,t[10],23,-1094730640),r=ks(r,n,s,i,t[13],4,681279174),i=ks(i,r,n,s,t[0],11,-358537222),s=ks(s,i,r,n,t[3],16,-722521979),n=ks(n,s,i,r,t[6],23,76029189),r=ks(r,n,s,i,t[9],4,-640364487),i=ks(i,r,n,s,t[12],11,-421815835),s=ks(s,i,r,n,t[15],16,530742520),r=As(r,n=ks(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=As(i,r,n,s,t[7],10,1126891415),s=As(s,i,r,n,t[14],15,-1416354905),n=As(n,s,i,r,t[5],21,-57434055),r=As(r,n,s,i,t[12],6,1700485571),i=As(i,r,n,s,t[3],10,-1894986606),s=As(s,i,r,n,t[10],15,-1051523),n=As(n,s,i,r,t[1],21,-2054922799),r=As(r,n,s,i,t[8],6,1873313359),i=As(i,r,n,s,t[15],10,-30611744),s=As(s,i,r,n,t[6],15,-1560198380),n=As(n,s,i,r,t[13],21,1309151649),r=As(r,n,s,i,t[4],6,-145523070),i=As(i,r,n,s,t[11],10,-1120210379),s=As(s,i,r,n,t[2],15,718787259),n=As(n,s,i,r,t[9],21,-343485551),e[0]=Uc(r,e[0]),e[1]=Uc(n,e[1]),e[2]=Uc(s,e[2]),e[3]=Uc(i,e[3])}function $g(e,t,r,n,s,i){return t=Uc(Uc(t,e),Uc(n,i)),Uc(t<<s|t>>>32-s,r)}function Ss(e,t,r,n,s,i,o){return $g(t&r|~t&n,e,t,s,i,o)}function _s(e,t,r,n,s,i,o){return $g(t&n|r&~n,e,t,s,i,o)}function ks(e,t,r,n,s,i,o){return $g(t^r^n,e,t,s,i,o)}function As(e,t,r,n,s,i,o){return $g(r^(t|~n),e,t,s,i,o)}function fL(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)ab(n,eZ(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(ab(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,ab(n,s),n}function eZ(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var TC="0123456789abcdef".split("");function tZ(e){for(var t="",r=0;r<4;r++)t+=TC[e>>8*r+4&15]+TC[e>>8*r&15];return t}function rZ(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Xw(e){return fL(e).map(rZ).join("")}var nZ=(function(e){for(var t=0;t<e.length;t++)e[t]=tZ(e[t]);return e.join("")})(fL("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uc(e,t){if(nZ){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Jw(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],u=0;u<256;u++)l[u]=u;var f=0;for(u=0;u<256;u++){var h=l[u];f=(f+h+o.charCodeAt(u))%256,l[u]=l[f],l[f]=h}r=e,n=l}else l=n;var m=t.length,v=0,p=0,w="";for(u=0;u<m;u++)p=(p+(h=l[v=(v+1)%256]))%256,l[v]=l[p],l[p]=h,o=l[(l[v]+l[p])%256],w+=String.fromCharCode(t.charCodeAt(u)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var MC={print:4,modify:8,copy:16,"annot-forms":32};function Td(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(MC.perm!==void 0)throw new Error("Invalid permission: "+l);s+=MC[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=Xw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Jw(this.encryptionKey,this.padding)}function Md(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function IC(e){if(fn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){xr.console&&Nn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Vp(e){if(!(this instanceof Vp))return new Vp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function hL(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Fu(e,t,r,n,s){if(!(this instanceof Fu))return new Fu(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,hL.call(this,n,s)}function $d(e,t,r,n,s){if(!(this instanceof $d))return new $d(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,hL.call(this,n,s)}function Qt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,u=16,f="S",h=null;fn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=IC;var w="1.3",x=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(P){w=P};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var j=p.__private__.getPageFormat=function(P){return y[P]};s=s||"a4";var A="compat",N="advanced",k=A;function C(){this.saveGraphicsState(),V(new Ut(Oe,0,0,-Oe,0,qt()*Oe).toString()+" cm"),this.setFontSize(this.getFontSize()/Oe),f="n",k=N}function T(){this.restoreGraphicsState(),f="S",k=A}var F=p.__private__.combineFontStyleAndFontWeight=function(P,X){if(P=="bold"&&X=="normal"||P=="bold"&&X==400||P=="normal"&&X=="italic"||P=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(P=X==400||X==="normal"?P==="italic"?"italic":"normal":X!=700&&X!=="bold"||P!=="normal"?(X==700?"bold":X)+""+P:"bold"),P};p.advancedAPI=function(P){var X=k===A;return X&&C.call(this),typeof P!="function"||(P(this),X&&T.call(this)),this},p.compatAPI=function(P){var X=k===N;return X&&T.call(this),typeof P!="function"||(P(this),X&&C.call(this)),this},p.isAdvancedAPI=function(){return k===N};var M,q=function(P){if(k!==N)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=p.roundToPrecision=p.__private__.roundToPrecision=function(P,X){var ve=t||X;if(isNaN(P)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ve).replace(/0+$/,"")};M=p.hpf=p.__private__.hpf=typeof u=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return G(P,u)}:u==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return G(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return G(P,16)};var R=p.f2=p.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return G(P,2)},D=p.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return G(P,3)},z=p.scale=p.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return k===A?P*Oe:k===N?P:void 0},W=function(P){return z((function(X){return k===A?qt()-X:k===N?X:void 0})(P))};p.__private__.setPrecision=p.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var Z,le="00000000000000000000000000000000",ge=p.__private__.getFileId=function(){return le},te=p.__private__.setFileId=function(P){return le=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Cn=new Td(h.userPermissions,h.userPassword,h.ownerPassword,le)),le};p.setFileId=function(P){return te(P),this},p.getFileId=function(){return ge()};var ue=p.__private__.convertDateToPDFDate=function(P){var X=P.getTimezoneOffset(),ve=X<0?"+":"-",Se=Math.floor(Math.abs(X/60)),Pe=Math.abs(X%60),Ye=[ve,Y(Se),"'",Y(Pe),"'"].join("");return["D:",P.getFullYear(),Y(P.getMonth()+1),Y(P.getDate()),Y(P.getHours()),Y(P.getMinutes()),Y(P.getSeconds()),Ye].join("")},H=p.__private__.convertPDFDateToDate=function(P){var X=parseInt(P.substr(2,4),10),ve=parseInt(P.substr(6,2),10)-1,Se=parseInt(P.substr(8,2),10),Pe=parseInt(P.substr(10,2),10),Ye=parseInt(P.substr(12,2),10),ut=parseInt(P.substr(14,2),10);return new Date(X,ve,Se,Pe,Ye,ut,0)},ae=p.__private__.setCreationDate=function(P){var X;if(P===void 0&&(P=new Date),P instanceof Date)X=ue(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=P}return Z=X},U=p.__private__.getCreationDate=function(P){var X=Z;return P==="jsDate"&&(X=H(Z)),X};p.setCreationDate=function(P){return ae(P),this},p.getCreationDate=function(P){return U(P)};var B,Y=p.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},ne=p.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},he=0,Q=[],pe=[],ce=0,me=[],_e=[],se=!1,ye=pe;p.__private__.setCustomOutputDestination=function(P){se=!0,ye=P};var fe=function(P){se||(ye=P)};p.__private__.resetCustomOutputDestination=function(){se=!1,ye=pe};var V=p.__private__.out=function(P){return P=P.toString(),ce+=P.length+1,ye.push(P),ye},Re=p.__private__.write=function(P){return V(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Je=p.__private__.getArrayBuffer=function(P){for(var X=P.length,ve=new ArrayBuffer(X),Se=new Uint8Array(ve);X--;)Se[X]=P.charCodeAt(X);return ve},nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return nt};var ze=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(P){return ze=k===N?P/Oe:P,this};var je,De=p.__private__.getFontSize=p.getFontSize=function(){return k===A?ze:ze*Oe},jt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(P){return jt=P,this},p.__private__.getR2L=p.getR2L=function(){return jt};var bt,Ft=p.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))je=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');je=P}else je=parseInt(P,10)};p.__private__.getZoomMode=function(){return je};var Tt,Pt=p.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');bt=P};p.__private__.getPageMode=function(){return bt};var sr=p.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Tt=P};p.__private__.getLayoutMode=function(){return Tt},p.__private__.setDisplayMode=p.setDisplayMode=function(P,X,ve){return Ft(P),sr(X),Pt(ve),this};var ke={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(P){if(Object.keys(ke).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ke[P]},p.__private__.getDocumentProperties=function(){return ke},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(P){for(var X in ke)ke.hasOwnProperty(X)&&P[X]&&(ke[X]=P[X]);return this},p.__private__.setDocumentProperty=function(P,X){if(Object.keys(ke).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ke[P]=X};var be,Oe,Fe,st,mt,at={},gt={},vt=[],He={},tt={},Me={},dt={},er=null,dr=0,Et=[],fr=new IC(p),kn=e.hotfixes||[],Zr={},en={},Bn=[],Ut=function P(X,ve,Se,Pe,Ye,ut){if(!(this instanceof P))return new P(X,ve,Se,Pe,Ye,ut);isNaN(X)&&(X=1),isNaN(ve)&&(ve=0),isNaN(Se)&&(Se=0),isNaN(Pe)&&(Pe=1),isNaN(Ye)&&(Ye=0),isNaN(ut)&&(ut=0),this._matrix=[X,ve,Se,Pe,Ye,ut]};Object.defineProperty(Ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ut.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(P)},Ut.prototype.multiply=function(P){var X=P.sx*this.sx+P.shy*this.shx,ve=P.sx*this.shy+P.shy*this.sy,Se=P.shx*this.sx+P.sy*this.shx,Pe=P.shx*this.shy+P.sy*this.sy,Ye=P.tx*this.sx+P.ty*this.shx+this.tx,ut=P.tx*this.shy+P.ty*this.sy+this.ty;return new Ut(X,ve,Se,Pe,Ye,ut)},Ut.prototype.decompose=function(){var P=this.sx,X=this.shy,ve=this.shx,Se=this.sy,Pe=this.tx,Ye=this.ty,ut=Math.sqrt(P*P+X*X),kt=(P/=ut)*ve+(X/=ut)*Se;ve-=P*kt,Se-=X*kt;var St=Math.sqrt(ve*ve+Se*Se);return kt/=St,P*(Se/=St)<X*(ve/=St)&&(P=-P,X=-X,kt=-kt,ut=-ut),{scale:new Ut(ut,0,0,St,0,0),translate:new Ut(1,0,0,1,Pe,Ye),rotate:new Ut(P,X,-X,P,0,0),skew:new Ut(1,0,kt,1,0,0)}},Ut.prototype.toString=function(P){return this.join(" ")},Ut.prototype.inversed=function(){var P=this.sx,X=this.shy,ve=this.shx,Se=this.sy,Pe=this.tx,Ye=this.ty,ut=1/(P*Se-X*ve),kt=Se*ut,St=-X*ut,Jt=-ve*ut,ar=P*ut;return new Ut(kt,St,Jt,ar,-kt*Pe-Jt*Ye,-St*Pe-ar*Ye)},Ut.prototype.applyToPoint=function(P){var X=P.x*this.sx+P.y*this.shx+this.tx,ve=P.x*this.shy+P.y*this.sy+this.ty;return new Ks(X,ve)},Ut.prototype.applyToRectangle=function(P){var X=this.applyToPoint(P),ve=this.applyToPoint(new Ks(P.x+P.w,P.y+P.h));return new io(X.x,X.y,ve.x-X.x,ve.y-X.y)},Ut.prototype.clone=function(){var P=this.sx,X=this.shy,ve=this.shx,Se=this.sy,Pe=this.tx,Ye=this.ty;return new Ut(P,X,ve,Se,Pe,Ye)},p.Matrix=Ut;var Br=p.matrixMult=function(P,X){return X.multiply(P)},mr=new Ut(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=mr;var Un=function(P,X){if(!tt[P]){var ve=(X instanceof Fu?"Sh":"P")+(Object.keys(He).length+1).toString(10);X.id=ve,tt[P]=ve,He[ve]=X,fr.publish("addPattern",X)}};p.ShadingPattern=Fu,p.TilingPattern=$d,p.addShadingPattern=function(P,X){return q("addShadingPattern()"),Un(P,X),this},p.beginTilingPattern=function(P){q("beginTilingPattern()"),ts(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},p.endTilingPattern=function(P,X){q("endTilingPattern()"),X.stream=_e[B].join(`
`),Un(P,X),fr.publish("endTilingPattern",X),Bn.pop().restore()};var qn,Fr=p.__private__.newObject=function(){var P=xn();return Wr(P,!0),P},xn=p.__private__.newObjectDeferred=function(){return he++,Q[he]=function(){return ce},he},Wr=function(P,X){return X=typeof X=="boolean"&&X,Q[P]=ce,X&&V(P+" 0 obj"),P},Os=p.__private__.newAdditionalObject=function(){var P={objId:xn(),content:""};return me.push(P),P},Hs=xn(),Fa=xn(),ds=p.__private__.decodeColorString=function(P){var X=P.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var ve=parseFloat(X[0]);X=[ve,ve,ve,"r"]}for(var Se="#",Pe=0;Pe<3;Pe++)Se+=("0"+Math.floor(255*parseFloat(X[Pe])).toString(16)).slice(-2);return Se},An=p.__private__.encodeColorString=function(P){var X;typeof P=="string"&&(P={ch1:P});var ve=P.ch1,Se=P.ch2,Pe=P.ch3,Ye=P.ch4,ut=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var kt=new dL(ve);if(kt.ok)ve=kt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var St=parseInt(ve.substr(1),16);ve=St>>16&255,Se=St>>8&255,Pe=255&St}if(Se===void 0||Ye===void 0&&ve===Se&&Se===Pe)X=typeof ve=="string"?ve+" "+ut[0]:P.precision===2?R(ve/255)+" "+ut[0]:D(ve/255)+" "+ut[0];else if(Ye===void 0||fn(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",ut[1]].join(" ");X=typeof ve=="string"?[ve,Se,Pe,ut[1]].join(" "):P.precision===2?[R(ve/255),R(Se/255),R(Pe/255),ut[1]].join(" "):[D(ve/255),D(Se/255),D(Pe/255),ut[1]].join(" ")}else X=typeof ve=="string"?[ve,Se,Pe,Ye,ut[2]].join(" "):P.precision===2?[R(ve),R(Se),R(Pe),R(Ye),ut[2]].join(" "):[D(ve),D(Se),D(Pe),D(Ye),ut[2]].join(" ");return X},Ur=p.__private__.getFilters=function(){return o},oa=p.__private__.putStream=function(P){var X=(P=P||{}).data||"",ve=P.filters||Ur(),Se=P.alreadyAppliedFilters||[],Pe=P.addLength1||!1,Ye=X.length,ut=P.objectId,kt=function(va){return va};if(h!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(kt=Cn.encryptor(ut,0));var St={};ve===!0&&(ve=["FlateEncode"]);var Jt=P.additionalKeyValues||[],ar=(St=Qt.API.processDataByFilters!==void 0?Qt.API.processDataByFilters(X,ve):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(St.data.length!==0&&(Jt.push({key:"Length",value:St.data.length}),Pe===!0&&Jt.push({key:"Length1",value:Ye})),ar.length!=0)if(ar.split("/").length-1==1)Jt.push({key:"Filter",value:ar});else{Jt.push({key:"Filter",value:"["+ar+"]"});for(var Rr=0;Rr<Jt.length;Rr+=1)if(Jt[Rr].key==="DecodeParms"){for(var In=[],ua=0;ua<St.reverseChain.split("/").length-1;ua+=1)In.push("null");In.push(Jt[Rr].value),Jt[Rr].value="["+In.join(" ")+"]"}}V("<<");for(var mn=0;mn<Jt.length;mn++)V("/"+Jt[mn].key+" "+Jt[mn].value);V(">>"),St.data.length!==0&&(V("stream"),V(kt(St.data)),V("endstream"))},pa=p.__private__.putPage=function(P){var X=P.number,ve=P.data,Se=P.objId,Pe=P.contentsObjId;Wr(Se,!0),V("<</Type /Page"),V("/Parent "+P.rootDictionaryObjId+" 0 R"),V("/Resources "+P.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(M(P.mediaBox.bottomLeftX))+" "+parseFloat(M(P.mediaBox.bottomLeftY))+" "+M(P.mediaBox.topRightX)+" "+M(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&V("/CropBox ["+M(P.cropBox.bottomLeftX)+" "+M(P.cropBox.bottomLeftY)+" "+M(P.cropBox.topRightX)+" "+M(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&V("/BleedBox ["+M(P.bleedBox.bottomLeftX)+" "+M(P.bleedBox.bottomLeftY)+" "+M(P.bleedBox.topRightX)+" "+M(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&V("/TrimBox ["+M(P.trimBox.bottomLeftX)+" "+M(P.trimBox.bottomLeftY)+" "+M(P.trimBox.topRightX)+" "+M(P.trimBox.topRightY)+"]"),P.artBox!==null&&V("/ArtBox ["+M(P.artBox.bottomLeftX)+" "+M(P.artBox.bottomLeftY)+" "+M(P.artBox.topRightX)+" "+M(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&V("/UserUnit "+P.userUnit),fr.publish("putPage",{objId:Se,pageContext:Et[X],pageNumber:X,page:ve}),V("/Contents "+Pe+" 0 R"),V(">>"),V("endobj");var Ye=ve.join(`
`);return k===N&&(Ye+=`
Q`),Wr(Pe,!0),oa({data:Ye,filters:Ur(),objectId:Pe}),V("endobj"),Se},la=p.__private__.putPages=function(){var P,X,ve=[];for(P=1;P<=dr;P++)Et[P].objId=xn(),Et[P].contentsObjId=xn();for(P=1;P<=dr;P++)ve.push(pa({number:P,data:_e[P],objId:Et[P].objId,contentsObjId:Et[P].contentsObjId,mediaBox:Et[P].mediaBox,cropBox:Et[P].cropBox,bleedBox:Et[P].bleedBox,trimBox:Et[P].trimBox,artBox:Et[P].artBox,userUnit:Et[P].userUnit,rootDictionaryObjId:Hs,resourceDictionaryObjId:Fa}));Wr(Hs,!0),V("<</Type /Pages");var Se="/Kids [";for(X=0;X<dr;X++)Se+=ve[X]+" 0 R ";V(Se+"]"),V("/Count "+dr),V(">>"),V("endobj"),fr.publish("postPutPages")},Za=function(P){fr.publish("putFont",{font:P,out:V,newObject:Fr,putStream:oa}),P.isAlreadyPutted!==!0&&(P.objectNumber=Fr(),V("<<"),V("/Type /Font"),V("/BaseFont /"+Md(P.postScriptName)),V("/Subtype /Type1"),typeof P.encoding=="string"&&V("/Encoding /"+P.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},ga=function(P){P.objectNumber=Fr();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[M(P.x),M(P.y),M(P.x+P.width),M(P.y+P.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ve=P.pages[1].join(`
`);oa({data:ve,additionalKeyValues:X,objectId:P.objectNumber}),V("endobj")},mi=function(P,X){X||(X=21);var ve=Fr(),Se=(function(ut,kt){var St,Jt=[],ar=1/(kt-1);for(St=0;St<1;St+=ar)Jt.push(St);if(Jt.push(1),ut[0].offset!=0){var Rr={offset:0,color:ut[0].color};ut.unshift(Rr)}if(ut[ut.length-1].offset!=1){var In={offset:1,color:ut[ut.length-1].color};ut.push(In)}for(var ua="",mn=0,va=0;va<Jt.length;va++){for(St=Jt[va];St>ut[mn+1].offset;)mn++;var ta=ut[mn].offset,Ca=(St-ta)/(ut[mn+1].offset-ta),Xs=ut[mn].color,ms=ut[mn+1].color;ua+=ne(Math.round((1-Ca)*Xs[0]+Ca*ms[0]).toString(16))+ne(Math.round((1-Ca)*Xs[1]+Ca*ms[1]).toString(16))+ne(Math.round((1-Ca)*Xs[2]+Ca*ms[2]).toString(16))}return ua.trim()})(P.colors,X),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+X+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oa({data:Se,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),V("endobj"),P.objectNumber=Fr(),V("<< /ShadingType "+P.type),V("/ColorSpace /DeviceRGB");var Ye="/Coords ["+M(parseFloat(P.coords[0]))+" "+M(parseFloat(P.coords[1]))+" ";P.type===2?Ye+=M(parseFloat(P.coords[2]))+" "+M(parseFloat(P.coords[3])):Ye+=M(parseFloat(P.coords[2]))+" "+M(parseFloat(P.coords[3]))+" "+M(parseFloat(P.coords[4]))+" "+M(parseFloat(P.coords[5])),V(Ye+="]"),P.matrix&&V("/Matrix ["+P.matrix.toString()+"]"),V("/Function "+ve+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},pi=function(P,X){var ve=xn(),Se=Fr();X.push({resourcesOid:ve,objectOid:Se}),P.objectNumber=Se;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+P.boundingBox.map(M).join(" ")+"]"}),Pe.push({key:"XStep",value:M(P.xStep)}),Pe.push({key:"YStep",value:M(P.yStep)}),Pe.push({key:"Resources",value:ve+" 0 R"}),P.matrix&&Pe.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),oa({data:P.stream,additionalKeyValues:Pe,objectId:P.objectNumber}),V("endobj")},Ie=function(P){for(var X in P.objectNumber=Fr(),V("<<"),P)switch(X){case"opacity":V("/ca "+R(P[X]));break;case"stroke-opacity":V("/CA "+R(P[X]))}V(">>"),V("endobj")},ct=function(P){Wr(P.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var X in V("/Font <<"),at)at.hasOwnProperty(X)&&(m===!1||m===!0&&v.hasOwnProperty(X))&&V("/"+X+" "+at[X].objectNumber+" 0 R");V(">>")})(),(function(){if(Object.keys(He).length>0){for(var X in V("/Shading <<"),He)He.hasOwnProperty(X)&&He[X]instanceof Fu&&He[X].objectNumber>=0&&V("/"+X+" "+He[X].objectNumber+" 0 R");fr.publish("putShadingPatternDict"),V(">>")}})(),(function(X){if(Object.keys(He).length>0){for(var ve in V("/Pattern <<"),He)He.hasOwnProperty(ve)&&He[ve]instanceof p.TilingPattern&&He[ve].objectNumber>=0&&He[ve].objectNumber<X&&V("/"+ve+" "+He[ve].objectNumber+" 0 R");fr.publish("putTilingPatternDict"),V(">>")}})(P.objectOid),(function(){if(Object.keys(Me).length>0){var X;for(X in V("/ExtGState <<"),Me)Me.hasOwnProperty(X)&&Me[X].objectNumber>=0&&V("/"+X+" "+Me[X].objectNumber+" 0 R");fr.publish("putGStateDict"),V(">>")}})(),(function(){for(var X in V("/XObject <<"),Zr)Zr.hasOwnProperty(X)&&Zr[X].objectNumber>=0&&V("/"+X+" "+Zr[X].objectNumber+" 0 R");fr.publish("putXobjectDict"),V(">>")})(),V(">>"),V("endobj")},Ht=function(P){gt[P.fontName]=gt[P.fontName]||{},gt[P.fontName][P.fontStyle]=P.id},rr=function(P,X,ve,Se,Pe){var Ye={id:"F"+(Object.keys(at).length+1).toString(10),postScriptName:P,fontName:X,fontStyle:ve,encoding:Se,isStandardFont:Pe||!1,metadata:{}};return fr.publish("addFont",{font:Ye,instance:this}),at[Ye.id]=Ye,Ht(Ye),Ye.id},nr=p.__private__.pdfEscape=p.pdfEscape=function(P,X){return(function(ve,Se){var Pe,Ye,ut,kt,St,Jt,ar,Rr,In;if(ut=(Se=Se||{}).sourceEncoding||"Unicode",St=Se.outputEncoding,(Se.autoencode||St)&&at[be].metadata&&at[be].metadata[ut]&&at[be].metadata[ut].encoding&&(kt=at[be].metadata[ut].encoding,!St&&at[be].encoding&&(St=at[be].encoding),!St&&kt.codePages&&(St=kt.codePages[0]),typeof St=="string"&&(St=kt[St]),St)){for(ar=!1,Jt=[],Pe=0,Ye=ve.length;Pe<Ye;Pe++)(Rr=St[ve.charCodeAt(Pe)])?Jt.push(String.fromCharCode(Rr)):Jt.push(ve[Pe]),Jt[Pe].charCodeAt(0)>>8&&(ar=!0);ve=Jt.join("")}for(Pe=ve.length;ar===void 0&&Pe!==0;)ve.charCodeAt(Pe-1)>>8&&(ar=!0),Pe--;if(!ar)return ve;for(Jt=Se.noBOM?[]:[254,255],Pe=0,Ye=ve.length;Pe<Ye;Pe++){if((In=(Rr=ve.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jt.push(In),Jt.push(Rr-(In<<8))}return String.fromCharCode.apply(void 0,Jt)})(P,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gr=p.__private__.beginPage=function(P){_e[++dr]=[],Et[dr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},zr(dr),fe(_e[B])},qr=function(P,X){var ve,Se,Pe;switch(r=X||r,typeof P=="string"&&(ve=j(P.toLowerCase()),Array.isArray(ve)&&(Se=ve[0],Pe=ve[1])),Array.isArray(P)&&(Se=P[0]*Oe,Pe=P[1]*Oe),isNaN(Se)&&(Se=s[0],Pe=s[1]),(Se>14400||Pe>14400)&&(Nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),Pe=Math.min(14400,Pe)),s=[Se,Pe],r.substr(0,1)){case"l":Pe>Se&&(s=[Pe,Se]);break;case"p":Se>Pe&&(s=[Pe,Se])}gr(s),ao(hs),V(so),Oi!==0&&V(Oi+" J"),fl!==0&&V(fl+" j"),fr.publish("addPage",{pageNumber:dr})},$r=function(P){P>0&&P<=dr&&(_e.splice(P,1),Et.splice(P,1),dr--,B>dr&&(B=dr),this.setPage(B))},zr=function(P){P>0&&P<=dr&&(B=P)},yn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return _e.length-1},Ar=function(P,X,ve){var Se,Pe=void 0;return ve=ve||{},P=P!==void 0?P:at[be].fontName,X=X!==void 0?X:at[be].fontStyle,Se=P.toLowerCase(),gt[Se]!==void 0&&gt[Se][X]!==void 0?Pe=gt[Se][X]:gt[P]!==void 0&&gt[P][X]!==void 0?Pe=gt[P][X]:ve.disableWarning===!1&&Nn.warn("Unable to look up font label for font '"+P+"', '"+X+"'. Refer to getFontList() for available fonts."),Pe||ve.noFallback||(Pe=gt.times[X])==null&&(Pe=gt.times.normal),Pe},hn=p.__private__.putInfo=function(){var P=Fr(),X=function(Se){return Se};for(var ve in h!==null&&(X=Cn.encryptor(P,0)),V("<<"),V("/Producer ("+nr(X("jsPDF "+Qt.version))+")"),ke)ke.hasOwnProperty(ve)&&ke[ve]&&V("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+nr(X(ke[ve]))+")");V("/CreationDate ("+nr(X(Z))+")"),V(">>"),V("endobj")},Er=p.__private__.putCatalog=function(P){var X=(P=P||{}).rootDictionaryObjId||Hs;switch(Fr(),V("<<"),V("/Type /Catalog"),V("/Pages "+X+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+je;ve.substr(ve.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&V("/OpenAction [3 0 R /XYZ null null "+R(je)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}bt&&V("/PageMode /"+bt),fr.publish("putCatalog"),V(">>"),V("endobj")},an=p.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(he+1)),V("/Root "+he+" 0 R"),V("/Info "+(he-1)+" 0 R"),h!==null&&V("/Encrypt "+Cn.oid+" 0 R"),V("/ID [ <"+le+"> <"+le+"> ]"),V(">>")},Xt=p.__private__.putHeader=function(){V("%PDF-"+w),V("%")},pr=p.__private__.putXRef=function(){var P="0000000000";V("xref"),V("0 "+(he+1)),V("0000000000 65535 f ");for(var X=1;X<=he;X++)typeof Q[X]=="function"?V((P+Q[X]()).slice(-10)+" 00000 n "):Q[X]!==void 0?V((P+Q[X]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},zt=p.__private__.buildDocument=function(){var P;he=0,ce=0,pe=[],Q=[],me=[],Hs=xn(),Fa=xn(),fe(pe),fr.publish("buildDocument"),Xt(),la(),(function(){fr.publish("putAdditionalObjects");for(var ve=0;ve<me.length;ve++){var Se=me[ve];Wr(Se.objId,!0),V(Se.content),V("endobj")}fr.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var ve in at)at.hasOwnProperty(ve)&&(m===!1||m===!0&&v.hasOwnProperty(ve))&&Za(at[ve])})(),(function(){var ve;for(ve in Me)Me.hasOwnProperty(ve)&&Ie(Me[ve])})(),(function(){for(var ve in Zr)Zr.hasOwnProperty(ve)&&ga(Zr[ve])})(),(function(ve){var Se;for(Se in He)He.hasOwnProperty(Se)&&(He[Se]instanceof Fu?mi(He[Se]):He[Se]instanceof $d&&pi(He[Se],ve))})(P),fr.publish("putResources"),P.forEach(ct),ct({resourcesOid:Fa,objectOid:Number.MAX_SAFE_INTEGER}),fr.publish("postPutResources"),h!==null&&(Cn.oid=Fr(),V("<<"),V("/Filter /Standard"),V("/V "+Cn.v),V("/R "+Cn.r),V("/U <"+Cn.toHexString(Cn.U)+">"),V("/O <"+Cn.toHexString(Cn.O)+">"),V("/P "+Cn.P),V(">>"),V("endobj")),hn(),Er();var X=ce;return pr(),an(),V("startxref"),V(""+X),V("%%EOF"),fe(_e[B]),pe.join(`
`)},Lr=p.__private__.getBlob=function(P){return new Blob([Je(P)],{type:"application/pdf"})},tn=p.output=p.__private__.output=(qn=function(P,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",P){case void 0:return zt();case"save":p.save(X.filename);break;case"arraybuffer":return Je(zt());case"blob":return Lr(zt());case"bloburi":case"bloburl":if(xr.URL!==void 0&&typeof xr.URL.createObjectURL=="function")return xr.URL&&xr.URL.createObjectURL(Lr(zt()))||void 0;Nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Se=zt();try{ve=RC(Se)}catch{ve=RC(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+X.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Pe=X.pdfObjectUrl,Ye="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",kt=xr.open();return kt!==null&&kt.document.write(ut),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',Jt=xr.open();if(Jt!==null){Jt.document.write(St);var ar=this;Jt.document.documentElement.querySelector("#pdfViewer").onload=function(){Jt.document.title=X.filename,Jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ar.output("bloburl"))}}return Jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',In=xr.open();if(In!==null&&(In.document.write(Rr),In.document.title=X.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return xr.document.location.href=this.output("datauristring",X);default:return null}},qn.foo=function(){try{return qn.apply(this,arguments)}catch(ve){var P=ve.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var X="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ve.message;if(!xr.console)throw new Error(X);xr.console.error(X,ve),xr.alert&&alert(X)}},qn.foo.bar=qn,qn.foo),ro=function(P){return Array.isArray(kn)===!0&&kn.indexOf(P)>-1};switch(n){case"pt":Oe=1;break;case"mm":Oe=72/25.4;break;case"cm":Oe=72/2.54;break;case"in":Oe=72;break;case"px":Oe=ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":Oe=12;break;case"ex":Oe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Oe=n}var Cn=null;ae(),te();var gi=p.__private__.getPageInfo=p.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[P].objId,pageNumber:P,pageContext:Et[P]}},no=p.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Et)if(Et[X].objId===P)break;return gi(X)},Oo=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Et[B].objId,pageNumber:B,pageContext:Et[B]}};p.addPage=function(){return qr.apply(this,arguments),this},p.setPage=function(){return zr.apply(this,arguments),fe.call(this,_e[B]),this},p.insertPage=function(P){return this.addPage(),this.movePage(B,P),this},p.movePage=function(P,X){var ve,Se;if(P>X){ve=_e[P],Se=Et[P];for(var Pe=P;Pe>X;Pe--)_e[Pe]=_e[Pe-1],Et[Pe]=Et[Pe-1];_e[X]=ve,Et[X]=Se,this.setPage(X)}else if(P<X){ve=_e[P],Se=Et[P];for(var Ye=P;Ye<X;Ye++)_e[Ye]=_e[Ye+1],Et[Ye]=Et[Ye+1];_e[X]=ve,Et[X]=Se,this.setPage(X)}return this},p.deletePage=function(){return $r.apply(this,arguments),this},p.__private__.text=p.text=function(P,X,ve,Se,Pe){var Ye,ut,kt,St,Jt,ar,Rr,In,ua,mn=(Se=Se||{}).scope||this;if(typeof P=="number"&&typeof X=="number"&&(typeof ve=="string"||Array.isArray(ve))){var va=ve;ve=X,X=P,P=va}if(arguments[3]instanceof Ut==0?(kt=arguments[4],St=arguments[5],fn(Rr=arguments[3])==="object"&&Rr!==null||(typeof kt=="string"&&(St=kt,kt=null),typeof Rr=="string"&&(St=Rr,Rr=null),typeof Rr=="number"&&(kt=Rr,Rr=null),Se={flags:Rr,angle:kt,align:St})):(q("The transform parameter of text() with a Matrix value"),ua=Pe),isNaN(X)||isNaN(ve)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return mn;var ta,Ca="",Xs=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:Ba,ms=mn.internal.scaleFactor;function od(Hr){return Hr=Hr.split("	").join(Array(Se.TabLen||9).join(" ")),nr(Hr,Rr)}function Fo(Hr){for(var sn,Hn=Hr.concat(),da=[],ji=Hn.length;ji--;)typeof(sn=Hn.shift())=="string"?da.push(sn):Array.isArray(Hr)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?da.push(sn[0]):da.push([sn[0],sn[1],sn[2]]);return da}function hl(Hr,sn){var Hn;if(typeof Hr=="string")Hn=sn(Hr)[0];else if(Array.isArray(Hr)){for(var da,ji,su=Hr.concat(),gc=[],ho=su.length;ho--;)typeof(da=su.shift())=="string"?gc.push(sn(da)[0]):Array.isArray(da)&&typeof da[0]=="string"&&(ji=sn(da[0],da[1],da[2]),gc.push([ji[0],ji[1],ji[2]]));Hn=gc}return Hn}var $o=!1,ml=!0;if(typeof P=="string")$o=!0;else if(Array.isArray(P)){var Bo=P.concat();ut=[];for(var pl,Ua=Bo.length;Ua--;)(typeof(pl=Bo.shift())!="string"||Array.isArray(pl)&&typeof pl[0]!="string")&&(ml=!1);$o=ml}if($o===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var gl=ze/mn.internal.scaleFactor,vl=gl*(Xs-1);switch(Se.baseline){case"bottom":ve-=vl;break;case"top":ve+=gl-vl;break;case"hanging":ve+=gl-2*vl;break;case"middle":ve+=gl/2-vl}if((ar=Se.maxWidth||0)>0&&(typeof P=="string"?P=mn.splitTextToSize(P,ar):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(Hr,sn){return Hr.concat(mn.splitTextToSize(sn,ar))},[]))),Ye={text:P,x:X,y:ve,options:Se,mutex:{pdfEscape:nr,activeFontKey:be,fonts:at,activeFontSize:ze}},fr.publish("preProcessText",Ye),P=Ye.text,kt=(Se=Ye.options).angle,ua instanceof Ut==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,Se.rotationDirection===0&&(kt=-kt),k===N&&(kt=-kt);var nu=Math.cos(kt),au=Math.sin(kt);ua=new Ut(nu,au,-au,nu,0,0)}else kt&&kt instanceof Ut&&(ua=kt);k!==N||ua||(ua=mr),(Jt=Se.charSpace||Ms)!==void 0&&(Ca+=M(z(Jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=Se.horizontalScale)!==void 0&&(Ca+=M(100*In)+` Tz
`),Se.lang;var zn=-1,bi=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,Ri=mn.internal.getCurrentPageInfo().pageContext;switch(bi){case 0:case!1:case"fill":zn=0;break;case 1:case!0:case"stroke":zn=1;break;case 2:case"fillThenStroke":zn=2;break;case 3:case"invisible":zn=3;break;case 4:case"fillAndAddForClipping":zn=4;break;case 5:case"strokeAndAddPathForClipping":zn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zn=6;break;case 7:case"addToPathForClipping":zn=7}var ld=Ri.usedRenderingMode!==void 0?Ri.usedRenderingMode:-1;zn!==-1?Ca+=zn+` Tr
`:ld!==-1&&(Ca+=`0 Tr
`),zn!==-1&&(Ri.usedRenderingMode=zn),St=Se.align||"left";var Is,Uo=ze*Xs,fc=mn.internal.pageSize.getWidth(),hc=at[be];Jt=Se.charSpace||Ms,ar=Se.maxWidth||0,Rr=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var lo=[],Js=function(Hr){return mn.getStringUnitWidth(Hr,{font:hc,charSpace:Jt,fontSize:ze,doKerning:!1})*ze/ms};if(Object.prototype.toString.call(P)==="[object Array]"){var Ds;ut=Fo(P),St!=="left"&&(Is=ut.map(Js));var Fs,qo=0;if(St==="right"){X-=Is[0],P=[],Ua=ut.length;for(var Ti=0;Ti<Ua;Ti++)Ti===0?(Fs=es(X),Ds=ea(ve)):(Fs=z(qo-Is[Ti]),Ds=-Uo),P.push([ut[Ti],Fs,Ds]),qo=Is[Ti]}else if(St==="center"){X-=Is[0]/2,P=[],Ua=ut.length;for(var co=0;co<Ua;co++)co===0?(Fs=es(X),Ds=ea(ve)):(Fs=z((qo-Is[co])/2),Ds=-Uo),P.push([ut[co],Fs,Ds]),qo=Is[co]}else if(St==="left"){P=[],Ua=ut.length;for(var uo=0;uo<Ua;uo++)P.push(ut[uo])}else if(St==="justify"&&hc.encoding==="Identity-H"){P=[],Ua=ut.length,ar=ar!==0?ar:fc;for(var Mi=0,ra=0;ra<Ua;ra++)if(Ds=ra===0?ea(ve):-Uo,Fs=ra===0?es(X):Mi,ra<Ua-1){var xl=z((ar-Is[ra])/(ut[ra].split(" ").length-1)),Ii=ut[ra].split(" ");P.push([Ii[0]+" ",Fs,Ds]),Mi=0;for(var wi=1;wi<Ii.length;wi++){var yl=(Js(Ii[wi-1]+" "+Ii[wi])-Js(Ii[wi]))*ms+xl;wi==Ii.length-1?P.push([Ii[wi],yl,0]):P.push([Ii[wi]+" ",yl,0]),Mi-=yl}}else P.push([ut[ra],Fs,Ds]);P.push(["",Mi,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Ua=ut.length,ar=ar!==0?ar:fc,ra=0;ra<Ua;ra++){Ds=ra===0?ea(ve):-Uo,Fs=ra===0?es(X):0;var bl=ut[ra].split(" ").length-1,mc=bl>0?(ar-Is[ra])/bl:0;ra<Ua-1?lo.push(M(z(mc))):lo.push(0),P.push([ut[ra],Fs,Ds])}}}(typeof Se.R2L=="boolean"?Se.R2L:jt)===!0&&(P=hl(P,function(Hr,sn,Hn){return[Hr.split("").reverse().join(""),sn,Hn]})),Ye={text:P,x:X,y:ve,options:Se,mutex:{pdfEscape:nr,activeFontKey:be,fonts:at,activeFontSize:ze}},fr.publish("postProcessText",Ye),P=Ye.text,ta=Ye.mutex.isHex||!1;var pc=at[be].encoding;pc!=="WinAnsiEncoding"&&pc!=="StandardEncoding"||(P=hl(P,function(Hr,sn,Hn){return[od(Hr),sn,Hn]})),ut=Fo(P),P=[];for(var fo,zo,Wo,wl=Array.isArray(ut[0])?1:0,Ho="",jl=function(Hr,sn,Hn){var da="";return Hn instanceof Ut?(Hn=typeof Se.angle=="number"?Br(Hn,new Ut(1,0,0,1,Hr,sn)):Br(new Ut(1,0,0,1,Hr,sn),Hn),k===N&&(Hn=Br(new Ut(1,0,0,-1,0,0),Hn)),da=Hn.join(" ")+` Tm
`):da=M(Hr)+" "+M(sn)+` Td
`,da},Wn=0;Wn<ut.length;Wn++){switch(Ho="",wl){case 1:Wo=(ta?"<":"(")+ut[Wn][0]+(ta?">":")"),fo=parseFloat(ut[Wn][1]),zo=parseFloat(ut[Wn][2]);break;case 0:Wo=(ta?"<":"(")+ut[Wn]+(ta?">":")"),fo=es(X),zo=ea(ve)}lo!==void 0&&lo[Wn]!==void 0&&(Ho=lo[Wn]+` Tw
`),Wn===0?P.push(Ho+jl(fo,zo,ua)+Wo):wl===0?P.push(Ho+Wo):wl===1&&P.push(Ho+jl(fo,zo,ua)+Wo)}P=wl===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var ps=`BT
/`;return ps+=be+" "+ze+` Tf
`,ps+=M(ze*Xs)+` TL
`,ps+=Ts+`
`,ps+=Ca,ps+=P,V(ps+="ET"),v[be]=!0,mn};var Zn=p.__private__.clip=p.clip=function(P){return V(P==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Zn("evenodd")},p.__private__.discardPath=p.discardPath=function(){return V("n"),this};var ca=p.__private__.isValidStyle=function(P){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(X=!0),X};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(P){return ca(P)&&(f=P),this};var fs=p.__private__.getStyle=p.getStyle=function(P){var X=f;switch(P){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=P}return X},Or=p.close=function(){return V("h"),this};p.stroke=function(){return V("S"),this},p.fill=function(P){return Gt("f",P),this},p.fillEvenOdd=function(P){return Gt("f*",P),this},p.fillStroke=function(P){return Gt("B",P),this},p.fillStrokeEvenOdd=function(P){return Gt("B*",P),this};var Gt=function(P,X){fn(X)==="object"?Ro(X,P):V(P)},$a=function(P){P===null||k===N&&P===void 0||(P=fs(P),V(P))};function ul(P,X,ve,Se,Pe){var Ye=new $d(X||this.boundingBox,ve||this.xStep,Se||this.yStep,this.gState,Pe||this.matrix);Ye.stream=this.stream;var ut=P+"$$"+this.cloneIndex+++"$$";return Un(ut,Ye),Ye}var Ro=function(P,X){var ve=tt[P.key],Se=He[ve];if(Se instanceof Fu)V("q"),V(cc(X)),Se.gState&&p.setGState(Se.gState),V(P.matrix.toString()+" cm"),V("/"+ve+" sh"),V("Q");else if(Se instanceof $d){var Pe=new Ut(1,0,0,-1,0,qt());P.matrix&&(Pe=Pe.multiply(P.matrix||mr),ve=ul.call(Se,P.key,P.boundingBox,P.xStep,P.yStep,Pe).id),V("q"),V("/Pattern cs"),V("/"+ve+" scn"),Se.gState&&p.setGState(Se.gState),V(X),V("Q")}},cc=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},To=p.moveTo=function(P,X){return V(M(z(P))+" "+M(W(X))+" m"),this},vi=p.lineTo=function(P,X){return V(M(z(P))+" "+M(W(X))+" l"),this},Rs=p.curveTo=function(P,X,ve,Se,Pe,Ye){return V([M(z(P)),M(W(X)),M(z(ve)),M(W(Se)),M(z(Pe)),M(W(Ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(P,X,ve,Se,Pe){if(isNaN(P)||isNaN(X)||isNaN(ve)||isNaN(Se)||!ca(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return k===A?this.lines([[ve-P,Se-X]],P,X,[1,1],Pe||"S"):this.lines([[ve-P,Se-X]],P,X,[1,1]).stroke()},p.__private__.lines=p.lines=function(P,X,ve,Se,Pe,Ye){var ut,kt,St,Jt,ar,Rr,In,ua,mn,va,ta,Ca;if(typeof P=="number"&&(Ca=ve,ve=X,X=P,P=Ca),Se=Se||[1,1],Ye=Ye||!1,isNaN(X)||isNaN(ve)||!Array.isArray(P)||!Array.isArray(Se)||!ca(Pe)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(To(X,ve),ut=Se[0],kt=Se[1],Jt=P.length,va=X,ta=ve,St=0;St<Jt;St++)(ar=P[St]).length===2?(va=ar[0]*ut+va,ta=ar[1]*kt+ta,vi(va,ta)):(Rr=ar[0]*ut+va,In=ar[1]*kt+ta,ua=ar[2]*ut+va,mn=ar[3]*kt+ta,va=ar[4]*ut+va,ta=ar[5]*kt+ta,Rs(Rr,In,ua,mn,va,ta));return Ye&&Or(),$a(Pe),this},p.path=function(P){for(var X=0;X<P.length;X++){var ve=P[X],Se=ve.c;switch(ve.op){case"m":To(Se[0],Se[1]);break;case"l":vi(Se[0],Se[1]);break;case"c":Rs.apply(this,Se);break;case"h":Or()}}return this},p.__private__.rect=p.rect=function(P,X,ve,Se,Pe){if(isNaN(P)||isNaN(X)||isNaN(ve)||isNaN(Se)||!ca(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===A&&(Se=-Se),V([M(z(P)),M(W(X)),M(z(ve)),M(z(Se)),"re"].join(" ")),$a(Pe),this},p.__private__.triangle=p.triangle=function(P,X,ve,Se,Pe,Ye,ut){if(isNaN(P)||isNaN(X)||isNaN(ve)||isNaN(Se)||isNaN(Pe)||isNaN(Ye)||!ca(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-P,Se-X],[Pe-ve,Ye-Se],[P-Pe,X-Ye]],P,X,[1,1],ut,!0),this},p.__private__.roundedRect=p.roundedRect=function(P,X,ve,Se,Pe,Ye,ut){if(isNaN(P)||isNaN(X)||isNaN(ve)||isNaN(Se)||isNaN(Pe)||isNaN(Ye)||!ca(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*ve),Ye=Math.min(Ye,.5*Se),this.lines([[ve-2*Pe,0],[Pe*kt,0,Pe,Ye-Ye*kt,Pe,Ye],[0,Se-2*Ye],[0,Ye*kt,-Pe*kt,Ye,-Pe,Ye],[2*Pe-ve,0],[-Pe*kt,0,-Pe,-Ye*kt,-Pe,-Ye],[0,2*Ye-Se],[0,-Ye*kt,Pe*kt,-Ye,Pe,-Ye]],P+Pe,X,[1,1],ut,!0),this},p.__private__.ellipse=p.ellipse=function(P,X,ve,Se,Pe){if(isNaN(P)||isNaN(X)||isNaN(ve)||isNaN(Se)||!ca(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*ve,ut=4/3*(Math.SQRT2-1)*Se;return To(P+ve,X),Rs(P+ve,X-ut,P+Ye,X-Se,P,X-Se),Rs(P-Ye,X-Se,P-ve,X-ut,P-ve,X),Rs(P-ve,X+ut,P-Ye,X+Se,P,X+Se),Rs(P+Ye,X+Se,P+ve,X+ut,P+ve,X),$a(Pe),this},p.__private__.circle=p.circle=function(P,X,ve,Se){if(isNaN(P)||isNaN(X)||isNaN(ve)||!ca(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,X,ve,ve,Se)},p.setFont=function(P,X,ve){return ve&&(X=F(X,ve)),be=Ar(P,X,{disableWarning:!1}),this};var Vs=p.__private__.getFont=p.getFont=function(){return at[Ar.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var P,X,ve={};for(P in gt)if(gt.hasOwnProperty(P))for(X in ve[P]=[],gt[P])gt[P].hasOwnProperty(X)&&ve[P].push(X);return ve},p.addFont=function(P,X,ve,Se,Pe){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(ve=F(ve,Se)),rr.call(this,P,X,ve,Pe=Pe||"Identity-H")};var Ba,hs=e.lineWidth||.200025,ir=p.__private__.getLineWidth=p.getLineWidth=function(){return hs},ao=p.__private__.setLineWidth=p.setLineWidth=function(P){return hs=P,V(M(z(P))+" w"),this};p.__private__.setLineDash=Qt.API.setLineDash=Qt.API.setLineDashPattern=function(P,X){if(P=P||[],X=X||0,isNaN(X)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(ve){return M(z(ve))}).join(" "),X=M(z(X)),V("["+P+"] "+X+" d"),this};var Ys=p.__private__.getLineHeight=p.getLineHeight=function(){return ze*Ba};p.__private__.getLineHeight=p.getLineHeight=function(){return ze*Ba};var uc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Ba=P),this},Mo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ba};uc(e.lineHeight);var es=p.__private__.getHorizontalCoordinate=function(P){return z(P)},ea=p.__private__.getVerticalCoordinate=function(P){return k===N?P:Et[B].mediaBox.topRightY-Et[B].mediaBox.bottomLeftY-z(P)},dc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(P){return M(es(P))},Io=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(P){return M(ea(P))},so=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ds(so)},p.__private__.setStrokeColor=p.setDrawColor=function(P,X,ve,Se){return so=An({ch1:P,ch2:X,ch3:ve,ch4:Se,pdfColorType:"draw",precision:2}),V(so),this};var dl=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ds(dl)},p.__private__.setFillColor=p.setFillColor=function(P,X,ve,Se){return dl=An({ch1:P,ch2:X,ch3:ve,ch4:Se,pdfColorType:"fill",precision:2}),V(dl),this};var Ts=e.textColor||"0 g",Gs=p.__private__.getTextColor=p.getTextColor=function(){return ds(Ts)};p.__private__.setTextColor=p.setTextColor=function(P,X,ve,Se){return Ts=An({ch1:P,ch2:X,ch3:ve,ch4:Se,pdfColorType:"text",precision:3}),this};var Ms=e.charSpace,Do=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ms||0)};p.__private__.setCharSpace=p.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ms=P,this};var Oi=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(P){var X=p.CapJoinStyles[P];if(X===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oi=X,V(X+" J"),this};var fl=0;p.__private__.setLineJoin=p.setLineJoin=function(P){var X=p.CapJoinStyles[P];if(X===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fl=X,V(X+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(M(z(P))+" M"),this},p.GState=Vp,p.setGState=function(P){(P=typeof P=="string"?Me[dt[P]]:xi(null,P)).equals(er)||(V("/"+P.id+" gs"),er=P)};var xi=function(P,X){if(!P||!dt[P]){var ve=!1;for(var Se in Me)if(Me.hasOwnProperty(Se)&&Me[Se].equals(X)){ve=!0;break}if(ve)X=Me[Se];else{var Pe="GS"+(Object.keys(Me).length+1).toString(10);Me[Pe]=X,X.id=Pe}return P&&(dt[P]=X.id),fr.publish("addGState",X),X}};p.addGState=function(P,X){return xi(P,X),this},p.saveGraphicsState=function(){return V("q"),vt.push({key:be,size:ze,color:Ts}),this},p.restoreGraphicsState=function(){V("Q");var P=vt.pop();return be=P.key,ze=P.size,Ts=P.color,er=null,this},p.setCurrentTransformationMatrix=function(P){return V(P.toString()+" cm"),this},p.comment=function(P){return V("#"+P),this};var Ks=function(P,X){var ve=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Ye){isNaN(Ye)||(ve=parseFloat(Ye))}});var Se=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(Ye){isNaN(Ye)||(Se=parseFloat(Ye))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Ye){Pe=Ye.toString()}}),this},io=function(P,X,ve,Se){Ks.call(this,P,X),this.type="rect";var Pe=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(ut){isNaN(ut)||(Pe=parseFloat(ut))}});var Ye=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(ut){isNaN(ut)||(Ye=parseFloat(ut))}}),this},oo=function(){this.page=dr,this.currentPage=B,this.pages=_e.slice(0),this.pagesContext=Et.slice(0),this.x=Fe,this.y=st,this.matrix=mt,this.width=K(B),this.height=ot(B),this.outputDestination=ye,this.id="",this.objectNumber=-1};oo.prototype.restore=function(){dr=this.page,B=this.currentPage,Et=this.pagesContext,_e=this.pages,Fe=this.x,st=this.y,mt=this.matrix,Ue(B,this.width),Ct(B,this.height),ye=this.outputDestination};var ts=function(P,X,ve,Se,Pe){Bn.push(new oo),dr=B=0,_e=[],Fe=P,st=X,mt=Pe,gr([ve,Se])};for(var yi in p.beginFormObject=function(P,X,ve,Se,Pe){return ts(P,X,ve,Se,Pe),this},p.endFormObject=function(P){return(function(X){if(en[X])Bn.pop().restore();else{var ve=new oo,Se="Xo"+(Object.keys(Zr).length+1).toString(10);ve.id=Se,en[X]=Se,Zr[Se]=ve,fr.publish("addFormObject",ve),Bn.pop().restore()}})(P),this},p.doFormObject=function(P,X){var ve=Zr[en[P]];return V("q"),V(X.toString()+" cm"),V("/"+ve.id+" Do"),V("Q"),this},p.getFormObject=function(P){var X=Zr[en[P]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},p.save=function(P,X){return P=P||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Mu(Lr(zt()),P),typeof Mu.unload=="function"&&xr.setTimeout&&setTimeout(Mu.unload,911),this):new Promise(function(ve,Se){try{var Pe=Mu(Lr(zt()),P);typeof Mu.unload=="function"&&xr.setTimeout&&setTimeout(Mu.unload,911),ve(Pe)}catch(Ye){Se(Ye.message)}})},Qt.API)Qt.API.hasOwnProperty(yi)&&(yi==="events"&&Qt.API.events.length?(function(P,X){var ve,Se,Pe;for(Pe=X.length-1;Pe!==-1;Pe--)ve=X[Pe][0],Se=X[Pe][1],P.subscribe.apply(P,[ve].concat(typeof Se=="function"?[Se]:Se))})(fr,Qt.API.events):p[yi]=Qt.API[yi]);function K(P){return Et[P].mediaBox.topRightX-Et[P].mediaBox.bottomLeftX}function Ue(P,X){Et[P].mediaBox.topRightX=X+Et[P].mediaBox.bottomLeftX}function ot(P){return Et[P].mediaBox.topRightY-Et[P].mediaBox.bottomLeftY}function Ct(P,X){Et[P].mediaBox.topRightY=X+Et[P].mediaBox.bottomLeftY}var Kt=p.getPageWidth=function(P){return K(P=P||B)/Oe},Zt=p.setPageWidth=function(P,X){Ue(P,X*Oe)},qt=p.getPageHeight=function(P){return ot(P=P||B)/Oe},yr=p.setPageHeight=function(P,X){Ct(P,X*Oe)};return p.internal={pdfEscape:nr,getStyle:fs,getFont:Vs,getFontSize:De,getCharSpace:Do,getTextColor:Gs,getLineHeight:Ys,getLineHeightFactor:Mo,getLineWidth:ir,write:Re,getHorizontalCoordinate:es,getVerticalCoordinate:ea,getCoordinateString:dc,getVerticalCoordinateString:Io,collections:{},newObject:Fr,newAdditionalObject:Os,newObjectDeferred:xn,newObjectDeferredBegin:Wr,getFilters:Ur,putStream:oa,events:fr,scaleFactor:Oe,pageSize:{getWidth:function(){return Kt(B)},setWidth:function(P){Zt(B,P)},getHeight:function(){return qt(B)},setHeight:function(P){yr(B,P)}},encryptionOptions:h,encryption:Cn,getEncryptor:function(P){return h!==null?Cn.encryptor(P,0):function(X){return X}},output:tn,getNumberOfPages:yn,pages:_e,out:V,f2:R,f3:D,getPageInfo:gi,getPageInfoByObjId:no,getCurrentPageInfo:Oo,getPDFVersion:x,Point:Ks,Rectangle:io,Matrix:Ut,hasHotfix:ro},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Kt(B)},set:function(P){Zt(B,P)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return qt(B)},set:function(P){yr(B,P)},enumerable:!0,configurable:!0}),(function(P){for(var X=0,ve=nt.length;X<ve;X++){var Se=rr.call(this,P[X][0],P[X][1],P[X][2],nt[X][3],!0);m===!1&&(v[Se]=!0);var Pe=P[X][0].split("-");Ht({id:Se,fontName:Pe[0],fontStyle:Pe[1]||""})}fr.publish("addFonts",{fonts:at,dictionary:gt})}).call(p,nt),be="F1",qr(s,r),fr.publish("initialized"),p}Td.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Td.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Td.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Td.prototype.processOwnerPassword=function(e,t){return Jw(Xw(t).substr(0,5),e)},Td.prototype.encryptor=function(e,t){var r=Xw(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Jw(r,n)}},Vp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||fn(e)!==fn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Qt.API={events:[]},Qt.version="3.0.3";var ha=Qt.API,vj=1,id=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ed=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sr=function(e){return e.toFixed(2)},Tc=function(e){return e.toFixed(5)};ha.__acroform__={};var hi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},DC=function(e){return e*vj},tl=function(e){var t=new pL,r=Bt.internal.getHeight(e)||0,n=Bt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Sr(n)),Number(Sr(r))],t},aZ=ha.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},sZ=ha.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},iZ=ha.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ya=ha.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return iZ(e,t-1)},ba=ha.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aZ(e,t-1)},wa=ha.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sZ(e,t-1)},oZ=ha.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],u={};return u.lowerLeft_X=r(s)||0,u.lowerLeft_Y=n(i+l)||0,u.upperRight_X=r(s+o)||0,u.upperRight_Y=n(i)||0,[Number(Sr(u.lowerLeft_X)),Number(Sr(u.lowerLeft_Y)),Number(Sr(u.upperRight_X)),Number(Sr(u.upperRight_Y))]},lZ=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Qw(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Sr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=tl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Qw=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(R){return R.split(`
`)}):s.map(function(R){return[R]});var i=r,o=Bt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Bt.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(R,D,z){if(R+1<s.length){var W=D+" "+s[R+1][0];return Rm(W,e,z).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var f,h,m=Rm("3",e,i).height,v=e.multiline?o-i:(o-m)/2,p=v+=2,w=0,x=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Rm(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var j="",A=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var k=!1;if(s[N].length!==1&&y!==s[N].length-1){if((m+2)*(A+2)+2>o)continue e;j+=s[N][y],k=!0,x=N,N--}else{j=(j+=s[N][y]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var C=parseInt(N),T=u(C,j,i),F=N>=s.length-1;if(T&&!F){j+=" ",y=0;continue}if(T||F){if(F)x=C;else if(e.multiline&&(m+2)*(A+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(A+2)+2>o)continue e;x=C}}for(var M="",q=w;q<=x;q++){var G=s[q];if(e.multiline){if(q===x){M+=G[y]+" ",y=(y+1)%G.length;continue}if(q===w){M+=G[G.length-1]+" ";continue}}M+=G[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,h=Rm(M,e,i).width,e.textAlign){case"right":f=l-h-2;break;case"center":f=(l-h)/2;break;default:f=2}t+=Sr(f)+" "+Sr(p)+` Td
`,t+="("+id(M)+`) Tj
`,t+=-Sr(f)+` 0 Td
`,p=-(i+2),h=0,w=k?x:x+1,A++,j=""}break}return n.text=t,n.fontSize=i,n},Rm=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},cZ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uZ=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},dZ=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Eo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(cZ)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");vj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new gL,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&uZ(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],u=[],f=l.Rect;if(l.Rect&&(l.Rect=oZ(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Bt.createDefaultAppearanceStream(l),fn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=lZ(l);u.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var p=l.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var w=p[o];typeof w=="function"&&(w=w.call(s,l)),m+="/"+o+" "+w+" ",s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w)}}else typeof(w=p)=="function"&&(w=w.call(s,l)),m+="/"+o+" "+w,s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:l.objId}),s.internal.out("endobj")}i&&(function(x,y){for(var j in x)if(x.hasOwnProperty(j)){var A=j,N=x[j];y.internal.newObjectDeferredBegin(N.objId,!0),fn(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete x[A]}})(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},mL=ha.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),fn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+id(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sb=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+id(n(e))+")"},nl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};nl.prototype.toString=function(){return this.objId+" 0 R"},nl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},nl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:mL(s,this.objId,this.scope)}):s instanceof nl?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var pL=function(){nl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};hi(pL,nl);var gL=function(){nl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+id(r(e))+")"}},set:function(r){e=r}})};hi(gL,nl);var Eo=function e(){nl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ya(t,3)},set:function(j){j?this.F=ba(t,3):this.F=wa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');r=j}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(j){n=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(j){n[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(j){n[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(j){n[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(j){n[3]=j}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Yp)return;i="FieldObject"+e.FieldNum++}var j=function(A){return A};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+id(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/vj:f},set:function(j){f=j}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(j){h=j}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Yp||this instanceof Gu))return sb(m,this.objId,this.scope)},set:function(j){j=j.toString(),m=j}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Ja==0?sb(v,this.objId,this.scope):v},set:function(j){j=j.toString(),v=this instanceof Ja==0?j.substr(0,1)==="("?Ed(j.substr(1,j.length-2)):Ed(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja==1?Ed(v.substr(1,v.length-1)):v},set:function(j){j=j.toString(),v=this instanceof Ja==1?"/"+j:j}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ja==0?sb(p,this.objId,this.scope):p},set:function(j){j=j.toString(),p=this instanceof Ja==0?j.substr(0,1)==="("?Ed(j.substr(1,j.length-2)):Ed(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja==1?Ed(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof Ja==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(j){j=!!j,x=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(j){w=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,1)},set:function(j){j?this.Ff=ba(this.Ff,1):this.Ff=wa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,2)},set:function(j){j?this.Ff=ba(this.Ff,2):this.Ff=wa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,3)},set:function(j){j?this.Ff=ba(this.Ff,3):this.Ff=wa(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');y=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(y){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};hi(Eo,nl);var Wd=function(){Eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mL(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(i,o,l){l||(l=1);for(var u,f=[];u=o.exec(i);)f.push(u[l]);return f})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,18)},set:function(r){r?this.Ff=ba(this.Ff,18):this.Ff=wa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ba(this.Ff,19):this.Ff=wa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,20)},set:function(r){r?(this.Ff=ba(this.Ff,20),t.sort()):this.Ff=wa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,22)},set:function(r){r?this.Ff=ba(this.Ff,22):this.Ff=wa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,23)},set:function(r){r?this.Ff=ba(this.Ff,23):this.Ff=wa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,27)},set:function(r){r?this.Ff=ba(this.Ff,27):this.Ff=wa(this.Ff,27)}}),this.hasAppearanceStream=!1};hi(Wd,Eo);var Hd=function(){Wd.call(this),this.fontName="helvetica",this.combo=!1};hi(Hd,Wd);var Vd=function(){Hd.call(this),this.combo=!0};hi(Vd,Hd);var qm=function(){Vd.call(this),this.edit=!0};hi(qm,Vd);var Ja=function(){Eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,15)},set:function(r){r?this.Ff=ba(this.Ff,15):this.Ff=wa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,16)},set:function(r){r?this.Ff=ba(this.Ff,16):this.Ff=wa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,17)},set:function(r){r?this.Ff=ba(this.Ff,17):this.Ff=wa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,26)},set:function(r){r?this.Ff=ba(this.Ff,26):this.Ff=wa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+id(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){fn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};hi(Ja,Eo);var zm=function(){Ja.call(this),this.pushButton=!0};hi(zm,Ja);var Yd=function(){Ja.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};hi(Yd,Ja);var Yp=function(){var e,t;Eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+id(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){fn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hi(Yp,Eo),Yd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Yd.prototype.createOption=function(e){var t=new Yp;return t.Parent=this,t.optionName=e,this.Kids.push(t),fZ.call(this.scope,t),t};var Wm=function(){Ja.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bt.CheckBox.createAppearanceStream()};hi(Wm,Ja);var Gu=function(){Eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,13)},set:function(t){t?this.Ff=ba(this.Ff,13):this.Ff=wa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,21)},set:function(t){t?this.Ff=ba(this.Ff,21):this.Ff=wa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,23)},set:function(t){t?this.Ff=ba(this.Ff,23):this.Ff=wa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,24)},set:function(t){t?this.Ff=ba(this.Ff,24):this.Ff=wa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,25)},set:function(t){t?this.Ff=ba(this.Ff,25):this.Ff=wa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,26)},set:function(t){t?this.Ff=ba(this.Ff,26):this.Ff=wa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hi(Gu,Eo);var Hm=function(){Gu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,14)},set:function(e){e?this.Ff=ba(this.Ff,14):this.Ff=wa(this.Ff,14)}}),this.password=!0};hi(Hm,Gu);var Bt={CheckBox:{createAppearanceStream:function(){return{N:{On:Bt.CheckBox.YesNormal},D:{On:Bt.CheckBox.YesPushDown,Off:Bt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Qw(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Sr(Bt.internal.getWidth(e))+" "+Sr(Bt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Sr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Bt.internal.getHeight(e),o=Bt.internal.getWidth(e),l=Qw(e,e.caption);return s.push("1 g"),s.push("0 0 "+Sr(o)+" "+Sr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Sr(o-1)+" "+Sr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Sr(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Sr(Bt.internal.getWidth(e))+" "+Sr(Bt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Bt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Bt.RadioButton.Circle.YesNormal,t.D[e]=Bt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=Bt.internal.getWidth(e)<=Bt.internal.getHeight(e)?Bt.internal.getWidth(e)/4:Bt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Bt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Tc(Bt.internal.getWidth(e)/2)+" "+Tc(Bt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=Bt.internal.getWidth(e)<=Bt.internal.getHeight(e)?Bt.internal.getWidth(e)/4:Bt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Bt.internal.Bezier_C).toFixed(5)),o=Number((n*Bt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Tc(Bt.internal.getWidth(e)/2)+" "+Tc(Bt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Tc(Bt.internal.getWidth(e)/2)+" "+Tc(Bt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=Bt.internal.getWidth(e)<=Bt.internal.getHeight(e)?Bt.internal.getWidth(e)/4:Bt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Bt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Tc(Bt.internal.getWidth(e)/2)+" "+Tc(Bt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Bt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Bt.RadioButton.Cross.YesNormal,t.D[e]=Bt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var r=[],n=Bt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Sr(Bt.internal.getWidth(e)-2)+" "+Sr(Bt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Sr(n.x1.x)+" "+Sr(n.x1.y)+" m"),r.push(Sr(n.x2.x)+" "+Sr(n.x2.y)+" l"),r.push(Sr(n.x4.x)+" "+Sr(n.x4.y)+" m"),r.push(Sr(n.x3.x)+" "+Sr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=Bt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Sr(Bt.internal.getWidth(e))+" "+Sr(Bt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Sr(Bt.internal.getWidth(e)-2)+" "+Sr(Bt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Sr(r.x1.x)+" "+Sr(r.x1.y)+" m"),n.push(Sr(r.x2.x)+" "+Sr(r.x2.y)+" l"),n.push(Sr(r.x4.x)+" "+Sr(r.x4.y)+" m"),n.push(Sr(r.x3.x)+" "+Sr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Sr(Bt.internal.getWidth(e))+" "+Sr(Bt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Bt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Bt.internal.getWidth(e),r=Bt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Bt.internal.getWidth=function(e){var t=0;return fn(e)==="object"&&(t=DC(e.Rect[2])),t},Bt.internal.getHeight=function(e){var t=0;return fn(e)==="object"&&(t=DC(e.Rect[3])),t};var fZ=ha.addField=function(e){if(dZ(this,e),!(e instanceof Eo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ha.AcroFormChoiceField=Wd,ha.AcroFormListBox=Hd,ha.AcroFormComboBox=Vd,ha.AcroFormEditBox=qm,ha.AcroFormButton=Ja,ha.AcroFormPushButton=zm,ha.AcroFormRadioButton=Yd,ha.AcroFormCheckBox=Wm,ha.AcroFormTextField=Gu,ha.AcroFormPasswordField=Hm,ha.AcroFormAppearance=Bt,ha.AcroForm={ChoiceField:Wd,ListBox:Hd,ComboBox:Vd,EditBox:qm,Button:Ja,PushButton:zm,RadioButton:Yd,CheckBox:Wm,TextField:Gu,PasswordField:Hm,Appearance:Bt},Qt.AcroForm={ChoiceField:Wd,ListBox:Hd,ComboBox:Vd,EditBox:qm,Button:Ja,PushButton:zm,RadioButton:Yd,CheckBox:Wm,TextField:Gu,PasswordField:Hm,Appearance:Bt};Qt.AcroForm;function vL(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(R,D){var z,W,Z,le,ge,te=r;if((D=D||r)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(T(R))for(ge in n)for(Z=n[ge],z=0;z<Z.length;z+=1){for(le=!0,W=0;W<Z[z].length;W+=1)if(Z[z][W]!==void 0&&Z[z][W]!==R[W]){le=!1;break}if(le===!0){te=ge;break}}else for(ge in n)for(Z=n[ge],z=0;z<Z.length;z+=1){for(le=!0,W=0;W<Z[z].length;W+=1)if(Z[z][W]!==void 0&&Z[z][W]!==R.charCodeAt(W)){le=!1;break}if(le===!0){te=ge;break}}return te===r&&D!==r&&(te=D),te},i=function R(D){for(var z=this.internal.write,W=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:D.width}),le.push({key:"Height",value:D.height}),D.colorSpace===j.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===j.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var ge="",te=0,ue=D.transparency.length;te<ue;te++)ge+=D.transparency[te]+" "+D.transparency[te]+" ";le.push({key:"Mask",value:"["+ge+"]"})}D.sMask!==void 0&&le.push({key:"SMask",value:D.objectId+1+" 0 R"});var H=D.filter!==void 0?["/"+D.filter]:void 0;if(W({data:D.data,additionalKeyValues:le,alreadyAppliedFilters:H,objectId:D.objectId}),z("endobj"),"sMask"in D&&D.sMask!==void 0){var ae,U=(ae=D.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:D.bitsPerComponent,B={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:D.sMask};"filter"in D&&(B.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(D.width),B.filter=D.filter),R.call(this,B)}if(D.colorSpace===j.INDEXED){var Y=this.internal.newObject();W({data:M(new Uint8Array(D.palette)),objectId:Y}),z("endobj")}},o=function(){var R=this.internal.collections[t+"images"];for(var D in R)i.call(this,R[D])},l=function(){var R,D=this.internal.collections[t+"images"],z=this.internal.write;for(var W in D)z("/I"+(R=D[W]).index,R.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var R=this.internal.collections[t+"images"];return u.call(this),R},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(R){return typeof e["process"+R.toUpperCase()]=="function"},v=function(R){return fn(R)==="object"&&R.nodeType===1},p=function(R,D){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var z=""+R.getAttribute("src");if(z.indexOf("data:image/")===0)return Um(unescape(z).split("base64,").pop());var W=e.loadFile(z,!0);if(W!==void 0)return W}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var Z;switch(D){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return Um(R.toDataURL(Z,1).split("base64,").pop())}},w=function(R){var D=this.internal.collections[t+"images"];if(D){for(var z in D)if(R===D[z].alias)return D[z]}},x=function(R,D,z){return R||D||(R=-96,D=-96),R<0&&(R=-1*z.width*72/R/this.internal.scaleFactor),D<0&&(D=-1*z.height*72/D/this.internal.scaleFactor),R===0&&(R=D*z.width/z.height),D===0&&(D=R*z.height/z.width),[R,D]},y=function(R,D,z,W,Z,le){var ge=x.call(this,z,W,Z),te=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,H=f.call(this);if(z=ge[0],W=ge[1],H[Z.index]=Z,le){le*=Math.PI/180;var ae=Math.cos(le),U=Math.sin(le),B=function(ne){return ne.toFixed(4)},Y=[B(ae),B(U),B(-1*U),B(ae),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,te(R),ue(D+W),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([te(z),"0","0",te(W),"0","0","cm"].join(" "))):this.internal.write([te(z),"0","0",te(W),te(R),ue(D+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(R){var D,z,W=0;if(typeof R=="string")for(z=R.length,D=0;D<z;D++)W=(W<<5)-W+R.charCodeAt(D),W|=0;else if(T(R))for(z=R.byteLength/2,D=0;D<z;D++)W=(W<<5)-W+R[D],W|=0;return W},k=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var D=!0;return R.length===0&&(D=!1),R.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(D=!1),D},C=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var D=R.indexOf(",");return D<0?null:R.substring(0,D).trim().endsWith("base64")?R.substring(D+1):null};e.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var T=e.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},F=e.__addimage__.binaryStringToUint8Array=function(R){for(var D=R.length,z=new Uint8Array(D),W=0;W<D;W++)z[W]=R.charCodeAt(W);return z},M=e.__addimage__.arrayBufferToBinaryString=function(R){for(var D="",z=T(R)?R:new Uint8Array(R),W=0;W<z.length;W+=8192)D+=String.fromCharCode.apply(null,z.subarray(W,W+8192));return D};e.addImage=function(){var R,D,z,W,Z,le,ge,te,ue;if(typeof arguments[1]=="number"?(D=r,z=arguments[1],W=arguments[2],Z=arguments[3],le=arguments[4],ge=arguments[5],te=arguments[6],ue=arguments[7]):(D=arguments[1],z=arguments[2],W=arguments[3],Z=arguments[4],le=arguments[5],ge=arguments[6],te=arguments[7],ue=arguments[8]),fn(R=arguments[0])==="object"&&!v(R)&&"imageData"in R){var H=R;R=H.imageData,D=H.format||D||r,z=H.x||z||0,W=H.y||W||0,Z=H.w||H.width||Z,le=H.h||H.height||le,ge=H.alias||ge,te=H.compression||te,ue=H.rotation||H.angle||ue}var ae=this.internal.getFilters();if(te===void 0&&ae.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(z)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var U=q.call(this,R,D,ge,te);return y.call(this,z,W,Z,le,U,ue),this};var q=function(R,D,z,W){var Z,le,ge;if(typeof R=="string"&&s(R)===r){R=unescape(R);var te=G(R,!1);(te!==""||(te=e.loadFile(R,!0))!==void 0)&&(R=te)}if(v(R)&&(R=p(R,D)),D=s(R,D),!m(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ge=z)==null||ge.length===0)&&(z=(function(ue){return typeof ue=="string"||T(ue)?N(ue):T(ue.data)?N(ue.data):null})(R)),(Z=w.call(this,z))||(R instanceof Uint8Array||D==="RGBA"||(le=R,R=F(R)),Z=this["process"+D.toUpperCase()](R,h.call(this),z,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in e.image_compression?ue:A.NONE})(W),le)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},G=e.__addimage__.convertBase64ToBinaryString=function(R,D){D=typeof D!="boolean"||D;var z,W="";if(typeof R=="string"){var Z;z=(Z=C(R))!==null&&Z!==void 0?Z:R;try{W=Um(z)}catch(le){if(D)throw k(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};e.getImageProperties=function(R){var D,z,W="";if(v(R)&&(R=p(R)),typeof R=="string"&&s(R)===r&&((W=G(R,!1))===""&&(W=e.loadFile(R)||""),R=W),z=s(R),!m(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(R instanceof Uint8Array||(R=F(R)),!(D=this["process"+z.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=z,D}})(Qt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Qt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,h=!1,m=0;m<f.length&&!h;m++)switch((n=f[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){n=f[v];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(x.objId),A=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(j(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+p(j(A))+") >>",x.content=i;var N=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(x.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(w(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var T=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+T+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(r),y:f(n),w:u(r+s),h:f(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,l,u=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(f*h)}else l=u,o=f;return this.text(r,n,s,i),s+=.2*f,i.align==="center"&&(n-=u/2),i.align==="right"&&(n-=u),this.link(n,s-f,l,o,i),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Qt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(x){var y=0,j=r,A="",N=0;for(y=0;y<x.length;y+=1)j[x.charCodeAt(y)]!==void 0?(N++,typeof(j=j[x.charCodeAt(y)])=="number"&&(A+=String.fromCharCode(j),j=r,N=0),y===x.length-1&&(j=r,A+=x.charAt(y-(N-1)),y-=N-1,N=0)):(j=r,A+=x.charAt(y-N),y-=N,N=0);return A};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(x,y,j){return o(x)?i(x)===!1?-1:!f(x)||!o(y)&&!o(j)||!o(j)&&l(y)||l(x)&&!o(y)||l(x)&&u(y)||l(x)&&l(y)?0:h(x)&&o(y)&&!l(y)&&o(j)&&f(j)?3:l(x)||!o(j)?1:2:-1},p=function(x){var y=0,j=0,A=0,N="",k="",C="",T=(x=x||"").split("\\s+"),F=[];for(y=0;y<T.length;y+=1){for(F.push(""),j=0;j<T[y].length;j+=1)N=T[y][j],k=T[y][j-1],C=T[y][j+1],o(N)?(A=v(N,k,C),F[y]+=A!==-1?String.fromCharCode(t[N.charCodeAt(0)][A]):N):F[y]+=N;F[y]=m(F[y])}return F.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var x,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(y)){var A=0;for(j=[],A=0;A<y.length;A+=1)Array.isArray(y[A])?j.push([p(y[A][0]),y[A][1],y[A][2]]):j.push([p(y[A])]);x=j}else x=p(y);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",w])})(Qt.API),Qt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Qt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(x){v=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(x){w=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){n.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,p=0,w=0,x=0,y=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var j=f.maxWidth;j>0?typeof u=="string"?u=this.splitTextToSize(u,j):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(N,k){return N.concat(y.splitTextToSize(k,j))},[])):u=Array.isArray(u)?u:[u];for(var A=0;A<u.length;A++)p<(x=this.getStringUnitWidth(u[A],{font:m})*h)&&(p=x);return p!==0&&(w=u.length),{w:p/=v,h:Math.max((w*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,p&&v&&(this.printHeaderRow(u.lineNumber,!0),u.y+=v[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,h,m,v){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,w,x,y,j=[],A=[],N=[],k={},C={},T=[],F=[],M=(v=v||{}).autoSize||!1,q=v.printHeaders!==!1,G=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,R=v.margins||Object.assign({width:this.getPageWidth()},t),D=typeof v.padding=="number"?v.padding:3,z=v.headerBackgroundColor||"#c8c8c8",W=v.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=W,this.setFontSize(G),m==null)A=j=Object.keys(h[0]),N=j.map(function(){return"left"});else if(Array.isArray(m)&&fn(m[0])==="object")for(j=m.map(function(H){return H.name}),A=m.map(function(H){return H.prompt||H.name||""}),N=m.map(function(H){return H.align||"left"}),p=0;p<m.length;p+=1)C[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(A=j=m,N=j.map(function(){return"left"}));if(M||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<j.length;p+=1){for(k[y=j[p]]=h.map(function(H){return H[y]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=k[y],this.setFont(void 0,"normal"),x=0;x<w.length;x+=1)T.push(this.getTextDimensions(w[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[y]=Math.max.apply(null,T)+D+D,T=[]}if(q){var Z={};for(p=0;p<j.length;p+=1)Z[j[p]]={},Z[j[p]].text=A[p],Z[j[p]].align=N[p];var le=l.call(this,Z,C);F=j.map(function(H){return new i(u,f,C[H],le,Z[H].text,void 0,Z[H].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ge=m.reduce(function(H,ae){return H[ae.name]=ae.align,H},{});for(p=0;p<h.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:h[p]},this);var te=l.call(this,h[p],C);for(x=0;x<j.length;x+=1){var ue=h[p][j[x]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:x,data:ue},this),o.call(this,new i(u,f,C[j[x]],te,ue,p+2,ge[j[x]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var l=function(u,f){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(u).map(function(p){var w=u[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,f[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/v+h+h},this).reduce(function(p,w){return Math.max(p,w)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(w)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}})(Qt.API);var xL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Zw=vL(yL),bL=[100,200,300,400,500,600,700,800,900],hZ=vL(bL);function ib(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return xL[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof Zw[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function FC(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var mZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$C={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BC(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function UC(e){return e.trimLeft()}function pZ(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function gZ(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Tm,qC,zC,Ld,Mm,WC,HC,VC,ob=["times"];function YC(e,t,r,n,s){var i=4,o=KC;switch(s){case Qt.API.image_compression.FAST:i=1,o=GC;break;case Qt.API.image_compression.MEDIUM:i=6,o=XC;break;case Qt.API.image_compression.SLOW:i=9,o=JC}e=(function(u,f,h,m){for(var v,p=u.length/f,w=new Uint8Array(u.length+p),x=[vZ,GC,KC,XC,JC],y=0;y<p;y+=1){var j=y*f,A=u.subarray(j,j+f);if(m)w.set(m(A,h,v),j+y);else{for(var N=x.length,k=[],C=0;C<N;C+=1)k[C]=x[C](A,h,v);var T=yZ(k.concat());w.set(k[T],j+y)}v=A}return w})(e,t,Math.ceil(r*n/8),o);var l=Vw(e,{level:i});return Qt.API.__addimage__.arrayBufferToBinaryString(l)}function vZ(e){var t=Array.apply([],e);return t.unshift(0),t}function GC(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function KC(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function XC(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function JC(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=xZ(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function xZ(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function yZ(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function lb(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return wL(e,s)>>i&o}function QC(e,t,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),l=(1<<n)-1,u=(t&l)<<o;(function(f,h,m){if(h+1<f.byteLength)f.setUint16(h,m,!1);else{var v=m>>8&255;f.setUint8(h,v)}})(e,i,wL(e,i)&~(l<<o)&65535|u)}function wL(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function bZ(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,u=null;i&&(l=t,u=o,t+=3*o);var f=!0,h=[],m=0,v=null,p=0,w=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];m=e[t++]|e[t++]<<8,v=e[t++],1&x||(v=null),p=x>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,k=e[t++],C=k>>6&1,T=1<<1+(7&k),F=l,M=u,q=!1;k>>7&&(q=!0,F=t,M=T,t+=3*T);var G=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}h.push({x:y,y:j,width:A,height:N,has_local_palette:q,palette_offset:F,palette_size:M,data_offset:G,data_length:t-G,transparent_index:v,interlaced:!!C,delay:m,disposal:p});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return w},this.frameInfo=function(D){if(D<0||D>=h.length)throw new Error("Frame index out of range.");return h[D]},this.decodeAndBlitFrameBGRA=function(D,z){var W=this.frameInfo(D),Z=W.width*W.height,le=new Uint8Array(Z);ZC(e,W.data_offset,le,Z);var ge=W.palette_offset,te=W.transparent_index;te===null&&(te=256);var ue=W.width,H=r-ue,ae=ue,U=4*(W.y*r+W.x),B=4*((W.y+W.height)*r+W.x),Y=U,ne=4*H;W.interlaced===!0&&(ne+=4*r*7);for(var he=8,Q=0,pe=le.length;Q<pe;++Q){var ce=le[Q];if(ae===0&&(ae=ue,(Y+=ne)>=B&&(ne=4*H+4*r*(he-1),Y=U+(ue+H)*(he<<1),he>>=1)),ce===te)Y+=4;else{var me=e[ge+3*ce],_e=e[ge+3*ce+1],se=e[ge+3*ce+2];z[Y++]=se,z[Y++]=_e,z[Y++]=me,z[Y++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(D,z){var W=this.frameInfo(D),Z=W.width*W.height,le=new Uint8Array(Z);ZC(e,W.data_offset,le,Z);var ge=W.palette_offset,te=W.transparent_index;te===null&&(te=256);var ue=W.width,H=r-ue,ae=ue,U=4*(W.y*r+W.x),B=4*((W.y+W.height)*r+W.x),Y=U,ne=4*H;W.interlaced===!0&&(ne+=4*r*7);for(var he=8,Q=0,pe=le.length;Q<pe;++Q){var ce=le[Q];if(ae===0&&(ae=ue,(Y+=ne)>=B&&(ne=4*H+4*r*(he-1),Y=U+(ue+H)*(he<<1),he>>=1)),ce===te)Y+=4;else{var me=e[ge+3*ce],_e=e[ge+3*ce+1],se=e[ge+3*ce+2];z[Y++]=me,z[Y++]=_e,z[Y++]=se,z[Y++]=255}--ae}}}function ZC(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,u=s+1,f=(1<<u)-1,h=0,m=0,v=0,p=e[t++],w=new Int32Array(4096),x=null;;){for(;h<16&&p!==0;)m|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<u)break;var y=m&f;if(m>>=u,h-=u,y!==i){if(y===o)break;for(var j=y<l?y:x,A=0,N=j;N>i;)N=w[N]>>8,++A;var k=N;if(v+A+(j!==y?1:0)>n)return void Nn.log("Warning, gif stream longer than expected.");r[v++]=k;var C=v+=A;for(j!==y&&(r[v++]=k),N=j;A--;)N=w[N],r[--C]=255&N,N>>=8;x!==null&&l<4096&&(w[l++]=x<<8|k,l>=f+1&&u<12&&(++u,f=f<<1|1)),x=y}else l=o+1,f=(1<<(u=s+1))-1,x=null}return v!==n&&Nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cb(e){var t,r,n,s,i,o=Math.floor,l=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),m=new Array(65535),v=new Array(65535),p=new Array(64),w=new Array(64),x=[],y=0,j=7,A=new Array(64),N=new Array(64),k=new Array(64),C=new Array(256),T=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(U,B){for(var Y=0,ne=0,he=new Array,Q=1;Q<=16;Q++){for(var pe=1;pe<=U[Q];pe++)he[B[ne]]=[],he[B[ne]][0]=Y,he[B[ne]][1]=Q,ne++,Y++;Y*=2}return he}function ge(U){for(var B=U[0],Y=U[1]-1;Y>=0;)B&1<<Y&&(y|=1<<j),Y--,--j<0&&(y==255?(te(255),te(0)):te(y),j=7,y=0)}function te(U){x.push(U)}function ue(U){te(U>>8&255),te(255&U)}function H(U,B,Y,ne,he){for(var Q,pe=he[0],ce=he[240],me=(function(ze,je){var De,jt,bt,Ft,Tt,Pt,sr,ke,be,Oe,Fe=0;for(be=0;be<8;++be){De=ze[Fe],jt=ze[Fe+1],bt=ze[Fe+2],Ft=ze[Fe+3],Tt=ze[Fe+4],Pt=ze[Fe+5],sr=ze[Fe+6];var st=De+(ke=ze[Fe+7]),mt=De-ke,at=jt+sr,gt=jt-sr,vt=bt+Pt,He=bt-Pt,tt=Ft+Tt,Me=Ft-Tt,dt=st+tt,er=st-tt,dr=at+vt,Et=at-vt;ze[Fe]=dt+dr,ze[Fe+4]=dt-dr;var fr=.707106781*(Et+er);ze[Fe+2]=er+fr,ze[Fe+6]=er-fr;var kn=.382683433*((dt=Me+He)-(Et=gt+mt)),Zr=.5411961*dt+kn,en=1.306562965*Et+kn,Bn=.707106781*(dr=He+gt),Ut=mt+Bn,Br=mt-Bn;ze[Fe+5]=Br+Zr,ze[Fe+3]=Br-Zr,ze[Fe+1]=Ut+en,ze[Fe+7]=Ut-en,Fe+=8}for(Fe=0,be=0;be<8;++be){De=ze[Fe],jt=ze[Fe+8],bt=ze[Fe+16],Ft=ze[Fe+24],Tt=ze[Fe+32],Pt=ze[Fe+40],sr=ze[Fe+48];var mr=De+(ke=ze[Fe+56]),Un=De-ke,qn=jt+sr,Fr=jt-sr,xn=bt+Pt,Wr=bt-Pt,Os=Ft+Tt,Hs=Ft-Tt,Fa=mr+Os,ds=mr-Os,An=qn+xn,Ur=qn-xn;ze[Fe]=Fa+An,ze[Fe+32]=Fa-An;var oa=.707106781*(Ur+ds);ze[Fe+16]=ds+oa,ze[Fe+48]=ds-oa;var pa=.382683433*((Fa=Hs+Wr)-(Ur=Fr+Un)),la=.5411961*Fa+pa,Za=1.306562965*Ur+pa,ga=.707106781*(An=Wr+Fr),mi=Un+ga,pi=Un-ga;ze[Fe+40]=pi+la,ze[Fe+24]=pi-la,ze[Fe+8]=mi+Za,ze[Fe+56]=mi-Za,Fe++}for(be=0;be<64;++be)Oe=ze[be]*je[be],p[be]=Oe>0?Oe+.5|0:Oe-.5|0;return p})(U,B),_e=0;_e<64;++_e)w[F[_e]]=me[_e];var se=w[0]-Y;Y=w[0],se==0?ge(ne[0]):(ge(ne[v[Q=32767+se]]),ge(m[Q]));for(var ye=63;ye>0&&w[ye]==0;)ye--;if(ye==0)return ge(pe),Y;for(var fe,V=1;V<=ye;){for(var Re=V;w[V]==0&&V<=ye;)++V;var Je=V-Re;if(Je>=16){fe=Je>>4;for(var nt=1;nt<=fe;++nt)ge(ce);Je&=15}Q=32767+w[V],ge(he[(Je<<4)+v[Q]]),ge(m[Q]),V++}return ye!=63&&ge(pe),Y}function ae(U){U=Math.min(Math.max(U,1),100),i!=U&&((function(B){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var he=o((Y[ne]*B+50)/100);he=Math.min(Math.max(he,1),255),l[F[ne]]=he}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ce=o((Q[pe]*B+50)/100);ce=Math.min(Math.max(ce,1),255),u[F[pe]]=ce}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,se=0;se<8;se++)for(var ye=0;ye<8;ye++)f[_e]=1/(l[F[_e]]*me[se]*me[ye]*8),h[_e]=1/(u[F[_e]]*me[se]*me[ye]*8),_e++})(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,B){B&&ae(B),x=new Array,y=0,j=7,ue(65496),ue(65504),ue(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ue(1),ue(1),te(0),te(0),(function(){ue(65499),ue(132),te(0);for(var jt=0;jt<64;jt++)te(l[jt]);te(1);for(var bt=0;bt<64;bt++)te(u[bt])})(),(function(jt,bt){ue(65472),ue(17),te(8),ue(bt),ue(jt),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(U.width,U.height),(function(){ue(65476),ue(418),te(0);for(var jt=0;jt<16;jt++)te(M[jt+1]);for(var bt=0;bt<=11;bt++)te(q[bt]);te(16);for(var Ft=0;Ft<16;Ft++)te(G[Ft+1]);for(var Tt=0;Tt<=161;Tt++)te(R[Tt]);te(1);for(var Pt=0;Pt<16;Pt++)te(D[Pt+1]);for(var sr=0;sr<=11;sr++)te(z[sr]);te(17);for(var ke=0;ke<16;ke++)te(W[ke+1]);for(var be=0;be<=161;be++)te(Z[be])})(),ue(65498),ue(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var Y=0,ne=0,he=0;y=0,j=7,this.encode.displayName="_encode_";for(var Q,pe,ce,me,_e,se,ye,fe,V,Re=U.data,Je=U.width,nt=U.height,ze=4*Je,je=0;je<nt;){for(Q=0;Q<ze;){for(_e=ze*je+Q,ye=-1,fe=0,V=0;V<64;V++)se=_e+(fe=V>>3)*ze+(ye=4*(7&V)),je+fe>=nt&&(se-=ze*(je+1+fe-nt)),Q+ye>=ze&&(se-=Q+ye-ze+4),pe=Re[se++],ce=Re[se++],me=Re[se++],A[V]=(T[pe]+T[ce+256|0]+T[me+512|0]>>16)-128,N[V]=(T[pe+768|0]+T[ce+1024|0]+T[me+1280|0]>>16)-128,k[V]=(T[pe+1280|0]+T[ce+1536|0]+T[me+1792|0]>>16)-128;Y=H(A,f,Y,t,n),ne=H(N,h,ne,r,s),he=H(k,h,he,r,s),Q+=32}je+=8}if(j>=0){var De=[];De[1]=j+1,De[0]=(1<<j+1)-1,ge(De)}return ue(65497),new Uint8Array(x)},e=e||50,(function(){for(var U=String.fromCharCode,B=0;B<256;B++)C[B]=U(B)})(),t=le(M,q),r=le(D,z),n=le(G,R),s=le(W,Z),(function(){for(var U=1,B=2,Y=1;Y<=15;Y++){for(var ne=U;ne<B;ne++)v[32767+ne]=Y,m[32767+ne]=[],m[32767+ne][1]=Y,m[32767+ne][0]=ne;for(var he=-(B-1);he<=-U;he++)v[32767+he]=Y,m[32767+he]=[],m[32767+he][1]=Y,m[32767+he][0]=B-1+he;U<<=1,B<<=1}})(),(function(){for(var U=0;U<256;U++)T[U]=19595*U,T[U+256|0]=38470*U,T[U+512|0]=7471*U+32768,T[U+768|0]=-11059*U,T[U+1024|0]=-21709*U,T[U+1280|0]=32768*U+8421375,T[U+1536|0]=-27439*U,T[U+1792|0]=-5329*U})(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function No(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function e8(e){function t(q){if(!q)throw Error("assert :P")}function r(q,G,R){for(var D=0;4>D;D++)if(q[G+D]!=R.charCodeAt(D))return!0;return!1}function n(q,G,R,D,z){for(var W=0;W<z;W++)q[G+W]=R[D+W]}function s(q,G,R,D){for(var z=0;z<D;z++)q[G+z]=R}function i(q){return new Int32Array(q)}function o(q,G){for(var R=[],D=0;D<q;D++)R.push(new G);return R}function l(q,G){var R=[];return(function D(z,W,Z){for(var le=Z[W],ge=0;ge<le&&(z.push(Z.length>W+1?[]:new G),!(Z.length<W+1));ge++)D(z[ge],W+1,Z)})(R,0,q),R}var u=function(){var q=this;function G(b,_){for(var O=1<<_-1>>>0;b&O;)O>>>=1;return O?(b&O-1)+O:b}function R(b,_,O,$,J){t(!($%O));do b[_+($-=O)]=J;while(0<$)}function D(b,_,O,$,J){if(t(2328>=J),512>=J)var re=i(512);else if((re=i(J))==null)return 0;return(function(ie,oe,de,xe,Ae,Be){var we,Ee,$e=oe,et=1<<de,We=i(16),Xe=i(16);for(t(Ae!=0),t(xe!=null),t(ie!=null),t(0<de),Ee=0;Ee<Ae;++Ee){if(15<xe[Ee])return 0;++We[xe[Ee]]}if(We[0]==Ae)return 0;for(Xe[1]=0,we=1;15>we;++we){if(We[we]>1<<we)return 0;Xe[we+1]=Xe[we]+We[we]}for(Ee=0;Ee<Ae;++Ee)we=xe[Ee],0<xe[Ee]&&(Be[Xe[we]++]=Ee);if(Xe[15]==1)return(xe=new z).g=0,xe.value=Be[0],R(ie,$e,1,et,xe),et;var Qe,it=-1,lt=et-1,Vt=0,Ot=1,jr=1,Dt=1<<de;for(Ee=0,we=1,Ae=2;we<=de;++we,Ae<<=1){if(Ot+=jr<<=1,0>(jr-=We[we]))return 0;for(;0<We[we];--We[we])(xe=new z).g=we,xe.value=Be[Ee++],R(ie,$e+Vt,Ae,Dt,xe),Vt=G(Vt,we)}for(we=de+1,Ae=2;15>=we;++we,Ae<<=1){if(Ot+=jr<<=1,0>(jr-=We[we]))return 0;for(;0<We[we];--We[we]){if(xe=new z,(Vt&lt)!=it){for($e+=Dt,Qe=1<<(it=we)-de;15>it&&!(0>=(Qe-=We[it]));)++it,Qe<<=1;et+=Dt=1<<(Qe=it-de),ie[oe+(it=Vt&lt)].g=Qe+de,ie[oe+it].value=$e-oe-it}xe.g=we-de,xe.value=Be[Ee++],R(ie,$e+(Vt>>de),Ae,Dt,xe),Vt=G(Vt,we)}}return Ot!=2*Xe[15]-1?0:et})(b,_,O,$,J,re)}function z(){this.value=this.g=0}function W(){this.value=this.g=0}function Z(){this.G=o(5,z),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Js,W)}function le(b,_,O,$){t(b!=null),t(_!=null),t(2147483648>$),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=_,b.pa=O,b.Jd=_,b.Yc=O+$,b.Zc=4<=$?O+$-4+1:O,pe(b)}function ge(b,_){for(var O=0;0<_--;)O|=me(b,128)<<_;return O}function te(b,_){var O=ge(b,_);return ce(b)?-O:O}function ue(b,_,O,$){var J,re=0;for(t(b!=null),t(_!=null),t(4294967288>$),b.Sb=$,b.Ra=0,b.u=0,b.h=0,4<$&&($=4),J=0;J<$;++J)re+=_[O+J]<<8*J;b.Ra=re,b.bb=$,b.oa=_,b.pa=O}function H(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<qo-8>>>0,++b.bb,b.u-=8;ne(b)&&(b.h=1,b.u=0)}function ae(b,_){if(t(0<=_),!b.h&&_<=Fs){var O=Y(b)&Ds[_];return b.u+=_,H(b),O}return b.h=1,b.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(b){return b.Ra>>>(b.u&qo-1)>>>0}function ne(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>qo}function he(b,_){b.u=_,b.h=ne(b)}function Q(b){b.u>=Ti&&(t(b.u>=Ti),H(b))}function pe(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ce(b){return ge(b,1)}function me(b,_){var O=b.Ca;0>b.b&&pe(b);var $=b.b,J=O*_>>>8,re=(b.I>>>$>J)+0;for(re?(O-=J,b.I-=J+1<<$>>>0):O=J+1,$=O,J=0;256<=$;)J+=8,$>>=8;return $=7^J+co[$],b.b-=$,b.Ca=(O<<$)-1,re}function _e(b,_,O){b[_+0]=O>>24&255,b[_+1]=O>>16&255,b[_+2]=O>>8&255,b[_+3]=255&O}function se(b,_){return b[_+0]|b[_+1]<<8}function ye(b,_){return se(b,_)|b[_+2]<<16}function fe(b,_){return se(b,_)|se(b,_+2)<<16}function V(b,_){var O=1<<_;return t(b!=null),t(0<_),b.X=i(O),b.X==null?0:(b.Mb=32-_,b.Xa=_,1)}function Re(b,_){t(b!=null),t(_!=null),t(b.Xa==_.Xa),n(_.X,0,b.X,0,1<<_.Xa)}function Je(){this.X=[],this.Xa=this.Mb=0}function nt(b,_,O,$){t(O!=null),t($!=null);var J=O[0],re=$[0];return J==0&&(J=(b*re+_/2)/_),re==0&&(re=(_*J+b/2)/b),0>=J||0>=re?0:(O[0]=J,$[0]=re,1)}function ze(b,_){return b+(1<<_)-1>>>_}function je(b,_){return((4278255360&b)+(4278255360&_)>>>0&4278255360)+((16711935&b)+(16711935&_)>>>0&16711935)>>>0}function De(b,_){q[_]=function(O,$,J,re,ie,oe,de){var xe;for(xe=0;xe<ie;++xe){var Ae=q[b](oe[de+xe-1],J,re+xe);oe[de+xe]=je(O[$+xe],Ae)}}}function jt(){this.ud=this.hd=this.jd=0}function bt(b,_){return((4278124286&(b^_))>>>1)+(b&_)>>>0}function Ft(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Tt(b,_){return Ft(b+(b-_+.5>>1))}function Pt(b,_,O){return Math.abs(_-O)-Math.abs(b-O)}function sr(b,_,O,$,J,re,ie){for($=re[ie-1],O=0;O<J;++O)re[ie+O]=$=je(b[_+O],$)}function ke(b,_,O,$,J){var re;for(re=0;re<O;++re){var ie=b[_+re],oe=ie>>8&255,de=16711935&(de=(de=16711935&ie)+((oe<<16)+oe));$[J+re]=(4278255360&ie)+de>>>0}}function be(b,_){_.jd=255&b,_.hd=b>>8&255,_.ud=b>>16&255}function Oe(b,_,O,$,J,re){var ie;for(ie=0;ie<$;++ie){var oe=_[O+ie],de=oe>>>8,xe=oe,Ae=255&(Ae=(Ae=oe>>>16)+((b.jd<<24>>24)*(de<<24>>24)>>>5));xe=255&(xe=(xe+=(b.hd<<24>>24)*(de<<24>>24)>>>5)+((b.ud<<24>>24)*(Ae<<24>>24)>>>5)),J[re+ie]=(4278255360&oe)+(Ae<<16)+xe}}function Fe(b,_,O,$,J){q[_]=function(re,ie,oe,de,xe,Ae,Be,we,Ee){for(de=Be;de<we;++de)for(Be=0;Be<Ee;++Be)xe[Ae++]=J(oe[$(re[ie++])])},q[b]=function(re,ie,oe,de,xe,Ae,Be){var we=8>>re.b,Ee=re.Ea,$e=re.K[0],et=re.w;if(8>we)for(re=(1<<re.b)-1,et=(1<<we)-1;ie<oe;++ie){var We,Xe=0;for(We=0;We<Ee;++We)We&re||(Xe=$(de[xe++])),Ae[Be++]=J($e[Xe&et]),Xe>>=we}else q["VP8LMapColor"+O](de,xe,$e,et,Ae,Be,ie,oe,Ee)}}function st(b,_,O,$,J){for(O=_+O;_<O;){var re=b[_++];$[J++]=re>>16&255,$[J++]=re>>8&255,$[J++]=255&re}}function mt(b,_,O,$,J){for(O=_+O;_<O;){var re=b[_++];$[J++]=re>>16&255,$[J++]=re>>8&255,$[J++]=255&re,$[J++]=re>>24&255}}function at(b,_,O,$,J){for(O=_+O;_<O;){var re=(ie=b[_++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;$[J++]=re,$[J++]=ie}}function gt(b,_,O,$,J){for(O=_+O;_<O;){var re=(ie=b[_++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;$[J++]=re,$[J++]=ie}}function vt(b,_,O,$,J){for(O=_+O;_<O;){var re=b[_++];$[J++]=255&re,$[J++]=re>>8&255,$[J++]=re>>16&255}}function He(b,_,O,$,J,re){if(re==0)for(O=_+O;_<O;)_e($,((re=b[_++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),J+=32;else n($,J,b,_,O)}function tt(b,_){q[_][0]=q[b+"0"],q[_][1]=q[b+"1"],q[_][2]=q[b+"2"],q[_][3]=q[b+"3"],q[_][4]=q[b+"4"],q[_][5]=q[b+"5"],q[_][6]=q[b+"6"],q[_][7]=q[b+"7"],q[_][8]=q[b+"8"],q[_][9]=q[b+"9"],q[_][10]=q[b+"10"],q[_][11]=q[b+"11"],q[_][12]=q[b+"12"],q[_][13]=q[b+"13"],q[_][14]=q[b+"0"],q[_][15]=q[b+"0"]}function Me(b){return b==yc||b==_l||b==uu||b==du}function dt(){this.eb=[],this.size=this.A=this.fb=0}function er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dt,this.f.kb=new er,this.sd=null}function Et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kn(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Zr(b,_){var O=b.T,$=_.ba.f.RGBA,J=$.eb,re=$.fb+b.ka*$.A,ie=vs[_.ba.S],oe=b.y,de=b.O,xe=b.f,Ae=b.N,Be=b.ea,we=b.W,Ee=_.cc,$e=_.dc,et=_.Mc,We=_.Nc,Xe=b.ka,Qe=b.ka+b.T,it=b.U,lt=it+1>>1;for(Xe==0?ie(oe,de,null,null,xe,Ae,Be,we,xe,Ae,Be,we,J,re,null,null,it):(ie(_.ec,_.fc,oe,de,Ee,$e,et,We,xe,Ae,Be,we,J,re-$.A,J,re,it),++O);Xe+2<Qe;Xe+=2)Ee=xe,$e=Ae,et=Be,We=we,Ae+=b.Rc,we+=b.Rc,re+=2*$.A,ie(oe,(de+=2*b.fa)-b.fa,oe,de,Ee,$e,et,We,xe,Ae,Be,we,J,re-$.A,J,re,it);return de+=b.fa,b.j+Qe<b.o?(n(_.ec,_.fc,oe,de,it),n(_.cc,_.dc,xe,Ae,lt),n(_.Mc,_.Nc,Be,we,lt),O--):1&Qe||ie(oe,de,null,null,xe,Ae,Be,we,xe,Ae,Be,we,J,re+$.A,null,null,it),O}function en(b,_,O){var $=b.F,J=[b.J];if($!=null){var re=b.U,ie=_.ba.S,oe=ie==cu||ie==uu;_=_.ba.f.RGBA;var de=[0],xe=b.ka;de[0]=b.T,b.Kb&&(xe==0?--de[0]:(--xe,J[0]-=b.width),b.j+b.ka+b.T==b.o&&(de[0]=b.o-b.j-xe));var Ae=_.eb;xe=_.fb+xe*_.A,b=ou($,J[0],b.width,re,de,Ae,xe+(oe?0:3),_.A),t(O==de),b&&Me(ie)&&Sl(Ae,xe,oe,re,de,_.A)}return 0}function Bn(b){var _=b.ma,O=_.ba.S,$=11>O,J=O==Vo||O==lu||O==cu||O==dn||O==12||Me(O);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!fc(_.Oa,b,J?11:12))return 0;if(J&&Me(O)&&od(),b.da)alert("todo:use_scaling");else{if($){if(_.Ib=kn,b.Kb){if(O=b.U+1>>1,_.memory=i(b.U+2*O),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+b.U,_.Mc=_.cc,_.Nc=_.dc+O,_.Ib=Zr,od()}}else alert("todo:EmitYUV");J&&(_.Jb=en,$&&Xs())}if($&&!Pa){for(b=0;256>b;++b)xs[b]=89858*(b-128)+Ni>>mo,ys[b]=-22014*(b-128)+Ni,Nc[b]=-45773*(b-128),Pl[b]=113618*(b-128)+Ni>>mo;for(b=rn;b<on;++b)_=76283*(b-16)+Ni>>mo,pd[b-rn]=zn(_,255),D0[b-rn]=zn(_+8>>4,15);Pa=1}return 1}function Ut(b){var _=b.ma,O=b.U,$=b.T;return t(!(1&b.ka)),0>=O||0>=$?0:(O=_.Ib(b,_),_.Jb!=null&&_.Jb(b,_,O),_.Dc+=O,1)}function Br(b){b.ma.memory=null}function mr(b,_,O,$){return ae(b,8)!=47?0:(_[0]=ae(b,14)+1,O[0]=ae(b,14)+1,$[0]=ae(b,1),ae(b,3)!=0?0:!b.h)}function Un(b,_){if(4>b)return b+1;var O=b-2>>1;return(2+(1&b)<<O)+ae(_,O)+1}function qn(b,_){return 120<_?_-120:1<=(O=((O=qg[_-1])>>4)*b+(8-(15&O)))?O:1;var O}function Fr(b,_,O){var $=Y(O),J=b[_+=255&$].g-8;return 0<J&&(he(O,O.u+8),$=Y(O),_+=b[_].value,_+=$&(1<<J)-1),he(O,O.u+b[_].g),b[_].value}function xn(b,_,O){return O.g+=b.g,O.value+=b.value<<_>>>0,t(8>=O.g),b.g}function Wr(b,_,O){var $=b.xc;return t((_=$==0?0:b.vc[b.md*(O>>$)+(_>>$)])<b.Wb),b.Ya[_]}function Os(b,_,O,$){var J=b.ab,re=b.c*_,ie=b.C;_=ie+_;var oe=O,de=$;for($=b.Ta,O=b.Ua;0<J--;){var xe=b.gc[J],Ae=ie,Be=_,we=oe,Ee=de,$e=(de=$,oe=O,xe.Ea);switch(t(Ae<Be),t(Be<=xe.nc),xe.hc){case 2:ra(we,Ee,(Be-Ae)*$e,de,oe);break;case 0:var et=Ae,We=Be,Xe=de,Qe=oe,it=(Dt=xe).Ea;et==0&&(uo(we,Ee,null,null,1,Xe,Qe),sr(we,Ee+1,0,0,it-1,Xe,Qe+1),Ee+=it,Qe+=it,++et);for(var lt=1<<Dt.b,Vt=lt-1,Ot=ze(it,Dt.b),jr=Dt.K,Dt=Dt.w+(et>>Dt.b)*Ot;et<We;){var Pr=jr,Vn=Dt,Nr=1;for(Mi(we,Ee,Xe,Qe-it,1,Xe,Qe);Nr<it;){var Rt=(Nr&~Vt)+lt;Rt>it&&(Rt=it),(0,bl[Pr[Vn++]>>8&15])(we,Ee+ +Nr,Xe,Qe+Nr-it,Rt-Nr,Xe,Qe+Nr),Nr=Rt}Ee+=it,Qe+=it,++et&Vt||(Dt+=Ot)}Be!=xe.nc&&n(de,oe-$e,de,oe+(Be-Ae-1)*$e,$e);break;case 1:for($e=we,We=Ee,it=(we=xe.Ea)-(Qe=we&~(Xe=(Ee=1<<xe.b)-1)),et=ze(we,xe.b),lt=xe.K,xe=xe.w+(Ae>>xe.b)*et;Ae<Be;){for(Vt=lt,Ot=xe,jr=new jt,Dt=We+Qe,Pr=We+we;We<Dt;)be(Vt[Ot++],jr),mc(jr,$e,We,Ee,de,oe),We+=Ee,oe+=Ee;We<Pr&&(be(Vt[Ot++],jr),mc(jr,$e,We,it,de,oe),We+=it,oe+=it),++Ae&Xe||(xe+=et)}break;case 3:if(we==de&&Ee==oe&&0<xe.b){for(We=de,we=$e=oe+(Be-Ae)*$e-(Qe=(Be-Ae)*ze(xe.Ea,xe.b)),Ee=de,Xe=oe,et=[],Qe=(it=Qe)-1;0<=Qe;--Qe)et[Qe]=Ee[Xe+Qe];for(Qe=it-1;0<=Qe;--Qe)We[we+Qe]=et[Qe];xl(xe,Ae,Be,de,$e,de,oe)}else xl(xe,Ae,Be,we,Ee,de,oe)}oe=$,de=O}de!=O&&n($,O,oe,de,re)}function Hs(b,_){var O=b.V,$=b.Ba+b.c*b.C,J=_-b.C;if(t(_<=b.l.o),t(16>=J),0<J){var re=b.l,ie=b.Ta,oe=b.Ua,de=re.width;if(Os(b,J,O,$),J=oe=[oe],t((O=b.C)<($=_)),t(re.v<re.va),$>re.o&&($=re.o),O<re.j){var xe=re.j-O;O=re.j,J[0]+=xe*de}if(O>=$?O=0:(J[0]+=4*re.v,re.ka=O-re.j,re.U=re.va-re.v,re.T=$-O,O=1),O){if(oe=oe[0],11>(O=b.ca).S){var Ae=O.f.RGBA,Be=($=O.S,J=re.U,re=re.T,xe=Ae.eb,Ae.A),we=re;for(Ae=Ae.fb+b.Ma*Ae.A;0<we--;){var Ee=ie,$e=oe,et=J,We=xe,Xe=Ae;switch($){case dd:pc(Ee,$e,et,We,Xe);break;case Vo:fo(Ee,$e,et,We,Xe);break;case yc:fo(Ee,$e,et,We,Xe),Sl(We,Xe,0,et,1,0);break;case O0:wl(Ee,$e,et,We,Xe);break;case lu:He(Ee,$e,et,We,Xe,1);break;case _l:He(Ee,$e,et,We,Xe,1),Sl(We,Xe,0,et,1,0);break;case cu:He(Ee,$e,et,We,Xe,0);break;case uu:He(Ee,$e,et,We,Xe,0),Sl(We,Xe,1,et,1,0);break;case dn:zo(Ee,$e,et,We,Xe);break;case du:zo(Ee,$e,et,We,Xe),Ff(We,Xe,et,1,0);break;case fd:Wo(Ee,$e,et,We,Xe);break;default:t(0)}oe+=de,Ae+=Be}b.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=O.height)}}b.C=_,t(b.C<=b.i)}function Fa(b){var _;if(0<b.ua)return 0;for(_=0;_<b.Wb;++_){var O=b.Ya[_].G,$=b.Ya[_].H;if(0<O[1][$[1]+0].g||0<O[2][$[2]+0].g||0<O[3][$[3]+0].g)return 0}return 1}function ds(b,_,O,$,J,re){if(b.Z!=0){var ie=b.qd,oe=b.rd;for(t(qa[b.Z]!=null);_<O;++_)qa[b.Z](ie,oe,$,J,$,J,re),ie=$,oe=J,J+=re;b.qd=ie,b.rd=oe}}function An(b,_){var O=b.l.ma,$=O.Z==0||O.Z==1?b.l.j:b.C;if($=b.C<$?$:b.C,t(_<=b.l.o),_>$){var J=b.l.width,re=O.ca,ie=O.tb+J*$,oe=b.V,de=b.Ba+b.c*$,xe=b.gc;t(b.ab==1),t(xe[0].hc==3),wi(xe[0],$,_,oe,de,re,ie),ds(O,$,_,re,ie,J)}b.C=b.Ma=_}function Ur(b,_,O,$,J,re,ie){var oe=b.$/$,de=b.$%$,xe=b.m,Ae=b.s,Be=O+b.$,we=Be;J=O+$*J;var Ee=O+$*re,$e=280+Ae.ua,et=b.Pb?oe:16777216,We=0<Ae.ua?Ae.Wa:null,Xe=Ae.wc,Qe=Be<Ee?Wr(Ae,de,oe):null;t(b.C<re),t(Ee<=J);var it=!1;e:for(;;){for(;it||Be<Ee;){var lt=0;if(oe>=et){var Vt=Be-O;t((et=b).Pb),et.wd=et.m,et.xd=Vt,0<et.s.ua&&Re(et.s.Wa,et.s.vb),et=oe+md}if(de&Xe||(Qe=Wr(Ae,de,oe)),t(Qe!=null),Qe.Qb&&(_[Be]=Qe.qb,it=!0),!it)if(Q(xe),Qe.jc){lt=xe,Vt=_;var Ot=Be,jr=Qe.pd[Y(lt)&Js-1];t(Qe.jc),256>jr.g?(he(lt,lt.u+jr.g),Vt[Ot]=jr.value,lt=0):(he(lt,lt.u+jr.g-256),t(256<=jr.value),lt=jr.value),lt==0&&(it=!0)}else lt=Fr(Qe.G[0],Qe.H[0],xe);if(xe.h)break;if(it||256>lt){if(!it)if(Qe.nd)_[Be]=(Qe.qb|lt<<8)>>>0;else{if(Q(xe),it=Fr(Qe.G[1],Qe.H[1],xe),Q(xe),Vt=Fr(Qe.G[2],Qe.H[2],xe),Ot=Fr(Qe.G[3],Qe.H[3],xe),xe.h)break;_[Be]=(Ot<<24|it<<16|lt<<8|Vt)>>>0}if(it=!1,++Be,++de>=$&&(de=0,++oe,ie!=null&&oe<=re&&!(oe%16)&&ie(b,oe),We!=null))for(;we<Be;)lt=_[we++],We.X[(506832829*lt&4294967295)>>>We.Mb]=lt}else if(280>lt){if(lt=Un(lt-256,xe),Vt=Fr(Qe.G[4],Qe.H[4],xe),Q(xe),Vt=qn($,Vt=Un(Vt,xe)),xe.h)break;if(Be-O<Vt||J-Be<lt)break e;for(Ot=0;Ot<lt;++Ot)_[Be+Ot]=_[Be+Ot-Vt];for(Be+=lt,de+=lt;de>=$;)de-=$,++oe,ie!=null&&oe<=re&&!(oe%16)&&ie(b,oe);if(t(Be<=J),de&Xe&&(Qe=Wr(Ae,de,oe)),We!=null)for(;we<Be;)lt=_[we++],We.X[(506832829*lt&4294967295)>>>We.Mb]=lt}else{if(!(lt<$e))break e;for(it=lt-280,t(We!=null);we<Be;)lt=_[we++],We.X[(506832829*lt&4294967295)>>>We.Mb]=lt;lt=Be,t(!(it>>>(Vt=We).Xa)),_[lt]=Vt.X[it],it=!0}it||t(xe.h==ne(xe))}if(b.Pb&&xe.h&&Be<J)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Re(b.s.vb,b.s.Wa);else{if(xe.h)break e;ie?.(b,oe>re?re:oe),b.a=0,b.$=Be-O}return 1}return b.a=3,0}function oa(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var _=b.Wa;_!=null&&(_.X=null),b.vb=null,t(b!=null)}function pa(){var b=new St;return b==null?null:(b.a=0,b.xb=wc,tt("Predictor","VP8LPredictors"),tt("Predictor","VP8LPredictors_C"),tt("PredictorAdd","VP8LPredictorsAdd"),tt("PredictorAdd","VP8LPredictorsAdd_C"),ra=ke,mc=Oe,pc=st,fo=mt,zo=at,Wo=gt,wl=vt,q.VP8LMapColor32b=Ii,q.VP8LMapColor8b=yl,b)}function la(b,_,O,$,J){var re=1,ie=[b],oe=[_],de=$.m,xe=$.s,Ae=null,Be=0;e:for(;;){if(O)for(;re&&ae(de,1);){var we=ie,Ee=oe,$e=$,et=1,We=$e.m,Xe=$e.gc[$e.ab],Qe=ae(We,2);if($e.Oc&1<<Qe)re=0;else{switch($e.Oc|=1<<Qe,Xe.hc=Qe,Xe.Ea=we[0],Xe.nc=Ee[0],Xe.K=[null],++$e.ab,t(4>=$e.ab),Qe){case 0:case 1:Xe.b=ae(We,3)+2,et=la(ze(Xe.Ea,Xe.b),ze(Xe.nc,Xe.b),0,$e,Xe.K),Xe.K=Xe.K[0];break;case 3:var it,lt=ae(We,8)+1,Vt=16<lt?0:4<lt?1:2<lt?2:3;if(we[0]=ze(Xe.Ea,Vt),Xe.b=Vt,it=et=la(lt,1,0,$e,Xe.K)){var Ot,jr=lt,Dt=Xe,Pr=1<<(8>>Dt.b),Vn=i(Pr);if(Vn==null)it=0;else{var Nr=Dt.K[0],Rt=Dt.w;for(Vn[0]=Dt.K[0][0],Ot=1;Ot<1*jr;++Ot)Vn[Ot]=je(Nr[Rt+Ot],Vn[Ot-1]);for(;Ot<4*Pr;++Ot)Vn[Ot]=0;Dt.K[0]=null,Dt.K[0]=Vn,it=1}}et=it;break;case 2:break;default:t(0)}re=et}}if(ie=ie[0],oe=oe[0],re&&ae(de,1)&&!(re=1<=(Be=ae(de,4))&&11>=Be)){$.a=3;break e}var _t;if(_t=re)t:{var na,tr,Cr,ln=$,Yn=ie,Ea=oe,Pn=Be,Na=O,La=ln.m,En=ln.s,br=[null],Tr=1,Ln=0,Gr=T0[Pn];r:for(;;){if(Na&&ae(La,1)){var bn=ae(La,3)+2,Sa=ze(Yn,bn),Dn=ze(Ea,bn),as=Sa*Dn;if(!la(Sa,Dn,0,ln,br))break r;for(br=br[0],En.xc=bn,na=0;na<as;++na){var Mr=br[na]>>8&65535;br[na]=Mr,Mr>=Tr&&(Tr=Mr+1)}}if(La.h)break r;for(tr=0;5>tr;++tr){var pn=kl[tr];!tr&&0<Pn&&(pn+=1<<Pn),Ln<pn&&(Ln=pn)}var za=o(Tr*Gr,z),Wa=Tr,Ha=o(Wa,Z);if(Ha==null)var bs=null;else t(65536>=Wa),bs=Ha;var ss=i(Ln);if(bs==null||ss==null||za==null){ln.a=1;break r}var is=za;for(na=Cr=0;na<Tr;++na){var nn=bs[na],ws=nn.G,ei=nn.H,Ko=0,Si=1,aa=0;for(tr=0;5>tr;++tr){pn=kl[tr],ws[tr]=is,ei[tr]=Cr,!tr&&0<Pn&&(pn+=1<<Pn);a:{var Ll,gd=pn,gu=ln,$i=ss,$0=is,vu=Cr,ti=0,ri=gu.m,xu=ae(ri,1);if(s($i,0,0,gd),xu){var Ol=ae(ri,1)+1,Xf=ae(ri,1),Rl=ae(ri,Xf==0?1:8);$i[Rl]=1,Ol==2&&($i[Rl=ae(ri,8)]=1);var yu=1}else{var vd=i(19),On=ae(ri,4)+4;if(19<On){gu.a=3;var Tl=0;break a}for(Ll=0;Ll<On;++Ll)vd[Ug[Ll]]=ae(ri,3);var bu=void 0,Ml=void 0,wu=gu,Jf=vd,Bi=gd,Rn=$i,sa=0,wn=wu.m,ju=8,Sc=o(128,z);n:for(;D(Sc,0,7,Jf,19);){if(ae(wn,1)){var Nu=2+2*ae(wn,3);if((bu=2+ae(wn,Nu))>Bi)break n}else bu=Bi;for(Ml=0;Ml<Bi&&bu--;){Q(wn);var B0=Sc[0+(127&Y(wn))];he(wn,wn.u+B0.g);var ia=B0.value;if(16>ia)Rn[Ml++]=ia,ia!=0&&(ju=ia);else{var Qf=ia==16,xd=ia-16,Zf=hd[xd],_i=ae(wn,fu[xd])+Zf;if(Ml+_i>Bi)break n;for(var ni=Qf?ju:0;0<_i--;)Rn[Ml++]=ni}}sa=1;break n}sa||(wu.a=3),yu=sa}(yu=yu&&!ri.h)&&(ti=D($0,vu,8,$i,gd)),yu&&ti!=0?Tl=ti:(gu.a=3,Tl=0)}if(Tl==0)break r;if(Si&&R0[tr]==1&&(Si=is[Cr].g==0),Ko+=is[Cr].g,Cr+=Tl,3>=tr){var go,Su=ss[0];for(go=1;go<pn;++go)ss[go]>Su&&(Su=ss[go]);aa+=Su}}if(nn.nd=Si,nn.Qb=0,Si&&(nn.qb=(ws[3][ei[3]+0].value<<24|ws[1][ei[1]+0].value<<16|ws[2][ei[2]+0].value)>>>0,Ko==0&&256>ws[0][ei[0]+0].value&&(nn.Qb=1,nn.qb+=ws[0][ei[0]+0].value<<8)),nn.jc=!nn.Qb&&6>aa,nn.jc){var _c,Ui=nn;for(_c=0;_c<Js;++_c){var vo=_c,xo=Ui.pd[vo],_u=Ui.G[0][Ui.H[0]+vo];256<=_u.value?(xo.g=_u.g+256,xo.value=_u.value):(xo.g=0,xo.value=0,vo>>=xn(_u,8,xo),vo>>=xn(Ui.G[1][Ui.H[1]+vo],16,xo),vo>>=xn(Ui.G[2][Ui.H[2]+vo],0,xo),xn(Ui.G[3][Ui.H[3]+vo],24,xo))}}}En.vc=br,En.Wb=Tr,En.Ya=bs,En.yc=za,_t=1;break t}_t=0}if(!(re=_t)){$.a=3;break e}if(0<Be){if(xe.ua=1<<Be,!V(xe.Wa,Be)){$.a=1,re=0;break e}}else xe.ua=0;var yd=$,eh=ie,U0=oe,bd=yd.s,Il=bd.xc;if(yd.c=eh,yd.i=U0,bd.md=ze(eh,Il),bd.wc=Il==0?-1:(1<<Il)-1,O){$.xb=Fi;break e}if((Ae=i(ie*oe))==null){$.a=1,re=0;break e}re=(re=Ur($,Ae,0,ie,oe,oe,null))&&!de.h;break e}return re?(J!=null?J[0]=Ae:(t(Ae==null),t(O)),$.$=0,O||oa(xe)):oa(xe),re}function Za(b,_){var O=b.c*b.i,$=O+_+16*_;return t(b.c<=_),b.V=i($),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+O+_,1)}function ga(b,_){var O=b.C,$=_-O,J=b.V,re=b.Ba+b.c*O;for(t(_<=b.l.o);0<$;){var ie=16<$?16:$,oe=b.l.ma,de=b.l.width,xe=de*ie,Ae=oe.ca,Be=oe.tb+de*O,we=b.Ta,Ee=b.Ua;Os(b,ie,J,re),$f(we,Ee,Ae,Be,xe),ds(oe,O,O+ie,Ae,Be,de),$-=ie,J+=ie*b.c,O+=ie}t(O==_),b.C=b.Ma=_}function mi(){this.ub=this.yd=this.td=this.Rb=0}function pi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ie(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ct(){this.Yb=(function(){var b=[];return(function _(O,$,J){for(var re=J[$],ie=0;ie<re&&(O.push(J.length>$+1?[]:0),!(J.length<$+1));ie++)_(O[ie],$+1,J)})(b,0,[3,11]),b})()}function Ht(){this.jb=i(3),this.Wc=l([4,8],ct),this.Xc=l([4,17],ct)}function rr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function nr(){this.ld=this.La=this.dd=this.tc=0}function gr(){this.Na=this.la=0}function qr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $r(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zr(){this.uc=this.M=this.Nb=0,this.wa=Array(new nr),this.Y=0,this.ya=Array(new $r),this.aa=0,this.l=new hn}function yn(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ar(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new mi,this.Kc=new pi,this.ed=new rr,this.Qa=new Ie,this.Ic=this.$c=this.Aa=0,this.D=new zr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,U),this.ia=0,this.pb=o(4,qr),this.Pa=new Ht,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yn),this.Hd=0,this.rb=Array(new gr),this.sb=0,this.wa=Array(new nr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $r),this.L=this.aa=0,this.gd=l([4,2],nr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function hn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Er(){var b=new Ar;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Al||(Al=zt)),b}function an(b,_,O){return b.a==0&&(b.a=_,b.sc=O,b.cb=0),0}function Xt(b,_,O){return 3<=O&&b[_+0]==157&&b[_+1]==1&&b[_+2]==42}function pr(b,_){if(b==null)return 0;if(b.a=0,b.sc="OK",_==null)return an(b,2,"null VP8Io passed to VP8GetHeaders()");var O=_.data,$=_.w,J=_.ha;if(4>J)return an(b,7,"Truncated header.");var re=O[$+0]|O[$+1]<<8|O[$+2]<<16,ie=b.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return an(b,3,"Incorrect keyframe parameters.");if(!ie.yd)return an(b,4,"Frame not displayable.");$+=3,J-=3;var oe=b.Kc;if(ie.Rb){if(7>J)return an(b,7,"cannot parse picture header");if(!Xt(O,$,J))return an(b,3,"Bad code word");oe.c=16383&(O[$+4]<<8|O[$+3]),oe.Td=O[$+4]>>6,oe.i=16383&(O[$+6]<<8|O[$+5]),oe.Ud=O[$+6]>>6,$+=7,J-=7,b.za=oe.c+15>>4,b.Ub=oe.i+15>>4,_.width=oe.c,_.height=oe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((re=b.Pa).jb,0,255,re.jb.length),t((re=b.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,s(re.Zb,0,0,re.Zb.length),s(re.Lb,0,0,re.Lb)}if(ie.ub>J)return an(b,7,"bad partition length");le(re=b.m,O,$,ie.ub),$+=ie.ub,J-=ie.ub,ie.Rb&&(oe.Ld=ce(re),oe.Kd=ce(re)),oe=b.Qa;var de,xe=b.Pa;if(t(re!=null),t(oe!=null),oe.Cb=ce(re),oe.Cb){if(oe.Bb=ce(re),ce(re)){for(oe.Fb=ce(re),de=0;4>de;++de)oe.Zb[de]=ce(re)?te(re,7):0;for(de=0;4>de;++de)oe.Lb[de]=ce(re)?te(re,6):0}if(oe.Bb)for(de=0;3>de;++de)xe.jb[de]=ce(re)?ge(re,8):255}else oe.Bb=0;if(re.Ka)return an(b,3,"cannot parse segment header");if((oe=b.ed).zd=ce(re),oe.Tb=ge(re,6),oe.wb=ge(re,3),oe.Pc=ce(re),oe.Pc&&ce(re)){for(xe=0;4>xe;++xe)ce(re)&&(oe.vd[xe]=te(re,6));for(xe=0;4>xe;++xe)ce(re)&&(oe.od[xe]=te(re,6))}if(b.L=oe.Tb==0?0:oe.zd?1:2,re.Ka)return an(b,3,"cannot parse filter header");var Ae=J;if(J=de=$,$=de+Ae,oe=Ae,b.Xb=(1<<ge(b.m,2))-1,Ae<3*(xe=b.Xb))O=7;else{for(de+=3*xe,oe-=3*xe,Ae=0;Ae<xe;++Ae){var Be=O[J+0]|O[J+1]<<8|O[J+2]<<16;Be>oe&&(Be=oe),le(b.Jc[+Ae],O,de,Be),de+=Be,oe-=Be,J+=3}le(b.Jc[+xe],O,de,oe),O=de<$?0:5}if(O!=0)return an(b,O,"cannot parse partitions");for(O=ge(de=b.m,7),J=ce(de)?te(de,4):0,$=ce(de)?te(de,4):0,oe=ce(de)?te(de,4):0,xe=ce(de)?te(de,4):0,de=ce(de)?te(de,4):0,Ae=b.Qa,Be=0;4>Be;++Be){if(Ae.Cb){var we=Ae.Zb[Be];Ae.Fb||(we+=O)}else{if(0<Be){b.pb[Be]=b.pb[0];continue}we=O}var Ee=b.pb[Be];Ee.Sc[0]=bc[zn(we+J,127)],Ee.Sc[1]=hu[zn(we+0,127)],Ee.Eb[0]=2*bc[zn(we+$,127)],Ee.Eb[1]=101581*hu[zn(we+oe,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=bc[zn(we+xe,117)],Ee.Qc[1]=hu[zn(we+de,127)],Ee.lc=we+de}if(!ie.Rb)return an(b,4,"Not a key frame.");for(ce(re),ie=b.Pa,O=0;4>O;++O){for(J=0;8>J;++J)for($=0;3>$;++$)for(oe=0;11>oe;++oe)xe=me(re,Wg[O][J][$][oe])?ge(re,8):I0[O][J][$][oe],ie.Wc[O][J].Yb[$][oe]=xe;for(J=0;17>J;++J)ie.Xc[O][J]=ie.Wc[O][Yf[J]]}return b.kc=ce(re),b.kc&&(b.Bd=ge(re,8)),b.cb=1}function zt(b,_,O,$,J,re,ie){var oe=_[J].Yb[O];for(O=0;16>J;++J){if(!me(b,oe[O+0]))return J;for(;!me(b,oe[O+1]);)if(oe=_[++J].Yb[0],O=0,J==16)return 16;var de=_[J+1].Yb;if(me(b,oe[O+2])){var xe=b,Ae=0;if(me(xe,(we=oe)[(Be=O)+3]))if(me(xe,we[Be+6])){for(oe=0,Be=2*(Ae=me(xe,we[Be+8]))+(we=me(xe,we[Be+9+Ae])),Ae=0,we=Hf[Be];we[oe];++oe)Ae+=Ae+me(xe,we[oe]);Ae+=3+(8<<Be)}else me(xe,we[Be+7])?(Ae=7+2*me(xe,165),Ae+=me(xe,145)):Ae=5+me(xe,159);else Ae=me(xe,we[Be+4])?3+me(xe,we[Be+5]):2;oe=de[2]}else Ae=1,oe=de[1];de=ie+Vf[J],0>(xe=b).b&&pe(xe);var Be,we=xe.b,Ee=(Be=xe.Ca>>1)-(xe.I>>we)>>31;--xe.b,xe.Ca+=Ee,xe.Ca|=1,xe.I-=(Be+1&Ee)<<we,re[de]=((Ae^Ee)-Ee)*$[(0<J)+0]}return 16}function Lr(b){var _=b.rb[b.sb-1];_.la=0,_.Na=0,s(b.zc,0,0,b.zc.length),b.ja=0}function tn(b,_,O,$,J){J=b[_+O+32*$]+(J>>3),b[_+O+32*$]=-256&J?0>J?0:255:J}function ro(b,_,O,$,J,re){tn(b,_,0,O,$+J),tn(b,_,1,O,$+re),tn(b,_,2,O,$-re),tn(b,_,3,O,$-J)}function Cn(b){return(20091*b>>16)+b}function gi(b,_,O,$){var J,re=0,ie=i(16);for(J=0;4>J;++J){var oe=b[_+0]+b[_+8],de=b[_+0]-b[_+8],xe=(35468*b[_+4]>>16)-Cn(b[_+12]),Ae=Cn(b[_+4])+(35468*b[_+12]>>16);ie[re+0]=oe+Ae,ie[re+1]=de+xe,ie[re+2]=de-xe,ie[re+3]=oe-Ae,re+=4,_++}for(J=re=0;4>J;++J)oe=(b=ie[re+0]+4)+ie[re+8],de=b-ie[re+8],xe=(35468*ie[re+4]>>16)-Cn(ie[re+12]),tn(O,$,0,0,oe+(Ae=Cn(ie[re+4])+(35468*ie[re+12]>>16))),tn(O,$,1,0,de+xe),tn(O,$,2,0,de-xe),tn(O,$,3,0,oe-Ae),re++,$+=32}function no(b,_,O,$){var J=b[_+0]+4,re=35468*b[_+4]>>16,ie=Cn(b[_+4]),oe=35468*b[_+1]>>16;ro(O,$,0,J+ie,b=Cn(b[_+1]),oe),ro(O,$,1,J+re,b,oe),ro(O,$,2,J-re,b,oe),ro(O,$,3,J-ie,b,oe)}function Oo(b,_,O,$,J){gi(b,_,O,$),J&&gi(b,_+16,O,$+4)}function Zn(b,_,O,$){jl(b,_+0,O,$,1),jl(b,_+32,O,$+128,1)}function ca(b,_,O,$){var J;for(b=b[_+0]+4,J=0;4>J;++J)for(_=0;4>_;++_)tn(O,$,_,J,b)}function fs(b,_,O,$){b[_+0]&&Hr(b,_+0,O,$),b[_+16]&&Hr(b,_+16,O,$+4),b[_+32]&&Hr(b,_+32,O,$+128),b[_+48]&&Hr(b,_+48,O,$+128+4)}function Or(b,_,O,$){var J,re=i(16);for(J=0;4>J;++J){var ie=b[_+0+J]+b[_+12+J],oe=b[_+4+J]+b[_+8+J],de=b[_+4+J]-b[_+8+J],xe=b[_+0+J]-b[_+12+J];re[0+J]=ie+oe,re[8+J]=ie-oe,re[4+J]=xe+de,re[12+J]=xe-de}for(J=0;4>J;++J)ie=(b=re[0+4*J]+3)+re[3+4*J],oe=re[1+4*J]+re[2+4*J],de=re[1+4*J]-re[2+4*J],xe=b-re[3+4*J],O[$+0]=ie+oe>>3,O[$+16]=xe+de>>3,O[$+32]=ie-oe>>3,O[$+48]=xe-de>>3,$+=64}function Gt(b,_,O){var $,J=_-32,re=rs,ie=255-b[J-1];for($=0;$<O;++$){var oe,de=re,xe=ie+b[_-1];for(oe=0;oe<O;++oe)b[_+oe]=de[xe+b[J+oe]];_+=32}}function $a(b,_){Gt(b,_,4)}function ul(b,_){Gt(b,_,8)}function Ro(b,_){Gt(b,_,16)}function cc(b,_){var O;for(O=0;16>O;++O)n(b,_+32*O,b,_-32,16)}function To(b,_){var O;for(O=16;0<O;--O)s(b,_,b[_-1],16),_+=32}function vi(b,_,O){var $;for($=0;16>$;++$)s(_,O+32*$,b,16)}function Rs(b,_){var O,$=16;for(O=0;16>O;++O)$+=b[_-1+32*O]+b[_+O-32];vi($>>5,b,_)}function Vs(b,_){var O,$=8;for(O=0;16>O;++O)$+=b[_-1+32*O];vi($>>4,b,_)}function Ba(b,_){var O,$=8;for(O=0;16>O;++O)$+=b[_+O-32];vi($>>4,b,_)}function hs(b,_){vi(128,b,_)}function ir(b,_,O){return b+2*_+O+2>>2}function ao(b,_){var O,$=_-32;for($=new Uint8Array([ir(b[$-1],b[$+0],b[$+1]),ir(b[$+0],b[$+1],b[$+2]),ir(b[$+1],b[$+2],b[$+3]),ir(b[$+2],b[$+3],b[$+4])]),O=0;4>O;++O)n(b,_+32*O,$,0,$.length)}function Ys(b,_){var O=b[_-1],$=b[_-1+32],J=b[_-1+64],re=b[_-1+96];_e(b,_+0,16843009*ir(b[_-1-32],O,$)),_e(b,_+32,16843009*ir(O,$,J)),_e(b,_+64,16843009*ir($,J,re)),_e(b,_+96,16843009*ir(J,re,re))}function uc(b,_){var O,$=4;for(O=0;4>O;++O)$+=b[_+O-32]+b[_-1+32*O];for($>>=3,O=0;4>O;++O)s(b,_+32*O,$,4)}function Mo(b,_){var O=b[_-1+0],$=b[_-1+32],J=b[_-1+64],re=b[_-1-32],ie=b[_+0-32],oe=b[_+1-32],de=b[_+2-32],xe=b[_+3-32];b[_+0+96]=ir($,J,b[_-1+96]),b[_+1+96]=b[_+0+64]=ir(O,$,J),b[_+2+96]=b[_+1+64]=b[_+0+32]=ir(re,O,$),b[_+3+96]=b[_+2+64]=b[_+1+32]=b[_+0+0]=ir(ie,re,O),b[_+3+64]=b[_+2+32]=b[_+1+0]=ir(oe,ie,re),b[_+3+32]=b[_+2+0]=ir(de,oe,ie),b[_+3+0]=ir(xe,de,oe)}function es(b,_){var O=b[_+1-32],$=b[_+2-32],J=b[_+3-32],re=b[_+4-32],ie=b[_+5-32],oe=b[_+6-32],de=b[_+7-32];b[_+0+0]=ir(b[_+0-32],O,$),b[_+1+0]=b[_+0+32]=ir(O,$,J),b[_+2+0]=b[_+1+32]=b[_+0+64]=ir($,J,re),b[_+3+0]=b[_+2+32]=b[_+1+64]=b[_+0+96]=ir(J,re,ie),b[_+3+32]=b[_+2+64]=b[_+1+96]=ir(re,ie,oe),b[_+3+64]=b[_+2+96]=ir(ie,oe,de),b[_+3+96]=ir(oe,de,de)}function ea(b,_){var O=b[_-1+0],$=b[_-1+32],J=b[_-1+64],re=b[_-1-32],ie=b[_+0-32],oe=b[_+1-32],de=b[_+2-32],xe=b[_+3-32];b[_+0+0]=b[_+1+64]=re+ie+1>>1,b[_+1+0]=b[_+2+64]=ie+oe+1>>1,b[_+2+0]=b[_+3+64]=oe+de+1>>1,b[_+3+0]=de+xe+1>>1,b[_+0+96]=ir(J,$,O),b[_+0+64]=ir($,O,re),b[_+0+32]=b[_+1+96]=ir(O,re,ie),b[_+1+32]=b[_+2+96]=ir(re,ie,oe),b[_+2+32]=b[_+3+96]=ir(ie,oe,de),b[_+3+32]=ir(oe,de,xe)}function dc(b,_){var O=b[_+0-32],$=b[_+1-32],J=b[_+2-32],re=b[_+3-32],ie=b[_+4-32],oe=b[_+5-32],de=b[_+6-32],xe=b[_+7-32];b[_+0+0]=O+$+1>>1,b[_+1+0]=b[_+0+64]=$+J+1>>1,b[_+2+0]=b[_+1+64]=J+re+1>>1,b[_+3+0]=b[_+2+64]=re+ie+1>>1,b[_+0+32]=ir(O,$,J),b[_+1+32]=b[_+0+96]=ir($,J,re),b[_+2+32]=b[_+1+96]=ir(J,re,ie),b[_+3+32]=b[_+2+96]=ir(re,ie,oe),b[_+3+64]=ir(ie,oe,de),b[_+3+96]=ir(oe,de,xe)}function Io(b,_){var O=b[_-1+0],$=b[_-1+32],J=b[_-1+64],re=b[_-1+96];b[_+0+0]=O+$+1>>1,b[_+2+0]=b[_+0+32]=$+J+1>>1,b[_+2+32]=b[_+0+64]=J+re+1>>1,b[_+1+0]=ir(O,$,J),b[_+3+0]=b[_+1+32]=ir($,J,re),b[_+3+32]=b[_+1+64]=ir(J,re,re),b[_+3+64]=b[_+2+64]=b[_+0+96]=b[_+1+96]=b[_+2+96]=b[_+3+96]=re}function so(b,_){var O=b[_-1+0],$=b[_-1+32],J=b[_-1+64],re=b[_-1+96],ie=b[_-1-32],oe=b[_+0-32],de=b[_+1-32],xe=b[_+2-32];b[_+0+0]=b[_+2+32]=O+ie+1>>1,b[_+0+32]=b[_+2+64]=$+O+1>>1,b[_+0+64]=b[_+2+96]=J+$+1>>1,b[_+0+96]=re+J+1>>1,b[_+3+0]=ir(oe,de,xe),b[_+2+0]=ir(ie,oe,de),b[_+1+0]=b[_+3+32]=ir(O,ie,oe),b[_+1+32]=b[_+3+64]=ir($,O,ie),b[_+1+64]=b[_+3+96]=ir(J,$,O),b[_+1+96]=ir(re,J,$)}function dl(b,_){var O;for(O=0;8>O;++O)n(b,_+32*O,b,_-32,8)}function Ts(b,_){var O;for(O=0;8>O;++O)s(b,_,b[_-1],8),_+=32}function Gs(b,_,O){var $;for($=0;8>$;++$)s(_,O+32*$,b,8)}function Ms(b,_){var O,$=8;for(O=0;8>O;++O)$+=b[_+O-32]+b[_-1+32*O];Gs($>>4,b,_)}function Do(b,_){var O,$=4;for(O=0;8>O;++O)$+=b[_+O-32];Gs($>>3,b,_)}function Oi(b,_){var O,$=4;for(O=0;8>O;++O)$+=b[_-1+32*O];Gs($>>3,b,_)}function fl(b,_){Gs(128,b,_)}function xi(b,_,O){var $=b[_-O],J=b[_+0],re=3*(J-$)+Di[1020+b[_-2*O]-b[_+O]],ie=xc[112+(re+4>>3)];b[_-O]=rs[255+$+xc[112+(re+3>>3)]],b[_+0]=rs[255+J-ie]}function Ks(b,_,O,$){var J=b[_+0],re=b[_+O];return Qs[255+b[_-2*O]-b[_-O]]>$||Qs[255+re-J]>$}function io(b,_,O,$){return 4*Qs[255+b[_-O]-b[_+0]]+Qs[255+b[_-2*O]-b[_+O]]<=$}function oo(b,_,O,$,J){var re=b[_-3*O],ie=b[_-2*O],oe=b[_-O],de=b[_+0],xe=b[_+O],Ae=b[_+2*O],Be=b[_+3*O];return 4*Qs[255+oe-de]+Qs[255+ie-xe]>$?0:Qs[255+b[_-4*O]-re]<=J&&Qs[255+re-ie]<=J&&Qs[255+ie-oe]<=J&&Qs[255+Be-Ae]<=J&&Qs[255+Ae-xe]<=J&&Qs[255+xe-de]<=J}function ts(b,_,O,$){var J=2*$+1;for($=0;16>$;++$)io(b,_+$,O,J)&&xi(b,_+$,O)}function yi(b,_,O,$){var J=2*$+1;for($=0;16>$;++$)io(b,_+$*O,1,J)&&xi(b,_+$*O,1)}function K(b,_,O,$){var J;for(J=3;0<J;--J)ts(b,_+=4*O,O,$)}function Ue(b,_,O,$){var J;for(J=3;0<J;--J)yi(b,_+=4,O,$)}function ot(b,_,O,$,J,re,ie,oe){for(re=2*re+1;0<J--;){if(oo(b,_,O,re,ie))if(Ks(b,_,O,oe))xi(b,_,O);else{var de=b,xe=_,Ae=O,Be=de[xe-2*Ae],we=de[xe-Ae],Ee=de[xe+0],$e=de[xe+Ae],et=de[xe+2*Ae],We=27*(Qe=Di[1020+3*(Ee-we)+Di[1020+Be-$e]])+63>>7,Xe=18*Qe+63>>7,Qe=9*Qe+63>>7;de[xe-3*Ae]=rs[255+de[xe-3*Ae]+Qe],de[xe-2*Ae]=rs[255+Be+Xe],de[xe-Ae]=rs[255+we+We],de[xe+0]=rs[255+Ee-We],de[xe+Ae]=rs[255+$e-Xe],de[xe+2*Ae]=rs[255+et-Qe]}_+=$}}function Ct(b,_,O,$,J,re,ie,oe){for(re=2*re+1;0<J--;){if(oo(b,_,O,re,ie))if(Ks(b,_,O,oe))xi(b,_,O);else{var de=b,xe=_,Ae=O,Be=de[xe-Ae],we=de[xe+0],Ee=de[xe+Ae],$e=xc[112+(4+(et=3*(we-Be))>>3)],et=xc[112+(et+3>>3)],We=$e+1>>1;de[xe-2*Ae]=rs[255+de[xe-2*Ae]+We],de[xe-Ae]=rs[255+Be+et],de[xe+0]=rs[255+we-$e],de[xe+Ae]=rs[255+Ee-We]}_+=$}}function Kt(b,_,O,$,J,re){ot(b,_,O,1,16,$,J,re)}function Zt(b,_,O,$,J,re){ot(b,_,1,O,16,$,J,re)}function qt(b,_,O,$,J,re){var ie;for(ie=3;0<ie;--ie)Ct(b,_+=4*O,O,1,16,$,J,re)}function yr(b,_,O,$,J,re){var ie;for(ie=3;0<ie;--ie)Ct(b,_+=4,1,O,16,$,J,re)}function P(b,_,O,$,J,re,ie,oe){ot(b,_,J,1,8,re,ie,oe),ot(O,$,J,1,8,re,ie,oe)}function X(b,_,O,$,J,re,ie,oe){ot(b,_,1,J,8,re,ie,oe),ot(O,$,1,J,8,re,ie,oe)}function ve(b,_,O,$,J,re,ie,oe){Ct(b,_+4*J,J,1,8,re,ie,oe),Ct(O,$+4*J,J,1,8,re,ie,oe)}function Se(b,_,O,$,J,re,ie,oe){Ct(b,_+4,1,J,8,re,ie,oe),Ct(O,$+4,1,J,8,re,ie,oe)}function Pe(){this.ba=new dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kt(){this.ua=0,this.Wa=new Je,this.vb=new Je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new z}function St(){this.xb=this.a=0,this.l=new hn,this.ca=new dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kt,this.ab=0,this.gc=o(4,ut),this.Oc=0}function Jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new hn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ar(b,_,O,$,J,re,ie){for(b=b==null?0:b[_+0],_=0;_<ie;++_)J[re+_]=b+O[$+_]&255,b=J[re+_]}function Rr(b,_,O,$,J,re,ie){var oe;if(b==null)ar(null,null,O,$,J,re,ie);else for(oe=0;oe<ie;++oe)J[re+oe]=b[_+oe]+O[$+oe]&255}function In(b,_,O,$,J,re,ie){if(b==null)ar(null,null,O,$,J,re,ie);else{var oe,de=b[_+0],xe=de,Ae=de;for(oe=0;oe<ie;++oe)xe=Ae+(de=b[_+oe])-xe,Ae=O[$+oe]+(-256&xe?0>xe?0:255:xe)&255,xe=de,J[re+oe]=Ae}}function ua(b,_,O,$){var J=_.width,re=_.o;if(t(b!=null&&_!=null),0>O||0>=$||O+$>re)return null;if(!b.Cc){if(b.ga==null){var ie;if(b.ga=new Jt,(ie=b.ga==null)||(ie=_.width*_.o,t(b.Gb.length==0),b.Gb=i(ie),b.Uc=0,b.Gb==null?ie=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ie=1),ie=!ie),!ie){ie=b.ga;var oe=b.Fa,de=b.P,xe=b.qc,Ae=b.mb,Be=b.nb,we=de+1,Ee=xe-1,$e=ie.l;if(t(oe!=null&&Ae!=null&&_!=null),qa[0]=null,qa[1]=ar,qa[2]=Rr,qa[3]=In,ie.ca=Ae,ie.tb=Be,ie.c=_.width,ie.i=_.height,t(0<ie.c&&0<ie.i),1>=xe)_=0;else if(ie.$a=3&oe[de+0],ie.Z=oe[de+0]>>2&3,ie.Lc=oe[de+0]>>4&3,de=oe[de+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||de)_=0;else if($e.put=Ut,$e.ac=Bn,$e.bc=Br,$e.ma=ie,$e.width=_.width,$e.height=_.height,$e.Da=_.Da,$e.v=_.v,$e.va=_.va,$e.j=_.j,$e.o=_.o,ie.$a)e:{t(ie.$a==1),_=pa();t:for(;;){if(_==null){_=0;break e}if(t(ie!=null),ie.mc=_,_.c=ie.c,_.i=ie.i,_.l=ie.l,_.l.ma=ie,_.l.width=ie.c,_.l.height=ie.i,_.a=0,ue(_.m,oe,we,Ee),!la(ie.c,ie.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Fa(_.s)?(ie.ic=1,oe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=i(oe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ie.ic=0,_=Za(_,ie.c)),!_))break t;_=1;break e}ie.mc=null,_=0}else _=Ee>=ie.c*ie.i;ie=!_}if(ie)return null;b.ga.Lc!=1?b.Ga=0:$=re-O}t(b.ga!=null),t(O+$<=re);e:{if(_=(oe=b.ga).c,re=oe.l.o,oe.$a==0){if(we=b.rc,Ee=b.Vc,$e=b.Fa,de=b.P+1+O*_,xe=b.mb,Ae=b.nb+O*_,t(de<=b.P+b.qc),oe.Z!=0)for(t(qa[oe.Z]!=null),ie=0;ie<$;++ie)qa[oe.Z](we,Ee,$e,de,xe,Ae,_),we=xe,Ee=Ae,Ae+=_,de+=_;else for(ie=0;ie<$;++ie)n(xe,Ae,$e,de,_),we=xe,Ee=Ae,Ae+=_,de+=_;b.rc=we,b.Vc=Ee}else{if(t(oe.mc!=null),_=O+$,t((ie=oe.mc)!=null),t(_<=ie.i),ie.C>=_)_=1;else if(oe.ic||Xs(),oe.ic){oe=ie.V,we=ie.Ba,Ee=ie.c;var et=ie.i,We=($e=1,de=ie.$/Ee,xe=ie.$%Ee,Ae=ie.m,Be=ie.s,ie.$),Xe=Ee*et,Qe=Ee*_,it=Be.wc,lt=We<Qe?Wr(Be,xe,de):null;t(We<=Xe),t(_<=et),t(Fa(Be));t:for(;;){for(;!Ae.h&&We<Qe;){if(xe&it||(lt=Wr(Be,xe,de)),t(lt!=null),Q(Ae),256>(et=Fr(lt.G[0],lt.H[0],Ae)))oe[we+We]=et,++We,++xe>=Ee&&(xe=0,++de<=_&&!(de%16)&&An(ie,de));else{if(!(280>et)){$e=0;break t}et=Un(et-256,Ae);var Vt,Ot=Fr(lt.G[4],lt.H[4],Ae);if(Q(Ae),!(We>=(Ot=qn(Ee,Ot=Un(Ot,Ae)))&&Xe-We>=et)){$e=0;break t}for(Vt=0;Vt<et;++Vt)oe[we+We+Vt]=oe[we+We+Vt-Ot];for(We+=et,xe+=et;xe>=Ee;)xe-=Ee,++de<=_&&!(de%16)&&An(ie,de);We<Qe&&xe&it&&(lt=Wr(Be,xe,de))}t(Ae.h==ne(Ae))}An(ie,de>_?_:de);break t}!$e||Ae.h&&We<Xe?($e=0,ie.a=Ae.h?5:3):ie.$=We,_=$e}else _=Ur(ie,ie.V,ie.Ba,ie.c,ie.i,_,ga);if(!_){$=0;break e}}O+$>=re&&(b.Cc=1),$=1}if(!$)return null;if(b.Cc&&(($=b.ga)!=null&&($.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+O*J}function mn(b,_,O,$,J,re){for(;0<J--;){var ie,oe=b,de=_+(O?1:0),xe=b,Ae=_+(O?0:3);for(ie=0;ie<$;++ie){var Be=xe[Ae+4*ie];Be!=255&&(Be*=32897,oe[de+4*ie+0]=oe[de+4*ie+0]*Be>>23,oe[de+4*ie+1]=oe[de+4*ie+1]*Be>>23,oe[de+4*ie+2]=oe[de+4*ie+2]*Be>>23)}_+=re}}function va(b,_,O,$,J){for(;0<$--;){var re;for(re=0;re<O;++re){var ie=b[_+2*re+0],oe=15&(xe=b[_+2*re+1]),de=4369*oe,xe=(240&xe|xe>>4)*de>>16;b[_+2*re+0]=(240&ie|ie>>4)*de>>16&240|(15&ie|ie<<4)*de>>16>>4&15,b[_+2*re+1]=240&xe|oe}_+=J}}function ta(b,_,O,$,J,re,ie,oe){var de,xe,Ae=255;for(xe=0;xe<J;++xe){for(de=0;de<$;++de){var Be=b[_+de];re[ie+4*de]=Be,Ae&=Be}_+=O,ie+=oe}return Ae!=255}function Ca(b,_,O,$,J){var re;for(re=0;re<J;++re)O[$+re]=b[_+re]>>8}function Xs(){Sl=mn,Ff=va,ou=ta,$f=Ca}function ms(b,_,O){q[b]=function($,J,re,ie,oe,de,xe,Ae,Be,we,Ee,$e,et,We,Xe,Qe,it){var lt,Vt=it-1>>1,Ot=oe[de+0]|xe[Ae+0]<<16,jr=Be[we+0]|Ee[$e+0]<<16;t($!=null);var Dt=3*Ot+jr+131074>>2;for(_($[J+0],255&Dt,Dt>>16,et,We),re!=null&&(Dt=3*jr+Ot+131074>>2,_(re[ie+0],255&Dt,Dt>>16,Xe,Qe)),lt=1;lt<=Vt;++lt){var Pr=oe[de+lt]|xe[Ae+lt]<<16,Vn=Be[we+lt]|Ee[$e+lt]<<16,Nr=Ot+Pr+jr+Vn+524296,Rt=Nr+2*(Pr+jr)>>3;Dt=Rt+Ot>>1,Ot=(Nr=Nr+2*(Ot+Vn)>>3)+Pr>>1,_($[J+2*lt-1],255&Dt,Dt>>16,et,We+(2*lt-1)*O),_($[J+2*lt-0],255&Ot,Ot>>16,et,We+(2*lt-0)*O),re!=null&&(Dt=Nr+jr>>1,Ot=Rt+Vn>>1,_(re[ie+2*lt-1],255&Dt,Dt>>16,Xe,Qe+(2*lt-1)*O),_(re[ie+2*lt+0],255&Ot,Ot>>16,Xe,Qe+(2*lt+0)*O)),Ot=Pr,jr=Vn}1&it||(Dt=3*Ot+jr+131074>>2,_($[J+it-1],255&Dt,Dt>>16,et,We+(it-1)*O),re!=null&&(Dt=3*jr+Ot+131074>>2,_(re[ie+it-1],255&Dt,Dt>>16,Xe,Qe+(it-1)*O)))}}function od(){vs[dd]=Hg,vs[Vo]=Yo,vs[O0]=Vg,vs[lu]=jc,vs[cu]=Cl,vs[dn]=mu,vs[fd]=Gf,vs[yc]=Yo,vs[_l]=jc,vs[uu]=Cl,vs[du]=mu}function Fo(b){return b&-16384?0>b?0:255:b>>Go}function hl(b,_){return Fo((19077*b>>8)+(26149*_>>8)-14234)}function $o(b,_,O){return Fo((19077*b>>8)-(6419*_>>8)-(13320*O>>8)+8708)}function ml(b,_){return Fo((19077*b>>8)+(33050*_>>8)-17685)}function Bo(b,_,O,$,J){$[J+0]=hl(b,O),$[J+1]=$o(b,_,O),$[J+2]=ml(b,_)}function pl(b,_,O,$,J){$[J+0]=ml(b,_),$[J+1]=$o(b,_,O),$[J+2]=hl(b,O)}function Ua(b,_,O,$,J){var re=$o(b,_,O);_=re<<3&224|ml(b,_)>>3,$[J+0]=248&hl(b,O)|re>>5,$[J+1]=_}function gl(b,_,O,$,J){var re=240&ml(b,_)|15;$[J+0]=240&hl(b,O)|$o(b,_,O)>>4,$[J+1]=re}function vl(b,_,O,$,J){$[J+0]=255,Bo(b,_,O,$,J+1)}function nu(b,_,O,$,J){pl(b,_,O,$,J),$[J+3]=255}function au(b,_,O,$,J){Bo(b,_,O,$,J),$[J+3]=255}function zn(b,_){return 0>b?0:b>_?_:b}function bi(b,_,O){q[b]=function($,J,re,ie,oe,de,xe,Ae,Be){for(var we=Ae+(-2&Be)*O;Ae!=we;)_($[J+0],re[ie+0],oe[de+0],xe,Ae),_($[J+1],re[ie+0],oe[de+0],xe,Ae+O),J+=2,++ie,++de,Ae+=2*O;1&Be&&_($[J+0],re[ie+0],oe[de+0],xe,Ae)}}function Ri(b,_,O){return O==0?b==0?_==0?6:5:_==0?4:0:O}function ld(b,_,O,$,J){switch(b>>>30){case 3:jl(_,O,$,J,0);break;case 2:Wn(_,O,$,J);break;case 1:Hr(_,O,$,J)}}function Is(b,_){var O,$,J=_.M,re=_.Nb,ie=b.oc,oe=b.pc+40,de=b.oc,xe=b.pc+584,Ae=b.oc,Be=b.pc+600;for(O=0;16>O;++O)ie[oe+32*O-1]=129;for(O=0;8>O;++O)de[xe+32*O-1]=129,Ae[Be+32*O-1]=129;for(0<J?ie[oe-1-32]=de[xe-1-32]=Ae[Be-1-32]=129:(s(ie,oe-32-1,127,21),s(de,xe-32-1,127,9),s(Ae,Be-32-1,127,9)),$=0;$<b.za;++$){var we=_.ya[_.aa+$];if(0<$){for(O=-1;16>O;++O)n(ie,oe+32*O-4,ie,oe+32*O+12,4);for(O=-1;8>O;++O)n(de,xe+32*O-4,de,xe+32*O+4,4),n(Ae,Be+32*O-4,Ae,Be+32*O+4,4)}var Ee=b.Gd,$e=b.Hd+$,et=we.ad,We=we.Hc;if(0<J&&(n(ie,oe-32,Ee[$e].y,0,16),n(de,xe-32,Ee[$e].f,0,8),n(Ae,Be-32,Ee[$e].ea,0,8)),we.Za){var Xe=ie,Qe=oe-32+16;for(0<J&&($>=b.za-1?s(Xe,Qe,Ee[$e].y[15],4):n(Xe,Qe,Ee[$e+1].y,0,4)),O=0;4>O;O++)Xe[Qe+128+O]=Xe[Qe+256+O]=Xe[Qe+384+O]=Xe[Qe+0+O];for(O=0;16>O;++O,We<<=2)Xe=ie,Qe=oe+Kf[O],Zs[we.Ob[O]](Xe,Qe),ld(We,et,16*+O,Xe,Qe)}else if(Xe=Ri($,J,we.Ob[0]),ns[Xe](ie,oe),We!=0)for(O=0;16>O;++O,We<<=2)ld(We,et,16*+O,ie,oe+Kf[O]);for(O=we.Gc,Xe=Ri($,J,we.Dd),gs[Xe](de,xe),gs[Xe](Ae,Be),We=et,Xe=de,Qe=xe,255&(we=0|O)&&(170&we?ps(We,256,Xe,Qe):sn(We,256,Xe,Qe)),we=Ae,We=Be,255&(O>>=8)&&(170&O?ps(et,320,we,We):sn(et,320,we,We)),J<b.Ub-1&&(n(Ee[$e].y,0,ie,oe+480,16),n(Ee[$e].f,0,de,xe+224,8),n(Ee[$e].ea,0,Ae,Be+224,8)),O=8*re*b.B,Ee=b.sa,$e=b.ta+16*$+16*re*b.R,et=b.qa,we=b.ra+8*$+O,We=b.Ha,Xe=b.Ia+8*$+O,O=0;16>O;++O)n(Ee,$e+O*b.R,ie,oe+32*O,16);for(O=0;8>O;++O)n(et,we+O*b.B,de,xe+32*O,8),n(We,Xe+O*b.B,Ae,Be+32*O,8)}}function Uo(b,_,O,$,J,re,ie,oe,de){var xe=[0],Ae=[0],Be=0,we=de!=null?de.kd:0,Ee=de??new Ye;if(b==null||12>O)return 7;Ee.data=b,Ee.w=_,Ee.ha=O,_=[_],O=[O],Ee.gb=[Ee.gb];e:{var $e=_,et=O,We=Ee.gb;if(t(b!=null),t(et!=null),t(We!=null),We[0]=0,12<=et[0]&&!r(b,$e[0],"RIFF")){if(r(b,$e[0]+8,"WEBP")){We=3;break e}var Xe=fe(b,$e[0]+4);if(12>Xe||4294967286<Xe){We=3;break e}if(we&&Xe>et[0]-8){We=7;break e}We[0]=Xe,$e[0]+=12,et[0]-=12}We=0}if(We!=0)return We;for(Xe=0<Ee.gb[0],O=O[0];;){e:{var Qe=b;et=_,We=O;var it=xe,lt=Ae,Vt=$e=[0];if((Dt=Be=[Be])[0]=0,8>We[0])We=7;else{if(!r(Qe,et[0],"VP8X")){if(fe(Qe,et[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var Ot=fe(Qe,et[0]+8),jr=1+ye(Qe,et[0]+12);if(2147483648<=jr*(Qe=1+ye(Qe,et[0]+15))){We=3;break e}Vt!=null&&(Vt[0]=Ot),it!=null&&(it[0]=jr),lt!=null&&(lt[0]=Qe),et[0]+=18,We[0]-=18,Dt[0]=1}We=0}}if(Be=Be[0],$e=$e[0],We!=0)return We;if(et=!!(2&$e),!Xe&&Be)return 3;if(re!=null&&(re[0]=!!(16&$e)),ie!=null&&(ie[0]=et),oe!=null&&(oe[0]=0),ie=xe[0],$e=Ae[0],Be&&et&&de==null){We=0;break}if(4>O){We=7;break}if(Xe&&Be||!Xe&&!Be&&!r(b,_[0],"ALPH")){O=[O],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{Ot=b,We=_,Xe=O;var Dt=Ee.gb;it=Ee.na,lt=Ee.P,Vt=Ee.Sa,jr=22,t(Ot!=null),t(Xe!=null),Qe=We[0];var Pr=Xe[0];for(t(it!=null),t(Vt!=null),it[0]=null,lt[0]=null,Vt[0]=0;;){if(We[0]=Qe,Xe[0]=Pr,8>Pr){We=7;break e}var Vn=fe(Ot,Qe+4);if(4294967286<Vn){We=3;break e}var Nr=8+Vn+1&-2;if(jr+=Nr,0<Dt&&jr>Dt){We=3;break e}if(!r(Ot,Qe,"VP8 ")||!r(Ot,Qe,"VP8L")){We=0;break e}if(Pr[0]<Nr){We=7;break e}r(Ot,Qe,"ALPH")||(it[0]=Ot,lt[0]=Qe+8,Vt[0]=Vn),Qe+=Nr,Pr-=Nr}}if(O=O[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],We!=0)break}O=[O],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(Dt=b,We=_,Xe=O,it=Ee.gb[0],lt=Ee.Ja,Vt=Ee.xa,Ot=We[0],Qe=!r(Dt,Ot,"VP8 "),jr=!r(Dt,Ot,"VP8L"),t(Dt!=null),t(Xe!=null),t(lt!=null),t(Vt!=null),8>Xe[0])We=7;else{if(Qe||jr){if(Dt=fe(Dt,Ot+4),12<=it&&Dt>it-12){We=3;break e}if(we&&Dt>Xe[0]-8){We=7;break e}lt[0]=Dt,We[0]+=8,Xe[0]-=8,Vt[0]=jr}else Vt[0]=5<=Xe[0]&&Dt[Ot+0]==47&&!(Dt[Ot+4]>>5),lt[0]=Xe[0];We=0}if(O=O[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],_=_[0],We!=0)break;if(4294967286<Ee.Ja)return 3;if(oe==null||et||(oe[0]=Ee.xa?2:1),ie=[ie],$e=[$e],Ee.xa){if(5>O){We=7;break}oe=ie,we=$e,et=re,b==null||5>O?b=0:5<=O&&b[_+0]==47&&!(b[_+4]>>5)?(Xe=[0],Dt=[0],it=[0],ue(lt=new B,b,_,O),mr(lt,Xe,Dt,it)?(oe!=null&&(oe[0]=Xe[0]),we!=null&&(we[0]=Dt[0]),et!=null&&(et[0]=it[0]),b=1):b=0):b=0}else{if(10>O){We=7;break}oe=$e,b==null||10>O||!Xt(b,_+3,O-3)?b=0:(we=b[_+0]|b[_+1]<<8|b[_+2]<<16,et=16383&(b[_+7]<<8|b[_+6]),b=16383&(b[_+9]<<8|b[_+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Ee.Ja||!et||!b?b=0:(ie&&(ie[0]=et),oe&&(oe[0]=b),b=1))}if(!b||(ie=ie[0],$e=$e[0],Be&&(xe[0]!=ie||Ae[0]!=$e)))return 3;de!=null&&(de[0]=Ee,de.offset=_-de.w,t(4294967286>_-de.w),t(de.offset==de.ha-O));break}return We==0||We==7&&Be&&de==null?(re!=null&&(re[0]|=Ee.na!=null&&0<Ee.na.length),$!=null&&($[0]=ie),J!=null&&(J[0]=$e),0):We}function fc(b,_,O){var $=_.width,J=_.height,re=0,ie=0,oe=$,de=J;if(_.Da=b!=null&&0<b.Da,_.Da&&(oe=b.cd,de=b.bd,re=b.v,ie=b.j,11>O||(re&=-2,ie&=-2),0>re||0>ie||0>=oe||0>=de||re+oe>$||ie+de>J))return 0;if(_.v=re,_.j=ie,_.va=re+oe,_.o=ie+de,_.U=oe,_.T=de,_.da=b!=null&&0<b.da,_.da){if(!nt(oe,de,O=[b.ib],re=[b.hb]))return 0;_.ib=O[0],_.hb=re[0]}return _.ob=b!=null&&b.ob,_.Kb=b==null||!b.Sd,_.da&&(_.ob=_.ib<3*$/4&&_.hb<3*J/4,_.Kb=0),1}function hc(b){if(b==null)return 2;if(11>b.S){var _=b.f.RGBA;_.fb+=(b.height-1)*_.A,_.A=-_.A}else _=b.f.kb,b=b.height,_.O+=(b-1)*_.fa,_.fa=-_.fa,_.N+=(b-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(b-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(b-1)*_.lb,_.lb=-_.lb);return 0}function lo(b,_,O,$){if($==null||0>=b||0>=_)return 2;if(O!=null){if(O.Da){var J=O.cd,re=O.bd,ie=-2&O.v,oe=-2&O.j;if(0>ie||0>oe||0>=J||0>=re||ie+J>b||oe+re>_)return 2;b=J,_=re}if(O.da){if(!nt(b,_,J=[O.ib],re=[O.hb]))return 2;b=J[0],_=re[0]}}$.width=b,$.height=_;e:{var de=$.width,xe=$.height;if(b=$.S,0>=de||0>=xe||!(b>=dd&&13>b))b=2;else{if(0>=$.Rd&&$.sd==null){ie=re=J=_=0;var Ae=(oe=de*pu[b])*xe;if(11>b||(re=(xe+1)/2*(_=(de+1)/2),b==12&&(ie=(J=de)*xe)),(xe=i(Ae+2*re+ie))==null){b=1;break e}$.sd=xe,11>b?((de=$.f.RGBA).eb=xe,de.fb=0,de.A=oe,de.size=Ae):((de=$.f.kb).y=xe,de.O=0,de.fa=oe,de.Fd=Ae,de.f=xe,de.N=0+Ae,de.Ab=_,de.Cd=re,de.ea=xe,de.W=0+Ae+re,de.Db=_,de.Ed=re,b==12&&(de.F=xe,de.J=0+Ae+2*re),de.Tc=ie,de.lb=J)}if(_=1,J=$.S,re=$.width,ie=$.height,J>=dd&&13>J)if(11>J)b=$.f.RGBA,_&=(oe=Math.abs(b.A))*(ie-1)+re<=b.size,_&=oe>=re*pu[J],_&=b.eb!=null;else{b=$.f.kb,oe=(re+1)/2,Ae=(ie+1)/2,de=Math.abs(b.fa),xe=Math.abs(b.Ab);var Be=Math.abs(b.Db),we=Math.abs(b.lb),Ee=we*(ie-1)+re;_&=de*(ie-1)+re<=b.Fd,_&=xe*(Ae-1)+oe<=b.Cd,_=(_&=Be*(Ae-1)+oe<=b.Ed)&de>=re&xe>=oe&Be>=oe,_&=b.y!=null,_&=b.f!=null,_&=b.ea!=null,J==12&&(_&=we>=re,_&=Ee<=b.Tc,_&=b.F!=null)}else _=0;b=_?0:2}}return b!=0||O!=null&&O.fd&&(b=hc($)),b}var Js=64,Ds=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fs=24,qo=32,Ti=8,co=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(b){return b},q.Predictor2=function(b,_,O){return _[O+0]},q.Predictor3=function(b,_,O){return _[O+1]},q.Predictor4=function(b,_,O){return _[O-1]},q.Predictor5=function(b,_,O){return bt(bt(b,_[O+1]),_[O+0])},q.Predictor6=function(b,_,O){return bt(b,_[O-1])},q.Predictor7=function(b,_,O){return bt(b,_[O+0])},q.Predictor8=function(b,_,O){return bt(_[O-1],_[O+0])},q.Predictor9=function(b,_,O){return bt(_[O+0],_[O+1])},q.Predictor10=function(b,_,O){return bt(bt(b,_[O-1]),bt(_[O+0],_[O+1]))},q.Predictor11=function(b,_,O){var $=_[O+0];return 0>=Pt($>>24&255,b>>24&255,(_=_[O-1])>>24&255)+Pt($>>16&255,b>>16&255,_>>16&255)+Pt($>>8&255,b>>8&255,_>>8&255)+Pt(255&$,255&b,255&_)?$:b},q.Predictor12=function(b,_,O){var $=_[O+0];return(Ft((b>>24&255)+($>>24&255)-((_=_[O-1])>>24&255))<<24|Ft((b>>16&255)+($>>16&255)-(_>>16&255))<<16|Ft((b>>8&255)+($>>8&255)-(_>>8&255))<<8|Ft((255&b)+(255&$)-(255&_)))>>>0},q.Predictor13=function(b,_,O){var $=_[O-1];return(Tt((b=bt(b,_[O+0]))>>24&255,$>>24&255)<<24|Tt(b>>16&255,$>>16&255)<<16|Tt(b>>8&255,$>>8&255)<<8|Tt(255&b,255&$))>>>0};var uo=q.PredictorAdd0;q.PredictorAdd1=sr,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var Mi=q.PredictorAdd2;Fe("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var ra,xl=q.ColorIndexInverseTransform,Ii=q.MapARGB,wi=q.VP8LColorIndexInverseTransformAlpha,yl=q.MapAlpha,bl=q.VP8LPredictorsAdd=[];bl.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var mc,pc,fo,zo,Wo,wl,Ho,jl,Wn,ps,Hr,sn,Hn,da,ji,su,gc,ho,cd,vc,ud,Df,iu,Nl,Sl,Ff,ou,$f,Bf=i(511),Uf=i(2041),qf=i(225),zf=i(767),Wf=0,Di=Uf,xc=qf,rs=zf,Qs=Bf,dd=0,Vo=1,O0=2,lu=3,cu=4,dn=5,fd=6,yc=7,_l=8,uu=9,du=10,fu=[2,3,7],hd=[3,3,11],kl=[280,256,256,256,40],R0=[0,1,1,1,0],Ug=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],T0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],md=8,bc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Al=null,Hf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],M0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],I0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Yf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ns=[],Zs=[],gs=[],Fi=1,wc=2,qa=[],vs=[];ms("UpsampleRgbLinePair",Bo,3),ms("UpsampleBgrLinePair",pl,3),ms("UpsampleRgbaLinePair",au,4),ms("UpsampleBgraLinePair",nu,4),ms("UpsampleArgbLinePair",vl,4),ms("UpsampleRgba4444LinePair",gl,2),ms("UpsampleRgb565LinePair",Ua,2);var Hg=q.UpsampleRgbLinePair,Vg=q.UpsampleBgrLinePair,Yo=q.UpsampleRgbaLinePair,jc=q.UpsampleBgraLinePair,Cl=q.UpsampleArgbLinePair,mu=q.UpsampleRgba4444LinePair,Gf=q.UpsampleRgb565LinePair,mo=16,Ni=1<<mo-1,rn=-227,on=482,Go=6,Pa=0,xs=i(256),Pl=i(256),Nc=i(256),ys=i(256),pd=i(on-rn),D0=i(on-rn);bi("YuvToRgbRow",Bo,3),bi("YuvToBgrRow",pl,3),bi("YuvToRgbaRow",au,4),bi("YuvToBgraRow",nu,4),bi("YuvToArgbRow",vl,4),bi("YuvToRgba4444Row",gl,2),bi("YuvToRgb565Row",Ua,2);var Kf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],El=[0,2,8],F0=[8,7,6,4,4,2,2,2,1,1,1,1],po=1;this.WebPDecodeRGBA=function(b,_,O,$,J){var re=Vo,ie=new Pe,oe=new dr;ie.ba=oe,oe.S=re,oe.width=[oe.width],oe.height=[oe.height];var de=oe.width,xe=oe.height,Ae=new Et;if(Ae==null||b==null)var Be=2;else t(Ae!=null),Be=Uo(b,_,O,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(Be!=0?de=0:(de!=null&&(de[0]=Ae.width[0]),xe!=null&&(xe[0]=Ae.height[0]),de=1),de){oe.width=oe.width[0],oe.height=oe.height[0],$!=null&&($[0]=oe.width),J!=null&&(J[0]=oe.height);e:{if($=new hn,(J=new Ye).data=b,J.w=_,J.ha=O,J.kd=1,_=[0],t(J!=null),((b=Uo(J.data,J.w,J.ha,null,null,null,_,null,J))==0||b==7)&&_[0]&&(b=4),(_=b)==0){if(t(ie!=null),$.data=J.data,$.w=J.w+J.offset,$.ha=J.ha-J.offset,$.put=Ut,$.ac=Bn,$.bc=Br,$.ma=ie,J.xa){if((b=pa())==null){ie=1;break e}if((function(we,Ee){var $e=[0],et=[0],We=[0];t:for(;;){if(we==null)return 0;if(Ee==null)return we.a=2,0;if(we.l=Ee,we.a=0,ue(we.m,Ee.data,Ee.w,Ee.ha),!mr(we.m,$e,et,We)){we.a=3;break t}if(we.xb=wc,Ee.width=$e[0],Ee.height=et[0],!la($e[0],et[0],1,we,null))break t;return 1}return t(we.a!=0),0})(b,$)){if($=(_=lo($.width,$.height,ie.Oa,ie.ba))==0){t:{$=b;r:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((O=$.l)!=null),t((J=O.ma)!=null),$.xb!=0){if($.ca=J.ba,$.tb=J.tb,t($.ca!=null),!fc(J.Oa,O,lu)){$.a=2;break r}if(!Za($,O.width)||O.da)break r;if((O.da||Me($.ca.S))&&Xs(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Xs()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!V($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!Ur($,$.V,$.Ba,$.c,$.i,O.o,Hs))break r;J.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(_=b.a)}else _=b.a}else{if((b=new Er)==null){ie=1;break e}if(b.Fa=J.na,b.P=J.P,b.qc=J.Sa,pr(b,$)){if((_=lo($.width,$.height,ie.Oa,ie.ba))==0){if(b.Aa=0,O=ie.Oa,t((J=b)!=null),O!=null){if(0<(de=0>(de=O.Md)?0:100<de?255:255*de/100)){for(xe=Ae=0;4>xe;++xe)12>(Be=J.pb[xe]).lc&&(Be.ia=de*F0[0>Be.lc?0:Be.lc]>>3),Ae|=Be.ia;Ae&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=O.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(we,Ee){if(we==null)return 0;if(Ee==null)return an(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!pr(we,Ee))return 0;if(t(we.cb),Ee.ac==null||Ee.ac(Ee)){Ee.ob&&(we.L=0);var $e=El[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Ee.v-$e>>4,we.zb=Ee.j-$e>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Ee.o+15+$e>>4,we.Hb=Ee.va+15+$e>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var et=we.ed;for($e=0;4>$e;++$e){var We;if(we.Qa.Cb){var Xe=we.Qa.Lb[$e];we.Qa.Fb||(Xe+=et.Tb)}else Xe=et.Tb;for(We=0;1>=We;++We){var Qe=we.gd[$e][We],it=Xe;if(et.Pc&&(it+=et.vd[0],We&&(it+=et.od[0])),0<(it=0>it?0:63<it?63:it)){var lt=it;0<et.wb&&(lt=4<et.wb?lt>>2:lt>>1)>9-et.wb&&(lt=9-et.wb),1>lt&&(lt=1),Qe.dd=lt,Qe.tc=2*it+lt,Qe.ld=40<=it?2:15<=it?1:0}else Qe.tc=0;Qe.La=We}}}$e=0}else an(we,6,"Frame setup failed"),$e=we.a;if($e=$e==0){if($e){we.$c=0,0<we.Aa||(we.Ic=po);t:{$e=we.Ic,et=4*(lt=we.za);var Vt=32*lt,Ot=lt+1,jr=0<we.L?lt*(0<we.Aa?2:1):0,Dt=(we.Aa==2?2:1)*lt;if((Qe=et+832+(We=3*(16*$e+El[we.L])/2*Vt)+(Xe=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=Qe)$e=0;else{if(Qe>we.Vb){if(we.Vb=0,we.Ec=i(Qe),we.Fc=0,we.Ec==null){$e=an(we,1,"no memory during frame initialization.");break t}we.Vb=Qe}Qe=we.Ec,it=we.Fc,we.Ac=Qe,we.Bc=it,it+=et,we.Gd=o(Vt,yn),we.Hd=0,we.rb=o(Ot+1,gr),we.sb=1,we.wa=jr?o(jr,nr):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=lt),t(!0),we.oc=Qe,we.pc=it,it+=832,we.ya=o(Dt,$r),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=lt),we.R=16*lt,we.B=8*lt,lt=(Vt=El[we.L])*we.R,Vt=Vt/2*we.B,we.sa=Qe,we.ta=it+lt,we.qa=we.sa,we.ra=we.ta+16*$e*we.R+Vt,we.Ha=we.qa,we.Ia=we.ra+8*$e*we.B+Vt,we.$c=0,it+=We,we.mb=Xe?Qe:null,we.nb=Xe?it:null,t(it+Xe<=we.Fc+we.Vb),Lr(we),s(we.Ac,we.Bc,0,et),$e=1}}if($e){if(Ee.ka=0,Ee.y=we.sa,Ee.O=we.ta,Ee.f=we.qa,Ee.N=we.ra,Ee.ea=we.Ha,Ee.Vd=we.Ia,Ee.fa=we.R,Ee.Rc=we.B,Ee.F=null,Ee.J=0,!Wf){for($e=-255;255>=$e;++$e)Bf[255+$e]=0>$e?-$e:$e;for($e=-1020;1020>=$e;++$e)Uf[1020+$e]=-128>$e?-128:127<$e?127:$e;for($e=-112;112>=$e;++$e)qf[112+$e]=-16>$e?-16:15<$e?15:$e;for($e=-255;510>=$e;++$e)zf[255+$e]=0>$e?0:255<$e?255:$e;Wf=1}Ho=Or,jl=Oo,ps=Zn,Hr=ca,sn=fs,Wn=no,Hn=Kt,da=Zt,ji=P,su=X,gc=qt,ho=yr,cd=ve,vc=Se,ud=ts,Df=yi,iu=K,Nl=Ue,Zs[0]=uc,Zs[1]=$a,Zs[2]=ao,Zs[3]=Ys,Zs[4]=Mo,Zs[5]=ea,Zs[6]=es,Zs[7]=dc,Zs[8]=so,Zs[9]=Io,ns[0]=Rs,ns[1]=Ro,ns[2]=cc,ns[3]=To,ns[4]=Vs,ns[5]=Ba,ns[6]=hs,gs[0]=Ms,gs[1]=ul,gs[2]=dl,gs[3]=Ts,gs[4]=Oi,gs[5]=Do,gs[6]=fl,$e=1}else $e=0}$e&&($e=(function(Pr,Vn){for(Pr.M=0;Pr.M<Pr.Va;++Pr.M){var Nr,Rt=Pr.Jc[Pr.M&Pr.Xb],_t=Pr.m,na=Pr;for(Nr=0;Nr<na.za;++Nr){var tr=_t,Cr=na,ln=Cr.Ac,Yn=Cr.Bc+4*Nr,Ea=Cr.zc,Pn=Cr.ya[Cr.aa+Nr];if(Cr.Qa.Bb?Pn.$b=me(tr,Cr.Pa.jb[0])?2+me(tr,Cr.Pa.jb[2]):me(tr,Cr.Pa.jb[1]):Pn.$b=0,Cr.kc&&(Pn.Ad=me(tr,Cr.Bd)),Pn.Za=!me(tr,145)+0,Pn.Za){var Na=Pn.Ob,La=0;for(Cr=0;4>Cr;++Cr){var En,br=Ea[0+Cr];for(En=0;4>En;++En){br=zg[ln[Yn+En]][br];for(var Tr=M0[me(tr,br[0])];0<Tr;)Tr=M0[2*Tr+me(tr,br[Tr])];br=-Tr,ln[Yn+En]=br}n(Na,La,ln,Yn,4),La+=4,Ea[0+Cr]=br}}else br=me(tr,156)?me(tr,128)?1:3:me(tr,163)?2:0,Pn.Ob[0]=br,s(ln,Yn,br,4),s(Ea,0,br,4);Pn.Dd=me(tr,142)?me(tr,114)?me(tr,183)?1:3:2:0}if(na.m.Ka)return an(Pr,7,"Premature end-of-partition0 encountered.");for(;Pr.ja<Pr.za;++Pr.ja){if(na=Rt,tr=(_t=Pr).rb[_t.sb-1],ln=_t.rb[_t.sb+_t.ja],Nr=_t.ya[_t.aa+_t.ja],Yn=_t.kc?Nr.Ad:0)tr.la=ln.la=0,Nr.Za||(tr.Na=ln.Na=0),Nr.Hc=0,Nr.Gc=0,Nr.ia=0;else{var Ln,Gr;if(tr=ln,ln=na,Yn=_t.Pa.Xc,Ea=_t.ya[_t.aa+_t.ja],Pn=_t.pb[Ea.$b],Cr=Ea.ad,Na=0,La=_t.rb[_t.sb-1],br=En=0,s(Cr,Na,0,384),Ea.Za)var bn=0,Sa=Yn[3];else{Tr=i(16);var Dn=tr.Na+La.Na;if(Dn=Al(ln,Yn[1],Dn,Pn.Eb,0,Tr,0),tr.Na=La.Na=(0<Dn)+0,1<Dn)Ho(Tr,0,Cr,Na);else{var as=Tr[0]+3>>3;for(Tr=0;256>Tr;Tr+=16)Cr[Na+Tr]=as}bn=1,Sa=Yn[0]}var Mr=15&tr.la,pn=15&La.la;for(Tr=0;4>Tr;++Tr){var za=1&pn;for(as=Gr=0;4>as;++as)Mr=Mr>>1|(za=(Dn=Al(ln,Sa,Dn=za+(1&Mr),Pn.Sc,bn,Cr,Na))>bn)<<7,Gr=Gr<<2|(3<Dn?3:1<Dn?2:Cr[Na+0]!=0),Na+=16;Mr>>=4,pn=pn>>1|za<<7,En=(En<<8|Gr)>>>0}for(Sa=Mr,bn=pn>>4,Ln=0;4>Ln;Ln+=2){for(Gr=0,Mr=tr.la>>4+Ln,pn=La.la>>4+Ln,Tr=0;2>Tr;++Tr){for(za=1&pn,as=0;2>as;++as)Dn=za+(1&Mr),Mr=Mr>>1|(za=0<(Dn=Al(ln,Yn[2],Dn,Pn.Qc,0,Cr,Na)))<<3,Gr=Gr<<2|(3<Dn?3:1<Dn?2:Cr[Na+0]!=0),Na+=16;Mr>>=2,pn=pn>>1|za<<5}br|=Gr<<4*Ln,Sa|=Mr<<4<<Ln,bn|=(240&pn)<<Ln}tr.la=Sa,La.la=bn,Ea.Hc=En,Ea.Gc=br,Ea.ia=43690&br?0:Pn.ia,Yn=!(En|br)}if(0<_t.L&&(_t.wa[_t.Y+_t.ja]=_t.gd[Nr.$b][Nr.Za],_t.wa[_t.Y+_t.ja].La|=!Yn),na.Ka)return an(Pr,7,"Premature end-of-file encountered.")}if(Lr(Pr),_t=Vn,na=1,Nr=(Rt=Pr).D,tr=0<Rt.L&&Rt.M>=Rt.zb&&Rt.M<=Rt.Va,Rt.Aa==0)t:{if(Nr.M=Rt.M,Nr.uc=tr,Is(Rt,Nr),na=1,Nr=(Gr=Rt.D).Nb,tr=(br=El[Rt.L])*Rt.R,ln=br/2*Rt.B,Tr=16*Nr*Rt.R,as=8*Nr*Rt.B,Yn=Rt.sa,Ea=Rt.ta-tr+Tr,Pn=Rt.qa,Cr=Rt.ra-ln+as,Na=Rt.Ha,La=Rt.Ia-ln+as,pn=(Mr=Gr.M)==0,En=Mr>=Rt.Va-1,Rt.Aa==2&&Is(Rt,Gr),Gr.uc)for(za=(Dn=Rt).D.M,t(Dn.D.uc),Gr=Dn.yb;Gr<Dn.Hb;++Gr){bn=Gr,Sa=za;var Wa=(Ha=(aa=Dn).D).Nb;Ln=aa.R;var Ha=Ha.wa[Ha.Y+bn],bs=aa.sa,ss=aa.ta+16*Wa*Ln+16*bn,is=Ha.dd,nn=Ha.tc;if(nn!=0)if(t(3<=nn),aa.L==1)0<bn&&Df(bs,ss,Ln,nn+4),Ha.La&&Nl(bs,ss,Ln,nn),0<Sa&&ud(bs,ss,Ln,nn+4),Ha.La&&iu(bs,ss,Ln,nn);else{var ws=aa.B,ei=aa.qa,Ko=aa.ra+8*Wa*ws+8*bn,Si=aa.Ha,aa=aa.Ia+8*Wa*ws+8*bn;Wa=Ha.ld,0<bn&&(da(bs,ss,Ln,nn+4,is,Wa),su(ei,Ko,Si,aa,ws,nn+4,is,Wa)),Ha.La&&(ho(bs,ss,Ln,nn,is,Wa),vc(ei,Ko,Si,aa,ws,nn,is,Wa)),0<Sa&&(Hn(bs,ss,Ln,nn+4,is,Wa),ji(ei,Ko,Si,aa,ws,nn+4,is,Wa)),Ha.La&&(gc(bs,ss,Ln,nn,is,Wa),cd(ei,Ko,Si,aa,ws,nn,is,Wa))}}if(Rt.ia&&alert("todo:DitherRow"),_t.put!=null){if(Gr=16*Mr,Mr=16*(Mr+1),pn?(_t.y=Rt.sa,_t.O=Rt.ta+Tr,_t.f=Rt.qa,_t.N=Rt.ra+as,_t.ea=Rt.Ha,_t.W=Rt.Ia+as):(Gr-=br,_t.y=Yn,_t.O=Ea,_t.f=Pn,_t.N=Cr,_t.ea=Na,_t.W=La),En||(Mr-=br),Mr>_t.o&&(Mr=_t.o),_t.F=null,_t.J=null,Rt.Fa!=null&&0<Rt.Fa.length&&Gr<Mr&&(_t.J=ua(Rt,_t,Gr,Mr-Gr),_t.F=Rt.mb,_t.F==null&&_t.F.length==0)){na=an(Rt,3,"Could not decode alpha data.");break t}Gr<_t.j&&(br=_t.j-Gr,Gr=_t.j,t(!(1&br)),_t.O+=Rt.R*br,_t.N+=Rt.B*(br>>1),_t.W+=Rt.B*(br>>1),_t.F!=null&&(_t.J+=_t.width*br)),Gr<Mr&&(_t.O+=_t.v,_t.N+=_t.v>>1,_t.W+=_t.v>>1,_t.F!=null&&(_t.J+=_t.v),_t.ka=Gr-_t.j,_t.U=_t.va-_t.v,_t.T=Mr-Gr,na=_t.put(_t))}Nr+1!=Rt.Ic||En||(n(Rt.sa,Rt.ta-tr,Yn,Ea+16*Rt.R,tr),n(Rt.qa,Rt.ra-ln,Pn,Cr+8*Rt.B,ln),n(Rt.Ha,Rt.Ia-ln,Na,La+8*Rt.B,ln))}if(!na)return an(Pr,6,"Output aborted.")}return 1})(we,Ee)),Ee.bc!=null&&Ee.bc(Ee),$e&=1}return $e?(we.cb=0,$e):0})(b,$)||(_=b.a)}}else _=b.a}_==0&&ie.Oa!=null&&ie.Oa.fd&&(_=hc(ie.ba))}ie=_}re=ie!=0?null:11>re?oe.f.RGBA.eb:oe.f.kb.y}else re=null;return re};var pu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(q,G){for(var R="",D=0;D<4;D++)R+=String.fromCharCode(q[G++]);return R}function h(q,G){return q[G+0]|q[G+1]<<8}function m(q,G){return(q[G+0]|q[G+1]<<8|q[G+2]<<16)>>>0}function v(q,G){return(q[G+0]|q[G+1]<<8|q[G+2]<<16|q[G+3]<<24)>>>0}new u;var p=[0],w=[0],x=[],y=new u,j=e,A=(function(q,G){var R={},D=0,z=!1,W=0,Z=0;if(R.frames=[],!(function(U,B){for(var Y=0;Y<4;Y++)if(U[B+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(q,G)){for(v(q,G+=4),G+=8;G<q.length;){var le=f(q,G),ge=v(q,G+=4);G+=4;var te=ge+(1&ge);switch(le){case"VP8 ":case"VP8L":R.frames[D]===void 0&&(R.frames[D]={}),(ae=R.frames[D]).src_off=z?Z:G-8,ae.src_size=W+ge+8,D++,z&&(z=!1,W=0,Z=0);break;case"VP8X":(ae=R.header={}).feature_flags=q[G];var ue=G+4;ae.canvas_width=1+m(q,ue),ue+=3,ae.canvas_height=1+m(q,ue),ue+=3;break;case"ALPH":z=!0,W=te+8,Z=G-8;break;case"ANIM":(ae=R.header).bgcolor=v(q,G),ue=G+4,ae.loop_count=h(q,ue),ue+=2;break;case"ANMF":var H,ae;(ae=R.frames[D]={}).offset_x=2*m(q,G),G+=3,ae.offset_y=2*m(q,G),G+=3,ae.width=1+m(q,G),G+=3,ae.height=1+m(q,G),G+=3,ae.duration=m(q,G),G+=3,H=q[G++],ae.dispose=1&H,ae.blend=H>>1&1}le!="ANMF"&&(G+=te)}return R}})(j,0);A.response=j,A.rgbaoutput=!0,A.dataurl=!1;var N=A.header?A.header:null,k=A.frames?A.frames:null;if(N){N.loop_counter=N.loop_count,p=[N.canvas_height],w=[N.canvas_width];for(var C=0;C<k.length&&k[C].blend!=0;C++);}var T=k[0],F=y.WebPDecodeRGBA(j,T.src_off,T.src_size,w,p);T.rgba=F,T.imgwidth=w[0],T.imgheight=p[0];for(var M=0;M<w[0]*p[0]*4;M++)x[M]=F[M];return this.width=w,this.height=p,this.data=x,this}(function(e){var t,r,n,s,i,o,l,u,f,h=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new u,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var m=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=U;Object.defineProperty(this,"pdf",{get:function(){return B}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(fe){Y=!!fe}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(fe){ne=!!fe}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(fe){isNaN(fe)||(he=fe)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(fe){isNaN(fe)||(Q=fe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(fe){var V;typeof fe=="number"?V=[fe,fe,fe,fe]:((V=new Array(4))[0]=fe[0],V[1]=fe.length>=2?fe[1]:V[0],V[2]=fe.length>=3?fe[2]:V[0],V[3]=fe.length>=4?fe[3]:V[1]),f.margin=V}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(fe){pe=fe}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(fe){ce=fe}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(fe){me=fe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(fe){fe instanceof h&&(f=fe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(fe){f.path=fe}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(fe){_e=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var V;V=v(fe),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var V=v(fe);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var se=null,ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return ye},set:function(fe){se=null,ye=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var V;if(this.ctx.font=fe,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var Re=V[1];V[2];var Je=V[3],nt=V[4];V[5];var ze=V[6],je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(nt)[2];nt=Math.floor(je==="px"?parseFloat(nt)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(nt)*this.pdf.getFontSize():parseFloat(nt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(nt);var De=(function(Oe){var Fe,st,mt=[],at=Oe.trim();if(at==="")return ob;if(at in $C)return[$C[at]];for(;at!=="";){switch(st=null,Fe=(at=UC(at)).charAt(0)){case'"':case"'":st=pZ(at.substring(1),Fe);break;default:st=gZ(at)}if(st===null||(mt.push(st[0]),(at=UC(st[1]))!==""&&at.charAt(0)!==","))return ob;at=at.replace(/^,/,"")}return mt})(ze);if(this.fontFaces){var jt=(function(Oe,Fe){if(se===null){var st=(function(mt){var at=[];return Object.keys(mt).forEach(function(gt){mt[gt].forEach(function(vt){var He=null;switch(vt){case"bold":He={family:gt,weight:"bold"};break;case"italic":He={family:gt,style:"italic"};break;case"bolditalic":He={family:gt,weight:"bold",style:"italic"};break;case"":case"normal":He={family:gt}}He!==null&&(He.ref={name:gt,style:vt},at.push(He))})}),at})(Oe.getFontList());se=(function(mt){for(var at={},gt=0;gt<mt.length;++gt){var vt=ib(mt[gt]),He=vt.family,tt=vt.stretch,Me=vt.style,dt=vt.weight;at[He]=at[He]||{},at[He][tt]=at[He][tt]||{},at[He][tt][Me]=at[He][tt][Me]||{},at[He][tt][Me][dt]=vt}return at})(st.concat(Fe))}return se})(this.pdf,this.fontFaces),bt=De.map(function(Oe){return{family:Oe,stretch:"normal",weight:Je,style:Re}}),Ft=(function(Oe,Fe,st){for(var mt=(st=st||{}).defaultFontFamily||"times",at=Object.assign({},mZ,st.genericFontFamilies||{}),gt=null,vt=null,He=0;He<Fe.length;++He)if(at[(gt=ib(Fe[He])).family]&&(gt.family=at[gt.family]),Oe.hasOwnProperty(gt.family)){vt=Oe[gt.family];break}if(!(vt=vt||Oe[mt]))throw new Error("Could not find a font-family for the rule '"+BC(gt)+"' and default family '"+mt+"'.");if(vt=(function(tt,Me){if(Me[tt])return Me[tt];var dt=Zw[tt],er=dt<=Zw.normal?-1:1,dr=FC(Me,yL,dt,er);if(!dr)throw new Error("Could not find a matching font-stretch value for "+tt);return dr})(gt.stretch,vt),vt=(function(tt,Me){if(Me[tt])return Me[tt];for(var dt=xL[tt],er=0;er<dt.length;++er)if(Me[dt[er]])return Me[dt[er]];throw new Error("Could not find a matching font-style for "+tt)})(gt.style,vt),!(vt=(function(tt,Me){if(Me[tt])return Me[tt];if(tt===400&&Me[500])return Me[500];if(tt===500&&Me[400])return Me[400];var dt=hZ[tt],er=FC(Me,bL,dt,tt<400?-1:1);if(!er)throw new Error("Could not find a matching font-weight for value "+tt);return er})(gt.weight,vt)))throw new Error("Failed to resolve a font for the rule '"+BC(gt)+"'.");return vt})(jt,bt);this.pdf.setFont(Ft.ref.name,Ft.ref.style)}else{var Tt="";(Je==="bold"||parseInt(Je,10)>=700||Re==="bold")&&(Tt="bold"),Re==="italic"&&(Tt+="italic"),Tt.length===0&&(Tt="normal");for(var Pt="",sr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ke=0;ke<De.length;ke++){if(this.pdf.internal.getFont(De[ke],Tt,{noFallback:!0,disableWarning:!0})!==void 0){Pt=De[ke];break}if(Tt==="bolditalic"&&this.pdf.internal.getFont(De[ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pt=De[ke],Tt="bold";else if(this.pdf.internal.getFont(De[ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pt=De[ke],Tt="normal";break}}if(Pt===""){for(var be=0;be<De.length;be++)if(sr[De[be]]){Pt=sr[De[be]];break}}Pt=Pt===""?"Times":Pt,this.pdf.setFont(Pt,Tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};m.prototype.setLineDash=function(U){this.lineDash=U},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){k.call(this,"fill",!1)},m.prototype.stroke=function(){k.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(U,B){if(isNaN(U)||isNaN(B))throw Nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(U,B));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(U,B)},m.prototype.closePath=function(){var U=new o(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&fn(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){U=new o(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},m.prototype.lineTo=function(U,B){if(isNaN(U)||isNaN(B))throw Nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(U,B));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},m.prototype.quadraticCurveTo=function(U,B,Y,ne){if(isNaN(Y)||isNaN(ne)||isNaN(U)||isNaN(B))throw Nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new o(Y,ne)),Q=this.ctx.transform.applyToPoint(new o(U,B));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},m.prototype.bezierCurveTo=function(U,B,Y,ne,he,Q){if(isNaN(he)||isNaN(Q)||isNaN(U)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(he,Q)),ce=this.ctx.transform.applyToPoint(new o(U,B)),me=this.ctx.transform.applyToPoint(new o(Y,ne));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:me.x,y2:me.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},m.prototype.arc=function(U,B,Y,ne,he,Q){if(isNaN(U)||isNaN(B)||isNaN(Y)||isNaN(ne)||isNaN(he))throw Nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(U,B));U=pe.x,B=pe.y;var ce=this.ctx.transform.applyToPoint(new o(0,Y)),me=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(ce.x-me.x,2)+Math.pow(ce.y-me.y,2))}Math.abs(he-ne)>=2*Math.PI&&(ne=0,he=2*Math.PI),this.path.push({type:"arc",x:U,y:B,radius:Y,startAngle:ne,endAngle:he,counterclockwise:Q})},m.prototype.arcTo=function(U,B,Y,ne,he){throw new Error("arcTo not implemented.")},m.prototype.rect=function(U,B,Y,ne){if(isNaN(U)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,B),this.lineTo(U+Y,B),this.lineTo(U+Y,B+ne),this.lineTo(U,B+ne),this.lineTo(U,B),this.lineTo(U+Y,B),this.lineTo(U,B)},m.prototype.fillRect=function(U,B,Y,ne){if(isNaN(U)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,B,Y,ne),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},m.prototype.strokeRect=function(U,B,Y,ne){if(isNaN(U)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(U,B,Y,ne),this.stroke())},m.prototype.clearRect=function(U,B,Y,ne){if(isNaN(U)||isNaN(B)||isNaN(Y)||isNaN(ne))throw Nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,B,Y,ne))},m.prototype.save=function(U){U=typeof U!="boolean"||U;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},m.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(B),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(U){var B,Y,ne,he;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))B=0,Y=0,ne=0,he=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(Q!==null)B=parseInt(Q[1]),Y=parseInt(Q[2]),ne=parseInt(Q[3]),he=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)B=parseInt(Q[1]),Y=parseInt(Q[2]),ne=parseInt(Q[3]),he=parseFloat(Q[4]);else{if(he=1,typeof U=="string"&&U.charAt(0)!=="#"){var pe=new dL(U);U=pe.ok?pe.toHex():"#000000"}U.length===4?(B=U.substring(1,2),B+=B,Y=U.substring(2,3),Y+=Y,ne=U.substring(3,4),ne+=ne):(B=U.substring(1,3),Y=U.substring(3,5),ne=U.substring(5,7)),B=parseInt(B,16),Y=parseInt(Y,16),ne=parseInt(ne,16)}}return{r:B,g:Y,b:ne,a:he,style:U}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(U,B,Y,ne){if(isNaN(B)||isNaN(Y)||typeof U!="string")throw Nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var he=te(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;D.call(this,{text:U,x:B,y:Y,scale:Q,angle:he,align:this.textAlign,maxWidth:ne})}},m.prototype.strokeText=function(U,B,Y,ne){if(isNaN(B)||isNaN(Y)||typeof U!="string")throw Nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ne=isNaN(ne)?void 0:ne;var he=te(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;D.call(this,{text:U,x:B,y:Y,scale:Q,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ne})}},m.prototype.measureText=function(U){if(typeof U!="string")throw Nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,Y=this.pdf.internal.scaleFactor,ne=B.internal.getFontSize(),he=B.getStringUnitWidth(U)*ne/B.internal.scaleFactor;return new function(Q){var pe=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:he*=Math.round(96*Y/72*1e4)/1e4})},m.prototype.scale=function(U,B){if(isNaN(U)||isNaN(B))throw Nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new u(U,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.rotate=function(U){if(isNaN(U))throw Nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new u(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},m.prototype.translate=function(U,B){if(isNaN(U)||isNaN(B))throw Nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new u(1,0,0,1,U,B);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.transform=function(U,B,Y,ne,he,Q){if(isNaN(U)||isNaN(B)||isNaN(Y)||isNaN(ne)||isNaN(he)||isNaN(Q))throw Nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new u(U,B,Y,ne,he,Q);this.ctx.transform=this.ctx.transform.multiply(pe)},m.prototype.setTransform=function(U,B,Y,ne,he,Q){U=isNaN(U)?1:U,B=isNaN(B)?0:B,Y=isNaN(Y)?0:Y,ne=isNaN(ne)?1:ne,he=isNaN(he)?0:he,Q=isNaN(Q)?0:Q,this.ctx.transform=new u(U,B,Y,ne,he,Q)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(U,B,Y,ne,he,Q,pe,ce,me){var _e=this.pdf.getImageProperties(U),se=1,ye=1,fe=1,V=1;ne!==void 0&&ce!==void 0&&(fe=ce/ne,V=me/he,se=_e.width/ne*ce/ne,ye=_e.height/he*me/he),Q===void 0&&(Q=B,pe=Y,B=0,Y=0),ne!==void 0&&ce===void 0&&(ce=ne,me=he),ne===void 0&&ce===void 0&&(ce=_e.width,me=_e.height);for(var Re,Je=this.ctx.transform.decompose(),nt=te(Je.rotate.shx),ze=new u,je=(ze=(ze=(ze=ze.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new l(Q-B*fe,pe-Y*V,ne*se,he*ye)),De=y.call(this,je),jt=[],bt=0;bt<De.length;bt+=1)jt.indexOf(De[bt])===-1&&jt.push(De[bt]);if(N(jt),this.autoPaging)for(var Ft=jt[0],Tt=jt[jt.length-1],Pt=Ft;Pt<Tt+1;Pt++){this.pdf.setPage(Pt);var sr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=Pt===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=Pt===1?0:be+(Pt-2)*Oe;if(this.ctx.clip_path.length!==0){var st=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Re,this.posX+this.margin[3],-Fe+ke+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=st}var mt=JSON.parse(JSON.stringify(je));mt=A([mt],this.posX+this.margin[3],-Fe+ke+this.ctx.prevPageLastElemOffset)[0];var at=(Pt>Ft||Pt<Tt)&&x.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sr,Oe,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",mt.x,mt.y,mt.w,mt.h,null,null,nt),at&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",je.x,je.y,je.w,je.h,null,null,nt)};var y=function(U,B,Y){var ne=[];B=B||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ne.push(Math.floor((U.y+he)/Y)+1);break;case"arc":ne.push(Math.floor((U.y+he-U.radius)/Y)+1),ne.push(Math.floor((U.y+he+U.radius)/Y)+1);break;case"qct":var Q=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ne.push(Math.floor((Q.y+he)/Y)+1),ne.push(Math.floor((Q.y+Q.h+he)/Y)+1);break;case"bct":var pe=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ne.push(Math.floor((pe.y+he)/Y)+1),ne.push(Math.floor((pe.y+pe.h+he)/Y)+1);break;case"rect":ne.push(Math.floor((U.y+he)/Y)+1),ne.push(Math.floor((U.y+U.h+he)/Y)+1)}for(var ce=0;ce<ne.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ce];)j.call(this);return ne},j=function(){var U=this.fillStyle,B=this.strokeStyle,Y=this.font,ne=this.lineCap,he=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=B,this.font=Y,this.lineCap=ne,this.lineWidth=he,this.lineJoin=Q},A=function(U,B,Y){for(var ne=0;ne<U.length;ne++)switch(U[ne].type){case"bct":U[ne].x2+=B,U[ne].y2+=Y;case"qct":U[ne].x1+=B,U[ne].y1+=Y;default:U[ne].x+=B,U[ne].y+=Y}return U},N=function(U){return U.sort(function(B,Y){return B-Y})},k=function(U,B){for(var Y,ne,he=this.fillStyle,Q=this.strokeStyle,pe=this.lineCap,ce=this.lineWidth,me=Math.abs(ce*this.ctx.transform.scaleX),_e=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),ye=JSON.parse(JSON.stringify(this.path)),fe=[],V=0;V<ye.length;V++)if(ye[V].x!==void 0)for(var Re=y.call(this,ye[V]),Je=0;Je<Re.length;Je+=1)fe.indexOf(Re[Je])===-1&&fe.push(Re[Je]);for(var nt=0;nt<fe.length;nt++)for(;this.pdf.internal.getNumberOfPages()<fe[nt];)j.call(this);if(N(fe),this.autoPaging)for(var ze=fe[0],je=fe[fe.length-1],De=ze;De<je+1;De++){this.pdf.setPage(De),this.fillStyle=he,this.strokeStyle=Q,this.lineCap=pe,this.lineWidth=me,this.lineJoin=_e;var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=De===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=De===1?0:Ft+(De-2)*Tt;if(this.ctx.clip_path.length!==0){var sr=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Y,this.posX+this.margin[3],-Pt+bt+this.ctx.prevPageLastElemOffset),C.call(this,U,!0),this.path=sr}if(ne=JSON.parse(JSON.stringify(se)),this.path=A(ne,this.posX+this.margin[3],-Pt+bt+this.ctx.prevPageLastElemOffset),B===!1||De===0){var ke=(De>ze||De<je)&&x.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Tt,null).clip().discardPath()),C.call(this,U,B),ke&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=me,C.call(this,U,B),this.lineWidth=ce;this.path=se},C=function(U,B){if((U!=="stroke"||B||!w.call(this))&&(U==="stroke"||B||!p.call(this))){for(var Y,ne,he=[],Q=this.path,pe=0;pe<Q.length;pe++){var ce=Q[pe];switch(ce.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:ce,deltas:[],abs:[]});break;case"lt":var me=he.length;if(Q[pe-1]&&!isNaN(Q[pe-1].x)&&(Y=[ce.x-Q[pe-1].x,ce.y-Q[pe-1].y],me>0)){for(;me>=0;me--)if(he[me-1].close!==!0&&he[me-1].begin!==!0){he[me-1].deltas.push(Y),he[me-1].abs.push(ce);break}}break;case"bct":Y=[ce.x1-Q[pe-1].x,ce.y1-Q[pe-1].y,ce.x2-Q[pe-1].x,ce.y2-Q[pe-1].y,ce.x-Q[pe-1].x,ce.y-Q[pe-1].y],he[he.length-1].deltas.push(Y);break;case"qct":var _e=Q[pe-1].x+2/3*(ce.x1-Q[pe-1].x),se=Q[pe-1].y+2/3*(ce.y1-Q[pe-1].y),ye=ce.x+2/3*(ce.x1-ce.x),fe=ce.y+2/3*(ce.y1-ce.y),V=ce.x,Re=ce.y;Y=[_e-Q[pe-1].x,se-Q[pe-1].y,ye-Q[pe-1].x,fe-Q[pe-1].y,V-Q[pe-1].x,Re-Q[pe-1].y],he[he.length-1].deltas.push(Y);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(ce)}}ne=B?null:U==="stroke"?"stroke":"fill";for(var Je=!1,nt=0;nt<he.length;nt++)if(he[nt].arc)for(var ze=he[nt].abs,je=0;je<ze.length;je++){var De=ze[je];De.type==="arc"?M.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,B,!Je):z.call(this,De.x,De.y),Je=!0}else if(he[nt].close===!0)this.pdf.internal.out("h"),Je=!1;else if(he[nt].begin!==!0){var jt=he[nt].start.x,bt=he[nt].start.y;W.call(this,he[nt].deltas,jt,bt),Je=!0}ne&&q.call(this,ne),B&&G.call(this)}},T=function(U){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-Y;case"top":return U+B-Y;case"hanging":return U+B-2*Y;case"middle":return U+B/2-Y;default:return U}},F=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(B,Y){this.colorStops.push([B,Y])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(U,B,Y,ne,he,Q,pe,ce,me){for(var _e=le.call(this,Y,ne,he,Q),se=0;se<_e.length;se++){var ye=_e[se];se===0&&(me?R.call(this,ye.x1+U,ye.y1+B):z.call(this,ye.x1+U,ye.y1+B)),Z.call(this,U,B,ye.x2,ye.y2,ye.x3,ye.y3,ye.x4,ye.y4)}ce?G.call(this):q.call(this,pe)},q=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(U,B){this.pdf.internal.out(r(U)+" "+n(B)+" m")},D=function(U){var B;switch(U.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var Y=this.pdf.getTextDimensions(U.text),ne=T.call(this,U.y),he=F.call(this,ne)-Y.h,Q=this.ctx.transform.applyToPoint(new o(U.x,ne)),pe=this.ctx.transform.decompose(),ce=new u;ce=(ce=(ce=ce.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var me,_e,se,ye=this.ctx.transform.applyToRectangle(new l(U.x,ne,Y.w,Y.h)),fe=ce.applyToRectangle(new l(U.x,he,Y.w,Y.h)),V=y.call(this,fe),Re=[],Je=0;Je<V.length;Je+=1)Re.indexOf(V[Je])===-1&&Re.push(V[Je]);if(N(Re),this.autoPaging)for(var nt=Re[0],ze=Re[Re.length-1],je=nt;je<ze+1;je++){this.pdf.setPage(je);var De=je===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],Ft=bt-this.margin[0],Tt=this.pdf.internal.pageSize.width-this.margin[1],Pt=Tt-this.margin[3],sr=je===1?0:jt+(je-2)*Ft;if(this.ctx.clip_path.length!==0){var ke=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(me,this.posX+this.margin[3],-1*sr+De),C.call(this,"fill",!0),this.path=ke}var be=A([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-sr+De+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*U.scale),se=this.lineWidth,this.lineWidth=se*U.scale);var Oe=this.autoPaging!=="text";if(Oe||be.y+be.h<=bt){if(Oe||be.y>=De&&be.x<=Tt){var Fe=Oe?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Tt-be.x)[0],st=A([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-sr+De+this.ctx.prevPageLastElemOffset)[0],mt=Oe&&(je>nt||je<ze)&&x.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Ft,null).clip().discardPath()),this.pdf.text(Fe,st.x,st.y,{angle:U.angle,align:B,renderingMode:U.renderingMode}),mt&&this.pdf.restoreGraphicsState()}}else be.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-be.y);U.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=se)}else U.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*U.scale),se=this.lineWidth,this.lineWidth=se*U.scale),this.pdf.text(U.text,Q.x+this.posX,Q.y+this.posY,{angle:U.angle,align:B,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=se)},z=function(U,B,Y,ne){Y=Y||0,ne=ne||0,this.pdf.internal.out(r(U+Y)+" "+n(B+ne)+" l")},W=function(U,B,Y){return this.pdf.lines(U,B,Y,null,null)},Z=function(U,B,Y,ne,he,Q,pe,ce){this.pdf.internal.out([t(s(Y+U)),t(i(ne+B)),t(s(he+U)),t(i(Q+B)),t(s(pe+U)),t(i(ce+B)),"c"].join(" "))},le=function(U,B,Y,ne){for(var he=2*Math.PI,Q=Math.PI/2;B>Y;)B-=he;var pe=Math.abs(Y-B);pe<he&&ne&&(pe=he-pe);for(var ce=[],me=ne?-1:1,_e=B;pe>1e-5;){var se=_e+me*Math.min(pe,Q);ce.push(ge.call(this,U,_e,se)),pe-=Math.abs(se-_e),_e=se}return ce},ge=function(U,B,Y){var ne=(Y-B)/2,he=U*Math.cos(ne),Q=U*Math.sin(ne),pe=he,ce=-Q,me=pe*pe+ce*ce,_e=me+pe*he+ce*Q,se=4/3*(Math.sqrt(2*me*_e)-_e)/(pe*Q-ce*he),ye=pe-se*ce,fe=ce+se*pe,V=ye,Re=-fe,Je=ne+B,nt=Math.cos(Je),ze=Math.sin(Je);return{x1:U*Math.cos(B),y1:U*Math.sin(B),x2:ye*nt-fe*ze,y2:ye*ze+fe*nt,x3:V*nt-Re*ze,y3:V*ze+Re*nt,x4:U*Math.cos(Y),y4:U*Math.sin(Y)}},te=function(U){return 180*U/Math.PI},ue=function(U,B,Y,ne,he,Q){var pe=U+.5*(Y-U),ce=B+.5*(ne-B),me=he+.5*(Y-he),_e=Q+.5*(ne-Q),se=Math.min(U,he,pe,me),ye=Math.max(U,he,pe,me),fe=Math.min(B,Q,ce,_e),V=Math.max(B,Q,ce,_e);return new l(se,fe,ye-se,V-fe)},H=function(U,B,Y,ne,he,Q,pe,ce){var me,_e,se,ye,fe,V,Re,Je,nt,ze,je,De,jt,bt,Ft=Y-U,Tt=ne-B,Pt=he-Y,sr=Q-ne,ke=pe-he,be=ce-Q;for(_e=0;_e<41;_e++)nt=(Re=(se=U+(me=_e/40)*Ft)+me*((fe=Y+me*Pt)-se))+me*(fe+me*(he+me*ke-fe)-Re),ze=(Je=(ye=B+me*Tt)+me*((V=ne+me*sr)-ye))+me*(V+me*(Q+me*be-V)-Je),_e==0?(je=nt,De=ze,jt=nt,bt=ze):(je=Math.min(je,nt),De=Math.min(De,ze),jt=Math.max(jt,nt),bt=Math.max(bt,ze));return new l(Math.round(je),Math.round(De),Math.round(jt-je),Math.round(bt-De))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,B,Y=(U=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:B}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Qt.API),(function(e){var t=function(o){var l,u,f,h,m,v,p,w,x,y;for(u=[],f=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>f;f+=4)(m=(o.charCodeAt(f)<<24)+(o.charCodeAt(f+1)<<16)+(o.charCodeAt(f+2)<<8)+o.charCodeAt(f+3))!==0?(v=(m=((m=((m=((m=(m-(y=m%85))/85)-(x=m%85))/85)-(w=m%85))/85)-(p=m%85))/85)%85,u.push(v+33,p+33,w+33,x+33,y+33)):u.push(122);return(function(j,A){for(var N=A;N>0;N--)j.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},r=function(o){var l,u,f,h,m,v=String,p="length",w=255,x="charCodeAt",y="slice",j="replace";for(o[y](-2),o=o[y](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),f=[],h=0,m=(o+=l="uuuuu"[y](o[p]%5||5))[p];m>h;h+=5)u=52200625*(o[x](h)-33)+614125*(o[x](h+1)-33)+7225*(o[x](h+2)-33)+85*(o[x](h+3)-33)+(o[x](h+4)-33),f.push(w&u>>24,w&u>>16,w&u>>8,w&u);return(function(A,N){for(var k=N;k>0;k--)A.pop()})(f,l[p]),v.fromCharCode.apply(v,f)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",f=0;f<o.length;f+=2)u+=String.fromCharCode("0x"+(o[f]+o[f+1]));return u},i=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return(l=Vw(l)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var u=0,f=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(Qt.API),(function(e){e.loadFile=function(t,r,n){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(u,f,h){var m=new XMLHttpRequest,v=0,p=function(w){var x=w.length,y=[],j=String.fromCharCode;for(v=0;v<x;v+=1)y.push(j(255&w.charCodeAt(v)));return y.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),f&&m.status===200)return p(m.responseText)})(s,i,o)}catch{}return l})(t,r,n)},e.loadImageFile=e.loadFile})(Qt.API),(function(e){function t(){return(xr.html2canvas?Promise.resolve(xr.html2canvas):q2(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(xr.DOMPurify?Promise.resolve(xr.DOMPurify):q2(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var u=fn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(l,u){var f=document.createElement(l);for(var h in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[h]=u.style[h];return f},i=function l(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},o=function l(u){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),f);return(h=h.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),u){case"string":return this.then(r).then(function(f){return this.set({src:s("div",{innerHTML:l,dompurify:f})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var f=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var w=h[p],x=w.src.find(function(y){return y.format==="truetype"});x&&f.addFont(x.url,w.ref.name,w.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map(function(f){if(f in o.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var f=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(f):f})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(l=l||Qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,f,h){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,f,h){return this.setProgress(l?this.progress.val+l:null,u||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,u){var f=this;return this.thenCore(l,u,function(h,m){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return f.updateProgress(null,h),v}).then(h,m).then(function(v){return f.updateProgress(1),v})})},o.prototype.thenCore=function(l,u,f){f=f||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),u&&(u=u.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),v=f.call(m,l,u);return o.convert(v,h.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(f){u=u.thenCore(f)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Qt.getPageSize=function(l,u,f){if(fn(l)==="object"){var h=l;l=h.orientation,u=h.unit||u,f=h.format||f}u=u||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var m,v=(""+f).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var w,x=0,y=0;if(p.hasOwnProperty(v))x=p[v][1]/m,y=p[v][0]/m;else try{x=f[1],y=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",y>x&&(w=y,y=x,x=w);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>y&&(w=y,y=x,x=w)}return{width:y,height:x,unit:u,k:m,orientation:l}},e.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(ib):null;var f=new o(u);return u.worker?f:f.from(l).doCallback()}})(Qt.API),Qt.API.addJS=function(e){return zC=e,this.internal.events.subscribe("postPutResources",function(){Tm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tm!==void 0&&qC!==void 0&&this.internal.out("/Names <</JavaScript "+Tm+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var u=l[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(i=0;i<f;i++){var m=r.internal.newObject();h.push(m);var v=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])})(Qt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,l){var u,f=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(m){for(var v,p=256*m.charCodeAt(4)+m.charCodeAt(5),w=m.length,x={width:0,height:0,numcomponents:1},y=4;y<w;y+=2){if(y+=p,t.indexOf(m.charCodeAt(y+1))!==-1){v=256*m.charCodeAt(y+5)+m.charCodeAt(y+6),x={width:256*m.charCodeAt(y+7)+m.charCodeAt(y+8),height:v,numcomponents:m.charCodeAt(y+9)};break}p=256*m.charCodeAt(y+2)+m.charCodeAt(y+3)}return x})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:f,index:n,alias:s}}return h}})(Qt.API),Qt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=ZQ(e,{checkCrc:!0}),o=i.width,l=i.height,u=i.channels,f=i.palette,h=i.depth;s=f&&u===1?(function(M){for(var q=M.width,G=M.height,R=M.data,D=M.palette,z=M.depth,W=!1,Z=[],le=[],ge=void 0,te=!1,ue=0,H=0;H<D.length;H++){var ae=YA(D[H],4),U=ae[0],B=ae[1],Y=ae[2],ne=ae[3];Z.push(U,B,Y),ne!=null&&(ne===0?(ue++,le.length<1&&le.push(H)):ne<255&&(te=!0))}if(te||ue>1){W=!0,le=void 0;var he=q*G;ge=new Uint8Array(he);for(var Q=new DataView(R.buffer),pe=0;pe<he;pe++){var ce=lb(Q,pe,z),me=YA(D[ce],4)[3];ge[pe]=me}}else ue===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:R,alphaBytes:ge,needSMask:W,palette:Z,mask:le}})(i):u===2||u===4?(function(M){for(var q=M.data,G=M.width,R=M.height,D=M.channels,z=M.depth,W=D===2?"DeviceGray":"DeviceRGB",Z=D-1,le=G*R,ge=Z,te=le*ge,ue=1*le,H=Math.ceil(te*z/8),ae=Math.ceil(ue*z/8),U=new Uint8Array(H),B=new Uint8Array(ae),Y=new DataView(q.buffer),ne=new DataView(U.buffer),he=new DataView(B.buffer),Q=!1,pe=0;pe<le;pe++){for(var ce=pe*D,me=0;me<ge;me++)QC(ne,lb(Y,ce+me,z),pe*ge+me,z);var _e=lb(Y,ce+ge,z);_e<(1<<z)-1&&(Q=!0),QC(he,_e,1*pe,z)}return{colorSpace:W,colorsPerPixel:Z,sMaskBitsPerComponent:Q?z:void 0,colorBytes:U,alphaBytes:B,needSMask:Q}})(i):(function(M){var q=M.data,G=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(R){for(var D=R.length,z=new Uint8Array(2*D),W=new DataView(z.buffer,z.byteOffset,z.byteLength),Z=0;Z<D;Z++)W.setUint16(2*Z,R[Z],!1);return z})(q):q,needSMask:!1}})(i);var m,v,p,w=s,x=w.colorSpace,y=w.colorsPerPixel,j=w.sMaskBitsPerComponent,A=w.colorBytes,N=w.alphaBytes,k=w.needSMask,C=w.palette,T=w.mask,F=null;return n!==Qt.API.image_compression.NONE&&typeof Vw=="function"?(F=(function(M){var q;switch(M){case Qt.API.image_compression.FAST:q=11;break;case Qt.API.image_compression.MEDIUM:q=13;break;case Qt.API.image_compression.SLOW:q=14;break;default:q=12}return q})(n),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(F," /Colors ").concat(y," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=YC(A,Math.ceil(o*y*h/8),y,h,n),k&&(p=YC(N,Math.ceil(o*j/8),1,j,n))):(m=void 0,v=void 0,e=A,k&&(p=N)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:v,transparency:T,palette:C,sMask:p,predictor:F,width:o,height:l,bitsPerComponent:h,sMaskBitsPerComponent:j,colorSpace:x}}},(function(e){e.processGIF89A=function(t,r,n,s){var i=new bZ(t),o=i.width,l=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:l},h=new cb(100).encode(f,100);return e.processJPEG.call(this,h,r,n,s)},e.processGIF87A=e.processGIF89A})(Qt.API),No.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},No.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Nn.log("bit decode error:"+r)}},No.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var u=this.palette[i>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},No.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,u=15&i,f=this.palette[l];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*s+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},No.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},No.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,f=i>>15?255:0,h=n*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=f}this.pos+=e}},No.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,u=(o>>5&r)/r*255|0,f=(o>>11)/t*255|0,h=s*this.width*4+4*i;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},No.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},No.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},No.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,s){var i=new No(t,!1),o=i.width,l=i.height,u={data:i.getData(),width:o,height:l},f=new cb(100).encode(u,100);return e.processJPEG.call(this,f,r,n,s)}})(Qt.API),e8.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,s){var i=new e8(t),o=i.width,l=i.height,u={data:i.getData(),width:o,height:l},f=new cb(100).encode(u,100);return e.processJPEG.call(this,f,r,n,s)}})(Qt.API),Qt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,u=0,f=0;f<s;f+=4){var h=n[f],m=n[f+1],v=n[f+2],p=n[f+3];i[l++]=h,i[l++]=m,i[l++]=v,o[u++]=p}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Qt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ld=Qt.API,Mm=Ld.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,u=l.fof?l.fof:1,f=t.kerning?t.kerning:s.metadata.Unicode.kerning,h=f.fof?f.fof:1,m=t.doKerning!==!1,v=0,p=e.length,w=0,x=l[0]||u,y=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(v=m&&fn(f[n])==="object"&&!isNaN(parseInt(f[n][w],10))?f[n][w]/h:0,y.push((l[n]||x)/u+v)),w=n;return y},WC=Ld.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Ld.processArabic&&(e=Ld.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Mm.apply(this,arguments).reduce(function(i,o){return i+o},0)},HC=function(e,t,r,n){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var u=i;for(l=0;i!==o;)l+t[i]>n&&(s.push(e.slice(u,i)),l=0,u=i),l+=t[i],i++;return u!==i&&s.push(e.slice(u,i)),s},VC=function(e,t,r){r||(r={});var n,s,i,o,l,u,f,h=[],m=[h],v=r.textIndent||0,p=0,w=0,x=e.split(" "),y=Mm.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var j=Array(u).join(" "),A=[];x.map(function(k){(k=k.split(/\s*\n/)).length>1?A=A.concat(k.map(function(C,T){return(T&&C.length?`
`:"")+C})):A.push(k[0])}),x=A,u=WC.apply(this,[j,r])}for(i=0,o=x.length;i<o;i++){var N=0;if(n=x[i],u&&n[0]==`
`&&(n=n.substr(1),N=1),v+p+(w=(s=Mm.apply(this,[n,r])).reduce(function(k,C){return k+C},0))>t||N){if(w>t){for(l=HC.apply(this,[n,s,t-(v+p),t]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);w=s.slice(n.length-(h[0]?h[0].length:0)).reduce(function(k,C){return k+C},0)}else h=[n];m.push(h),v=w+u,p=y}else h.push(n),v+=p+w,p=y}return f=u?function(k,C){return(C?j:"")+k.join(" ")}:function(k){return k.join(" ")},m.map(f)},Ld.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,u,f=[];for(l=0,u=n.length;l<u;l++)f=f.concat(VC.apply(this,[n[l],o,i]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var o=function(v){return"0x"+parseInt(v,10).toString(16)},l=e.__fontmetrics__.compress=function(v){var p,w,x,y,j=["{"];for(var A in v){if(p=v[A],isNaN(parseInt(A,10))?w="'"+A+"'":(A=parseInt(A,10),w=(w=o(A).slice(2)).slice(0,-1)+s[w.slice(-1)]),typeof p=="number")p<0?(x=o(p).slice(3),y="-"):(x=o(p).slice(2),y=""),x=y+x.slice(0,-1)+s[x.slice(-1)];else{if(fn(p)!=="object")throw new Error("Don't know what to do with value type "+fn(p)+".");x=l(p)}j.push(w+x)}return j.push("}"),j.join("")},u=e.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,w,x,y,j={},A=1,N=j,k=[],C="",T="",F=v.length-1,M=1;M<F;M+=1)(y=v[M])=="'"?p?(x=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(k.push([N,x]),N={},x=void 0):y=="}"?((w=k.pop())[0][w[1]]=N,x=void 0,N=w[0]):y=="-"?A=-1:x===void 0?n.hasOwnProperty(y)?(C+=n[y],x=parseInt(C,16)*A,A=1,C=""):C+=y:n.hasOwnProperty(y)?(T+=n[y],N[x]=parseInt(T,16)*A,A=1,x=void 0,T=""):T+=y;return j},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(v){var p=v.font,w=m.Unicode[p.postScriptName];w&&(p.metadata.Unicode={},p.metadata.Unicode.widths=w.widths,p.metadata.Unicode.kerning=w.kerning);var x=h.Unicode[p.postScriptName];x&&(p.metadata.Unicode.encoding=x,p.encoding=x.codePages[0])}])})(Qt.API),(function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Um(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])})(Qt),Qt.API.addSvgAsImage=function(e,t,r,n,s,i,o,l){if(isNaN(t)||isNaN(r))throw Nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(xr.canvg?Promise.resolve(xr.canvg):q2(()=>import("./index.es-wduKdBCR.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(f,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),t,r,n,s,o,l)})},Qt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Qt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],f=0,h=0,m=0;function v(w,x){var y,j=!1;for(y=0;y<w.length;y+=1)w[y]===x&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(fn(e)==="object"){for(s in e)if(i=e[s],v(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&v(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(f=0;f<i.length;f+=1)if(n=!0,i[f].length===1&&typeof i[f][0]=="number")u.push(String(i[f]-1));else if(i[f].length>1){for(h=0;h<i[f].length;h+=1)typeof i[f][h]!="number"&&(n=!1);n===!0&&u.push([i[f][0]-1,i[f][1]-1].join(" "))}r[s].value="["+u.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,x=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?x.push("/"+w+" /"+r[w].value):x.push("/"+w+" "+r[w].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+o.length+l.length+s.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Qt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],m=0,v=i.length;m<v;++m){if(l=o.metadata.characterToGlyph(i.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(m),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(f[4-l.length],l)}return h.join("")},n=function(i){var o,l,u,f,h,m,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,v=(l=Object.keys(i).sort(function(p,w){return p-w})).length;m<v;m++)o=l[m],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(f=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,u=o.out,f=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",w=0;w<v.length;w++)p+=String.fromCharCode(v[w]);var x=f();h({data:p,addLength1:!0,objectId:x}),u("endobj");var y=f();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var j=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Md(l.fontName)),u("/FontFile2 "+x+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var A=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Md(l.fontName)),u("/FontDescriptor "+j+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+y+" 0 R"),u("/BaseFont /"+Md(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+A+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,u=o.out,f=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,v="",p=0;p<m.length;p++)v+=String.fromCharCode(m[p]);var w=f();h({data:v,addLength1:!0,objectId:w}),u("endobj");var x=f();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),u("endobj");var y=f();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Md(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=f();for(var j=0;j<l.metadata.hmtx.widths.length;j++)l.metadata.hmtx.widths[j]=parseInt(l.metadata.hmtx.widths[j]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Md(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",u=i.x,f=i.y,h=i.options||{},m=i.mutex||{},v=m.pdfEscape,p=m.activeFontKey,w=m.fonts,x=p,y="",j=0,A="",N=w[x].encoding;if(w[x].encoding!=="Identity-H")return{text:l,x:u,y:f,options:h,mutex:m};for(A=l,x=p,Array.isArray(l)&&(A=l[0]),j=0;j<A.length;j+=1)w[x].metadata.hasOwnProperty("cmap")&&(o=w[x].metadata.cmap.unicode.codeMap[A[j].charCodeAt(0)]),o||A[j].charCodeAt(0)<256&&w[x].metadata.hasOwnProperty("Unicode")?y+=A[j]:y+="";var k="";return parseInt(x.slice(1))<14||N==="WinAnsiEncoding"?k=v(y,x).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(k=r(y,w[x])),m.isHex=!0,{text:k,x:u,y:f,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],u={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?l.push([s(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):l.push(s(Object.assign({},u,{text:o[f]})).text);i.text=l}else i.text=s(Object.assign({},u,{text:o})).text}])})(Qt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Qt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,l,u,f,h,m=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,N=0;this.__bidiEngine__={};var k=function(R){var D=R.charCodeAt(),z=D>>8,W=x[z];return W!==void 0?m[256*W+(255&D)]:z===252||z===253?"AL":j.test(z)?"L":z===8?"R":"N"},C=function(R){for(var D,z=0;z<R.length;z++){if((D=k(R.charAt(z)))==="L")return!1;if(D==="R")return!0}return!1},T=function(R,D,z,W){var Z,le,ge,te,ue=D[W];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(ue="AN");break;case"AL":A=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":W<1||W+1>=D.length||(Z=z[W-1])!=="EN"&&Z!=="AN"||(le=D[W+1])!=="EN"&&le!=="AN"?ue="N":A&&(le="AN"),ue=le===Z?le:"N";break;case"ES":ue=(Z=W>0?z[W-1]:"B")==="EN"&&W+1<D.length&&D[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&z[W-1]==="EN"){ue="EN";break}if(A){ue="N";break}for(ge=W+1,te=D.length;ge<te&&D[ge]==="ET";)ge++;ue=ge<te&&D[ge]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(te=D.length,ge=W+1;ge<te&&D[ge]==="NSM";)ge++;if(ge<te){var H=R[W],ae=H>=1425&&H<=2303||H===64286;if(Z=D[ge],ae&&(Z==="R"||Z==="AL")){ue="R";break}}}ue=W<1||(Z=D[W-1])==="B"?"N":z[W-1];break;case"B":A=!1,s=!0,ue=N;break;case"S":i=!0,ue="N"}return ue},F=function(R,D,z){var W=R.split("");return z&&M(W,z,{hiLevel:N}),W.reverse(),D&&D.reverse(),W.join("")},M=function(R,D,z){var W,Z,le,ge,te,ue=-1,H=R.length,ae=0,U=[],B=N?p:v,Y=[];for(A=!1,s=!1,i=!1,Z=0;Z<H;Z++)Y[Z]=k(R[Z]);for(le=0;le<H;le++){if(te=ae,U[le]=T(R,Y,U,le),W=240&(ae=B[te][w[U[le]]]),ae&=15,D[le]=ge=B[ae][5],W>0)if(W===16){for(Z=ue;Z<le;Z++)D[Z]=1;ue=-1}else ue=-1;if(B[ae][6])ue===-1&&(ue=le);else if(ue>-1){for(Z=ue;Z<le;Z++)D[Z]=ge;ue=-1}Y[le]==="B"&&(D[le]=0),z.hiLevel|=ge}i&&(function(ne,he,Q){for(var pe=0;pe<Q;pe++)if(ne[pe]==="S"){he[pe]=N;for(var ce=pe-1;ce>=0&&ne[ce]==="WS";ce--)he[ce]=N}})(Y,D,H)},q=function(R,D,z,W,Z){if(!(Z.hiLevel<R)){if(R===1&&N===1&&!s)return D.reverse(),void(z&&z.reverse());for(var le,ge,te,ue,H=D.length,ae=0;ae<H;){if(W[ae]>=R){for(te=ae+1;te<H&&W[te]>=R;)te++;for(ue=ae,ge=te-1;ue<ge;ue++,ge--)le=D[ue],D[ue]=D[ge],D[ge]=le,z&&(le=z[ue],z[ue]=z[ge],z[ge]=le);ae=te}ae++}}},G=function(R,D,z){var W=R.split(""),Z={hiLevel:N};return z||(z=[]),M(W,z,Z),(function(le,ge,te){if(te.hiLevel!==0&&h)for(var ue,H=0;H<le.length;H++)ge[H]===1&&(ue=y.indexOf(le[H]))>=0&&(le[H]=y[ue+1])})(W,z,Z),q(2,W,D,z,Z),q(1,W,D,z,Z),W.join("")};return this.__bidiEngine__.doBidiReorder=function(R,D,z){if((function(Z,le){if(le)for(var ge=0;ge<Z.length;ge++)le[ge]=ge;l===void 0&&(l=C(Z)),f===void 0&&(f=C(Z))})(R,D),o||!u||f)if(o&&u&&l^f)N=l?1:0,R=F(R,D,z);else if(!o&&u&&f)N=l?1:0,R=G(R,D,z),R=F(R,D);else if(!o||l||u||f){if(o&&!u&&l^f)R=F(R,D),l?(N=0,R=G(R,D,z)):(N=1,R=G(R,D,z),R=F(R,D));else if(o&&l&&!u&&f)N=1,R=G(R,D,z),R=F(R,D);else if(!o&&!u&&l^f){var W=h;l?(N=1,R=G(R,D,z),N=0,h=!1,R=G(R,D,z),h=W):(N=0,R=G(R,D,z),R=F(R,D),N=1,h=!1,R=G(R,D,z),h=W,R=F(R,D))}}else N=0,R=G(R,D,z);else N=l?1:0,R=G(R,D,z);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,u=R.isOutputVisual,l=R.isInputRtl,f=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Qt),Qt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Kc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new MZ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new wZ(this.contents),this.head=new NZ(this),this.name=new CZ(this),this.cmap=new jL(this),this.toUnicode={},this.hhea=new SZ(this),this.maxp=new PZ(this),this.hmtx=new EZ(this),this.post=new kZ(this),this.os2=new _Z(this),this.loca=new TZ(this),this.glyf=new LZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,f;for(f=[],o=0,l=(u=this.bbox).length;o<l;o++)t=u[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Lo,Kc=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,l,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),wZ=(function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,l,u,f,h,m,v,p,w,x;for(x in p=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(p)/u),o=Math.floor(m/u),h=16*p-m,(s=new Kc).writeInt(this.scalarType),s.writeShort(p),s.writeShort(m),s.writeShort(o),s.writeShort(h),i=16*p,f=s.pos+i,l=null,w=[],r)for(v=r[x],s.writeString(x),s.writeInt(e(v)),s.writeInt(f),s.writeInt(v.length),w=w.concat(v),x==="head"&&(l=f),f+=v.length;f%4;)w.push(0),f++;return s.write(w),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=NL.call(r);r.length%4;)r.push(0);for(i=new Kc(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t})(),jZ={}.hasOwnProperty,cl=function(e,t){for(var r in t)jZ.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Lo=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var NZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Kc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),t8=(function(){function e(t,r){var n,s,i,o,l,u,f,h,m,v,p,w,x,y,j,A,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(p=t.readUInt16(),v=p/2,t.pos+=6,i=(function(){var k,C;for(C=[],u=k=0;0<=v?k<v:k>v;u=0<=v?++k:--k)C.push(t.readUInt16());return C})(),t.pos+=2,x=(function(){var k,C;for(C=[],u=k=0;0<=v?k<v:k>v;u=0<=v?++k:--k)C.push(t.readUInt16());return C})(),f=(function(){var k,C;for(C=[],u=k=0;0<=v?k<v:k>v;u=0<=v?++k:--k)C.push(t.readUInt16());return C})(),h=(function(){var k,C;for(C=[],u=k=0;0<=v?k<v:k>v;u=0<=v?++k:--k)C.push(t.readUInt16());return C})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var k,C;for(C=[],u=k=0;0<=s?k<s:k>s;u=0<=s?++k:--k)C.push(t.readUInt16());return C})(),u=j=0,N=i.length;j<N;u=++j)for(y=i[u],n=A=w=x[u];w<=y?A<=y:A>=y;n=w<=y?++A:--A)h[u]===0?o=n+f[u]:(o=l[h[u]/2+(n-w)-(v-u)]||0)!==0&&(o+=f[u]),this.codeMap[n]=65535&o}t.pos=m}return e.encode=function(t,r){var n,s,i,o,l,u,f,h,m,v,p,w,x,y,j,A,N,k,C,T,F,M,q,G,R,D,z,W,Z,le,ge,te,ue,H,ae,U,B,Y,ne,he,Q,pe,ce,me,_e,se;switch(W=new Kc,o=Object.keys(t).sort(function(ye,fe){return ye-fe}),r){case"macroman":for(x=0,y=(function(){var ye=[];for(w=0;w<256;++w)ye.push(0);return ye})(),A={0:0},i={},Z=0,ue=o.length;Z<ue;Z++)A[ce=t[s=o[Z]]]==null&&(A[ce]=++x),i[s]={old:t[s],new:A[t[s]]},y[s]=A[t[s]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(y),{charMap:i,subtable:W.data,maxGlyphID:x+1};case"unicode":for(D=[],m=[],N=0,A={},n={},j=f=null,le=0,H=o.length;le<H;le++)A[C=t[s=o[le]]]==null&&(A[C]=++N),n[s]={old:C,new:A[C]},l=A[C]-s,j!=null&&l===f||(j&&m.push(j),D.push(s),f=l),j=s;for(j&&m.push(j),m.push(65535),D.push(65535),G=2*(q=D.length),M=2*Math.pow(Math.log(q)/Math.LN2,2),v=Math.log(M/2)/Math.LN2,F=2*q-M,u=[],T=[],p=[],w=ge=0,ae=D.length;ge<ae;w=++ge){if(R=D[w],h=m[w],R===65535){u.push(0),T.push(0);break}if(R-(z=n[R].new)>=32768)for(u.push(0),T.push(2*(p.length+q-w)),s=te=R;R<=h?te<=h:te>=h;s=R<=h?++te:--te)p.push(n[s].new);else u.push(z-R),T.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*q+2*p.length),W.writeUInt16(0),W.writeUInt16(G),W.writeUInt16(M),W.writeUInt16(v),W.writeUInt16(F),Q=0,U=m.length;Q<U;Q++)s=m[Q],W.writeUInt16(s);for(W.writeUInt16(0),pe=0,B=D.length;pe<B;pe++)s=D[pe],W.writeUInt16(s);for(me=0,Y=u.length;me<Y;me++)l=u[me],W.writeUInt16(l);for(_e=0,ne=T.length;_e<ne;_e++)k=T[_e],W.writeUInt16(k);for(se=0,he=p.length;se<he;se++)x=p[se],W.writeUInt16(x);return{charMap:n,subtable:W.data,maxGlyphID:N+1}}},e})(),jL=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new t8(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=t8.encode(t,r),(s=new Kc).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e})(),SZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),_Z=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),kZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,u;for(u=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)u.push(t.readUInt32());return u}).call(this)}},e})(),AZ=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},CZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,o,l,u,f,h,m,v;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(u={},i=h=0,m=n.length;h<m;i=++h)s=n[i],t.pos=s.offset,f=t.readString(s.length),o=new AZ(f,s),u[v=s.nameID]==null&&(u[v]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),PZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),EZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,o,l,u;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)h.push(t.readInt16());return h})(),this.widths=(function(){var f,h,m,v;for(v=[],f=0,h=(m=this.metrics).length;f<h;f++)i=m[f],v.push(i.advance);return v}).call(this),n=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(n));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),NL=[].slice,LZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,o,l,u,f,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Kc(r.read(s))).readShort(),f=l.readShort(),m=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new RZ(l,f,m,u,h):new OZ(l,o,f,m,u,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,o,l,u;for(o=[],i=[],l=0,u=r.length;l<u;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},e})(),OZ=(function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),RZ=(function(){function e(t,r,n,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Kc(NL.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),TZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cl(e,Lo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var f=new Array(4*n.length),h=0;h<n.length;++h)f[4*h+3]=255&n[h],f[4*h+2]=(65280&n[h])>>8,f[4*h+1]=(16711680&n[h])>>16,f[4*h]=(4278190080&n[h])>>24;return f},e})(),MZ=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,l,u;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))n=u[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,l,u,f,h,m,v,p,w,x,y,j;for(s in n=jL.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},j=n.charMap)p[(u=j[s]).old]=u.new;for(w in v=n.maxGlyphID,o)w in p||(p[w]=v++);return h=(function(A){var N,k;for(N in k={},A)k[A[N]]=N;return k})(p),m=Object.keys(h).sort(function(A,N){return A-N}),x=(function(){var A,N,k;for(k=[],A=0,N=m.length;A<N;A++)l=m[A],k.push(h[l]);return k})(),i=this.font.glyf.encode(o,x,p),f=this.font.loca.encode(i.offsets,x),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e})();Qt.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+(function(){var l,u,f;for(f=[],l=0,u=r.length;l<u;l++)n=r[l],f.push(t.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();function SL(e,t,r,n,s){n=n||{};var i=1.15,o=s.internal.scaleFactor,l=s.internal.getFontSize()/o,u=s.getLineHeightFactor?s.getLineHeightFactor():i,f=l*u,h=/\r\n|\r|\n/g,m="",v=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof e=="string"?e.split(h):e,v=m.length||1),r+=l*(2-i),n.valign==="middle"?r-=v/2*f:n.valign==="bottom"&&(r-=v*f),n.halign==="center"||n.halign==="right"){var p=l;if(n.halign==="center"&&(p*=.5),m&&v>=1){for(var w=0;w<m.length;w++)s.text(m[w],t-s.getStringUnitWidth(m[w])*p,r),r+=f;return s}t-=s.getStringUnitWidth(e)*p}return n.halign==="justify"?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var r8={},Gd=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:r8=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,s,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,u=o.fontName;if(t.font&&(u=t.font),t.fontStyle){l=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),l=f[0])}if(this.jsPDFDocument.setFont(u,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(s=this.jsPDFDocument).setTextColor.apply(s,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,s,i){return this.jsPDFDocument.rect(t,r,n,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return r8||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),e5=function(e,t){return e5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},e5(e,t)};function _L(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var kL=(function(e){_L(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function IZ(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function DZ(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Gp(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],s=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return s}function AL(e,t,r,n){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var o=CL(s,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function CL(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Bg(e,t){var r,n,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function PL(e,t){var r=Bg(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function FZ(e,t,r,n,s){var i={},o=1.3333333333333333,l=ub(t,function(N){return s.getComputedStyle(N).backgroundColor});l!=null&&(i.fillColor=l);var u=ub(t,function(N){return s.getComputedStyle(N).color});u!=null&&(i.textColor=u);var f=BZ(n,r);f&&(i.cellPadding=f);var h="borderTopColor",m=o*r,v=n.borderTopWidth;if(n.borderBottomWidth===v&&n.borderRightWidth===v&&n.borderLeftWidth===v){var p=(parseFloat(v)||0)/m;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var w=ub(t,function(N){return s.getComputedStyle(N)[h]});w!=null&&(i.lineColor=w);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/o);var j=$Z(n);j&&(i.fontStyle=j);var A=(n.fontFamily||"").toLowerCase();return e.indexOf(A)!==-1&&(i.font=A),i}function $Z(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function ub(e,t){var r=EL(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function EL(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:EL(e.parentElement,t):r}function BZ(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=Bg(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function LL(e,t,r,n,s){var i,o;n===void 0&&(n=!1),s===void 0&&(s=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var u=Object.keys(e.getFontList()),f=e.scaleFactor(),h=[],m=[],v=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:v};for(var p=0;p<l.rows.length;p++){var w=l.rows[p],x=(o=(i=w?.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),y=UZ(u,f,r,w,n,s);y&&(x==="thead"?h.push(y):x==="tfoot"?v.push(y):m.push(y))}return{head:h,body:m,foot:v}}function UZ(e,t,r,n,s,i){for(var o=new kL(n),l=0;l<n.cells.length;l++){var u=n.cells[l],f=r.getComputedStyle(u);if(s||f.display!=="none"){var h=void 0;i&&(h=FZ(e,u,t,f,r)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:qZ(u)})}}var m=r.getComputedStyle(n);if(o.length>0&&(s||m.display!=="none"))return o}function qZ(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function zZ(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Yl(e,t,r,n,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])}return i}function OL(e,t){var r=new Gd(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();zZ(s,n,t);var i=Yl({},s,n,t),o;typeof window<"u"&&(o=window);var l=WZ(s,n,t),u=HZ(s,n,t),f=VZ(r,i),h=GZ(r,i,o);return{id:t.tableId,content:h,hooks:u,styles:l,settings:f}}function WZ(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(u){if(u==="columnStyles"){var f=e[u],h=t[u],m=r[u];n.columnStyles=Yl({},f,h,m)}else{var v=[e,t,r],p=v.map(function(w){return w[u]||{}});n[u]=Yl({},p[0],p[1],p[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];s(l)}return n}function HZ(e,t,r){for(var n=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function VZ(e,t){var r,n,s,i,o,l,u,f,h,m,v,p,w=Bg(t.margin,40/e.scaleFactor()),x=(r=YZ(e,t.startY))!==null&&r!==void 0?r:w.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var A=(i=t.useCss)!==null&&i!==void 0?i:!1,N=t.theme||(A?"plain":"striped"),k=!!t.horizontalPageBreak,C=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:A,theme:N,startY:x,margin:w,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:j,showFoot:y,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(v=t.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:k,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function YZ(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function GZ(e,t,r){var n=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=LL(e,t.html,r,o,t.useCss)||{};n=l.head||n,s=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var u=t.columns||KZ(n,s,i);return{columns:u,head:n,body:s,foot:i}}function KZ(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var u=0;u<o;u++){var f=void 0;Array.isArray(n)?f=s.length:f=i+(u>0?"_".concat(u):"");var h={dataKey:f};s.push(h)}}),s}var t5=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),XZ=(function(e){_L(t,e);function t(r,n,s,i,o,l){var u=e.call(this,r,n,l)||this;return u.cell=s,u.row=i,u.column=o,u.section=i.section,u}return t})(t5),JZ=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,s,i,o){for(var l=0,u=r;l<u.length;l++){var f=u[l],h=new XZ(t,this,n,s,i,o),m=f(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new t5(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new t5(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),RL=(function(){function e(t,r,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof kL&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,s){var i;return Math.max(n,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(s,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),f=u+l;return f>s?f:s},0)},e})(),TL=(function(){function e(t,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Bg(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),QZ=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,s=t.allRows();n<s.length;n++){var i=s[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e})();function ZZ(e,t){eee(e,t);var r=[],n=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=r5(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=r5(r,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),ree(t),nee(t,e),tee(t)}function eee(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=PL(e,t);t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var u=l[o],f=i.cells[u.index];if(f){var h=t.hooks.didParseCell;t.callCellHooks(e,h,f,i,u,null);var m=f.padding("horizontal");f.contentWidth=Gp(f.text,f.styles,e)+m;var v=Gp(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=v+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>s?(f.minWidth=s,f.wrappedWidth=s):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var p=10/r;f.minWidth=f.styles.minCellWidth||p,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var u=l[o],f=i.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function r5(e,t,r){for(var n=t,s=e.reduce(function(p,w){return p+w.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],l=o.wrappedWidth/s,u=n*l,f=o.width+u,h=r(o),m=f<h?h:f;t-=m-o.width,o.width=m}if(t=Math.round(t*1e10)/1e10,t){var v=e.filter(function(p){return t<0?p.width>r(p):!0});v.length&&(t=r5(v,t,r))}return t}function tee(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var i=n[s],o=0,l=e.columns;o<l.length;o++){var u=l[o],f=t[u.index];if(r>1)r--,delete i.cells[u.index];else if(f)f.cell.height+=i.height,r=f.cell.colSpan,delete i.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var h=i.cells[u.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=n.length-s,v=h.rowSpan>m?m:h.rowSpan;t[u.index]={cell:h,left:v,row:i}}}}}function ree(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,i=0,o=0,l=0;l<e.columns.length;l++){var u=e.columns[l];if(o-=1,o>1&&e.columns[l+1])i+=u.width,delete n.cells[u.index];else if(s){var f=s;delete n.cells[u.index],s=null,f.width=u.width+i}else{var f=n.cells[u.index];if(!f)continue;if(o=f.colSpan,i=0,f.colSpan>1){s=f,i+=u.width;continue}f.width=u.width+i}}}function nee(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var i=s[n],o=0,l=e.columns;o<l.length;o++){var u=l[o],f=i.cells[u.index];if(f){t.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,h+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=n8(f.text,h,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=n8(f.text,h,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,h);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var v=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<v*f.rowSpan?r={height:v,count:f.rowSpan}:r&&r.count>0&&r.height>v&&(v=r.height),v>i.height&&(i.height=v)}}r.count--}}function n8(e,t,r,n,s){return e.map(function(i){return aee(i,t,r,n,s)})}function aee(e,t,r,n,s){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Gp(e,r,n))return e;for(;t<Gp(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function ML(e,t){var r=new Gd(e),n=see(t,r.scaleFactor()),s=new JZ(t,n);return ZZ(r,s),r.applyStyles(r.userStyles),s}function see(e,t){var r=e.content,n=oee(r.columns);if(r.head.length===0){var s=a8(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=a8(n,"foot");s&&r.foot.push(s)}var i=e.settings.theme,o=e.styles;return{columns:n,head:db("head",r.head,n,o,i,t),body:db("body",r.body,n,o,i,t),foot:db("foot",r.foot,n,o,i,t)}}function db(e,t,r,n,s,i){var o={},l=t.map(function(u,f){for(var h=0,m={},v=0,p=0,w=0,x=r;w<x.length;w++){var y=x[w];if(o[y.index]==null||o[y.index].left===0)if(p===0){var j=void 0;Array.isArray(u)?j=u[y.index-v-h]:j=u[y.dataKey];var A={};typeof j=="object"&&!Array.isArray(j)&&(A=j?.styles||{});var N=lee(e,y,f,s,n,i,A),k=new TL(j,N,e);m[y.dataKey]=k,m[y.index]=k,p=k.colSpan-1,o[y.index]={left:k.rowSpan-1,times:p}}else p--,v++;else o[y.index].left--,p=o[y.index].times,h++}return new RL(u,f,e,m)});return l}function a8(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var s=iee(t,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function iee(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function oee(e){return e.map(function(t,r){var n,s;return typeof t=="object"?s=(n=t.dataKey)!==null&&n!==void 0?n:r:s=r,new QZ(s,t,r)})}function lee(e,t,r,n,s,i,o){var l=DZ(n),u;e==="head"?u=s.headStyles:e==="body"?u=s.bodyStyles:e==="foot"&&(u=s.footStyles);var f=Yl({},l.table,l[e],s.styles,u),h=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},m=e==="body"?h:{},v=e==="body"&&r%2===0?Yl({},l.alternateRow,s.alternateRowStyles):{},p=IZ(i),w=Yl({},p,f,v,m);return Yl(w,o)}function cee(e,t,r){var n;r===void 0&&(r={});var s=PL(e,t),i=new Map,o=[],l=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(v){var p=t.columns.find(function(w){return w.dataKey===v||w.index===v});p&&!i.has(p.index)&&(i.set(p.index,!0),o.push(p.index),l.push(t.columns[p.index]),s-=p.wrappedWidth)});for(var f=!0,h=(n=r?.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(f||s>=m)f=!1,o.push(h),l.push(t.columns[h]),s-=m;else break;h++}return{colIndexes:o,columns:l,lastIndex:h-1}}function uee(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=cee(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function IL(e,t){var r=t.settings,n=r.startY,s=r.margin,i={x:s.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+s.bottom+o;if(r.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(v,p){return v+p.height},0);l+=f}var h=new Gd(e);(r.pageBreak==="always"||r.startY!=null&&l>h.pageSize().height)&&(FL(h),i.y=s.top),t.callWillDrawPageHooks(h,i);var m=Yl({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?dee(h,t,m,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(v){return rc(h,t,v,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(v,p){var w=p===t.body.length-1;Kp(h,t,v,w,m,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(v){return rc(h,t,v,i,t.columns)})),AL(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function dee(e,t,r,n){var s=uee(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(f,h){e.applyStyles(e.userStyles),h>0?Ih(e,t,r,n,f.columns,!0):s8(e,t,n,f.columns),fee(e,t,r,n,f.columns),fb(e,t,n,f.columns)});else for(var o=-1,l=s[0],u=function(){var f=o;if(l){e.applyStyles(e.userStyles);var h=l.columns;o>=0?Ih(e,t,r,n,h,!0):s8(e,t,n,h),f=i8(e,t,o+1,n,h),fb(e,t,n,h)}var m=f-o;s.slice(1).forEach(function(v){e.applyStyles(e.userStyles),Ih(e,t,r,n,v.columns,!0),i8(e,t,o+1,n,v.columns,m),fb(e,t,n,v.columns)}),o=f};o<t.body.length-1;)u()}function s8(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return rc(e,t,i,r,n)})}function fee(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var l=o===t.body.length-1;Kp(e,t,i,l,r,n,s)})}function i8(e,t,r,n,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(u,f){var h=r+f===t.body.length-1,m=DL(e,t,h,n);u.canEntireRowFit(m,s)&&(rc(e,t,u,n,s),l=r+f)}),l}function fb(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return rc(e,t,i,r,n)})}function hee(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/n);return Math.max(0,i)}function mee(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var u=l[o],f=e.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new TL(f.raw,f.styles,f.section);h=Yl(h,f),h.text=[];var m=hee(f,t,n);f.text.length>m&&(h.text=f.text.splice(m,f.text.length));var v=n.scaleFactor(),p=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(v,p),f.contentHeight>=t&&(f.contentHeight=t,h.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),h.contentHeight=h.getContentHeight(v,p),h.contentHeight>i&&(i=h.contentHeight),s[u.index]=h}}var w=new RL(e.raw,-1,e.section,s,!0);w.height=i;for(var x=0,y=r.columns;x<y.length;x++){var u=y[x],h=w.cells[u.index];h&&(h.height=w.height);var f=e.cells[u.index];f&&(f.height=e.height)}return w}function pee(e,t,r,n){var s=e.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=s-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=t.getMinimumRowHeight(n.columns,e),f=u<r;if(u>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=t.hasRowSpan(n.columns),m=t.getMaxCellHeight(n.columns)>l;return m?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Kp(e,t,r,n,s,i,o){var l=DL(e,t,n,i);if(r.canEntireRowFit(l,o))rc(e,t,r,i,o);else if(pee(e,r,l,t)){var u=mee(r,l,t,e);rc(e,t,r,i,o),Ih(e,t,s,i,o),Kp(e,t,u,n,s,i,o)}else Ih(e,t,s,i,o),Kp(e,t,r,n,s,i,o)}function rc(e,t,r,n,s){n.x=t.settings.margin.left;for(var i=0,o=s;i<o.length;i++){var l=o[i],u=r.cells[l.index];if(!u){n.x+=l.width;continue}e.applyStyles(u.styles),u.x=n.x,u.y=n.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,u,r,l,n);if(f===!1){n.x+=l.width;continue}gee(e,u,n);var h=u.getTextPos();SL(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,r,l,n),n.x+=l.width}n.y+=r.height}function gee(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=CL(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),vee(e,t,r,n.lineWidth))}function vee(e,t,r,n){var s,i,o,l;n.top&&(s=r.x,i=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(s-=.5*n.left),u(n.top,s,i,o,l)),n.bottom&&(s=r.x,i=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(s-=.5*n.left),u(n.bottom,s,i,o,l)),n.left&&(s=r.x,i=r.y,o=r.x,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),u(n.left,s,i,o,l)),n.right&&(s=r.x+t.width,i=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),u(n.right,s,i,o,l));function u(f,h,m,v,p){e.getDocument().setLineWidth(f),e.getDocument().line(h,m,v,p,"S")}}function DL(e,t,r,n){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function Ih(e,t,r,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return rc(e,t,l,n,s)}),t.callEndPageHooks(e,n);var o=t.settings.margin;AL(e,t,r,n),FL(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return rc(e,t,l,n,s)}),e.applyStyles(e.userStyles))}function FL(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function xee(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],s=OL(this,n),i=ML(this,s);return IL(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,s){SL(t,r,n,s,this)},e.API.autoTableSetDefaults=function(t){return Gd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Gd.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Gd(this),i=LL(s,t,window,r,!1),o=i.head,l=i.body,u=((n=o[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:u,rows:l,data:l}}}var hb;function o8(e,t){var r=OL(e,t),n=ML(e,r);IL(e,n)}try{if(typeof window<"u"&&window){var l8=window,c8=l8.jsPDF||((hb=l8.jspdf)===null||hb===void 0?void 0:hb.jsPDF);c8&&xee(c8)}}catch(e){console.error("Could not apply autoTable plugin",e)}function yee(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState("quick"),[s,i]=L.useState("csv"),[o,l]=L.useState("all"),[u,f]=L.useState({users:!0,courses:!0,evaluations:!0,analytics:!0,auditLogs:!1}),[h,m]=L.useState(!1),[v,p]=L.useState(""),[w,x]=L.useState("csv"),[y,j]=L.useState({userRole:"all",userProgram:"all",userStatus:"all",evalDateRange:"all",evalProgram:"all",evalSemester:"all",evalInstructor:"all",courseProgram:"all",courseStatus:"all",courseYearLevel:"all",analyticsReportType:"summary",analyticsDateRange:"semester",auditDateRange:"all",auditAction:"all",auditUser:"all",auditCategory:"all",auditSeverity:"all"}),[A,N]=L.useState(!1),[k,C]=L.useState({title:"",message:"",type:"info"}),T=(Q,pe="Notification",ce="info")=>{C({title:pe,message:Q,type:ce}),N(!0)},[F,M]=L.useState([]),[q,G]=L.useState(!0),[R,D]=L.useState(null),[z,W]=L.useState(!1),[Z,le]=L.useState({users:{total:0,active:0},courses:{total:0},evaluations:{total:0}}),[ge,te]=L.useState([]),[ue,H]=L.useState([]);L.useEffect(()=>{(!t||!Qi(t))&&e("/admin/dashboard")},[t,e]),L.useEffect(()=>{(async()=>{try{G(!0);const pe=await rt.getExportHistory(),ce=pe?.data||pe;M(ce?.exports||[])}catch(pe){D(pe.message)}finally{G(!1)}})()},[]),L.useEffect(()=>{(async()=>{try{const pe=await rt.getDashboardStats(),ce=pe.data||pe;le({users:{total:ce.totalUsers||0,active:ce.activeUsers||0},courses:{total:ce.totalCourses||0},evaluations:{total:ce.totalEvaluations||0}})}catch(pe){console.error("Failed to fetch dashboard stats:",pe)}})()},[]),L.useEffect(()=>{(async()=>{try{const pe=await rt.getPrograms();te(pe?.data||[])}catch(pe){console.error("Failed to fetch programs:",pe)}})()},[]),L.useEffect(()=>{(async()=>{try{const pe=await rt.getPeriods();H(pe?.data||[])}catch(pe){console.error("Failed to fetch evaluation periods:",pe)}})()},[]);const ae=Q=>{p(Q),x("csv"),j({userRole:"all",userProgram:"all",userStatus:"all",evalDateRange:"all",evalProgram:"all",evalPeriod:"all",courseProgram:"all",courseYearLevel:"all",analyticsReportType:"summary",analyticsDateRange:"semester",auditDateRange:"all",auditAction:"all",auditUser:"all",auditCategory:"all",auditSeverity:"all"}),m(!0)},U=async()=>{try{W(!0);let Q;const pe=new Date().toISOString().split("T")[0],me={format:w==="excel"||w==="pdf"?w==="excel"?"csv":"json":w};v==="All Users"?(y.userRole!=="all"&&(me.role=y.userRole),y.userProgram!=="all"&&(me.program=y.userProgram),y.userStatus!=="all"&&(me.status=y.userStatus),Q=await rt.exportUsers(me),B(Q,`users_export_${pe}.${w}`,w)):v==="All Evaluations"?(y.evalDateRange!=="all"&&(me.dateRange=y.evalDateRange),y.evalProgram!=="all"&&(me.program=y.evalProgram),y.evalPeriod!=="all"&&(me.period_id=y.evalPeriod),Q=await rt.exportEvaluations(me),B(Q,`evaluations_export_${pe}.${w}`,w)):v==="All Courses"?(y.courseProgram!=="all"&&(me.program=y.courseProgram),y.courseStatus!=="all"&&(me.status=y.courseStatus),y.courseYearLevel!=="all"&&(me.year_level=y.courseYearLevel),Q=await rt.exportCourses(me),B(Q,`courses_export_${pe}.${w}`,w)):v==="Audit Logs"?(y.auditDateRange!=="all"&&(me.dateRange=y.auditDateRange),y.auditAction!=="all"&&(me.action=y.auditAction),y.auditUser!=="all"&&(me.user=y.auditUser),y.auditCategory!=="all"&&(me.category=y.auditCategory),y.auditSeverity!=="all"&&(me.severity=y.auditSeverity),Q=await rt.exportAuditLogs(me),B(Q,`audit_logs_export_${pe}.${w}`,w)):v==="Full System"&&(Q=await rt.exportFullSystem(me),B(Q,`full_system_export_${pe}.${w}`,w)),m(!1),T(`${v} exported successfully!`,"Export Complete","success"),setTimeout(async()=>{try{const _e=await rt.getExportHistory(),se=_e?.data||_e;M(se?.exports||[])}catch(_e){console.error("Could not refresh export history:",_e)}},500)}catch(Q){console.error("Export error:",Q);let pe="Unknown error occurred";Q?.response?.data?.detail?pe=Q.response.data.detail:Q?.message?pe=Q.message:typeof Q=="string"?pe=Q:Q?.detail&&(pe=Q.detail),T(pe,"Export Failed","error")}finally{W(!1)}},B=(Q,pe,ce)=>{let me;const _e=Q?.data||Q;if(console.log("downloadData called with format:",ce),console.log("Data structure:",Array.isArray(_e)?`Array with ${_e.length} items`:typeof _e),Array.isArray(_e)&&_e.length===0){T("No data found matching the selected filters. Please adjust your filters and try again.","No Data Found","warning");return}if(!_e){T("No data received from server.","Export Failed","error");return}if(ce==="json"){const fe=JSON.stringify(_e,null,2);me=new Blob([fe],{type:"application/json"})}else if(ce==="csv"){const fe=Y(_e);me=new Blob([fe],{type:"text/csv"})}else if(ce==="excel"){const fe=Y(_e);me=new Blob([fe],{type:"text/csv"}),pe=pe.replace(".excel",".csv"),console.log("Note: Exporting as CSV format (Excel compatible)")}else if(ce==="pdf"){ne(_e,pe);return}else{const fe=JSON.stringify(_e,null,2);me=new Blob([fe],{type:"application/json"})}const se=window.URL.createObjectURL(me),ye=document.createElement("a");ye.href=se,ye.download=pe,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),window.URL.revokeObjectURL(se)},Y=Q=>{if(typeof Q=="object"&&!Array.isArray(Q)&&Q!==null&&Object.values(Q).some(se=>Array.isArray(se))){let se="";return Object.entries(Q).forEach(([ye,fe])=>{if(Array.isArray(fe)&&fe.length>0){se+=`
${ye.toUpperCase()}
`;const V=Object.keys(fe[0]);se+=V.join(",")+`
`,fe.forEach(Re=>{const Je=V.map(nt=>{const ze=Re[nt];if(ze==null)return"";const je=String(ze);return je.includes(",")||je.includes('"')||je.includes(`
`)?`"${je.replace(/"/g,'""')}"`:je}).join(",");se+=Je+`
`})}}),se}if(!Array.isArray(Q)||Q.length===0)return"";const pe=Object.keys(Q[0]),ce=pe.join(","),me=Q.map(_e=>pe.map(se=>{const ye=_e[se];if(ye==null)return"";const fe=String(ye);return fe.includes(",")||fe.includes('"')||fe.includes(`
`)?`"${fe.replace(/"/g,'""')}"`:fe}).join(","));return[ce,...me].join(`
`)},ne=(Q,pe)=>{console.log("generatePDF called with filename:",pe),console.log("Data type:",Array.isArray(Q)?"Array":typeof Q),console.log("Data length:",Array.isArray(Q)?Q.length:"N/A");try{const ce=new Qt,me=pe.replace(".pdf","").replace(/_/g," ").toUpperCase();if(ce.setFontSize(16),ce.text(me,14,20),ce.setFontSize(10),ce.text(`Generated: ${new Date().toLocaleString()}`,14,28),typeof Q=="object"&&!Array.isArray(Q)&&Q!==null&&Object.values(Q).some(se=>Array.isArray(se))){let se=40,ye=0;Object.entries(Q).forEach(([fe,V])=>{if(Array.isArray(V)&&V.length>0){ye+=V.length,se>250&&(ce.addPage(),se=20),ce.setFontSize(12),ce.setFont(void 0,"bold"),ce.text(fe.toUpperCase(),14,se),ce.setFont(void 0,"normal"),se+=10;const Re=Object.keys(V[0]),Je=V.map(nt=>Re.map(ze=>{const je=nt[ze];return je==null?"":typeof je=="object"?JSON.stringify(je):String(je)}));o8(ce,{head:[Re],body:Je,startY:se,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:10}}),se=ce.lastAutoTable.finalY+15}}),ce.setFontSize(10),ce.text(`Total Records: ${ye}`,14,34)}else if(Array.isArray(Q)&&Q.length>0){ce.text(`Total Records: ${Q.length}`,14,34);const se=Object.keys(Q[0]),ye=Q.map(fe=>se.map(V=>{const Re=fe[V];return Re==null?"":typeof Re=="object"?JSON.stringify(Re):String(Re)}));o8(ce,{head:[se],body:ye,startY:40,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:40}})}else if(typeof Q=="object"&&Q!==null){let se=40;ce.setFontSize(10);const ye=(fe,V=0)=>{Object.entries(fe).forEach(([Re,Je])=>{se>270&&(ce.addPage(),se=20);const nt=14+V*10;typeof Je=="object"&&Je!==null&&!Array.isArray(Je)?(ce.setFont(void 0,"bold"),ce.text(`${Re}:`,nt,se),ce.setFont(void 0,"normal"),se+=6,ye(Je,V+1)):(ce.text(`${Re}: ${String(Je)}`,nt,se),se+=6)})};ye(Q)}else ce.text("No data available",14,40);ce.save(pe),console.log("PDF generated successfully")}catch(ce){console.error("Error generating PDF:",ce);const me=JSON.stringify(Q,null,2),_e=new Blob([me],{type:"application/json"}),se=window.URL.createObjectURL(_e),ye=document.createElement("a");ye.href=se,ye.download=pe.replace(".pdf",".json"),document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),window.URL.revokeObjectURL(se),T("PDF generation failed. Downloaded as JSON instead.","PDF Generation Failed","warning")}},he=Q=>{T(`Downloading ${Q.filename}...`,"Download Started","info")};return!t||!Qi(t)?null:q?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading export center..."})]})}):R?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:a.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md",children:a.jsxs("div",{className:"text-red-600 text-center",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Error Loading Export Center"}),a.jsx("p",{className:"text-gray-600 mb-4",children:R}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:"Retry"})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl",children:"Data Export Center"}),a.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Export system data in multiple formats"})]})]})})})}),a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[a.jsxs("div",{className:"bg-white rounded-card shadow-card mb-12 p-2 grid grid-cols-2 gap-2",children:[a.jsx("button",{onClick:()=>n("quick"),className:`py-3 px-4 rounded-lg font-semibold transition-all ${r==="quick"?"bg-gradient-to-r from-red-700 to-red-900 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Quick Export"}),a.jsx("button",{onClick:()=>n("history"),className:`py-3 px-4 rounded-lg font-semibold transition-all ${r==="history"?"bg-gradient-to-r from-red-700 to-red-900 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Export History"})]}),r==="quick"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-red-50 border border-yellow-200 rounded-card p-4 mb-12",children:[a.jsx("p",{className:"text-sm text-red-900 font-semibold mb-1",children:" Quick Export Options"}),a.jsx("p",{className:"text-sm text-red-700",children:"Export commonly requested data sets with one click."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-5 lg:gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-yellow-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-xl flex items-center justify-center mr-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"All Users"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Z.users.total," total users"]})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export complete user database including students, heads, and administrators."}),a.jsx("button",{onClick:()=>ae("All Users"),className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-5 rounded-button transition-all duration-250 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:z,children:z?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a.jsx("span",{children:"Exporting..."})]}):a.jsx("span",{children:"Export Users "})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-yellow-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-xl flex items-center justify-center mr-4",children:a.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"All Courses"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Z.courses.total," courses"]})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export all course data including instructors, programs, and enrollment info."}),a.jsx("button",{onClick:()=>ae("All Courses"),className:"w-full bg-yellow-600 hover:bg-amber-700 text-white font-semibold py-3 px-5 rounded-button transition-all duration-250",children:"Export Courses "})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-yellow-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-xl flex items-center justify-center mr-4",children:a.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"All Evaluations"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Z.evaluations.total," evaluations"]})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export all evaluation responses with ratings and comments."}),a.jsx("button",{onClick:()=>ae("All Evaluations"),className:"w-full bg-yellow-600 hover:bg-amber-700 text-white font-semibold py-3 px-5 rounded-button transition-all duration-250",children:"Export Evaluations "})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-red-500",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-xl flex items-center justify-center mr-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Audit Logs"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Security & activity logs"})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export system audit logs for compliance and security review."}),a.jsx("button",{onClick:()=>ae("Audit Logs"),className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-5 rounded-button transition-all duration-250",children:"Export Logs "})]})]})]}),!1,r==="history"&&a.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" Export History"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and download previous exports"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Filename"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Format"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Size"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:F.map(Q=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:Q.filename}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Q.type}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded",children:Q.format})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Q.size}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(Q.date).toLocaleString()}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:Q.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex items-center justify-center space-x-2",children:a.jsx("button",{onClick:()=>he(Q),className:"p-2 bg-yellow-100 hover:bg-amber-200 text-yellow-600 rounded-lg transition-all",title:"Download",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})})})]},Q.id))})]})})]})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 rounded-t-2xl flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white",children:[" Configure Export: ",v]}),a.jsx("p",{className:"text-red-100 mt-1",children:"Select format and apply filters"})]}),a.jsx("button",{onClick:()=>m(!1),className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Export Format *"}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:["csv","excel","json","pdf"].map(Q=>a.jsx("button",{type:"button",onClick:()=>x(Q),className:`p-4 rounded-lg border-2 transition-all ${w===Q?"border-yellow-600 bg-red-50 shadow-md":"border-gray-300 hover:border-yellow-300"}`,children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("svg",{className:`w-8 h-8 ${w===Q?"text-red-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:`text-sm font-semibold uppercase ${w===Q?"text-red-600":"text-gray-600"}`,children:Q})]})},Q))})]}),v==="All Users"&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4 overflow-visible",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"User Filters"]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 overflow-visible",children:[a.jsx(ht,{label:"Role",value:y.userRole,onChange:Q=>j({...y,userRole:Q}),options:[{value:"all",label:"All Roles"},{value:"student",label:"Students"},{value:"secretary",label:"Secretaries"},{value:"department_head",label:"Department Heads"},{value:"admin",label:"Admins"}]}),a.jsx(ht,{label:"Program",value:y.userProgram,onChange:Q=>j({...y,userProgram:Q}),searchable:ge.length>5,options:[{value:"all",label:"All Programs"},...ge.map(Q=>({value:Q.code,label:`${Q.code} - ${Q.name}`}))]}),a.jsx(ht,{label:"Status",value:y.userStatus,onChange:Q=>j({...y,userStatus:Q}),options:[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]})]})]}),v==="All Evaluations"&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4 overflow-visible",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Evaluation Filters"]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 overflow-visible",children:[a.jsx(ht,{label:"Date Range",value:y.evalDateRange,onChange:Q=>j({...y,evalDateRange:Q}),options:[{value:"all",label:"All Time"},{value:"current_semester",label:"Current Semester"},{value:"last_semester",label:"Last Semester"},{value:"current_year",label:"Current Year"},{value:"last_30_days",label:"Last 30 Days"}]}),a.jsx(ht,{label:"Program",value:y.evalProgram,onChange:Q=>j({...y,evalProgram:Q}),searchable:ge.length>5,options:[{value:"all",label:"All Programs"},...ge.map(Q=>({value:Q.code,label:`${Q.code} - ${Q.name}`}))]}),a.jsx(ht,{label:"Evaluation Period",value:y.evalPeriod,onChange:Q=>j({...y,evalPeriod:Q}),searchable:ue.length>5,options:[{value:"all",label:"All Periods"},...ue.map(Q=>({value:Q.id,label:`${Q.name} (${Q.academic_year}, ${Q.semester===1?"First":Q.semester===2?"Second":"Summer"} Semester) - ${Q.status}`}))]})]})]}),v==="All Courses"&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4 overflow-visible",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Course Filters"]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 overflow-visible",children:[a.jsx(ht,{label:"Program",value:y.courseProgram,onChange:Q=>j({...y,courseProgram:Q}),searchable:ge.length>5,options:[{value:"all",label:"All Programs"},...ge.map(Q=>({value:Q.code,label:`${Q.code} - ${Q.name}`}))]}),a.jsx(ht,{label:"Status",value:y.courseStatus,onChange:Q=>j({...y,courseStatus:Q}),options:[{value:"all",label:"All Status"},{value:"Active",label:"Active"},{value:"Archived",label:"Archived"}]}),a.jsx(ht,{label:"Year Level",value:y.courseYearLevel,onChange:Q=>j({...y,courseYearLevel:Q}),options:[{value:"all",label:"All Years"},{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"}]})]})]}),v==="Audit Logs"&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4 overflow-visible",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Audit Log Filters"]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 overflow-visible",children:[a.jsx(ht,{label:"Date Range",value:y.auditDateRange,onChange:Q=>j({...y,auditDateRange:Q}),options:[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"last_7_days",label:"Last 7 Days"},{value:"last_30_days",label:"Last 30 Days"},{value:"current_month",label:"Current Month"},{value:"last_month",label:"Last Month"}]}),a.jsx(ht,{label:"Action Type",value:y.auditAction,onChange:Q=>j({...y,auditAction:Q}),searchable:!0,options:[{value:"all",label:"All Actions"},{value:"LOGIN",label:" Login"},{value:"LOGOUT",label:" Logout"},{value:"LOGIN_FAILED",label:" Login Failed"},{value:"PASSWORD_RESET",label:" Password Reset"},{value:"PASSWORD_CHANGED",label:" Password Changed"},{value:"CREATE_USER",label:" Create User"},{value:"UPDATE_USER",label:" Update User"},{value:"DELETE_USER",label:" Delete User"},{value:"USER_ACTIVATED",label:" User Activated"},{value:"USER_DEACTIVATED",label:" User Deactivated"},{value:"CREATE_COURSE",label:" Create Course"},{value:"UPDATE_COURSE",label:" Update Course"},{value:"DELETE_COURSE",label:" Delete Course"},{value:"CREATE_SECTION",label:" Create Section"},{value:"UPDATE_SECTION",label:" Update Section"},{value:"DELETE_SECTION",label:" Delete Section"},{value:"ENROLL_STUDENTS",label:" Enroll Students"},{value:"SUBMIT_EVALUATION",label:" Submit Evaluation"},{value:"CREATE_PERIOD",label:" Create Period"},{value:"UPDATE_PERIOD",label:" Update Period"},{value:"EXPORT_DATA",label:" Export Data"},{value:"IMPORT_DATA",label:" Import Data"},{value:"SETTINGS_UPDATED",label:" Settings Updated"}]}),a.jsx(ht,{label:"Severity",value:y.auditSeverity,onChange:Q=>j({...y,auditSeverity:Q}),options:[{value:"all",label:"All Severities"},{value:"Info",label:"Info"},{value:"Warning",label:"Warning"},{value:"Critical",label:"Critical"}]})]})]}),a.jsx("div",{className:"bg-red-50 border-2 border-yellow-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-red-900",children:"Export Information"}),a.jsxs("p",{className:"text-sm text-red-800 mt-1",children:["Format: ",a.jsx("span",{className:"font-semibold uppercase",children:w})," | Type: ",a.jsx("span",{className:"font-semibold",children:v}),v==="All Users"&&y.userRole!=="all"&&` | Role: ${y.userRole}`,v==="All Courses"&&y.courseStatus!=="all"&&` | Status: ${y.courseStatus}`]})]})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),disabled:z,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),a.jsx("button",{type:"button",onClick:U,disabled:z,className:"px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:z?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Exporting..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),a.jsx("span",{children:"Export Data"})]})})]})]})]})}),a.jsx(ec,{isOpen:A,onClose:()=>N(!1),title:k.title,message:k.message,variant:k.type==="error"?"danger":k.type})]})}function bee(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState("send"),[s,i]=L.useState("test"),[o,l]=L.useState(""),[u,f]=L.useState(""),[h,m]=L.useState(""),[v,p]=L.useState(!1),[w,x]=L.useState(null),[y,j]=L.useState(null),[A,N]=L.useState(!1),[k,C]=L.useState({title:"",message:"",type:"info"}),[T,F]=L.useState(!1),[M,q]=L.useState({title:"",message:"",onConfirm:()=>{},confirmText:"Confirm",cancelText:"Cancel"}),{data:G,loading:R,error:D,retry:z}=tu(async()=>{const[ue,H]=await Promise.all([rt.getEvaluationPeriods(),rt.getEmailConfigStatus()]);return{periods:ue?.data||[],config:H?.data||null}},[t?.id]);L.useEffect(()=>{if(G){j(G.config);const ue=G.periods.find(H=>H.status==="active");ue&&l(ue.id.toString())}},[G]);const W=(ue,H="Notification",ae="info")=>{C({title:H,message:ue,type:ae}),N(!0)},Z=(ue,H,ae="Confirm Action",U="Confirm",B="Cancel")=>{q({title:ae,message:ue,onConfirm:H,confirmText:U,cancelText:B}),F(!0)};L.useEffect(()=>{t&&!Qi(t)&&e("/admin/dashboard")},[t,e]);const le=async ue=>{if(ue.preventDefault(),s==="test"){if(!u){W("Please enter a test email address","Validation Error","warning");return}}else if(!o){W("Please select an evaluation period","Validation Error","warning");return}Z(`Send ${s} notification(s)?`,async()=>{try{p(!0);const H=h.trim()?h.split(",").map(U=>U.trim()).filter(Boolean):null,ae=await rt.sendEmailNotification({notification_type:s,period_id:o?parseInt(o):null,recipient_emails:H,test_email:u||null});x(ae),W(ae.message||"Notification sent successfully","Success","success"),s==="test"&&f("")}catch(H){W(H.message,"Failed to Send Notification","error"),x({success:!1,error:H.message})}finally{p(!1)}},"Send Notification","Send","Cancel")};if(!t||!Qi(t))return null;if(R)return a.jsx(ko,{message:"Loading email settings..."});if(D)return a.jsx(ru,{error:D,onRetry:z});const ge=G?.periods||[],te=y?.enabled;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl",children:" Email Notifications"}),a.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Send automated notifications to students"})]})]})})})}),a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[a.jsx("div",{className:"mb-12 p-8 lg:p-10 rounded-card shadow-card bg-yellow-50 border-2 border-yellow-200",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-yellow-900",children:te?" Email Service Configured":" Email Service Not Configured"}),te?a.jsxs("div",{className:"mt-2 text-sm text-yellow-800",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"SMTP Server:"})," ",y.smtp_server,":",y.smtp_port]}),a.jsxs("p",{children:[a.jsx("strong",{children:"From:"})," ",y.from_name," <",y.from_email,">"]})]}):a.jsxs("div",{className:"mt-2 text-sm text-yellow-800",children:[a.jsx("p",{children:"Email notifications are disabled. Configure SMTP settings in the .env file:"}),a.jsx("pre",{className:"mt-2 p-3 bg-yellow-100 rounded text-xs overflow-x-auto",children:`EMAIL_ENABLED=true
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=your-email@gmail.com`})]})]})})}),a.jsxs("div",{className:"bg-white rounded-card shadow-card hover:shadow-card-hover transition-all duration-250 mb-12 p-2 flex space-x-2",children:[a.jsx("button",{onClick:()=>n("send"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="send"?"bg-yellow-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Send Notifications"}),a.jsx("button",{onClick:()=>n("history"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="history"?"bg-yellow-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Notification History"})]}),r==="send"&&a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 overflow-visible",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send Email Notifications"}),a.jsxs("form",{onSubmit:le,className:"space-y-6",children:[a.jsx(ht,{label:"Notification Type *",value:s,onChange:ue=>i(ue),required:!0,options:[{value:"test",label:" Test Email"},{value:"period_start",label:" Evaluation Period Started"}]}),s==="test"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Test Email Address *"}),a.jsx("input",{type:"email",value:u,onChange:ue=>f(ue.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"your-email@example.com",required:s==="test"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"A test email will be sent to verify your email configuration."})]}),s!=="test"&&a.jsx(ht,{label:"Evaluation Period *",value:o,onChange:ue=>l(ue),required:s!=="test",options:[{value:"",label:"Select Period..."},...ge.map(ue=>({value:ue.id.toString(),label:`${ue.name} (${ue.status})`}))]}),s!=="test"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Custom Recipients (Optional)"}),a.jsx("textarea",{value:h,onChange:ue=>m(ue.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",rows:"3",placeholder:"student1@example.com, student2@example.com"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Leave empty to send to all active students. Enter comma-separated emails for specific recipients."})]}),a.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:" Notification Preview:"}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[s==="test"&&a.jsxs("p",{children:[" Test email will be sent to: ",a.jsx("strong",{children:u||"Not specified"})]}),s==="period_start"&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[" Subject: ",a.jsx("strong",{children:" Evaluation Period Started"})]}),a.jsx("p",{children:" Content: Period details, course count, evaluation instructions"}),a.jsx("p",{children:" Call-to-action: Link to student dashboard"})]}),s!=="test"&&a.jsxs("p",{className:"mt-2",children:[" Recipients: ",h.trim()?"Custom list":"All active students"]})]})]}),w&&a.jsxs("div",{className:`p-4 rounded-lg ${w.success?"bg-yellow-50 border-2 border-yellow-200":"bg-red-50 border-2 border-red-200"}`,children:[a.jsx("h3",{className:`font-bold ${w.success?"text-yellow-900":"text-red-900"}`,children:w.success?" Success":" Failed"}),a.jsx("p",{className:`text-sm mt-1 ${w.success?"text-yellow-800":"text-red-800"}`,children:w.message}),w.sent_count!==void 0&&a.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[a.jsxs("p",{children:[" Sent: ",w.sent_count]}),w.failed_count>0&&a.jsxs("p",{children:[" Failed: ",w.failed_count]}),a.jsxs("p",{children:[" Total Recipients: ",w.total_recipients]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>e("/admin/dashboard"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-button hover:bg-gray-50 font-semibold transition-all duration-250",disabled:v,children:"Cancel"}),a.jsx("button",{type:"submit",disabled:v||!te,className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-button font-semibold transition-all duration-250 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a.jsx("span",{children:"Sending..."})]}):a.jsx("span",{children:" Send Notification"})})]})]})]}),r==="history"&&a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notification History"}),a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-lg font-semibold",children:"Notification history coming soon"}),a.jsx("p",{className:"text-sm mt-2",children:"Check audit logs for email notification records"})]})]})]}),a.jsx(ec,{isOpen:A,onClose:()=>N(!1),title:k.title,message:k.message,variant:k.type==="error"?"danger":k.type}),a.jsx(E0,{isOpen:T,onClose:()=>F(!1),onConfirm:()=>{M.onConfirm(),F(!1)},title:M.title,message:M.message,confirmText:M.confirmText,cancelText:M.cancelText,variant:"info"})]})}function wee(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState("overview"),[s,i]=L.useState(null),[o,l]=L.useState(null),[u,f]=L.useState(null),[h,m]=L.useState(null),[v,p]=L.useState([]),[w,x]=L.useState(null),[y,j]=L.useState(""),[A,N]=L.useState(""),[k,C]=L.useState(!0),[T,F]=L.useState(""),[M,q]=L.useState(""),[G,R]=L.useState(!1),[D,z]=L.useState(!0),[W,Z]=L.useState(""),[le,ge]=L.useState(!0),[te,ue]=L.useState([]),[H,ae]=L.useState(!1),[U,B]=L.useState(null),[Y,ne]=L.useState(!1),[he,Q]=L.useState(null);L.useEffect(()=>{(!t||!un(t))&&e("/dashboard")},[t,e]),L.useEffect(()=>{pe(),ce(),r==="rollback"&&me()},[r]);const pe=async()=>{try{ne(!0);const V=await rt.getAdvancementEligibility();i(V.data)}catch(V){console.error("Error fetching eligibility:",V),Q(V.message)}finally{ne(!1)}},ce=async()=>{try{const V=await rt.getEvaluationPeriods();ue(V.data||[])}catch(V){console.error("Error fetching periods:",V)}},me=async()=>{try{ne(!0);const V=await rt.getAdvancementSnapshots(20);p(V.data?.snapshots||[])}catch(V){console.error("Error fetching snapshots:",V),Q(V.message)}finally{ne(!1)}},_e=async(V=!1)=>{if(!k&&!V){B("advance"),ae(!0);return}try{ne(!0),Q(null),f(null);const Re={dry_run:k};y&&(Re.program_id=parseInt(y)),A&&(Re.current_year_level=parseInt(A));const Je=await rt.advanceStudents(Re);f(Je.data),k||await pe()}catch(Re){console.error("Error advancing students:",Re),Q(Re.message)}finally{ne(!1),ae(!1)}},se=async(V=!1)=>{if(!D&&!V){B("transition"),ae(!0);return}try{ne(!0),Q(null),m(null);const Re={from_period_id:parseInt(T),to_period_id:parseInt(M),auto_advance_year:G,dry_run:D},Je=await rt.transitionEnrollments(Re);m(Je.data),!D&&G&&await pe()}catch(Re){console.error("Error transitioning enrollments:",Re),Q(Re.message)}finally{ne(!1),ae(!1)}},ye=async(V=!1)=>{if(!le&&!V){B("rollback"),ae(!0);return}try{ne(!0),Q(null),x(null);const Re={snapshot_id:W?parseInt(W):null,dry_run:le},Je=await rt.rollbackAdvancement(Re);x(Je.data),le||(await pe(),await me())}catch(Re){console.error("Error rolling back advancement:",Re),Q(Re.message)}finally{ne(!1),ae(!1)}},fe=()=>{U==="advance"?(C(!1),_e(!0)):U==="transition"?(z(!1),se(!0)):U==="rollback"&&(ge(!1),ye(!0))};return Y&&!s?a.jsx(ko,{message:"Loading student management..."}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:a.jsxs("div",{className:"flex items-center space-x-5",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Student Year Level Management"}),a.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:"Advancement & Enrollment Transitions"})]})]})})})}),a.jsxs("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[a.jsxs("div",{className:"mb-8 flex space-x-2 bg-white rounded-xl p-2 shadow-sm",children:[a.jsx("button",{onClick:()=>n("overview"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="overview"?"bg-[#7a0000] text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:" Overview"}),a.jsx("button",{onClick:()=>n("advance"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="advance"?"bg-[#7a0000] text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:" Year Advancement"}),a.jsx("button",{onClick:()=>n("transition"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="transition"?"bg-[#7a0000] text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:" Enrollment Transition"}),a.jsx("button",{onClick:()=>n("rollback"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="rollback"?"bg-[#7a0000] text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:" Rollback/Undo"})]}),he&&a.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start space-x-3",children:[a.jsx("svg",{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-red-800 font-semibold",children:"Error"}),a.jsx("p",{className:"text-red-600 text-sm mt-1",children:he})]}),a.jsx("button",{onClick:()=>Q(null),className:"ml-auto text-red-400 hover:text-red-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),r==="overview"&&s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-xl shadow-lg p-8 text-white",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Advancement Eligibility Summary"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg p-6",children:[a.jsx("p",{className:"text-white/80 text-sm font-medium mb-2",children:"Total Eligible Students"}),a.jsx("p",{className:"text-5xl font-bold",children:s.total_eligible})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg p-6",children:[a.jsx("p",{className:"text-white/80 text-sm font-medium mb-2",children:"Year 1  Year 2"}),a.jsx("p",{className:"text-5xl font-bold",children:s.by_year_level?.["1"]||0})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg p-6",children:[a.jsx("p",{className:"text-white/80 text-sm font-medium mb-2",children:"Year 2  Year 3"}),a.jsx("p",{className:"text-5xl font-bold",children:s.by_year_level?.["2"]||0})]})]}),a.jsxs("div",{className:"mt-4 bg-white/20 rounded-lg p-6 inline-block",children:[a.jsx("p",{className:"text-white/80 text-sm font-medium mb-2",children:"Year 3  Year 4"}),a.jsx("p",{className:"text-5xl font-bold",children:s.by_year_level?.["3"]||0})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:" By Program"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(s.by_program||{}).map(([V,Re])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsx("h4",{className:"font-bold text-[#7a0000] text-lg mb-3",children:V}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:Re.program_name}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Year 1:"}),a.jsx("span",{className:"font-semibold",children:Re.year_1||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Year 2:"}),a.jsx("span",{className:"font-semibold",children:Re.year_2||0})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Year 3:"}),a.jsx("span",{className:"font-semibold",children:Re.year_3||0})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[a.jsx("span",{className:"text-gray-800 font-medium",children:"Total Eligible:"}),a.jsx("span",{className:"font-bold text-[#7a0000]",children:Re.total})]})]})]},V))})]})]}),r==="advance"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 overflow-visible relative z-30",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Advance Students to Next Year Level"}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:" How it works:"})," This will advance students from Year 12, Year 23, or Year 34. Year 4 students are not advanced (they graduate). Use dry run mode first to preview changes!"]})}),a.jsxs("div",{className:"space-y-6 overflow-visible",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 overflow-visible",children:[a.jsx(ht,{label:"Filter by Program (Optional)",value:y,onChange:V=>j(V),options:[{value:"",label:"All Programs"},...Object.entries(s?.by_program||{}).map(([V,Re])=>({value:Re.program_id.toString(),label:`${V} - ${Re.program_name}`}))],searchable:!0}),a.jsx(ht,{label:"Filter by Current Year Level (Optional)",value:A,onChange:V=>N(V),options:[{value:"",label:"All Year Levels"},{value:"1",label:"Year 1 only"},{value:"2",label:"Year 2 only"},{value:"3",label:"Year 3 only"}]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("input",{type:"checkbox",id:"dryRun",checked:k,onChange:V=>C(V.target.checked),className:"w-5 h-5 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"}),a.jsx("label",{htmlFor:"dryRun",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:" Dry Run Mode (Preview Only - Recommended)"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>_e(),disabled:Y,className:"flex-1 bg-[#7a0000] text-white py-4 px-6 rounded-lg font-semibold hover:bg-[#9a1000] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:Y?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Processing..."})]}):a.jsx(a.Fragment,{children:a.jsx("span",{children:k?" Preview Advancement":" Execute Advancement"})})}),a.jsx("button",{onClick:()=>{j(""),N(""),C(!0),f(null),Q(null)},className:"px-6 py-4 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:" Reset"})]})]}),u&&a.jsxs("div",{className:`mt-8 rounded-lg p-6 ${u.dry_run?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:[a.jsx("h3",{className:`text-lg font-bold mb-4 ${u.dry_run?"text-blue-800":"text-green-800"}`,children:u.dry_run?" Preview Results":" Advancement Complete!"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-lg p-4",children:a.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[u.students_advanced," students ",u.dry_run?"would be":"were"," advanced"]})}),u.advancement_plan&&Object.entries(u.advancement_plan).map(([V,Re])=>a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold text-gray-800 mb-2",children:["Year ",Re.from_year,"  Year ",Re.to_year,": ",Re.students.length," students"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[Re.students.slice(0,5).map((Je,nt)=>a.jsxs("div",{className:"py-1",children:[" ",Je.student_number," - ",Je.name," (",Je.program,")"]},nt)),Re.students.length>5&&a.jsxs("div",{className:"py-1 text-gray-500",children:["... and ",Re.students.length-5," more"]})]})]},V)),u.dry_run?a.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:a.jsx("p",{className:"text-yellow-800 text-sm font-semibold",children:' This was a preview. Uncheck "Dry Run Mode" and click "Execute Advancement" to apply changes.'})}):u.snapshot_id&&a.jsxs("div",{className:"bg-green-50 border border-green-300 rounded-lg p-4",children:[a.jsxs("p",{className:"text-green-800 text-sm font-semibold mb-2",children:[" Snapshot Created: #",u.snapshot_id]}),a.jsxs("p",{className:"text-green-700 text-xs",children:['If you need to undo this advancement, go to the "Rollback/Undo" tab and select snapshot #',u.snapshot_id,"."]})]})]})]})]})}),r==="transition"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 overflow-visible relative z-30",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Transition Enrollments to New Period"}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:" How it works:"}),' This copies student enrollments from one evaluation period to another. Check "Advance Year Level" if transitioning from 3rd semester to 1st semester (new academic year).']})}),a.jsxs("div",{className:"space-y-6 overflow-visible",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 overflow-visible",children:[a.jsx(ht,{label:"From Period *",value:T,onChange:V=>F(V),options:[{value:"",label:"Select source period..."},...te.map(V=>({value:V.id.toString(),label:`${V.name} (${V.status})`}))]}),a.jsx(ht,{label:"To Period *",value:M,onChange:V=>q(V),options:[{value:"",label:"Select target period..."},...te.map(V=>({value:V.id.toString(),label:`${V.name} (${V.status})`}))]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("input",{type:"checkbox",id:"autoAdvance",checked:G,onChange:V=>R(V.target.checked),className:"w-5 h-5 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"}),a.jsx("label",{htmlFor:"autoAdvance",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:" Advance Year Level (Check if new academic year - 3rd sem  1st sem)"})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("input",{type:"checkbox",id:"transitionDryRun",checked:D,onChange:V=>z(V.target.checked),className:"w-5 h-5 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"}),a.jsx("label",{htmlFor:"transitionDryRun",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:" Dry Run Mode (Preview Only - Recommended)"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>se(),disabled:Y||!T||!M,className:"flex-1 bg-[#7a0000] text-white py-4 px-6 rounded-lg font-semibold hover:bg-[#9a1000] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:Y?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Processing..."})]}):a.jsx(a.Fragment,{children:a.jsx("span",{children:D?" Preview Transition":" Execute Transition"})})}),a.jsx("button",{onClick:()=>{F(""),q(""),R(!1),z(!0),m(null),Q(null)},className:"px-6 py-4 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:" Reset"})]})]}),h&&a.jsxs("div",{className:`mt-8 rounded-lg p-6 ${h.dry_run?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:[a.jsx("h3",{className:`text-lg font-bold mb-4 ${h.dry_run?"text-blue-800":"text-green-800"}`,children:h.dry_run?" Preview Results":" Transition Complete!"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"From Period:"}),a.jsx("span",{className:"font-semibold",children:h.from_period})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"To Period:"}),a.jsx("span",{className:"font-semibold",children:h.to_period})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"New Academic Year:"}),a.jsx("span",{className:"font-semibold",children:h.is_new_academic_year?"Yes":"No"})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[a.jsx("span",{className:"text-gray-800 font-medium",children:"Students Affected:"}),a.jsx("span",{className:"font-bold text-[#7a0000]",children:h.students_affected})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-800 font-medium",children:"Enrollments Created:"}),a.jsx("span",{className:"font-bold text-[#7a0000]",children:h.enrollments_created})]}),h.students_advanced>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-800 font-medium",children:"Students Advanced:"}),a.jsx("span",{className:"font-bold text-green-600",children:h.students_advanced})]})]}),h.dry_run&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:a.jsx("p",{className:"text-yellow-800 text-sm font-semibold",children:' This was a preview. Uncheck "Dry Run Mode" and click "Execute Transition" to apply changes.'})})]})]})]})}),r==="rollback"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 overflow-visible relative z-30",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Rollback Student Year Level Advancement"}),a.jsx("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-800 font-bold mb-1",children:" EMERGENCY ROLLBACK FEATURE"}),a.jsx("p",{className:"text-red-700 text-sm",children:"Use this ONLY if students were advanced by mistake! This will restore year levels to a previous snapshot. A snapshot is automatically created every time you advance students."})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Available Snapshots (Backups)"}),v.length===0?a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No snapshots available. Snapshots are created automatically when you advance students."})}):a.jsx("div",{className:"space-y-3",children:v.map(V=>a.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${W===String(V.snapshot_id)?"border-[#7a0000] bg-red-50":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>Z(String(V.snapshot_id)),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"snapshot",checked:W===String(V.snapshot_id),onChange:()=>Z(String(V.snapshot_id)),className:"w-4 h-4 text-[#7a0000]"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-800",children:["Snapshot #",V.snapshot_id]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(V.timestamp).toLocaleString(),"  ",V.student_count," students"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:V.description})]})]})}),W===String(V.snapshot_id)&&a.jsx("div",{className:"bg-[#7a0000] text-white text-xs font-bold px-3 py-1 rounded-full",children:"Selected"})]})},V.snapshot_id))})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${W===""?"border-[#7a0000] bg-red-50":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>Z(""),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"snapshot",checked:W==="",onChange:()=>Z(""),className:"w-4 h-4 text-[#7a0000]"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800",children:" Latest Snapshot (Auto-select most recent)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Automatically uses the most recent backup"})]})]})})}),a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg mb-6",children:[a.jsx("input",{type:"checkbox",id:"rollbackDryRun",checked:le,onChange:V=>ge(V.target.checked),className:"w-5 h-5 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"}),a.jsx("label",{htmlFor:"rollbackDryRun",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:" Dry Run Mode (Preview Only - HIGHLY Recommended)"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>ye(),disabled:Y||v.length===0,className:"flex-1 bg-orange-600 text-white py-4 px-6 rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:Y?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Processing..."})]}):a.jsx(a.Fragment,{children:a.jsx("span",{children:le?" Preview Rollback":" Execute Rollback"})})}),a.jsx("button",{onClick:()=>me(),disabled:Y,className:"px-6 py-4 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:" Refresh Snapshots"})]}),w&&a.jsxs("div",{className:`mt-8 rounded-lg p-6 ${w.dry_run?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:[a.jsx("h3",{className:`text-lg font-bold mb-4 ${w.dry_run?"text-blue-800":"text-green-800"}`,children:w.dry_run?" Preview Results":" Rollback Complete!"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Snapshot Used:"}),a.jsxs("span",{className:"font-semibold",children:["#",w.snapshot_id]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Snapshot Date:"}),a.jsx("span",{className:"font-semibold",children:new Date(w.snapshot_timestamp).toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[a.jsx("span",{className:"text-gray-800 font-medium",children:"Students Rolled Back:"}),a.jsx("span",{className:"font-bold text-[#7a0000]",children:w.students_rolled_back})]})]}),w.rollback_plan&&Object.keys(w.rollback_plan).length>0&&a.jsxs("div",{className:"bg-white rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Rollback Details:"}),Object.entries(w.rollback_plan).map(([V,Re])=>a.jsxs("div",{className:"mb-2",children:[a.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Year ",V,": ",Re.length," students"]}),a.jsxs("div",{className:"text-xs text-gray-600 ml-4",children:[Re.slice(0,3).map((Je,nt)=>a.jsxs("div",{children:[" ",Je]},nt)),Re.length>3&&a.jsxs("div",{className:"text-gray-500",children:["... and ",Re.length-3," more"]})]})]},V))]}),w.students_rolled_back===0&&a.jsx("div",{className:"bg-blue-50 border border-blue-300 rounded-lg p-4",children:a.jsx("p",{className:"text-blue-800 text-sm font-semibold",children:" No changes needed. Student year levels already match the snapshot."})}),w.dry_run&&w.students_rolled_back>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:a.jsx("p",{className:"text-yellow-800 text-sm font-semibold",children:' This was a preview. Uncheck "Dry Run Mode" and click "Execute Rollback" to restore year levels.'})})]})]})]})})]}),H&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Confirm Action"}),a.jsx("p",{className:"text-gray-600",children:U==="advance"?"You are about to PERMANENTLY advance students to the next year level. A snapshot will be created automatically for rollback if needed.":U==="transition"?"You are about to PERMANENTLY create enrollments for the new period. This action will affect all students.":"You are about to RESTORE student year levels to a previous state. This will UNDO recent advancements."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>ae(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:fe,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Confirm Execute"})]})]})})]})}const jee=()=>{const[e,t]=L.useState([]),[r,n]=L.useState(!0),[s,i]=L.useState(null),[o,l]=L.useState(""),[u,f]=L.useState({program_id:"",status:"active"}),[h,m]=L.useState(null),[v,p]=L.useState(!1),[w,x]=L.useState(null),[y,j]=L.useState([]),[A,N]=L.useState([]),[k,C]=L.useState(1),[T,F]=L.useState(10),[M,q]=L.useState(!1),[G,R]=L.useState(null),[D,z]=L.useState([]),[W,Z]=L.useState([]),[le,ge]=L.useState(!1),[te,ue]=L.useState({title:"",message:"",type:"info"}),H=(ye,fe="Notification",V="info")=>{ue({title:fe,message:ye,type:V}),ge(!0)},ae=Math.ceil(e.length/T),U=L.useMemo(()=>{const ye=(k-1)*T;return e.slice(ye,ye+T)},[e,k,T]);L.useEffect(()=>{C(1)},[e]),L.useEffect(()=>{B(),Y(),ne()},[]),L.useEffect(()=>{Y()},[u]);const B=async()=>{try{const ye=await rt.getPrograms();j(ye.data||ye)}catch(ye){console.error("Error fetching programs:",ye)}},Y=async()=>{try{n(!0),i(null);const ye=new URLSearchParams;o&&ye.append("query",o),u.program_id&&ye.append("program_id",u.program_id),u.status&&ye.append("status",u.status),ye.append("limit","500"),ye.append("_t",Date.now());const fe=await Ze.get(`/admin/enrollment-list/search?${ye.toString()}`),V=fe?.data||fe,Re=Array.isArray(V)?V:[];console.log("[EnrollmentList] Fetched enrollments:",Re.length),t(Re)}catch(ye){i("Failed to fetch enrollment list. Please try again."),console.error("Error fetching enrollment list:",ye),t([])}finally{n(!1)}},ne=async()=>{try{const ye=await Ze.get(`/admin/enrollment-list/stats?_t=${Date.now()}`);if(console.log("[EnrollmentList] Fetched stats:",ye),m(ye),ye?.by_college){const fe=Object.keys(ye.by_college).map(V=>({code:V,name:V}));N(fe)}}catch(ye){console.error("Error fetching stats:",ye),m({total_students:0,by_status:{},by_program:{}})}},he=()=>{Y()},Q=(ye,fe)=>{f(V=>({...V,[ye]:fe}))},pe=()=>{Y()},ce=()=>{f({program_id:"",status:"active"}),l(""),setTimeout(()=>Y(),100)},me=ye=>{const fe=ye.target.files[0];if(!fe)return;R(fe),Z([]),z([]);const V=new FileReader;V.onload=Re=>{try{const nt=Re.target.result.split(`
`).filter(Ft=>Ft.trim());if(nt.length<2){Z(["CSV file is empty or has no data rows"]);return}const ze=nt[0].split(",").map(Ft=>Ft.trim().toLowerCase()),De=["student_number","first_name","last_name","program_code"].filter(Ft=>!ze.includes(Ft));if(De.length>0){Z([`Missing required columns: ${De.join(", ")}`]);return}const jt=[],bt=[];for(let Ft=1;Ft<Math.min(nt.length,11);Ft++){const Tt=nt[Ft].split(",").map(ke=>ke.trim()),Pt={};ze.forEach((ke,be)=>{Pt[ke]=Tt[be]||""});const sr=[];Pt.student_number||sr.push("Missing student number"),Pt.first_name||sr.push("Missing first name"),Pt.last_name||sr.push("Missing last name"),Pt.program_code||sr.push("Missing program code"),sr.length>0&&bt.push({row:Ft,errors:sr,data:Pt}),jt.push({...Pt,rowNumber:Ft,hasErrors:sr.length>0})}z(jt),Z(bt),q(!0)}catch(Je){Z([`Failed to parse CSV: ${Je.message}`])}},V.readAsText(fe)},_e=async()=>{if(G){p(!0),x(null),i(null),q(!1);try{const ye=await rt.uploadEnrollmentList(G);x(ye);const fe=ye?.imported||ye?.data?.imported||0,V=ye?.skipped||ye?.data?.skipped||0;H(`Successfully processed ${fe} student(s)
 Imported/Updated: ${fe}
 Skipped: ${V}`,"Upload Successful","success"),Y(),ne(),R(null),z([]),Z([])}catch(ye){H(ye.response?.data?.detail||ye.message||"Failed to upload file. Please check the format and try again.","Upload Failed","error")}finally{p(!1)}}},se=()=>{const ye=y.slice(0,3).map(nt=>nt.code||nt.program_code).filter(Boolean),fe=ye.length>0?ye:["PROGRAM1","PROGRAM2","PROGRAM3"],V=`student_number,first_name,last_name,middle_name,program_code
2024-00001,Juan,Dela Cruz,Santos,${fe[0]}
2024-00002,Maria,Santos,Lopez,${fe[1]||fe[0]}
2024-00003,Pedro,Garcia,Martinez,${fe[2]||fe[0]}`,Re=new Blob([V],{type:"text/csv;charset=utf-8;"}),Je=document.createElement("a");Je.href=URL.createObjectURL(Re),Je.download="sample_enrollment_list.csv",Je.click()};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl",children:" Enrollment List Management"}),a.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Manage official enrollment records and student assignments"})]})]}),a.jsxs("button",{onClick:()=>{Y(),ne()},className:"px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white rounded-card hover:from-[#9a1000] hover:to-[#7a0000] shadow-md hover:shadow-lg transition-all font-medium flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})})}),a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[s&&a.jsxs("div",{className:"mb-6 lg:mb-8 bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-card flex items-center gap-3 shadow-sm",children:[a.jsx(Zl,{className:"w-6 h-6 flex-shrink-0"}),a.jsx("span",{className:"font-medium",children:s}),a.jsx("button",{onClick:()=>i(null),className:"ml-auto hover:bg-red-100 rounded-full p-1 transition-colors",children:a.jsx(Rd,{className:"w-5 h-5"})})]}),w&&a.jsxs("div",{className:"mb-6 lg:mb-8 bg-green-50 border-2 border-green-200 text-green-700 px-6 py-4 rounded-card shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Rh,{className:"w-6 h-6"}),a.jsx("span",{className:"font-bold text-lg",children:"Upload Successful!"}),a.jsx("button",{onClick:()=>x(null),className:"ml-auto hover:bg-green-100 rounded-full p-1 transition-colors",children:a.jsx(Rd,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("p",{children:[" Successfully imported/updated: ",w.successful]}),w.skipped>0&&a.jsxs("p",{children:[" Skipped: ",w.skipped]}),w.errors&&w.errors.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"font-semibold",children:"Errors:"}),a.jsxs("ul",{className:"list-disc list-inside",children:[w.errors.slice(0,5).map((ye,fe)=>a.jsx("li",{children:ye},fe)),w.errors.length>5&&a.jsxs("li",{children:["... and ",w.errors.length-5," more errors"]})]})]})]})]}),h&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 lg:mb-12",children:[a.jsx("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-[#7a0000] mt-2",children:h.total_students||0})]}),a.jsx(zp,{className:"w-10 h-10 text-[#7a0000]"})]})}),a.jsx("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Programs"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-[#7a0000] mt-2",children:Object.keys(h.by_program||{}).length})]}),a.jsx(OX,{className:"w-10 h-10 text-[#7a0000]"})]})})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card mb-8 lg:mb-12",children:[a.jsx("div",{className:"p-6 lg:p-8 border-b border-gray-200",children:a.jsxs("h2",{className:"text-xl lg:text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(U2,{className:"w-6 h-6"}),"Bulk Upload"]})}),a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex-1",children:[a.jsx("input",{type:"file",accept:".csv",onChange:me,disabled:v,className:"hidden",id:"csv-upload"}),a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("button",{onClick:()=>document.getElementById("csv-upload").click(),disabled:v,className:"px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white rounded-card hover:from-[#9a1000] hover:to-[#7a0000] disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed flex items-center gap-2 shadow-md hover:shadow-lg transition-all font-medium",children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(U2,{className:"w-5 h-5"}),"Upload CSV"]})}),a.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Upload enrollment records in CSV format"})]})]}),a.jsxs("button",{onClick:se,className:"px-6 py-3 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-card hover:from-gray-200 hover:to-gray-300 flex items-center gap-2 shadow-sm hover:shadow-md transition-all font-medium",children:[a.jsx(PE,{className:"w-5 h-5"}),"Download Sample"]})]}),a.jsxs("div",{className:"mt-6 p-4 lg:p-6 bg-red-50 rounded-card border-2 border-red-200",children:[a.jsxs("p",{className:"font-bold text-base text-[#7a0000] mb-3 flex items-center gap-2",children:[a.jsx($A,{className:"w-5 h-5"}),"CSV Format Requirements:"]}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm text-[#9a1000]",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Required columns:"})," student_number, first_name, last_name, program_code"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Optional column:"})," middle_name"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Program codes:"})," Must exist in the system ",y.length>0&&`(${y.slice(0,5).map(ye=>ye.code||ye.program_code).join(", ")}${y.length>5?", etc.":""})`]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Purpose:"})," This list validates which students are eligible to create accounts in the system"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Behavior:"})," Existing student records will be updated, new records will be inserted"]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card mb-8 lg:mb-12",children:[a.jsx("div",{className:"p-6 lg:p-8 border-b border-gray-200",children:a.jsxs("h2",{className:"text-xl lg:text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(qp,{className:"w-6 h-6"}),"Search & Filter"]})}),a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{type:"text",value:o,onChange:ye=>l(ye.target.value),onKeyPress:ye=>ye.key==="Enter"&&he(),placeholder:"Search by student number, name, or email...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-card focus:outline-none focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000] text-base"}),a.jsxs("button",{onClick:he,className:"px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white rounded-card hover:from-[#9a1000] hover:to-[#7a0000] shadow-md hover:shadow-lg transition-all font-medium flex items-center gap-2",children:[a.jsx(qp,{className:"w-5 h-5"}),"Search"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6 overflow-visible",children:[a.jsx(ht,{label:"Program",value:u.program_id,onChange:ye=>Q("program_id",ye),options:[{value:"",label:"All Programs"},...y.length>0?y.map(ye=>({value:ye.id.toString(),label:`${ye.code||ye.program_code} - ${ye.name||ye.program_name}`})):[{value:"",label:"Loading programs...",disabled:!0}]],searchable:!0}),a.jsx(ht,{label:"Status",value:u.status,onChange:ye=>Q("status",ye),options:[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"transferred",label:"Transferred"},{value:"graduated",label:"Graduated"}]})]}),a.jsxs("div",{className:"mt-6 flex gap-3",children:[a.jsxs("button",{onClick:pe,className:"px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white rounded-card hover:from-[#9a1000] hover:to-[#7a0000] shadow-md hover:shadow-lg transition-all font-medium flex items-center gap-2",children:[a.jsx(_X,{className:"w-5 h-5"}),"Apply Filters"]}),a.jsxs("button",{onClick:ce,className:"px-6 py-3 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-card hover:from-gray-200 hover:to-gray-300 shadow-sm hover:shadow-md transition-all font-medium flex items-center gap-2",children:[a.jsx(Rd,{className:"w-5 h-5"}),"Clear Filters"]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card",children:[a.jsx("div",{className:"p-6 lg:p-8 border-b border-gray-200",children:a.jsxs("h2",{className:"text-xl lg:text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx($A,{className:"w-6 h-6"}),"Enrolled Students (",e.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-4 border-[#7a0000] border-t-transparent rounded-full animate-spin"})}):e.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(zp,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No enrollment records found"}),a.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search or filters"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Student Number"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Program"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(ye=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ye.student_number}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[ye.first_name," ",ye.middle_name?ye.middle_name+" ":"",ye.last_name]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:ye.program_code}),a.jsx("div",{className:"text-xs text-gray-500",children:ye.program_name})]})})]},ye.id))})]})}),e.length>0&&a.jsx(tc,{currentPage:k,totalPages:ae,totalItems:e.length,onPageChange:C,itemLabel:"students",itemsPerPage:T,onItemsPerPageChange:ye=>{F(ye),C(1)},showItemsPerPage:!0})]})]}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[a.jsxs("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] px-6 py-4 flex items-center justify-between flex-shrink-0 rounded-t-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:a.jsx(jX,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"CSV Preview"}),a.jsx("p",{className:"text-sm text-white/80",children:G?.name})]})]}),a.jsx("button",{onClick:()=>{q(!1),R(null),z([]),Z([])},className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:a.jsx(Rd,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[W.length>0&&a.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Zl,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-bold text-red-900 mb-2",children:"Validation Errors Found"}),a.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[W.slice(0,10).map((ye,fe)=>a.jsxs("div",{className:"flex items-start gap-2 text-sm text-red-800",children:[a.jsxs("span",{className:"font-bold",children:["Row ",ye.row,":"]}),a.jsx("span",{children:ye.errors.join(", ")})]},fe)),W.length>10&&a.jsxs("p",{className:"text-sm text-red-700 font-bold text-center py-2 bg-red-100 rounded",children:["+ ",W.length-10," more errors"]})]})]})]})}),D.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Data Preview"}),a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold",children:["Showing first ",D.length," rows"]})]}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Student #"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Program"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map((ye,fe)=>a.jsxs("tr",{className:ye.hasErrors?"bg-red-50":"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:ye.hasErrors?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-red-100 text-red-800",children:[a.jsx(Rd,{className:"w-3 h-3 mr-1"}),"Error"]}):a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-green-100 text-green-800",children:[a.jsx(Rh,{className:"w-3 h-3 mr-1"}),"Valid"]})}),a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:ye.student_number}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[ye.last_name,", ",ye.first_name," ",ye.middle_name]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ye.program_code})]},fe))})]})})})]}),W.length===0&&D.length>0&&a.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Rh,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-green-900",children:"Ready to Upload"}),a.jsx("p",{className:"text-sm text-green-800 mt-1",children:'All rows passed validation. Click "Confirm Upload" to import the students.'})]})]})})]}),a.jsxs("div",{className:"flex-shrink-0 px-6 py-4 bg-gray-50 border-t flex items-center justify-between rounded-b-2xl",children:[a.jsx("button",{onClick:()=>{q(!1),R(null),z([]),Z([])},className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 font-semibold transition-all",disabled:v,children:"Cancel"}),a.jsx("button",{onClick:_e,disabled:v||W.length>0||D.length===0,className:"px-6 py-2 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white rounded-lg font-semibold hover:from-[#9a1000] hover:to-[#7a0000] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(U2,{className:"w-4 h-4"}),a.jsx("span",{children:"Confirm Upload"})]})})]})]})}),a.jsx(ec,{isOpen:le,onClose:()=>ge(!1),title:te.title,message:te.message,variant:te.type==="error"?"danger":te.type})]})},Zo=[{id:"relevance_of_course",name:"I. Relevance of Course",description:"Evaluation of course relevance to skills and knowledge development",questions:[{id:"relevance_subject_knowledge",text:"The course helped me to develop relevant subject knowledge",shortLabel:"Subject Knowledge"},{id:"relevance_practical_skills",text:"The course helped me to develop related practical skills",shortLabel:"Practical Skills"},{id:"relevance_team_work",text:"The course helped me to develop team work",shortLabel:"Team Work"},{id:"relevance_leadership",text:"The course helped me to develop leadership skills",shortLabel:"Leadership Skills"},{id:"relevance_communication",text:"The course helped me to develop communication skills",shortLabel:"Communication Skills"},{id:"relevance_positive_attitude",text:"The course helped me to develop positive attitude on my program of study",shortLabel:"Positive Attitude"}]},{id:"course_organization",name:"II. Course Organization and ILOs",description:"Evaluation of course structure and learning outcomes",questions:[{id:"org_curriculum",text:"The course was implemented according to the approved curriculum",shortLabel:"Approved Curriculum"},{id:"org_ilos_known",text:"Intended Learning Outcomes (ILOs) of the course were made known from the beginning",shortLabel:"ILOs Made Known"},{id:"org_ilos_clear",text:"Targeted Learning Outcomes (ILOs) of the course were clear",shortLabel:"Clear ILOs"},{id:"org_ilos_relevant",text:"Intended Learning Outcomes (ILOs) of the course were relevant",shortLabel:"Relevant ILOs"},{id:"org_no_overlapping",text:"There were no overlapping of contents within a course",shortLabel:"No Overlapping"}]},{id:"teaching_learning",name:"III. Teaching - Learning",description:"Evaluation of teaching methods and learning activities",questions:[{id:"teaching_tlas_useful",text:"Teaching - Learning Activities (TLAs) such as practical, educational tour etc. were useful and relevant",shortLabel:"TLAs Useful"},{id:"teaching_ila_useful",text:"Independent Learning (ILA) activities such as journal reading, research work, project, etc. were useful and relevant",shortLabel:"ILA Useful"},{id:"teaching_tlas_sequenced",text:"The TLAs within a course were sequenced in a logical manner",shortLabel:"TLAs Sequenced"},{id:"teaching_applicable",text:"Team teaching is done as applicable",shortLabel:"Team Teaching"},{id:"teaching_motivated",text:"The teachers motivated the students to learn",shortLabel:"Teacher Motivation"},{id:"teaching_team_work",text:"The teachers provided adequate opportunities for team work",shortLabel:"Team Work Opportunities"},{id:"teaching_independent",text:"The teachers provided adequate opportunities for independent learning",shortLabel:"Independent Learning"}]},{id:"assessment",name:"IV. Assessment",description:"Evaluation of assessment methods and feedback",questions:[{id:"assessment_start",text:"Assessments tasks were held at the beginning of the course",shortLabel:"Assessment at Start"},{id:"assessment_all_topics",text:"Assessments covered all the main topics taught in the course",shortLabel:"All Topics Covered"},{id:"assessment_number",text:"The number of assessments was appropriate and adequate",shortLabel:"Appropriate Number"},{id:"assessment_distribution",text:"Distribution of assessments over a semester was appropriate",shortLabel:"Good Distribution"},{id:"assessment_allocation",text:"Allocation of marks/grade among assessments was satisfactory",shortLabel:"Satisfactory Allocation"},{id:"assessment_feedback",text:"The teachers provided timely feedback on student performance",shortLabel:"Timely Feedback"}]},{id:"learning_environment",name:"V. Learning Environment",description:"Evaluation of facilities and learning resources",questions:[{id:"environment_classrooms",text:"Available facilities in the classrooms were satisfactory",shortLabel:"Classroom Facilities"},{id:"environment_library",text:"Available library facilities were adequate",shortLabel:"Library Facilities"},{id:"environment_laboratory",text:"Available laboratory facilities were adequate",shortLabel:"Laboratory Facilities"},{id:"environment_computer",text:"Access to computer facilities were sufficient",shortLabel:"Computer Access"},{id:"environment_internet",text:"There was sufficient access to internet and electronic databases",shortLabel:"Internet Access"},{id:"environment_facilities_availability",text:"Availability of facilities for learning was satisfactory",shortLabel:"Overall Facilities"}]},{id:"counseling",name:"VI. Counseling",description:"Evaluation of counseling and consultation support",questions:[{id:"counseling_available",text:"The teachers were available for consultation whenever needed",shortLabel:"Teacher Availability"}]}];function Nee({selectedPeriod:e=null}){const{user:t}=ma(),[r,n]=L.useState(null),[s,i]=L.useState(!0),[o,l]=L.useState(null),[u,f]=L.useState(""),[h,m]=L.useState("completion_rate"),[v,p]=L.useState("all"),[w,x]=L.useState(1),[y,j]=L.useState(10);L.useEffect(()=>{A()},[t,e]);const A=async()=>{if(t)try{i(!0),l(null);let M;un(t)?M=await rt.getCompletionRates(e):t.role==="secretary"?M=await Yr.getCompletionRates(e):t.role==="department_head"&&(M=await Xr.getCompletionRates(e)),M?.success&&M?.data&&n(M.data)}catch(M){console.error("Error fetching completion data:",M),l(M.message||"Failed to load completion data")}finally{i(!1)}},N=Te.useMemo(()=>{if(!r?.courses)return[];let M=r.courses.filter(q=>{const G=q.course_name.toLowerCase().includes(u.toLowerCase())||q.course_code.toLowerCase().includes(u.toLowerCase())||q.class_code.toLowerCase().includes(u.toLowerCase()),R=v==="all"||v==="below70"&&q.completion_rate<70||v==="below50"&&q.completion_rate<50;return G&&R});return M.sort((q,G)=>h==="completion_rate"?q.completion_rate-G.completion_rate:h==="course_name"?q.course_name.localeCompare(G.course_name):h==="instructor"?q.instructor.localeCompare(G.instructor):0),M},[r,u,h,v]),k=Math.ceil(N.length/y),C=(w-1)*y,T=C+y,F=N.slice(C,T);return L.useEffect(()=>{x(1)},[u,h,v]),s?a.jsx("div",{className:"lpu-card",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("svg",{className:"animate-spin h-8 w-8 text-[#7a0000]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}):o?a.jsx("div",{className:"lpu-card",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{className:"w-12 h-12 text-red-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"text-gray-600",children:o})]})}):a.jsxs("div",{className:"lpu-card",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 mr-2 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Course Completion Tracking"]}),a.jsxs("button",{onClick:A,className:"lpu-btn-secondary text-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search courses...",value:u,onChange:M=>f(M.target.value),className:"lpu-input pl-10"}),a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),a.jsx(ht,{value:h,onChange:M=>m(M),options:[{value:"completion_rate",label:"Sort by: Completion Rate"},{value:"course_name",label:"Sort by: Course Name"}]}),a.jsx(ht,{value:v,onChange:M=>p(M),options:[{value:"all",label:"Show: All Courses"},{value:"below70",label:"Show: Below 70%"},{value:"below50",label:"Show: Below 50%"}]})]})]}),a.jsxs("div",{className:"mb-4 text-sm text-gray-600 flex items-center justify-between",children:[a.jsxs("span",{children:["Showing ",C+1,"-",Math.min(T,N.length)," of ",N.length," courses",r?.courses?.length!==N.length&&` (filtered from ${r?.courses?.length} total)`]}),k>1&&a.jsxs("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-full",children:["Page ",w," of ",k]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Enrolled"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Pending"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Completion"}),a.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.length>0?F.map(M=>{const q=M.completion_rate,G=q>=85?"green":q>=70?"yellow":"red";return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-900",children:M.course_name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[M.course_code,"  ",M.class_code]})]})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:M.enrolled_students})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:M.submitted_evaluations})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("span",{className:`text-lg font-semibold ${M.pending_evaluations>0?"text-orange-600":"text-gray-400"}`,children:M.pending_evaluations})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("span",{className:`text-xl font-bold text-${G}-600 mb-1`,children:[q,"%"]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`bg-${G}-500 h-2 rounded-full transition-all duration-500`,style:{width:`${q}%`}})})]})}),a.jsx("td",{className:"px-4 py-4 text-center",children:M.is_below_threshold?a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[a.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Low"]}):q>=85?a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Good"]}):a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Fair"]})})]},M.section_id)}):a.jsx("tr",{children:a.jsxs("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"No courses match your filters"]})})})]})}),N.length>0&&a.jsx(tc,{currentPage:w,totalPages:k,totalItems:N.length,onPageChange:x,itemLabel:"courses",itemsPerPage:y,onItemsPerPageChange:M=>{j(M),x(1)},showItemsPerPage:!0})]})}function See(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState(null),[s,i]=L.useState("all"),[o,l]=L.useState("all"),[u,f]=L.useState("all"),[h,m]=L.useState("all"),[v,p]=L.useState(!1),[w,x]=L.useState([]),[y,j]=L.useState(null),[A,N]=L.useState(null),[k,C]=L.useState([]),[T,F]=L.useState([]);L.useEffect(()=>{(async()=>{if(t)try{let Z,le,ge;if(t.role==="secretary"?[Z,le,ge]=await Promise.all([Yr.getPrograms(),Yr.getYearLevels(),Yr.getEvaluationPeriods()]):t.role==="department_head"&&([Z,le,ge]=await Promise.all([Xr.getPrograms(),Xr.getYearLevels(),Xr.getEvaluationPeriods()])),Z?.data&&C(Mf(Z.data)),le?.data&&F(le.data),ge?.data){x(ge.data);const te=ge.data.find(ue=>ue.status==="Open"||ue.status==="active"||ue.status==="Active");te&&(N(te.id),j(te.id))}}catch(Z){console.error("Error fetching filter options:",Z)}})()},[t?.role]),L.useEffect(()=>{if(!t){e("/");return}if(un(t)){e("/admin/dashboard");return}if(t.role==="student"){e("/student-evaluation");return}if(!Kd(t)){e("/");return}},[t?.role,t?.id,e]);const{data:M,loading:q,error:G,retry:R}=tu(async()=>{if(!t||!y&&!A)return null;const W={};s!=="all"&&(W.program_id=s),o!=="all"&&(W.year_level=o),u!=="all"&&(W.semester=u);const Z=y||A;Z&&(W.period_id=Z);let le,ge;if(t.role==="secretary")[le,ge]=await Promise.all([Yr.getDashboard(W),Yr.getEvaluations({...W,page:1,page_size:50})]);else if(t.role==="department_head")[le,ge]=await Promise.all([Xr.getDashboard(W),Xr.getEvaluations({...W,page:1,page_size:50})]);else throw new Error(`Unsupported staff role: ${t.role}`);return{dashboard:le?.data||le,evaluations:Array.isArray(ge)?ge:ge?.data||[]}},[t?.id,t?.role,s,o,u,y,A]);L.useEffect(()=>{M&&n(M.dashboard)},[M]);const D=L.useMemo(()=>{if(!r)return{totalCourses:0,totalEvaluations:0,totalEnrolledStudents:0,participationRate:0,sentimentData:[{name:"Positive",value:0,color:"#10b981"},{name:"Neutral",value:0,color:"#f59e0b"},{name:"Negative",value:0,color:"#ef4444"}],anomalies:0};const W=r.sentiment||{};return{totalCourses:r.total_courses||r.total_sections||0,totalEvaluations:r.total_evaluations||0,totalEnrolledStudents:r.total_enrolled_students||0,participationRate:r.participation_rate||0,sentimentData:[{name:"Positive",value:W.positive||0,color:"#10b981"},{name:"Neutral",value:W.neutral||0,color:"#f59e0b"},{name:"Negative",value:W.negative||0,color:"#ef4444"}],anomalies:r.anomalies||0}},[r]),z=L.useMemo(()=>{if(console.log("[DASHBOARD] apiData:",M),console.log("[DASHBOARD] apiData?.evaluations:",M?.evaluations),!M||!M.evaluations||M.evaluations.length===0)return console.log("[DASHBOARD] No evaluations data - apiData structure:",JSON.stringify(M,null,2)),[];const W=M.evaluations;console.log("[DASHBOARD] Evaluations count:",W.length),console.log("[DASHBOARD] First evaluation sample:",W[0]),console.log("[DASHBOARD] First eval fields:",Object.keys(W[0]||{}));const le=[1,2,3,4].map(ge=>{const te=W.filter(U=>U.yearLevel===ge||U.year_level===ge);console.log(`[DASHBOARD] Year ${ge}: found ${te.length} evaluations`),te.length>0&&(console.log(`[DASHBOARD] Sample eval for Year ${ge}:`,te[0]),console.log("[DASHBOARD] Sample eval sentiment value:",te[0].sentiment),console.log(`[DASHBOARD] All sentiments for Year ${ge}:`,te.map(U=>U.sentiment)));const ue=te.filter(U=>U.sentiment==="positive").length,H=te.filter(U=>U.sentiment==="neutral").length,ae=te.filter(U=>U.sentiment==="negative").length;return console.log(`[DASHBOARD] Year ${ge} sentiments - P:${ue} N:${H} Neg:${ae}`),{name:`Year ${ge}`,positive:ue,neutral:H,negative:ae,total:ue+H+ae}}).filter(ge=>ge.total>0);return console.log("[DASHBOARD] Year level sentiment result:",JSON.stringify(le,null,2)),console.log("[DASHBOARD] Result array length:",le.length),le},[M]);return t?q?a.jsx(ko,{message:"Loading dashboard..."}):G?a.jsx(ru,{error:G,onRetry:R}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-5",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Course Insight Guardian"}),a.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:un(t)?"Academic Excellence Dashboard":`${t.department} Analytics Hub`})]})]}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 lg:px-8 py-4 lg:py-5 text-left lg:text-right w-full lg:w-auto",children:[a.jsx("p",{className:"text-[#ffd700] text-sm font-medium",children:"Welcome back,"}),a.jsxs("p",{className:"text-white font-bold text-lg lg:text-xl mt-1",children:[t?.first_name||t?.name||"User"," ",t?.last_name||""]}),a.jsxs("div",{className:"flex items-center justify-start lg:justify-end space-x-2 mt-2",children:[a.jsx("div",{className:"w-2 h-2 bg-[#ffd700] rounded-full animate-pulse"}),a.jsx("span",{className:"text-white text-xs font-medium",children:"Online"})]})]})]})})}),a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!A&&!y?a.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[a.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),w.length>0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 mb-6",children:"Select a past evaluation period to view historical data:"}),a.jsx("div",{className:"max-w-xs mx-auto",children:a.jsx(ht,{options:[{value:"",label:"Select Period"},...w.map(W=>({value:W.id,label:`${W.name} (${W.academic_year||""})${W.status==="Open"||W.status==="active"||W.status==="Active"?" - Active":""}`}))],value:y||"",onChange:W=>j(W),placeholder:"Select Period"})})]}):a.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to create and activate an evaluation period."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5 lg:gap-6 mb-12",children:[a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/courses"),children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Courses"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:D.totalCourses})]}),a.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:a.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/evaluations"),children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Participation Rate"}),a.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white mb-3",children:[D.participationRate,"%"]}),a.jsx("div",{className:"w-full bg-white/30 rounded-full h-2.5",children:a.jsx("div",{className:"bg-white rounded-full h-2.5 transition-all duration-500",style:{width:`${D.participationRate}%`}})})]}),a.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:a.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>p(!v),className:"lpu-btn-secondary inline-flex items-center mb-4",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),v?"Hide Filters":"Show Filters"]}),v&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 overflow-visible",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Filter Dashboard Data"]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 overflow-visible",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Academic Program"}),a.jsx(ht,{options:[{value:"all",label:"All Programs"},...k.map(W=>({value:W.id,label:`${W.program_code||W.code} - ${W.program_name||W.name}`}))],value:s,onChange:W=>i(W),placeholder:"All Programs"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Evaluation Period"}),a.jsx(ht,{options:[{value:"",label:"Select Period"},...w.map(W=>({value:W.id,label:`${W.name}${W.status==="Open"||W.status==="active"||W.status==="Active"?" (Active)":""}`}))],value:y||"",onChange:W=>j(W),placeholder:"Select Period"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Year Level"}),a.jsx(ht,{options:[{value:"all",label:"All Year Levels"},...T.map(W=>({value:W.value,label:W.label}))],value:o,onChange:W=>l(W),placeholder:"All Year Levels"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Semester"}),a.jsx(ht,{options:[{value:"all",label:"All Semesters"},{value:"1",label:"First Semester"},{value:"2",label:"Second Semester"},{value:"3",label:"Summer"}],value:u,onChange:W=>f(W),placeholder:"All Semesters"})]})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{i("all"),l("all"),f("all")},className:"px-4 py-2 border-2 border-gray-200 hover:bg-gray-50 text-gray-700 rounded-xl font-semibold transition-all",children:"Reset Filters"}),a.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gradient-to-r from-[#7a0000] to-[#9a1000] hover:from-[#9a1000] hover:to-[#7a0000] text-white rounded-xl font-semibold transition-all",children:"Apply Filters"})]})]})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{className:"lpu-chart-container",children:[a.jsxs("div",{className:"chart-title",children:[a.jsx("svg",{className:"w-6 h-6 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Student Sentiment Distribution"]}),a.jsx(Yc,{width:"100%",height:300,children:a.jsxs(AE,{children:[a.jsx(Xi,{data:D.sentimentData.filter(W=>W.value>0),cx:"50%",cy:"50%",labelLine:!0,label:({name:W,percent:Z})=>`${W}: ${(Z*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:D.sentimentData.filter(W=>W.value>0).map((W,Z)=>a.jsx(j0,{fill:W.color},`cell-${Z}`))}),a.jsx(ci,{formatter:W=>[W,"Evaluations"]})]})})]}),a.jsxs("div",{className:"lpu-chart-container",children:[a.jsxs("div",{className:"chart-title",children:[a.jsx("svg",{className:"w-6 h-6 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Academic Year Level Analysis"]}),a.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Sentiment distribution across different year levels"}),a.jsx(Yc,{width:"100%",height:300,children:a.jsxs(Rf,{data:z,children:[a.jsx(P0,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),a.jsx(oc,{dataKey:"name",tick:{fontSize:12,fill:"#64748b"}}),a.jsx(lc,{tick:{fontSize:12,fill:"#64748b"}}),a.jsx(ci,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(Vc,{wrapperStyle:{paddingTop:"20px"},iconType:"rect"}),a.jsx(Ia,{dataKey:"positive",fill:"#10b981",name:"Positive",radius:[4,4,0,0]}),a.jsx(Ia,{dataKey:"neutral",fill:"#f59e0b",name:"Neutral",radius:[4,4,0,0],minPointSize:2}),a.jsx(Ia,{dataKey:"negative",fill:"#ef4444",name:"Negative",radius:[4,4,0,0],minPointSize:2})]})})]})]}),a.jsx("div",{className:"mb-8",children:a.jsx(Nee,{selectedPeriod:y})}),a.jsxs("div",{className:"lpu-card p-6 mb-8",children:[a.jsx("div",{className:"chart-title mb-6",children:"Quick Academic Actions"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:()=>e("/courses"),className:"lpu-btn-primary text-center py-4",children:[a.jsx("svg",{className:"w-5 h-5 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Manage Courses"]}),a.jsxs("button",{onClick:()=>e("/sentiment"),className:"lpu-btn-secondary text-center py-4",children:[a.jsx("svg",{className:"w-5 h-5 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Analytics"]}),a.jsxs("button",{onClick:()=>e("/evaluations"),className:"lpu-btn-secondary text-center py-4",children:[a.jsx("svg",{className:"w-5 h-5 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Review Evaluations"]})]})]})]})})]}):null}function _ee(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState(null),[s,i]=L.useState(!0),[o,l]=L.useState(null),[u,f]=L.useState("all"),[h,m]=L.useState("all"),[v,p]=L.useState("all"),[w,x]=L.useState(!1),[y,j]=L.useState([]),[A,N]=L.useState(!0),[k,C]=L.useState(""),T=Tf(k,500),[F,M]=L.useState([]),[q,G]=L.useState([]),[R,D]=L.useState([]),[z,W]=L.useState(null),[Z,le]=L.useState(null);L.useEffect(()=>{if(!t){e("/");return}if(t.role==="student"){e("/student/courses");return}if(!un(t)&&!Kd(t)){e("/");return}},[t,e]),L.useEffect(()=>{(async()=>{if(t)try{let Y,ne,he;if(t.role==="secretary"?[Y,ne,he]=await Promise.all([Yr.getPrograms(),Yr.getYearLevels(),Yr.getEvaluationPeriods()]):t.role==="department_head"?[Y,ne,he]=await Promise.all([Xr.getPrograms(),Xr.getYearLevels(),Xr.getEvaluationPeriods()]):un(t)&&([Y,he]=await Promise.all([rt.getPrograms(),rt.getEvaluationPeriods()])),Y?.data&&M(Mf(Y.data)),ne?.data&&G(ne.data),he?.data){D(he.data);const Q=he.data.find(pe=>pe.status==="Open"||pe.status==="active"||pe.status==="Active");Q&&(le(Q.id),W(Q.id))}}catch(Y){console.error("Error fetching filter options:",Y)}})()},[t?.role]);const[ge,te]=L.useState([]);L.useEffect(()=>{(async()=>{if(t)try{if(i(!0),!z&&!Z){n(null),te([]),i(!1);return}const Y={};u!=="all"&&(Y.semester=u),h!=="all"&&(Y.yearLevel=h),v!=="all"&&(Y.program_id=v),z&&(Y.period_id=z);let ne,he;if(un(t))[ne,he]=await Promise.all([rt.getSentimentAnalysis(Y),rt.getEvaluations({...Y,page:1,page_size:100})]);else if(t.role==="secretary")[ne,he]=await Promise.all([Yr.getSentimentAnalysis(Y),Yr.getEvaluations({...Y,page:1,page_size:100})]);else if(t.role==="department_head")[ne,he]=await Promise.all([Xr.getSentimentAnalysis(Y),Xr.getEvaluations({...Y,page:1,page_size:100})]);else throw new Error(`Unsupported role: ${t.role}`);const Q=ne?.data||ne,pe=Array.isArray(he)?he:he?.data||[];n(Q),te(pe)}catch(Y){console.error("Error fetching sentiment analysis:",Y),l(Y.message||"Failed to load sentiment analysis")}finally{i(!1)}})()},[t,u,h,v,z]),L.useEffect(()=>{(async()=>{if(t)try{if(N(!0),!z&&!Z){j([]),N(!1);return}const Y={};z&&(Y.period_id=z);let ne;un(t)?ne=await rt.getAnomalies(Y):t.role==="secretary"?ne=await Yr.getAnomalies(Y):t.role==="department_head"&&(ne=await Xr.getAnomalies(Y));const he=Array.isArray(ne)?ne:ne?.data||[];j(he)}catch(Y){console.error("Error fetching anomalies:",Y)}finally{N(!1)}})()},[t,z]);const ue=L.useMemo(()=>y.filter(B=>k===""?!0:B.courseName?.toLowerCase().includes(T.toLowerCase())||B.comment?.toLowerCase().includes(T.toLowerCase())),[y,k]),H=L.useMemo(()=>{const B=r?.summary||r?.overall;if(!B)return{positive:0,neutral:0,negative:0};const Y=(B.positive||0)+(B.neutral||0)+(B.negative||0);return Y===0?{positive:0,neutral:0,negative:0}:{positive:Math.round((B.positive||0)/Y*100),neutral:Math.round((B.neutral||0)/Y*100),negative:Math.round((B.negative||0)/Y*100)}},[r]);L.useMemo(()=>!r?.trends||r.trends.length===0?[]:r.trends.map(B=>({date:B.date,positive:B.positive||0,neutral:B.neutral||0,negative:B.negative||0})),[r]);const ae=L.useMemo(()=>{if(!ge||ge.length===0)return console.log("[SENTIMENT] No evaluations data:",ge),[];console.log("[SENTIMENT] Evaluations count:",ge.length),console.log("[SENTIMENT] First evaluation sample:",ge[0]),console.log("[SENTIMENT] First eval fields:",Object.keys(ge[0]||{}));const Y=[1,2,3,4].map(ne=>{const he=ge.filter(me=>me.yearLevel===ne||me.year_level===ne);console.log(`[SENTIMENT] Year ${ne}: found ${he.length} evaluations`);const Q=he.filter(me=>me.sentiment==="positive").length,pe=he.filter(me=>me.sentiment==="neutral").length,ce=he.filter(me=>me.sentiment==="negative").length;return{name:`Year ${ne}`,positive:Q,neutral:pe,negative:ce,total:Q+pe+ce}}).filter(ne=>ne.total>0);return console.log("[SENTIMENT] Year level sentiment result:",Y),Y},[ge]),U=L.useMemo(()=>{if(!ge||ge.length===0)return console.log("[CRITERIA] No evaluations for criteria breakdown"),[];console.log("[CRITERIA] Processing",ge.length,"evaluations"),console.log("[CRITERIA] First eval ratings:",ge[0]?.ratings);const B={"Relevance of Course":{questions:[1,2,3,4,5,6],total:0,count:0},"Course Organization & ILOs":{questions:[7,8,9,10,11],total:0,count:0},"Teaching - Learning":{questions:[12,13,14,15,16,17,18],total:0,count:0},Assessment:{questions:[19,20,21,22,23,24],total:0,count:0},"Learning Environment":{questions:[25,26,27,28,29,30],total:0,count:0},Counseling:{questions:[31],total:0,count:0}};return ge.forEach(Y=>{const ne=Y.ratings;if(!ne||typeof ne!="object"){console.log("[CRITERIA] Evaluation has no valid ratings:",Y.id);return}Object.entries(B).forEach(([he,Q])=>{Q.questions.forEach(pe=>{const ce=pe.toString();ne[ce]&&typeof ne[ce]=="number"&&(Q.total+=ne[ce],Q.count+=1)})})}),Object.entries(B).map(([Y,ne])=>({name:Y,rating:ne.count>0?(ne.total/ne.count).toFixed(2):"0.00",count:ne.count})).filter(Y=>Y.count>0).sort((Y,ne)=>parseFloat(ne.rating)-parseFloat(Y.rating))},[ge]);return t?s?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading sentiment analysis..."})]})}):o?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg max-w-md",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Error Loading Sentiment Analysis"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-2 rounded",children:"Retry"})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx("header",{className:"bg-gradient-to-r from-[#7a0000] to-[#a31111] shadow-lg",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Sentiment Analysis Dashboard"}),a.jsx("p",{className:"text-[#ffd700] text-sm",children:un(t)?"System-wide Academic Excellence Overview":`${t.department} Department Analysis`})]})]})})})}),a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!Z&&!z?a.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[a.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),R.length>0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 mb-6",children:"Select a past evaluation period to view historical data:"}),a.jsx("div",{className:"max-w-xs mx-auto",children:a.jsx(ht,{options:[{value:"",label:"Select Period"},...R.map(B=>({value:B.id,label:`${B.name} (${B.academic_year||""})${B.status==="Open"||B.status==="active"||B.status==="Active"?" - Active":""}`}))],value:z||"",onChange:B=>W(B),placeholder:"Select Period"})})]}):a.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to create and activate an evaluation period."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8 mb-12",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Academic Sentiment Overview"})]}),a.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[r?.total_evaluations||r?.summary?r.total_evaluations||(r.summary?.positive||0)+(r.summary?.neutral||0)+(r.summary?.negative||0):0," total responses"]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Positive Feedback"}),a.jsxs("span",{className:"text-4xl lg:text-5xl font-bold text-green-600",children:[H.positive,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-300",style:{width:`${H.positive}%`}})}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Excellent responses"}),a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-6 border border-yellow-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Neutral Feedback"}),a.jsxs("span",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:[H.neutral,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-yellow-500 h-3 rounded-full transition-all duration-300",style:{width:`${H.neutral}%`}})}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Moderate responses"}),a.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-6 border border-red-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Negative Feedback"}),a.jsxs("span",{className:"text-4xl lg:text-5xl font-bold text-red-600",children:[H.negative,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-red-500 h-3 rounded-full transition-all duration-300",style:{width:`${H.negative}%`}})}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Needs improvement"}),a.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.106-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"})})]})]})]})]}),a.jsxs("div",{className:"lpu-card mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Analysis Filters"}),a.jsxs("button",{onClick:()=>x(!w),className:"lpu-btn-secondary flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),a.jsx("span",{children:w?"Hide Filters":"Show Filters"})]})]}),w&&a.jsxs("div",{className:"lpu-card p-6 bg-gray-50 overflow-visible",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-6 overflow-visible",children:[a.jsx(ht,{label:"Evaluation Period",value:z?.toString()||"",onChange:B=>W(B),options:[{value:"",label:"Select Period"},...R.map(B=>({value:B.id.toString(),label:`${B.name} ${B.status==="Open"||B.status==="active"||B.status==="Active"?"(Active)":""}`}))]}),a.jsx(ht,{label:"Academic Program",value:v,onChange:B=>p(B),options:[{value:"all",label:"All Programs"},...F.map(B=>({value:B.id.toString(),label:`${B.code} - ${B.name}`}))],searchable:F.length>5}),a.jsx(ht,{label:"Year Level",value:h,onChange:B=>m(B),options:[{value:"all",label:"All Year Levels"},...q.map(B=>({value:B.value,label:B.label}))]}),a.jsx(ht,{label:"Semester",value:u,onChange:B=>f(B),options:[{value:"all",label:"All Semesters"},{value:"1",label:"First Semester"},{value:"2",label:"Second Semester"},{value:"3",label:"Summer"}]})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{p("all"),m("all"),f("all")},className:"lpu-btn-secondary",children:"Reset Filters"}),a.jsx("button",{onClick:()=>x(!1),className:"lpu-btn-primary",children:"Apply Filters"})]})]})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-5 lg:gap-6 mb-12",children:[a.jsxs("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Academic Year Level Analysis"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Sentiment distribution across different year levels"}),ae.length>0?a.jsx(Yc,{width:"100%",height:400,children:a.jsxs(Rf,{data:ae,children:[a.jsx(oc,{dataKey:"name",fontSize:12,tick:{fill:"#64748b"}}),a.jsx(lc,{tick:{fill:"#64748b"}}),a.jsx(ci,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(Vc,{wrapperStyle:{paddingTop:"20px"},iconType:"rect"}),a.jsx(Ia,{dataKey:"positive",fill:"#10b981",name:"Positive",radius:[4,4,0,0]}),a.jsx(Ia,{dataKey:"neutral",fill:"#f59e0b",name:"Neutral",radius:[4,4,0,0],minPointSize:2}),a.jsx(Ia,{dataKey:"negative",fill:"#ef4444",name:"Negative",radius:[4,4,0,0],minPointSize:2})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.jsx("p",{children:"No sentiment data available for the selected filters"})]})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Academic Criteria Performance"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Average ratings across evaluation criteria"}),U.length>0?a.jsx("div",{className:"space-y-4",children:U.map((B,Y)=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:B.name}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-4xl lg:text-5xl font-bold text-[#7a0000]",children:parseFloat(B.rating).toFixed(2)}),a.jsx("span",{className:"text-gray-500 text-sm",children:"/ 4.0"})]})]}),a.jsx("div",{className:"flex items-center space-x-2 mb-3",children:[1,2,3,4].map(ne=>a.jsx("svg",{className:`w-5 h-5 ${ne<=parseFloat(B.rating)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ne))}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${parseFloat(B.rating)>=3.5?"bg-green-500":parseFloat(B.rating)>=2.5?"bg-yellow-500":"bg-red-500"}`,style:{width:`${parseFloat(B.rating)/4*100}%`}})})]})},Y))}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),a.jsx("p",{children:"No evaluation criteria data available"})]})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Interactive Analytics Dashboard"}),a.jsx("p",{className:"text-blue-800 text-sm",children:"Hover over chart elements to see detailed information. Click on legend items to hide/show data series. Use the academic period and year level filters to view specific segment analysis."})]})]})}),a.jsxs("div",{className:"mt-12",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[a.jsx("svg",{className:"w-8 h-8 mr-3 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Anomaly Detection"]}),a.jsx("p",{className:"text-gray-600",children:"Identifies suspicious evaluation patterns including straight-lining, outliers, and contradictory responses"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-5 lg:gap-6 mb-12",children:[a.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-card shadow-card p-7 lg:p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Total Anomalies"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:y.length}),a.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Detected issues"})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Filtered Results"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:ue.length}),a.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Matching search"})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Flagged Rate"}),a.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[r?.overall?Math.round(y.length/(r.overall.positive+r.overall.neutral+r.overall.negative)*100):0,"%"]}),a.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Of total evaluations"})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search anomalies by course or comment...",value:k,onChange:B=>C(B.target.value),className:"lpu-input pl-12"}),a.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),a.jsx("div",{className:"lpu-card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:A?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsxs("svg",{className:"animate-spin h-8 w-8 text-[#7a0000]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):ue.length>0?a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Anomaly Type"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Rating"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ue.map((B,Y)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.courseName||"N/A"}),a.jsx("div",{className:"text-xs text-gray-500",children:B.courseCode||""})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${B.severity==="high"?"bg-red-100 text-red-800":B.severity==="medium"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:B.severity==="high"?"High Risk":B.severity==="medium"?"Medium Risk":"Detected"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium",children:B.rating||B.rating_overall||"N/A"}),a.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),a.jsx("span",{className:"text-gray-500",children:"4.0"})]})})]},Y))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"text-lg font-medium",children:"No anomalies detected"}),a.jsx("p",{className:"text-sm",children:"All evaluations appear to be legitimate"})]})})})]})]})})]}):null}function kee(){const{user:e}=ma(),[t,r]=L.useState([]),[n,s]=L.useState([]),[i,o]=L.useState([]),[l,u]=L.useState([]),[f,h]=L.useState(null),[m,v]=L.useState(null),[p,w]=L.useState(!0),[x,y]=L.useState(null),[j,A]=L.useState(""),N=Tf(j,500),[k,C]=L.useState("all"),[T,F]=L.useState("all"),[M,q]=L.useState([]),[G,R]=L.useState(10),[D,z]=L.useState("overview"),[W,Z]=L.useState(null),[le,ge]=L.useState(null),[te,ue]=L.useState([]),[H,ae]=L.useState([]),[U,B]=L.useState(!1),[Y,ne]=L.useState(!1),[he,Q]=L.useState(1),[pe,ce]=L.useState(15),[me,_e]=L.useState(0),[se,ye]=L.useState([]),[fe,V]=L.useState({course_id:"",class_code:"",semester:1,academic_year:"2024-2025",max_students:40}),[Re,Je]=L.useState({});L.useEffect(()=>{if(!e)return;let ke=!0;const be=async()=>{try{let Fe;if(un(e)?Fe=await rt.getPrograms():e.role==="secretary"?Fe=await Yr.getPrograms():e.role==="department_head"&&(Fe=await Xr.getPrograms()),!ke)return;Fe?.data&&Array.isArray(Fe.data)&&Fe.data.length>0?o(Mf(Fe.data)):o([])}catch(Fe){if(!ke)return;console.error("[COURSES] Error fetching programs:",Fe),o([])}},Oe=async()=>{try{let Fe;if(un(e)?Fe=await rt.getEvaluationPeriods():e.role==="secretary"?Fe=await Yr.getEvaluationPeriods():e.role==="department_head"&&(Fe=await Xr.getEvaluationPeriods()),!ke)return;if(Fe?.data&&Array.isArray(Fe.data)){u(Fe.data);const st=Fe.data.find(mt=>mt.status==="Open"||mt.status==="active"||mt.status==="Active");st&&v(st)}else u([])}catch(Fe){if(!ke)return;console.error("[COURSES] Error fetching evaluation periods:",Fe),u([])}};return be(),Oe(),()=>{ke=!1}},[e]),L.useEffect(()=>{if(i.length===0&&t.length>0){console.log("[COURSES] Extracting unique programs from courses data");const ke=new Map;t.forEach(Oe=>{Oe.program&&!ke.has(Oe.program)&&ke.set(Oe.program,{id:ke.size+1,code:Oe.program,program_code:Oe.program,name:Oe.program,program_name:Oe.program})});const be=Array.from(ke.values());console.log("[COURSES] Extracted unique programs:",be),o(be)}},[t,i]),L.useEffect(()=>{if(!e)return;let ke=!0;return(async()=>{try{let Oe;if(un(e)?Oe=await rt.getProgramSections():e.role==="secretary"?Oe=await Yr.getProgramSections():e.role==="department_head"?Oe=await Xr.getProgramSections():e.role==="instructor"&&(Oe=await Yr.getProgramSections()),!ke)return;Oe?.data&&Array.isArray(Oe.data)?q(Oe.data):(console.warn("[COURSES] No program sections data in API response"),q([]))}catch(Oe){if(!ke)return;console.error("[COURSES] Error fetching program sections:",Oe),q([])}})(),()=>{ke=!1}},[e]),L.useEffect(()=>{if(!e)return;const ke=new AbortController;let be=!0;return(async()=>{try{if(w(!0),y(null),!f&&!m){r([]),s([]),w(!1);return}const Fe={};k!=="all"&&(Fe.program=k);const st=f||m?.id;st&&(Fe.period_id=st);let mt,at;if(un(e))mt=await rt.getCourses(Fe),at=await rt.getEvaluations(Fe);else if(e.role==="secretary")mt=await Yr.getCourses(Fe),at=await Yr.getEvaluations(Fe);else if(e.role==="department_head")mt=await Xr.getCourses(Fe),at=await Xr.getEvaluations(Fe);else throw new Error(`Unsupported role: ${e.role}`);if(!be||ke.signal.aborted)return;const gt=Array.isArray(mt)?mt:mt?.data||[],vt=Array.isArray(at)?at:at?.data||[],He=gt.map(Me=>({id:Me.id||Me.section_id,name:Me.name||Me.course_name||"",code:Me.code||Me.course_code||"",classCode:Me.classCode||Me.class_code||"",program:Me.program||"N/A",yearLevel:Me.yearLevel||Me.year_level,enrolledStudents:Me.enrolledStudents||Me.enrolled_students||Me.enrollmentCount||0,semester:Me.semester||"",academic_year:Me.academic_year||Me.academicYear||"",status:Me.status||"active",evaluations_count:Me.evaluations_count||Me.evaluationCount||0,overallRating:Me.overallRating||0})),tt=vt.map(Me=>({...Me,sectionId:Me.sectionId||Me.class_section_id||Me.section_id,class_section_id:Me.class_section_id||Me.sectionId||Me.section_id,courseId:Me.courseId||Me.course_id}));r(He),s(tt)}catch(Fe){if(ke.signal.aborted)return;console.error("Error fetching courses:",Fe),be&&y(Fe.message||"Failed to load courses")}finally{be&&w(!1)}})(),()=>{be=!1,ke.abort()}},[e,k,f,m]);const nt=L.useMemo(()=>t.map(ke=>{const be=n.filter(gt=>gt.sectionId===ke.id||gt.courseId===ke.id),Oe=ke.evaluationCount||ke.evaluations_count||be.length,Fe=ke.enrollmentCount||ke.enrolledStudents||ke.enrolled_students||0;let st=ke.overallRating||0;!st&&be.length>0&&(st=(be.reduce((vt,He)=>vt+(He.rating_overall||0),0)/be.length).toFixed(2));const mt=Fe>0?Math.round(Oe/Fe*100):0,at=Math.min(100,mt);return{...ke,code:ke.classCode||ke.code||ke.id,enrollmentCount:Fe,evaluationCount:Oe,overallRating:parseFloat(st),responseRate:at,status:ke.status||"active"}}),[t,n]),ze=nt.filter(ke=>{const be=(ke.name||ke.course_name||"").toLowerCase().includes(N.toLowerCase())||(ke.code||ke.course_code||"").toLowerCase().includes(N.toLowerCase())||(ke.classCode||"").toLowerCase().includes(N.toLowerCase()),Oe=ke.program||ke.program_code||ke.program_name||"",Fe=k==="all"||Oe===k||Oe.toLowerCase().includes(k.toLowerCase())||k.toLowerCase().includes(Oe.toLowerCase());let st=!0;if(T!=="all"){const mt=ke.program_section_id||ke.section_id||"",at=ke.program_section_name||ke.section_name||"",gt=`Year ${ke.yearLevel||ke.year_level||""} - Sem ${ke.semester||""}`;st=mt.toString()===T.toString()||at.toLowerCase().includes(T.toLowerCase())||gt.includes(T)}return be&&Fe&&st}),je=Math.max(1,Math.ceil(ze.length/pe)),De=Math.min(he,je),jt=(De-1)*pe,bt=jt+pe,Ft=ze.slice(jt,bt);L.useEffect(()=>{Q(1)},[N,k,T]);const Tt=nt.filter(ke=>{const be=(ke.status||"").toLowerCase();return be==="active"||be==="ongoing"||be==="open"||!be});L.useEffect(()=>{console.log("[COURSES] Total courses:",t.length),console.log("[COURSES] Enhanced courses:",nt.length),console.log("[COURSES] Active courses:",Tt.length),console.log("[COURSES] Filtered courses:",ze.length),console.log("[COURSES] Programs in state:",i)},[t,nt,Tt,ze,i]);const Pt=async ke=>{ne(!0),B(!0),Z(ke),_e(0);try{const be=t.find(tt=>tt.id===ke);if(!be)throw new Error("Course not found");const Oe=n.filter(tt=>tt.sectionId===ke||tt.class_section_id===ke||tt.courseId===ke);console.log("[COURSE DETAILS] =================="),console.log(`[COURSE DETAILS] Looking for evaluations for course ID: ${ke}`),console.log("[COURSE DETAILS] Course data:",be),console.log(`[COURSE DETAILS] Total evaluations in state: ${n.length}`),console.log("[COURSE DETAILS] Sample evaluation structure:",n[0]),console.log("[COURSE DETAILS] Evaluations IDs check:",n.slice(0,5).map(tt=>({id:tt.id,sectionId:tt.sectionId,class_section_id:tt.class_section_id,courseId:tt.courseId}))),console.log(`[COURSE DETAILS] Found ${Oe.length} matching evaluations`),Oe.length>0&&console.log("[COURSE DETAILS] Sample matched evaluation:",Oe[0]),console.log("[COURSE DETAILS] ==================");let Fe=[],st=[];try{if(console.log(`[COURSE DETAILS API] Fetching category and question data for course ${ke}, role: ${e.role}`),un(e)){const[tt,Me]=await Promise.all([rt.getCategoriesAverages(ke,e.id),rt.getQuestionDistribution(ke,e.id)]);Fe=tt?.data?.categories||[],st=Me?.data?.questions||[],console.log(`[COURSE DETAILS API] Admin - Got ${Fe.length} categories, ${st.length} questions`)}else if(e.role==="secretary"){const[tt,Me]=await Promise.all([Yr.getCategoryAverages(ke,e.id),Yr.getQuestionDistribution(ke,e.id)]);Fe=tt?.data?.categories||[],st=Me?.data?.questions||[],console.log(`[COURSE DETAILS API] Secretary - Got ${Fe.length} categories, ${st.length} questions`),console.log("[COURSE DETAILS API] Category response:",tt),console.log("[COURSE DETAILS API] Question response:",Me)}else if(e.role==="department_head"){const[tt,Me]=await Promise.all([Xr.getCategoryAverages(ke,e.id),Xr.getQuestionDistribution(ke,e.id)]);Fe=tt?.data?.categories||[],st=Me?.data?.questions||[],console.log(`[COURSE DETAILS API] Dept Head - Got ${Fe.length} categories, ${st.length} questions`)}ue(Fe),ae(st)}catch(tt){console.error("[COURSE DETAILS API] Error fetching detailed analysis data:",tt),console.error("[COURSE DETAILS API] Error details:",tt.response?.data),ue([]),ae([])}const mt={},at={course_content:"Course Content & Organization",instructor_effectiveness:"Instructor Effectiveness",teaching_methods:"Teaching Methods & Resources",assessment_feedback:"Assessment & Feedback",interaction_support:"Interaction & Support",learning_outcomes:"Learning Outcomes"};if(Object.keys(at).forEach(tt=>{const Me=Oe.filter(dt=>dt.categoryRatings&&dt.categoryRatings[tt]).map(dt=>dt.categoryRatings[tt]);if(Me.length>0){const dt=Me.reduce((er,dr)=>er+dr,0)/Me.length;mt[at[tt]]=parseFloat(dt.toFixed(2))}}),Object.keys(mt).length===0){const tt={"Course Content":[],"Instructor Quality":[],"Teaching Methods":[],"Assessment Quality":[]};Oe.forEach(Me=>{Me.ratings&&(Me.ratings.clarity&&tt["Course Content"].push(Me.ratings.clarity),Me.ratings.usefulness&&tt["Instructor Quality"].push(Me.ratings.usefulness),Me.ratings.engagement&&tt["Teaching Methods"].push(Me.ratings.engagement),Me.ratings.organization&&tt["Assessment Quality"].push(Me.ratings.organization))}),Object.entries(tt).forEach(([Me,dt])=>{if(dt.length>0){const er=dt.reduce((dr,Et)=>dr+Et,0)/dt.length;mt[Me]=parseFloat(er.toFixed(2))}})}const gt={positive:Oe.filter(tt=>tt.sentiment==="positive").length,neutral:Oe.filter(tt=>tt.sentiment==="neutral").length,negative:Oe.filter(tt=>tt.sentiment==="negative").length};let vt=be.overallRating||0;if(console.log(`[COURSE DETAILS] Backend overallRating: ${be.overallRating}`),Oe.length>0){const tt=Oe.filter(Me=>Me.ratings||Me.rating_overall);if(tt.length>0){const Me=tt.reduce((dt,er)=>{if(er.rating_overall)return dt+er.rating_overall;if(er.ratings){const dr=Object.values(er.ratings),Et=dr.length>0?dr.reduce((fr,kn)=>fr+kn)/dr.length:0;return dt+Et}return dt},0);vt=parseFloat((Me/tt.length).toFixed(2)),console.log(`[COURSE DETAILS] Recalculated overall rating: ${vt} from ${tt.length} evaluations with ratings`)}else console.log(`[COURSE DETAILS] No evaluations with ratings found, using backend value: ${vt}`)}else console.log(`[COURSE DETAILS] No matching evaluations found, using backend value: ${vt}`);const He=Fe.length>0&&Fe[0]?.total_responses?Fe[0].total_responses:be.evaluationCount||be.evaluations_count||Oe.length;console.log(`[COURSE DETAILS] Using evaluation count: ${He} (backend: ${Fe[0]?.total_responses}, course: ${be.evaluationCount}, filtered: ${Oe.length})`),ge({...be,overallRating:vt,evaluationCount:He,enrollmentCount:be.enrollmentCount||be.enrolledStudents||be.enrolled_students||0,criteriaRatings:mt,sentimentBreakdown:gt,evaluations:Oe.slice(0,10),recentComments:Oe.slice(0,5).map(tt=>({text:tt.comment,rating:tt.rating||tt.avgRating,date:new Date().toLocaleDateString()}))}),ne(!1),B(!1)}catch(be){console.error("Error loading course details:",be),ne(!1),B(!1)}},sr=L.useMemo(()=>{if(!ze||ze.length===0)return[];const ke=[...ze].sort((Oe,Fe)=>(Number(Fe.overallRating)||0)-(Number(Oe.overallRating)||0));return(G==="all"?ke:ke.slice(0,parseInt(G))).map(Oe=>({code:String(Oe.code||"N/A"),overallRating:Number(Oe.overallRating)||0,responseRate:Number(Oe.responseRate)||0}))},[ze,G]);return p?a.jsx("div",{className:"flex items-center justify-center min-h-screen lpu-background",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading courses..."})]})}):x?a.jsx("div",{className:"flex items-center justify-center min-h-screen lpu-background",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg max-w-md",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Error Loading Courses"}),a.jsx("p",{className:"text-gray-600 mb-4",children:x}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-2 rounded",children:"Retry"})]})}):a.jsxs("div",{className:"min-h-screen lpu-background",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"mb-6 lg:mb-0",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Course Management"}),a.jsx("p",{className:"text-[#ffd700] text-lg font-medium",children:"Lyceum of the Philippines University"})]})]}),a.jsx("p",{className:"text-white/90 text-lg max-w-2xl leading-relaxed",children:e?.role==="department_head"?"Monitor department courses, track evaluation metrics, and analyze student feedback.":"Monitor course performance, track evaluation metrics, and analyze student feedback across all academic programs."})]}),a.jsx("div",{className:"flex space-x-4",children:a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-white/80 text-sm",children:e?.role==="department_head"?`${e.department||"Department"} Courses`:"System-wide Analysis"}),a.jsxs("p",{className:"font-bold text-[#ffd700] text-lg",children:[Tt.length," Active Courses"]})]}),a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})})]})})}),a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[!m&&!f?a.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[a.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),l.length>0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 mb-6",children:"Select a past evaluation period to view historical data:"}),a.jsx("div",{className:"max-w-xs mx-auto",children:a.jsx(ht,{options:[{value:"",label:"Select Period"},...l.map(ke=>({value:ke.id,label:`${ke.name} (${ke.academic_year||""})${ke.status==="Open"||ke.status==="active"||ke.status==="Active"?" - Active":""}`}))],value:f||"",onChange:ke=>h(ke),placeholder:"Select Period"})})]}):a.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to create and activate an evaluation period."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Total Courses"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:t.length})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2-2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Evaluations"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:nt.reduce((ke,be)=>ke+(be.evaluationCount||0),0)}),a.jsxs("p",{className:"text-xs text-white/80 mt-1",children:["evaluated / ",nt.reduce((ke,be)=>ke+(be.enrollmentCount||0),0)," enrolled"]})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Avg Rating"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:(()=>{const ke=nt.filter(be=>be.overallRating>0);return ke.length>0?(ke.reduce((be,Oe)=>be+Oe.overallRating,0)/ke.length).toFixed(2):"0.00"})()})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Response Rate"}),a.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[(()=>{const ke=nt.reduce((Oe,Fe)=>Oe+(Fe.enrollmentCount||0),0),be=nt.reduce((Oe,Fe)=>Oe+(Fe.evaluationCount||0),0);return ke>0?Math.round(be/ke*100):0})(),"%"]})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),a.jsx("div",{className:"lpu-card mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#7a0000]",children:"Course Performance Overview"}),a.jsx("div",{className:"flex items-center space-x-2 w-40",children:a.jsx(ht,{label:"",value:G.toString(),onChange:ke=>R(ke),options:[{value:"5",label:"Top 5"},{value:"10",label:"Top 10"},{value:"20",label:"Top 20"},{value:"all",label:"All Courses"}]})})]}),a.jsx(Yc,{width:"100%",height:300,children:a.jsxs(Rf,{data:sr,children:[a.jsx(P0,{strokeDasharray:"3 3"}),a.jsx(oc,{dataKey:"code"}),a.jsx(lc,{}),a.jsx(ci,{}),a.jsx(Ia,{dataKey:"overallRating",fill:"#7a0000",name:"Overall Rating"})]})})]})}),a.jsxs("div",{className:"lpu-card mb-8 p-8 overflow-visible",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-[#7a0000] flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),"Search & Filter Courses"]}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Find courses by name, code, program, or section"})]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-6 overflow-visible",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Courses"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search by course name or code...",value:j,onChange:ke=>A(ke.target.value),className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent transition-all duration-200"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),a.jsx(ht,{label:"Evaluation Period",value:f?.toString()||"",onChange:ke=>h(ke?parseInt(ke):null),options:[{value:"",label:m?`${m.name} (${m.academic_year}) - Active`:"Select Period"},...l.filter(ke=>ke.status!=="active").map(ke=>({value:ke.id.toString(),label:`${ke.name} (${ke.academic_year})`}))]}),a.jsx(ht,{label:"Filter by Program",value:k,onChange:ke=>{C(ke),F("all")},options:[{value:"all",label:"All Programs"},...i.map(ke=>{const be=ke.code||ke.program_code||"",Oe=ke.name||ke.program_name||"Unknown Program",Fe=be||Oe,st=be?`${be} - ${Oe}`:Oe;return{value:Fe,label:st}})],searchable:i.length>5}),a.jsx(ht,{label:"Filter by Program Section",value:T,onChange:ke=>F(ke),options:[{value:"all",label:"All Sections"},...M.filter(ke=>{if(k==="all")return!0;const be=ke.program_code||ke.program_name||ke.program||"";return be.toLowerCase().includes(k.toLowerCase())||k.toLowerCase().includes(be.toLowerCase())}).map(ke=>{const be=ke.program_code||ke.program_name||ke.program||"N/A",Oe=ke.year_level||ke.year||"N/A",Fe=ke.semester||"N/A",st=ke.school_year||ke.academic_year||"N/A",mt=ke.section_name||ke.name||"";let at="";mt?at=mt:be!=="N/A"?(at=`${be}`,Oe!=="N/A"&&(at+=` - Year ${Oe}`)):at=`Section ${ke.id}`;const gt=[];return Oe!=="N/A"&&gt.push(`Yr ${Oe}`),Fe!=="N/A"&&gt.push(`Sem ${Fe}`),st!=="N/A"&&gt.push(st),gt.length>0&&(at+=` (${gt.join(", ")})`),{value:ke.id.toString(),label:at}})],searchable:M.length>5,helpText:M.length===0?"No program sections available":`${M.length} section${M.length!==1?"s":""} available`})]})]}),a.jsxs("div",{className:"lpu-card",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-[#7a0000]/5 to-[#ffd700]/5",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-[#7a0000] flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2-2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Active Courses"]}),a.jsxs("p",{className:"text-gray-600 mt-1 font-medium",children:["Showing ",ze.length>0?jt+1:0,"-",Math.min(bt,ze.length)," of ",ze.length," courses (Page ",De," of ",je,")"]})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("span",{className:"px-3 py-1 bg-[#7a0000] text-white text-sm font-medium rounded-full",children:[ze.length," Results"]})})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Students"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Rating"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Response Rate"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Ft.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Courses Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:j||k!=="all"||T!=="all"?"No courses match your current filters. Try adjusting your search criteria.":"No courses are currently available."}),(j||k!=="all"||T!=="all")&&a.jsx("button",{onClick:()=>{A(""),C("all"),F("all")},className:"lpu-btn-secondary text-sm",children:"Clear All Filters"})]})})}):Ft.map(ke=>a.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-25 transition-all duration-200 group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#7a0000] to-[#9a1000] rounded-lg flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-white font-bold text-sm",children:ke.code.slice(-2)})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-900 group-hover:text-[#7a0000] transition-colors duration-200",children:ke.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[ke.code,"  ",zd(ke.program)]})]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("span",{className:"font-medium text-gray-900",children:ke.enrollmentCount})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[ke.evaluationCount," evaluations"]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex mr-2",children:[...Array(4)].map((be,Oe)=>a.jsx("svg",{className:`w-4 h-4 ${Oe<Math.floor(ke.overallRating)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Oe))}),a.jsx("span",{className:"font-bold text-gray-900",children:ke.overallRating?ke.overallRating.toFixed(2):"0.00"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,ke.responseRate||0)}%`}})}),a.jsxs("span",{className:"font-bold text-gray-900",children:[Math.min(100,ke.responseRate||0),"%"]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>Pt(ke.id),className:"lpu-btn-primary text-sm",children:"View Details"})})]},ke.id))})]})}),je>1&&ze.length>0&&a.jsx(tc,{currentPage:De,totalPages:je,totalItems:ze.length,onPageChange:Q,itemLabel:"courses",itemsPerPage:pe,onItemsPerPageChange:ke=>{ce(ke),Q(1)},showItemsPerPage:!0}),ze.length===0&&a.jsx("div",{className:"text-center py-12 text-gray-500",children:j||k!=="all"?"No courses match your current filters":"No courses found"})]})]}),W&&le&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full my-4 max-h-[85vh] flex flex-col",children:[a.jsxs("div",{className:"lpu-header flex-shrink-0",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:le.name}),a.jsx("p",{className:"text-[#ffd700] text-sm mt-1",children:le.classCode}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsxs("span",{className:"text-white/80 text-sm",children:[le.program," - Year ",le.yearLevel]}),a.jsxs("span",{className:"text-white/80 text-sm",children:[le.enrollmentCount," Students Enrolled"]}),a.jsxs("span",{className:"text-white/80 text-sm",children:[le.evaluationCount," Evaluations Received"]})]})]}),a.jsx("button",{onClick:()=>Z(null),className:"text-white hover:text-[#ffd700] transition-colors duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"px-6 pb-6",children:a.jsxs("div",{className:"flex space-x-1 bg-white/10 p-1 rounded-lg",children:[a.jsx("button",{onClick:()=>z("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${D==="overview"?"bg-white text-[#7a0000] shadow-sm":"text-white/80 hover:text-white hover:bg-white/20"}`,children:"Overview"}),a.jsx("button",{onClick:()=>z("sentiment"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${D==="sentiment"?"bg-white text-[#7a0000] shadow-sm":"text-white/80 hover:text-white hover:bg-white/20"}`,children:"Detailed Analysis"})]})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[D==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Overall Rating"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Average across all evaluations"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-5xl font-bold text-blue-600 mb-2",children:le.overallRating?le.overallRating.toFixed(2):"0.00"}),a.jsx("div",{className:"flex justify-center mb-3",children:[...Array(4)].map((ke,be)=>a.jsx("svg",{className:`w-6 h-6 ${be<Math.floor(le.overallRating||0)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},be))}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",le.evaluationCount," evaluations"]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Evaluation Statistics"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[a.jsx("span",{className:"font-medium text-blue-700",children:"Total Evaluations"}),a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:le.evaluationCount})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[a.jsx("span",{className:"font-medium text-green-700",children:"Response Rate"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[le.enrollmentCount&&le.enrollmentCount>0?Math.round(le.evaluationCount/le.enrollmentCount*100):0,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[a.jsx("span",{className:"font-medium text-purple-700",children:"Enrolled Students"}),a.jsx("span",{className:"text-2xl font-bold text-purple-600",children:le.enrollmentCount||0})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Category Performance Analysis"}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Average ratings across 6 evaluation categories (31 questions)"}),U?a.jsx("div",{className:"flex justify-center py-8",children:a.jsxs("svg",{className:"animate-spin h-8 w-8 text-[#7a0000]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):te.length>0||le.criteriaRatings&&Object.keys(le.criteriaRatings).length>0?a.jsx("div",{className:"space-y-4",children:(te.length>0?te:Object.entries(le.criteriaRatings||{}).map(([ke,be])=>({category_name:ke,average:be,question_count:5,total_responses:le.evaluationCount,description:"Average rating for this category"}))).map((ke,be)=>{const Oe=["text-blue-600","text-green-600","text-purple-600","text-orange-600","text-teal-600","text-pink-600"],Fe=["bg-blue-50","bg-green-50","bg-purple-50","bg-orange-50","bg-teal-50","bg-pink-50"],st=ke.average/4*100;return a.jsxs("div",{className:`${Fe[be%Fe.length]} p-4 rounded-lg`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:ke.category_name}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ke.description})]}),a.jsxs("div",{className:`text-2xl font-bold ${Oe[be%Oe.length]} ml-4`,children:[ke.average,"/4.0"]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${Oe[be%Oe.length].replace("text-","bg-")}`,style:{width:`${st}%`}})}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsxs("span",{className:"text-xs text-gray-600",children:[ke.question_count," questions  ",ke.total_responses," responses"]}),a.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[st.toFixed(1),"%"]})]})]})]},ke.category_id)})}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("p",{children:"No category data available"})]})]})]}),D==="sentiment"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Question-Level Response Distribution"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Detailed breakdown of how students rated each of the 31 evaluation questions (1 = Strongly Disagree, 4 = Strongly Agree)"})]}),U?a.jsx("div",{className:"flex justify-center py-12",children:a.jsxs("svg",{className:"animate-spin h-10 w-10 text-[#7a0000]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):H.length>0||le.evaluations&&le.evaluations.length>0?a.jsxs("div",{className:"space-y-6",children:[(()=>{const ke=te.length>0?te:le.criteriaRatings?Object.entries(le.criteriaRatings).map(([vt,He],tt)=>({category_id:["relevance_of_course","course_organization","teaching_learning","assessment","learning_environment","counseling"][tt]||"other",category_name:vt,average:He})):[];if(ke.length===0)return null;const be=ke[me];if(!be)return null;const Oe=me,st={relevance_of_course:[1,2,3,4,5,6],course_organization:[7,8,9,10,11],teaching_learning:[12,13,14,15,16,17,18],assessment:[19,20,21,22,23,24],learning_environment:[25,26,27,28,29,30],counseling:[31]}[be.category_id]||[],mt=H.filter(vt=>st.includes(vt.question_number));if(mt.length===0)return null;const at=["blue","green","purple","orange","teal","pink"],gt=at[Oe%at.length];return a.jsxs("div",{className:`bg-${gt}-50 border border-${gt}-200 rounded-lg p-6`,children:[a.jsx("h4",{className:`text-lg font-bold text-${gt}-900 mb-4`,children:be.category_name}),a.jsx("div",{className:"space-y-4",children:mt.map(vt=>{const He=["1","2","3","4"].map(Me=>vt.distribution[Me].count),tt=Math.max(...He);return a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 pr-4",children:[a.jsxs("span",{className:"font-semibold text-gray-900 block",children:["Question ",vt.question_number]}),vt.question_text&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:vt.question_text})]}),a.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[a.jsx("span",{className:`text-lg font-bold text-${gt}-600`,children:vt.average.toFixed(2)}),a.jsx("span",{className:"text-sm text-gray-500",children:"/ 4.0"})]})]})}),a.jsx("div",{className:"space-y-2",children:["4","3","2","1"].map(Me=>{const dt=vt.distribution[Me],er=dt.count===tt&&tt>0,dr={4:"bg-green-500",3:"bg-blue-500",2:"bg-orange-500",1:"bg-red-500"};return a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"text-xs font-medium text-gray-600 w-24",children:[Me==="4"&&"Strongly Agree",Me==="3"&&"Agree",Me==="2"&&"Disagree",Me==="1"&&"Strongly Disagree"]}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative",children:a.jsx("div",{className:`${dr[Me]} h-6 rounded-full transition-all duration-500 flex items-center justify-end pr-2 ${er?"ring-2 ring-yellow-400":""}`,style:{width:`${dt.percentage}%`},children:dt.percentage>10&&a.jsxs("span",{className:"text-xs font-medium text-white",children:[dt.percentage.toFixed(1),"%"]})})}),a.jsxs("span",{className:`text-xs w-20 text-right ${er?"font-bold text-yellow-600":"text-gray-600"}`,children:[dt.count," students",er&&a.jsx("span",{className:"ml-1",children:""})]})]},Me)})}),a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:a.jsxs("span",{className:"text-xs text-gray-500",children:["Total responses: ",vt.total_responses]})})]},vt.question_number)})})]},be.category_id)})(),(()=>{const ke=te.length>0?te:le.criteriaRatings?Object.entries(le.criteriaRatings).map(([be,Oe],Fe)=>({category_id:["relevance_of_course","course_organization","teaching_learning","assessment","learning_environment","counseling"][Fe]||"other",category_name:be,average:Oe})):[];return ke.length<=1?null:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200",children:[a.jsxs("button",{onClick:()=>_e(be=>Math.max(0,be-1)),disabled:me===0,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),a.jsx("span",{children:"Previous Category"})]}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Category ",me+1," of ",ke.length]}),a.jsxs("button",{onClick:()=>_e(be=>Math.min(ke.length-1,be+1)),disabled:me>=ke.length-1,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[a.jsx("span",{children:"Next Category"}),a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})})()]}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsx("p",{className:"text-lg font-medium",children:"No question distribution data available"}),a.jsx("p",{className:"text-sm",children:"Evaluation responses will appear here once submitted"})]})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>Z(null),className:"lpu-btn-primary",children:"Close Details"})})})]})}),!1]})]})}function Aee(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState([]),[s,i]=L.useState([]),[o,l]=L.useState([]),[u,f]=L.useState(""),h=Tf(u,500),[m,v]=L.useState("all"),[p,w]=L.useState("all"),[x,y]=L.useState("all"),[j,A]=L.useState("all"),[N,k]=L.useState([]),[C,T]=L.useState(null),[F,M]=L.useState(null),[q,G]=L.useState(10),[R,D]=L.useState(1),[z,W]=L.useState(10),[Z,le]=L.useState(null),[ge,te]=L.useState([]),[ue,H]=L.useState([]);L.useEffect(()=>{(async()=>{if(t)try{let ye,fe,V;if(t.role==="secretary"?[ye,fe,V]=await Promise.all([Yr.getPrograms(),Yr.getYearLevels(),Yr.getEvaluationPeriods()]):t.role==="department_head"?[ye,fe,V]=await Promise.all([Xr.getPrograms(),Xr.getYearLevels(),Xr.getEvaluationPeriods()]):un(t)&&([ye,fe,V]=await Promise.all([rt.getPrograms(),rt.getYearLevels(),rt.getEvaluationPeriods()])),ye?.data&&te(Mf(ye.data)),fe?.data&&H(fe.data),V?.data){k(V.data);const Re=V.data.find(Je=>Je.status==="Open"||Je.status==="active"||Je.status==="Active");Re&&M(Re)}}catch(ye){console.error("Error fetching filter options:",ye)}})()},[t?.role]),L.useEffect(()=>{if(!t){e("/");return}if(t.role==="student"){e("/student/courses");return}if(!un(t)&&!Kd(t)){e("/");return}},[t?.role,t?.id,e]);const{data:ae,loading:U,error:B,retry:Y}=tu(async()=>{if(!t)return null;if(!C&&!F)return{evaluations:[],allEvaluations:[],courses:[],dashboard:null,pagination:null};const se={page:R,page_size:15};m!=="all"&&(se.program=m),p!=="all"&&(se.sentiment=p),x!=="all"&&(se.semester=x),j!=="all"&&(se.yearLevel=j);const ye=C||F?.id;ye&&(se.period_id=ye);const fe={page:1,page_size:1e3};ye&&(fe.period_id=ye);let V,Re,Je,nt;if(un(t))[V,Re,Je]=await Promise.all([rt.getEvaluations(se),rt.getEvaluations(fe),rt.getCourses()]),nt=null;else if(t.role==="secretary")[V,Re,Je,nt]=await Promise.all([Yr.getEvaluations(se),Yr.getEvaluations(fe),Yr.getCourses(),Yr.getDashboard(dashboardFilters)]);else if(t.role==="department_head")[V,Re,Je,nt]=await Promise.all([Xr.getEvaluations(se),Xr.getEvaluations(fe),Xr.getCourses(),Xr.getDashboard(dashboardFilters)]);else throw new Error(`Unsupported role: ${t.role}`);const ze=Array.isArray(V)?V:V?.data||[],je=V?.pagination||null,De=Array.isArray(Re)?Re:Re?.data||[],jt=Array.isArray(Je)?Je:Je?.data||[],bt=nt?.data||null;return{evaluations:ze,allEvaluations:De,courses:jt,dashboard:bt,pagination:je}},[t?.id,t?.role,R,m,p,x,j,C,F]);L.useEffect(()=>{ae&&(n(ae.evaluations),i(ae.allEvaluations||[]),l(ae.courses),le(ae.pagination))},[ae]),L.useEffect(()=>{D(1)},[m,p,x,j]);const ne=ae?.dashboard||null;L.useMemo(()=>{const se=[...new Set(o.map(V=>V.program))].filter(Boolean).sort(),ye=[...new Set(r.map(V=>V.semester))].filter(Boolean).sort(),fe=[...new Set(o.map(V=>V.yearLevel))].filter(Boolean).sort();return{programs:se,semesters:ye,yearLevels:fe}},[o,r]);const he=L.useMemo(()=>r.map(se=>{const ye=o.find(Re=>Re.id===se.sectionId||Re.id===se.courseId),fe=se.rating_overall||se.rating||0;let V="N/A";return se.semester&&(se.semester.includes("First 2023")?V="6/15/2023":se.semester.includes("Second 2023")?V="12/10/2023":se.semester.includes("First 2024")?V="6/15/2024":se.semester.includes("Second 2024")?V="12/10/2024":se.semester.includes("First 2025")&&(V="6/15/2025")),{...se,courseName:ye?.name||"Unknown Course",courseProgram:zd(ye?.program)||"Unknown",avgRating:fe,submittedDate:se.submission_date?new Date(se.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}):V}}),[r,o]),Q=L.useMemo(()=>he.filter(se=>{const ye=u===""||se.courseName.toLowerCase().includes(h.toLowerCase())||se.student.toLowerCase().includes(h.toLowerCase())||se.comment.toLowerCase().includes(h.toLowerCase()),fe=m==="all"||se.courseProgram===m,V=p==="all"||se.sentiment===p,Re=x==="all"||se.semester===x,Je=j==="all"||se.courseYearLevel?.toString()===j;return ye&&fe&&V&&Re&&Je}),[he,u,m,p,x,j]),pe=L.useMemo(()=>{if(ne)return{total:ne.total_evaluations||0,positive:ne.sentiment?.positive||0,neutral:ne.sentiment?.neutral||0,negative:ne.sentiment?.negative||0,anomalies:ne.anomalies||0,overallAvgRating:ne.average_rating?.toFixed(2)||"0.00",totalEnrolledStudents:ne.total_enrolled_students||0,participationRate:Math.round(ne.participation_rate||0)};const se=he.length,ye=he.filter(De=>De.sentiment==="positive").length,fe=he.filter(De=>De.sentiment==="neutral").length,V=he.filter(De=>De.sentiment==="negative").length,Re=he.filter(De=>De.anomaly).length,Je=o.reduce((De,jt)=>De+(jt.enrolledStudents||0),0),nt=Je>0?Math.round(se/Je*100):0,ze=he.filter(De=>De.avgRating>0).map(De=>De.avgRating),je=ze.length>0?(ze.reduce((De,jt)=>De+jt)/ze.length).toFixed(2):"0.00";return{total:se,positive:ye,neutral:fe,negative:V,anomalies:Re,overallAvgRating:je,totalEnrolledStudents:Je,participationRate:nt}},[ne,he,o]),ce=L.useMemo(()=>{if(console.log("[CHART] Calculating sentiment trend with",s.length,"evaluations"),s.length===0)return console.log("[CHART] No evaluations available for chart"),[];if(un(t)){const se=[...new Set(o.map(Re=>Re.program))].filter(Boolean);console.log("[CHART] Programs found:",se);const fe=se.map(Re=>{const nt=o.filter(bt=>bt.program===Re).map(bt=>bt.id),ze=s.filter(bt=>nt.includes(bt.sectionId)||nt.includes(bt.courseId)),je=ze.filter(bt=>bt.sentiment==="positive").length,De=ze.filter(bt=>bt.sentiment==="neutral").length,jt=ze.filter(bt=>bt.sentiment==="negative").length;return console.log(`[CHART] Program ${Re}: ${je} pos, ${De} neu, ${jt} neg`),{name:Re,positive:je,neutral:De,negative:jt,total:je+De+jt}}).filter(Re=>Re.total>0).sort((Re,Je)=>Je.total-Re.total),V=q==="all"?fe:fe.slice(0,parseInt(q));return console.log("[CHART] Final chart data:",V.length,"programs"),V}else{const se=t?.assignedPrograms?o.filter(Re=>t.assignedPrograms.includes(Re.program)):o;console.log("[CHART] Department courses:",se.length);const fe=se.map(Re=>{const Je=s.filter(De=>De.sectionId===Re.id||De.courseId===Re.id),nt=Je.filter(De=>De.sentiment==="positive").length,ze=Je.filter(De=>De.sentiment==="neutral").length,je=Je.filter(De=>De.sentiment==="negative").length;return{name:Re.classCode||Re.name,positive:nt,neutral:ze,negative:je,fullName:Re.name,courseCode:Re.classCode,total:nt+ze+je}}).filter(Re=>Re.total>0).sort((Re,Je)=>Je.total-Re.total),V=q==="all"?fe:fe.slice(0,parseInt(q));return console.log("[CHART] Final chart data:",V.length,"courses"),V}},[s,o,t,q]),me=se=>{switch(se){case"positive":return"bg-green-100 text-green-800";case"neutral":return"bg-yellow-100 text-yellow-800";case"negative":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_e=se=>{const ye=parseFloat(se);return ye>=4?"text-green-600":ye>=3?"text-yellow-600":"text-red-600"};return t?U?a.jsx(ko,{message:"Loading evaluations..."}):B?a.jsx(ru,{error:B,onRetry:Y}):a.jsxs("div",{className:"min-h-screen lpu-background",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Evaluations Management"}),a.jsx("p",{className:"text-[#ffd700] text-sm",children:un(t)?"Comprehensive Academic Evaluation System":`${t.department} Department Evaluation Portal`})]})]})})})}),a.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-6 gap-5 lg:gap-6 mb-12",children:[a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Survey Participation"}),a.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[pe.total,"/",pe.totalEnrolledStudents]}),a.jsxs("p",{className:"text-xs text-white/80 mt-1",children:["students (",pe.participationRate,"%)"]})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Participation Rate"}),a.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[pe.participationRate,"%"]})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),a.jsx("div",{className:"w-full bg-white/20 rounded-full h-2 mt-3",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${pe.participationRate>=80?"bg-green-400":pe.participationRate>=60?"bg-yellow-400":"bg-red-400"}`,style:{width:`${pe.participationRate}%`}})})]}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Positive Feedback"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:pe.positive})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Neutral Feedback"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:pe.neutral})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Negative Feedback"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:pe.negative})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.106-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Average Rating"}),a.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[pe.overallAvgRating,"/4.0"]})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]})})]}),a.jsxs("div",{className:"lpu-chart-container mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"chart-title",children:[a.jsx("svg",{className:"w-6 h-6 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),un(t)?"Academic Program Sentiment Analysis":"Course-Level Sentiment Analysis"]}),a.jsx("p",{className:"text-gray-600 text-sm",children:un(t)?"Comprehensive sentiment distribution across all academic programs":"Detailed sentiment breakdown for individual courses"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show:"}),a.jsx(ht,{value:q.toString(),onChange:se=>G(se),options:[{value:"5",label:"Top 5"},{value:"10",label:"Top 10"},{value:"20",label:"Top 20"},{value:"all",label:"All Items"}]})]})]}),ce.length>0?a.jsx(Yc,{width:"100%",height:350,children:a.jsxs(Rf,{data:ce,children:[a.jsx(oc,{dataKey:"name",angle:0,textAnchor:"middle",height:60,interval:0,tick:{fontSize:12,fill:"#64748b"}}),a.jsx(lc,{tick:{fontSize:12,fill:"#64748b"}}),a.jsx(ci,{formatter:(se,ye)=>[se,ye],labelFormatter:se=>{const ye=ce.find(fe=>fe.name===se);return ye?.fullName&&ye?.courseCode?`${ye.courseCode}: ${ye.fullName}`:ye?.fullName||se},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(Ia,{dataKey:"positive",fill:"#10b981",name:"Positive",radius:[4,4,0,0],minPointSize:2}),a.jsx(Ia,{dataKey:"neutral",fill:"#f59e0b",name:"Neutral",radius:[4,4,0,0],minPointSize:2}),a.jsx(Ia,{dataKey:"negative",fill:"#ef4444",name:"Negative",radius:[4,4,0,0],minPointSize:2})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.jsx("p",{children:"No evaluation data available for visualization"})]})]}),a.jsxs("div",{className:"lpu-card mb-8 p-8 overflow-visible",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Evaluation Filters"})]}),a.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[Q.length," results"]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-6 overflow-visible",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1e293b] mb-3",children:"Search Evaluations"}),a.jsx("input",{type:"text",placeholder:"Search by course, student, or comment...",value:u,onChange:se=>f(se.target.value),className:"lpu-input"})]}),a.jsx(ht,{label:"Academic Program",value:m,onChange:se=>v(se),options:[{value:"all",label:"All Programs"},...ge.map(se=>({value:se.code,label:`${se.code} - ${se.name}`}))],searchable:!0}),a.jsx(ht,{label:"Year Level",value:j,onChange:se=>A(se),options:[{value:"all",label:"All Year Levels"},...ue.map(se=>({value:se.value,label:se.label}))]}),a.jsx(ht,{label:"Sentiment Type",value:p,onChange:se=>w(se),options:[{value:"all",label:"All Sentiments"},{value:"positive",label:"Positive Feedback"},{value:"neutral",label:"Neutral Feedback"},{value:"negative",label:"Negative Feedback"}]}),a.jsx(ht,{label:"Evaluation Period",value:C?C.toString():"",onChange:se=>T(se?parseInt(se):null),options:[{value:"",label:"All Periods"},...N.map(se=>({value:se.id.toString(),label:`${se.name} (${se.academic_year}) ${se.status==="Open"||se.status==="active"?"- Active":""}`}))]})]})]}),!F&&!C?a.jsxs("div",{className:"lpu-card text-center py-16",children:[a.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Please contact the administrator to activate an evaluation period, or select a specific period below."}),N.length>0&&a.jsx("div",{className:"max-w-xs mx-auto",children:a.jsx(ht,{value:C,onChange:se=>T(se.target.value),options:N.map(se=>({value:se.id.toString(),label:`${se.name} (${se.academic_year})`})),placeholder:"Select a period to view"})})]}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"lpu-card",children:[a.jsx("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 4h.01M9 16h.01"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Student Evaluation Records"}),a.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Displaying ",Q.length," of ",pe.total," total evaluations"]})]})]})}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Course Information"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Student Details"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Academic Program"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Overall Rating"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Sentiment Analysis"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Status Indicator"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Q.map((se,ye)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:se.courseName.length>40?se.courseName.substring(0,40)+"...":se.courseName})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:se.student})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${se.courseProgram==="BSIT"?"bg-blue-100 text-blue-800":se.courseProgram==="BSCS-DS"?"bg-green-100 text-green-800":se.courseProgram==="BSCYSEC"?"bg-red-100 text-red-800":"bg-purple-100 text-purple-800"}`,children:se.courseProgram})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsxs("span",{className:`text-sm font-bold ${_e(se.avgRating)} mr-2`,children:[se.avgRating,"/4.0"]}),a.jsx("div",{className:"flex items-center",children:[1,2,3,4].map(fe=>a.jsx("svg",{className:`w-3 h-3 ${fe<=parseFloat(se.avgRating)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},fe))})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${me(se.sentiment)}`,children:[se.sentiment==="positive"&&"",se.sentiment==="neutral"&&"",se.sentiment==="negative"&&"",a.jsx("span",{className:"ml-1 capitalize",children:se.sentiment})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:se.anomaly?a.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:[a.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Anomaly"]}):a.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:[a.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Normal"]})})]},se.id||ye))})]}),Q.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 4h.01M9 16h.01"})}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Evaluations Found"}),a.jsx("p",{className:"text-gray-500",children:u||m!=="all"||p!=="all"||x!=="all"?"No evaluations match your current filters. Try adjusting your search criteria.":"No evaluations have been submitted yet. Check back later for student feedback."})]})]}),Z&&Z.total>0&&a.jsx(tc,{currentPage:R,totalPages:Z.pages,totalItems:Z.total,onPageChange:D,itemLabel:"evaluations",itemsPerPage:z,onItemsPerPageChange:se=>{W(se),D(1)},showItemsPerPage:!0})]})})]})]}):null}function Cee(){const{user:e}=ma(),[t,r]=L.useState(!0),[n,s]=L.useState(null),[i,o]=L.useState(null),[l,u]=L.useState(""),[f,h]=L.useState([]),[m,v]=L.useState(null),[p,w]=L.useState(null),[x,y]=L.useState({}),[j,A]=L.useState({}),N=e?.role==="secretary"?Yr:Xr;L.useEffect(()=>{(async()=>{if(e)try{const R=await N.getEvaluationPeriods();h(R.data||[]);const D=R.data?.find(z=>z.status==="Open"||z.status==="active"||z.status==="Active");D&&(w(D.id),v(D.id))}catch(R){console.error("Error fetching evaluation periods:",R)}})()},[e?.role]),L.useEffect(()=>{(m||p)&&k()},[m]);const k=async()=>{try{r(!0),s(null);const G={};m&&(G.evaluation_period_id=m);const R=await N.getNonRespondents(G),D=R.data||R,z=C(D.non_respondents||[]);o({...D,groupedData:z})}catch(G){console.error("Error fetching non-respondents:",G),s(G.message||"Failed to load non-respondents data")}finally{r(!1)}},C=G=>{const R={};return G.forEach(D=>{const z=`${D.program}-${D.section||"No Section"}`;R[z]||(R[z]={program:D.program,section:D.section||"No Section",yearLevel:D.year_level,courseSections:{},totalStudents:0}),D.pending_courses?.forEach(W=>{const Z=W.course_code||W.class_code||"Unknown Course";R[z].courseSections[Z]||(R[z].courseSections[Z]={courseCode:Z,courseName:W.course_name||W.subject_name||Z,students:[]}),R[z].courseSections[Z].students.find(ge=>ge.student_id===D.student_id)||R[z].courseSections[Z].students.push({student_id:D.student_id,student_number:D.student_number,full_name:D.full_name,year_level:D.year_level})}),R[z].totalStudents++}),R},T=G=>{y(R=>({...R,[G]:!R[G]}))},F=(G,R)=>{const D=`${G}-${R}`;A(z=>({...z,[D]:!z[D]}))},M=G=>{if(!l)return G;const R={};return Object.entries(G).forEach(([D,z])=>{const W={};Object.entries(z.courseSections).forEach(([Z,le])=>{const ge=le.students.filter(te=>te.student_number.toLowerCase().includes(l.toLowerCase())||te.full_name.toLowerCase().includes(l.toLowerCase()));ge.length>0&&(W[Z]={...le,students:ge})}),Object.keys(W).length>0&&(R[D]={...z,courseSections:W})}),R},q=i?.groupedData?M(i.groupedData):{};return t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#9D1535] mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading non-respondents..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsxs("div",{className:"flex items-center space-x-5",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Non-Respondent Tracking"}),a.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:"Students who haven't completed evaluations by section"})]})]})})}),a.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!p&&!m?a.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[a.jsx(Zl,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),f.length>0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 mb-6",children:"Select a past evaluation period to view historical data:"}),a.jsx("div",{className:"max-w-xs mx-auto",children:a.jsx(ht,{options:[{value:"",label:"Select Period"},...f.map(G=>({value:G.id.toString(),label:`${G.name} (${G.academic_year||""})${G.status==="Open"||G.status==="active"||G.status==="Active"?" - Active":""}`}))],value:m?.toString()||"",onChange:G=>v(G),placeholder:"Select Period"})})]}):a.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to create and activate an evaluation period."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-5 lg:gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Total Students"}),a.jsx("p",{className:"text-4xl font-bold text-white",children:i?.total_students||0})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Responded"}),a.jsx("p",{className:"text-4xl font-bold text-white",children:i?.responded||0})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Non-Responded"}),a.jsx("p",{className:"text-4xl font-bold text-white",children:i?.non_responded||0})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Response Rate"}),a.jsx("p",{className:"text-4xl font-bold text-white",children:i?.response_rate||"0%"})]})]}),a.jsxs("div",{className:"lpu-card p-6 mb-6 overflow-visible",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Filters"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 overflow-visible",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Student"}),a.jsxs("div",{className:"relative",children:[a.jsx(qp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:l,onChange:G=>u(G.target.value),placeholder:"Student number or name...",className:"lpu-select pl-10"})]})]}),a.jsx(ht,{label:"Evaluation Period",value:m?.toString()||"",onChange:G=>v(G),options:[{value:"",label:"Select Period"},...f.map(G=>({value:G.id.toString(),label:`${G.name} ${G.status==="active"||G.status==="Active"?"(Active)":""}`}))]})]})]}),n?a.jsxs("div",{className:"lpu-card p-8 text-center",children:[a.jsx(Zl,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-red-600 mb-4",children:n}),a.jsx("button",{onClick:k,className:"lpu-btn-secondary",children:"Retry"})]}):Object.keys(q).length===0?a.jsxs("div",{className:"lpu-card p-8 text-center",children:[a.jsx(zp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No non-respondents found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All students have completed their evaluations!"})]}):a.jsx("div",{className:"space-y-4",children:Object.entries(q).map(([G,R])=>a.jsxs("div",{className:"lpu-card overflow-hidden",children:[a.jsxs("button",{onClick:()=>T(G),className:"w-full flex items-center justify-between p-5 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white hover:from-[#8a1000] hover:to-[#aa2000] transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(AX,{className:"w-6 h-6"}),a.jsxs("div",{className:"text-left",children:[a.jsxs("h3",{className:"text-lg font-bold",children:[R.program,R.section&&R.section!=="No Section"&&R.section!=="N/A"?` - ${R.section}`:""]}),a.jsxs("p",{className:"text-sm text-white/80",children:["Year ",R.yearLevel,"  ",Object.keys(R.courseSections).length," courses with pending evaluations"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-semibold",children:[R.totalStudents," ",R.totalStudents===1?"student":"students"," pending"]}),x[G]?a.jsx(FA,{className:"w-6 h-6"}):a.jsx(qw,{className:"w-6 h-6"})]})]}),x[G]&&a.jsx("div",{className:"p-4 bg-gray-50 space-y-3",children:Object.entries(R.courseSections).map(([D,z])=>{const W=`${G}-${D}`;return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsxs("button",{onClick:()=>F(G,D),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(hX,{className:"w-5 h-5 text-[#7a0000]"}),a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:z.courseCode}),a.jsx("p",{className:"text-sm text-gray-600",children:z.courseName})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-semibold",children:[z.students.length," pending"]}),j[W]?a.jsx(FA,{className:"w-5 h-5 text-gray-500"}):a.jsx(qw,{className:"w-5 h-5 text-gray-500"})]})]}),j[W]&&a.jsx("div",{className:"border-t border-gray-200",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase",children:"Student Number"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold uppercase",children:"Year Level"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:z.students.map(Z=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:Z.student_number}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:Z.full_name}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 text-center",children:Z.year_level})]},Z.student_id))})]})})]},D)})})]},G))})]})})]})}function Pee(){const e=Qn(),{user:t}=ma(),[r,n]=L.useState([]),[s,i]=L.useState(!0),[o,l]=L.useState(null),[u,f]=L.useState(""),h=Tf(u,500),[m,v]=L.useState("all"),[p,w]=L.useState("all"),[x,y]=L.useState("all"),[j,A]=L.useState("all"),[N,k]=L.useState("all"),[C,T]=L.useState("all"),[F,M]=L.useState([]),[q,G]=L.useState([]),[R,D]=L.useState([]),[z,W]=L.useState([]),[Z,le]=L.useState(null),[ge,te]=L.useState(null);L.useEffect(()=>{if(!t){e("/");return}if(t.role==="student"){e("/student/courses");return}if(!un(t)&&!Kd(t)){e("/");return}},[t,e]),L.useEffect(()=>{(async()=>{if(t)try{let Y,ne,he,Q;if(un(t)?[Y,ne,he,Q]=await Promise.all([rt.getPrograms(),Promise.resolve({data:[{id:1,year_level:1},{id:2,year_level:2},{id:3,year_level:3},{id:4,year_level:4}]}),rt.getCourses(),rt.getEvaluationPeriods()]):t.role==="secretary"?[Y,ne,he,Q]=await Promise.all([Yr.getPrograms(),Yr.getYearLevels(),Yr.getCourses(),Yr.getEvaluationPeriods()]):t.role==="department_head"&&([Y,ne,he,Q]=await Promise.all([Xr.getPrograms(),Xr.getYearLevels(),Xr.getCourses(),Xr.getEvaluationPeriods()])),Y?.data&&M(Mf(Y.data)),ne?.data&&G(ne.data),he?.data&&D(he.data),Q?.data){W(Q.data);const pe=Q.data.find(ce=>ce.status==="active"||ce.status==="Active");pe&&(te(pe.id),le(pe.id))}}catch(Y){console.error("Error fetching filter options:",Y)}})()},[t]),L.useEffect(()=>{(async()=>{if(t)try{if(i(!0),!Z&&!ge){n([]),i(!1);return}const Y={};Z&&(Y.period_id=Z);let ne;if(un(t))ne=await rt.getAnomalies(Y);else if(t.role==="secretary")ne=await Yr.getAnomalies(Y);else if(t.role==="department_head")ne=await Xr.getAnomalies(Y);else throw new Error(`Unsupported role: ${t.role}`);const he=Array.isArray(ne)?ne:ne?.data||[];n(he)}catch(Y){console.error("Error fetching anomalies:",Y),l(Y.message||"Failed to load anomalies")}finally{i(!1)}})()},[t,Z]);const ue=L.useMemo(()=>r.filter(B=>{const Y=u===""||B.courseName?.toLowerCase().includes(h.toLowerCase())||B.comment?.toLowerCase().includes(h.toLowerCase())||B.instructorName?.toLowerCase().includes(h.toLowerCase()),ne=m==="all"||B.severity===m,he=p==="all"||B.programId===parseInt(p),Q=x==="all"||B.yearLevel===parseInt(x),pe=j==="all"||B.courseId===parseInt(j),ce=N==="all"||B.semester===N;let me=!0;if(C!=="all"&&B.submittedAt){const _e=new Date(B.submittedAt),se=new Date;if(C==="today")me=_e.toDateString()===se.toDateString();else if(C==="week"){const ye=new Date(se.getTime()-6048e5);me=_e>=ye}else if(C==="month"){const ye=new Date(se.getTime()-2592e6);me=_e>=ye}else if(C==="semester"){const ye=new Date(se.getFullYear(),se.getMonth()>=6?6:0,1);me=_e>=ye}}return Y&&ne&&he&&Q&&pe&&ce&&me}),[r,u,m,p,x,j,N,C]),H=L.useMemo(()=>{const B=r.length,Y=r.filter(Q=>Q.severity==="High").length,ne=r.filter(Q=>Q.severity==="Medium").length,he=r.filter(Q=>Q.severity==="Low").length;return{total:B,high:Y,medium:ne,low:he}},[r]),ae=L.useMemo(()=>[{name:"High",value:H.high,color:"#ef4444"},{name:"Medium",value:H.medium,color:"#f59e0b"},{name:"Low",value:H.low,color:"#10b981"}],[H]),U=B=>{switch(B){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return t?s?a.jsx("div",{className:"flex items-center justify-center min-h-screen lpu-background",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading anomalies..."})]})}):o?a.jsx("div",{className:"flex items-center justify-center min-h-screen lpu-background",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg max-w-md",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Error Loading Anomalies"}),a.jsx("p",{className:"text-gray-600 mb-4",children:o}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-2 rounded",children:"Retry"})]})}):a.jsxs("div",{className:"min-h-screen lpu-background",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Anomaly Detection System"}),a.jsx("p",{className:"text-[#ffd700] text-sm",children:"Advanced DBSCAN-based anomaly detection in course evaluations"})]})]}),a.jsx("div",{className:"flex space-x-4",children:a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-white/80 text-sm",children:un(t)?"System-wide Analysis":`${t.department} Department`}),a.jsxs("p",{className:"font-bold text-[#ffd700] text-lg",children:[H.total," Anomalies Detected"]})]}),a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})})]})})}),a.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!ge&&!Z?a.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[a.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),z.length>0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 mb-6",children:"Select a past evaluation period to view historical anomaly data:"}),a.jsx("div",{className:"max-w-xs mx-auto",children:a.jsx(ht,{options:[{value:"",label:"Select Period"},...z.map(B=>({value:B.id,label:`${B.name} (${B.academic_year||""})${B.status==="Open"||B.status==="active"||B.status==="Active"?" - Active":""}`}))],value:Z||"",onChange:B=>le(B),placeholder:"Select Period"})})]}):a.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to create and activate an evaluation period."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Total Anomalies"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:H.total})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"High Severity"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:H.high})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Medium Severity"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:H.medium})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Low Severity"}),a.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:H.low})]}),a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),a.jsxs("div",{className:"lpu-card mb-8",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-[#7a0000] flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Anomaly Severity Distribution"]}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"DBSCAN-based severity classification analysis"})]}),ae.some(B=>B.value>0)?a.jsx("div",{className:"lpu-chart-container",children:a.jsx(Yc,{width:"100%",height:350,children:a.jsxs(Rf,{data:ae,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(oc,{dataKey:"name",tick:{fontSize:12}}),a.jsx(lc,{tick:{fontSize:12}}),a.jsx(ci,{contentStyle:{backgroundColor:"#7a0000",border:"none",borderRadius:"8px",color:"white"}}),a.jsx(Ia,{dataKey:"value",fill:"#7a0000",radius:[4,4,0,0]})]})})}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Anomalies Detected"}),a.jsx("p",{children:"The system has not identified any anomalous evaluation patterns"})]})]}),a.jsxs("div",{className:"lpu-card mb-8 p-8 overflow-visible",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[a.jsxs("h2",{className:"text-2xl font-semibold text-[#7a0000] flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),"Search & Filter Anomalies"]}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Find specific anomalies by course, student, or content"})]}),a.jsxs("div",{className:"space-y-4 overflow-visible",children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 overflow-visible",children:[a.jsx(ht,{label:" Evaluation Period",value:Z?Z.toString():"",onChange:B=>le(B),options:[{value:"",label:"Select Period"},...z.map(B=>({value:B.id.toString(),label:`${B.name} ${B.status==="active"||B.status==="Active"?"(Active)":""}`}))]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Search Anomalies"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search by course, instructor, or comment...",value:u,onChange:B=>f(B.target.value),className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent transition-all duration-200"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),a.jsx(ht,{label:" Severity Level",value:m,onChange:B=>v(B),options:[{value:"all",label:"All Severities"},{value:"High",label:" High Severity"},{value:"Medium",label:" Medium Severity"},{value:"Low",label:" Low Severity"}]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 overflow-visible",children:[a.jsx(ht,{label:" Program",value:p,onChange:B=>w(B),options:[{value:"all",label:"All Programs"},...F.map(B=>({value:B.id.toString(),label:B.name||B.program_name}))],searchable:!0}),a.jsx(ht,{label:" Year Level",value:x,onChange:B=>y(B),options:[{value:"all",label:"All Years"},...q.map(B=>({value:B.year_level.toString(),label:`Year ${B.year_level}`}))]}),a.jsx(ht,{label:" Course",value:j,onChange:B=>A(B),options:[{value:"all",label:"All Courses"},...R.map(B=>({value:B.id.toString(),label:`${B.code} - ${B.name}`}))],searchable:!0})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 overflow-visible",children:[a.jsx(ht,{label:" Semester",value:N,onChange:B=>k(B),options:[{value:"all",label:"All Semesters"},{value:"1st Semester",label:"1st Semester"},{value:"2nd Semester",label:"2nd Semester"},{value:"Summer",label:"Summer"}]}),a.jsx(ht,{label:" Date Range",value:C,onChange:B=>T(B),options:[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"semester",label:"Current Semester"}]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[a.jsx("div",{className:"text-sm text-gray-600",children:(u||m!=="all"||p!=="all"||x!=="all"||j!=="all"||N!=="all"||C!=="all")&&a.jsxs("span",{className:"font-medium",children:[" ",[u&&"Search",m!=="all"&&"Severity",p!=="all"&&"Program",x!=="all"&&"Year",j!=="all"&&"Course",N!=="all"&&"Semester",C!=="all"&&"Date"].filter(Boolean).join(", ")," active"]})}),a.jsx("button",{onClick:()=>{f(""),v("all"),w("all"),y("all"),A("all"),k("all"),T("all")},className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-all text-sm font-medium",children:" Clear All Filters"})]})]})]}),a.jsxs("div",{className:"lpu-card",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-[#7a0000]/5 to-[#ffd700]/5",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-[#7a0000] flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Detected Anomalies"]}),a.jsxs("p",{className:"text-gray-600 mt-1 font-medium",children:["Showing ",ue.length," of ",H.total," anomalous evaluations"]})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("span",{className:"px-3 py-1 bg-[#7a0000] text-white text-sm font-medium rounded-full",children:[ue.length," Results"]})})]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:ue.map(B=>a.jsxs("div",{className:"p-6 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-25 transition-all duration-200 group",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#7a0000] to-[#9a1000] rounded-lg flex items-center justify-center mr-3",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-[#7a0000] transition-colors duration-200",children:B.courseName}),a.jsxs("span",{className:`ml-3 px-3 py-1 text-xs font-bold rounded-full ${U(B.severity)}`,children:[B.severity," Severity"]})]}),a.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500 mb-3",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),B.program]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Student: ",B.student]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Detected: ",B.detectedAt]})]})]})}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 p-4 rounded-lg text-center border border-gray-300",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx("svg",{className:"w-5 h-5 text-[#7a0000] mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),a.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Average Rating"})]}),a.jsxs("p",{className:"text-2xl font-bold text-[#7a0000]",children:[B.avgRating,"/4.0"]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-blue-200 p-4 rounded-lg text-center border border-blue-300",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("p",{className:"text-xs font-semibold text-blue-600",children:"DBSCAN Score"})]}),a.jsx("p",{className:"text-2xl font-bold text-blue-800",children:B.dbscanScore})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-green-200 p-4 rounded-lg text-center border border-green-300",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx("svg",{className:"w-5 h-5 text-green-600 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"text-xs font-semibold text-green-600",children:"Confidence"})]}),a.jsxs("p",{className:"text-2xl font-bold text-green-800",children:[B.confidence,"%"]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 p-5 rounded-lg border border-yellow-200",children:[a.jsxs("h4",{className:"font-bold text-yellow-800 mb-3 flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Anomaly Details"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-yellow-700",children:[a.jsx("span",{className:"font-semibold",children:"Type:"})," ",B.anomalyType]}),a.jsxs("p",{className:"text-sm text-yellow-700",children:[a.jsx("span",{className:"font-semibold",children:"Description:"})," ",B.description]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-5 rounded-lg border border-gray-200",children:[a.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Student Comment"]}),a.jsxs("p",{className:"text-sm text-gray-700 italic leading-relaxed bg-white p-3 rounded border",children:['"',B.comment,'"']})]})]}),B.ratings&&a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-5 rounded-lg border border-blue-200",children:[a.jsxs("h4",{className:"font-bold text-blue-800 mb-4 flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Rating Breakdown"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(B.ratings).map(([Y,ne])=>a.jsxs("div",{className:"bg-white p-3 rounded-lg border shadow-sm",children:[a.jsx("div",{className:"text-xs text-gray-600 font-medium mb-1",children:Y}),a.jsxs("div",{className:"text-lg font-bold text-blue-800",children:[parseFloat(ne).toFixed(2),"/4.0"]}),a.jsx("div",{className:"flex mt-1",children:[...Array(4)].map((he,Q)=>a.jsx("svg",{className:`w-3 h-3 ${Q<Math.floor(ne)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Q))})]},Y))})]})]},B.id))}),ue.length===0&&a.jsx("div",{className:"text-center py-12 text-gray-500",children:u||m!=="all"?"No anomalies match your current filters":"No anomalies detected"})]}),a.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"About DBSCAN Anomaly Detection"}),a.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Our system uses Density-Based Spatial Clustering of Applications with Noise (DBSCAN) to identify anomalous patterns in course evaluations. This algorithm excels at finding outliers in multi-dimensional rating data by analyzing the density of similar evaluations."}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-800",children:"High Severity"}),a.jsx("p",{className:"text-blue-600",children:"Isolated outliers with significant rating deviations"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-800",children:"Medium Severity"}),a.jsx("p",{className:"text-blue-600",children:"Border points with moderate anomaly patterns"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-800",children:"Low Severity"}),a.jsx("p",{className:"text-blue-600",children:"Minor deviations requiring attention"})]})]})]})]})})]}):null}function Eee({filters:e={},filterLabels:t={},onClearFilter:r,onClearAll:n,totalResults:s,itemLabel:i="items",filterOptions:o={}}){const l=Object.entries(e).filter(([f,h])=>h&&h!=="all"&&h!=="");if(l.length===0)return null;const u=(f,h)=>{if(o[f]){const m=o[f].find(v=>v.value===h||v.id===h||v.value===parseInt(h));if(m)return m.label||m.name||m.program_name||m.program_code||h}return h};return a.jsx("div",{className:"bg-gradient-to-r from-[#9D1535]/10 to-[#7D1028]/10 rounded-lg border-2 border-[#9D1535]/30 p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700 mr-2",children:"Active Filters:"}),l.map(([f,h])=>a.jsxs("div",{className:"inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 text-sm font-medium text-gray-700 border border-[#9D1535]/30 shadow-sm hover:shadow-md transition-all duration-200",children:[a.jsxs("span",{className:"text-[#9D1535] font-semibold",children:[t[f]||f,":"]}),a.jsx("span",{className:"text-gray-900",children:u(f,h)}),a.jsx("button",{onClick:()=>r(f),className:"ml-1 text-gray-400 hover:text-[#9D1535] transition-colors duration-200","aria-label":`Clear ${t[f]||f} filter`,children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},f))]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[s!==void 0&&a.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[a.jsx("span",{className:"text-[#9D1535] font-bold text-lg",children:s})," ",i," found"]}),a.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#9D1535] to-[#7D1028] hover:from-[#7D1028] hover:to-[#5D0C1F] text-white font-semibold px-4 py-2 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md whitespace-nowrap",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Clear All"]})]})]})})}function Lee(){const{user:e}=ma(),[t,r]=L.useState(!0),[n,s]=L.useState(null),[i,o]=L.useState(null),[l,u]=L.useState(""),[f,h]=L.useState("all"),[m,v]=L.useState("all"),[p,w]=L.useState(1),[x,y]=L.useState(15),[j,A]=L.useState([]),[N,k]=L.useState([]),[C,T]=L.useState(null),[F,M]=L.useState(null),q=[{value:"1",label:"Year 1"},{value:"2",label:"Year 2"},{value:"3",label:"Year 3"},{value:"4",label:"Year 4"}];L.useEffect(()=>{G(),R()},[]),L.useEffect(()=>{(C||F)&&D()},[f,m,C]);const G=async()=>{try{const H=await rt.getPrograms();A(H.data||[])}catch(H){console.error("Error fetching programs:",H)}},R=async()=>{try{const H=await rt.getEvaluationPeriods();k(H.data||[]);const ae=H.data?.find(U=>U.status==="active"||U.status==="Active");ae&&(M(ae.id),T(ae.id))}catch(H){console.error("Error fetching evaluation periods:",H)}},D=async()=>{try{r(!0),s(null);const H={};f!=="all"&&(H.program_id=f),m!=="all"&&(H.year_level=m),C&&(H.evaluation_period_id=C);const ae=await rt.getNonRespondents(H);o(ae.data||ae),w(1)}catch(H){console.error("Error fetching non-respondents:",H),s(H.message||"Failed to load non-respondents data")}finally{r(!1)}},z=i?.non_respondents?.filter(H=>l===""||H.student_number.toLowerCase().includes(l.toLowerCase())||H.full_name.toLowerCase().includes(l.toLowerCase())||H.program.toLowerCase().includes(l.toLowerCase()))||[],W=Math.ceil(z.length/x),Z=z.slice((p-1)*x,p*x),le=()=>{if(!z.length)return;const H=["Student Number","Name","Program","Section","Year Level","Pending Count","Completed","Total Courses","Pending Courses"],ae=z.map(he=>[he.student_number,he.full_name,he.program,he.section,he.year_level,he.pending_count,he.completed_count,he.total_courses,he.pending_courses.map(Q=>`${Q.course_code}: ${Q.course_name}`).join("; ")]),U=[H.join(","),...ae.map(he=>he.map(Q=>`"${Q}"`).join(","))].join(`
`),B=new Blob([U],{type:"text/csv"}),Y=window.URL.createObjectURL(B),ne=document.createElement("a");ne.href=Y,ne.download=`non-respondents-${new Date().toISOString().split("T")[0]}.csv`,ne.click()},ge=H=>{H==="program"&&h("all"),H==="yearLevel"&&v("all"),H==="search"&&u("")},te=()=>{h("all"),v("all"),u("")},ue={};return f!=="all"&&(ue.program=f),m!=="all"&&(ue.yearLevel=m),l&&(ue.search=l),t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#9D1535] mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading non-respondents..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[a.jsx("header",{className:"lpu-header",children:a.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:a.jsxs("div",{className:"flex items-center space-x-5",children:[a.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Non-Respondent Tracking"}),a.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:"Students who haven't completed evaluations"})]})]})})}),a.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!F&&!C?a.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[a.jsx(Zl,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),N.length>0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 mb-6",children:"Select a past evaluation period to view historical data:"}),a.jsx("div",{className:"max-w-xs mx-auto",children:a.jsx(ht,{options:[{value:"",label:"Select Period"},...N.map(H=>({value:H.id.toString(),label:`${H.name} (${H.academic_year||""})${H.status==="Open"||H.status==="active"||H.status==="Active"?" - Active":""}`}))],value:C?.toString()||"",onChange:H=>T(H),placeholder:"Select Period"})})]}):a.jsx("p",{className:"text-gray-500",children:"Please activate an evaluation period from Evaluation Period Management."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-5 lg:gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Total Students"}),a.jsx("p",{className:"text-4xl font-bold text-white",children:i?.total_students||0})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Responded"}),a.jsx("p",{className:"text-4xl font-bold text-white",children:i?.responded||0})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Non-Responded"}),a.jsx("p",{className:"text-4xl font-bold text-white",children:i?.non_responded||0})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Response Rate"}),a.jsx("p",{className:"text-4xl font-bold text-white",children:i?.response_rate||"0%"})]})]}),a.jsxs("div",{className:"lpu-card p-6 mb-6 overflow-visible",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Filters"}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 overflow-visible",children:[a.jsx(ht,{label:"Evaluation Period",value:C?C.toString():"",onChange:H=>T(H),options:[{value:"",label:"Select Period"},...N.map(H=>({value:H.id.toString(),label:`${H.name} ${H.status==="active"||H.status==="Active"?"(Active)":""}`}))]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(qp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:l,onChange:H=>u(H.target.value),placeholder:"Student number or name...",className:"lpu-select pl-10"})]})]}),a.jsx(ht,{label:"Program",value:f,onChange:H=>h(H),options:[{value:"all",label:"All Programs"},...j.map(H=>({value:H.id.toString(),label:`${H.program_code} - ${H.program_name}`}))],searchable:!0}),a.jsx(ht,{label:"Year Level",value:m,onChange:H=>v(H),options:[{value:"all",label:"All Year Levels"},...q.map(H=>({value:H.value,label:H.label}))]})]})]}),a.jsx(Eee,{filters:ue,filterLabels:{program:"Program",yearLevel:"Year Level",search:"Search"},filterOptions:{program:j.map(H=>({value:H.id,label:`${H.program_code} - ${H.program_name}`})),yearLevel:q},onClearFilter:ge,onClearAll:te,totalResults:z.length,itemLabel:"students"}),a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{onClick:le,disabled:!z.length,className:"lpu-btn-primary inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(PE,{className:"w-4 h-4"}),"Export to CSV"]})}),a.jsx("div",{className:"lpu-card overflow-hidden",children:n?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Zl,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-red-600 mb-4",children:n}),a.jsx("button",{onClick:D,className:"lpu-btn-secondary",children:"Retry"})]}):Z.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(zp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No non-respondents found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Student Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Program"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-6 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Year"}),a.jsx("th",{className:"px-6 py-3 text-center text-sm font-semibold uppercase tracking-wider",children:"Pending"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending Courses"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map(H=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:H.student_number}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H.full_name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:H.program}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:H.section}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:H.year_level}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:H.pending_count})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:[H.completed_count,"/",H.total_courses]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.jsxs("div",{className:"max-w-xs",children:[H.pending_courses.slice(0,2).map((ae,U)=>a.jsx("div",{className:"text-xs",children:ae.course_code},U)),H.pending_courses.length>2&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",H.pending_courses.length-2," more"]})]})})]},H.student_id))})]})}),a.jsx(tc,{currentPage:p,totalPages:W,totalItems:z.length,onPageChange:w,itemLabel:"students",itemsPerPage:x,onItemsPerPageChange:H=>{y(H),w(1)},showItemsPerPage:!0})]})})]})})]})}function Oee(e){if(!e)return null;const n=new Date(e+"T23:59:59")-new Date;if(n<=0)return{expired:!0,days:0,hours:0,minutes:0};const s=Math.floor(n/(1e3*60*60*24)),i=Math.floor(n%(1e3*60*60*24)/(1e3*60*60)),o=Math.floor(n%(1e3*60*60)/(1e3*60));return{expired:!1,days:s,hours:i,minutes:o}}function Ree(){const e=Qn(),{user:t,logout:r}=ma(),[n,s]=L.useState(null),[i,o]=L.useState([]),[l,u]=L.useState([]),[f,h]=L.useState(""),[m,v]=L.useState([]),[p,w]=L.useState(!1),[x,y]=L.useState(null),[j,A]=L.useState(null);L.useEffect(()=>{let M=t;if(!M){const q=localStorage.getItem("currentUser");q&&(M=JSON.parse(q))}s(M)},[t]);const{data:N,loading:k,error:C,retry:T}=tu(async()=>n?.id?await kh.getCourses(n.id):{data:[]},[n?.id]);L.useEffect(()=>{if(N){let M=[];Array.isArray(N)?M=N:(N?.data&&Array.isArray(N.data)||N?.success&&Array.isArray(N.data))&&(M=N.data),o(M),N?.evaluation_status&&y(N.evaluation_status)}},[N]),L.useEffect(()=>{if(!x?.period_end_date)return;const M=()=>{A(Oee(x.period_end_date))};M();const q=setInterval(M,6e4);return()=>clearInterval(q)},[x?.period_end_date]);const F=async()=>{if(n?.id){w(!0);try{const M=await kh.getEvaluationHistory(n.id,f||null);M.success&&(u(M.data||[]),v(M.available_periods||[]))}catch{u([])}finally{w(!1)}}};return L.useEffect(()=>{n?.id&&F()},[n?.id,f]),n?k?a.jsx(ko,{message:"Loading your courses..."}):C?a.jsx(ru,{error:C,onRetry:T}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:a.jsxs("div",{className:"w-full mx-auto max-w-screen-2xl px-6 sm:px-8 lg:px-10 py-10 lg:py-12",children:[a.jsx("div",{className:"bg-white rounded-card shadow-card border border-gray-200 p-6 lg:p-8 mb-6 lg:mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:"My Courses"}),a.jsxs("p",{className:"text-sm md:text-base text-gray-600",children:[n.first_name&&n.last_name?`${n.first_name} ${n.last_name}`:n.name||n.email,(n.program||n.program_code)&&`  ${zd(n.program||n.program_code)}`,(n.year_level||n.yearLevel)&&`  Year ${n.year_level||n.yearLevel}`]})]})}),x?.active_period_exists&&j&&!j.expired&&a.jsx("div",{className:`rounded-card shadow-card border p-4 lg:p-5 mb-6 lg:mb-8 ${j.days<=1?"bg-red-50 border-red-300":j.days<=3?"bg-amber-50 border-amber-300":"bg-blue-50 border-blue-300"}`,children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-full ${j.days<=1?"bg-red-100":j.days<=3?"bg-amber-100":"bg-blue-100"}`,children:a.jsx("svg",{className:`w-6 h-6 ${j.days<=1?"text-red-600":j.days<=3?"text-amber-600":"text-blue-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-semibold ${j.days<=1?"text-red-800":j.days<=3?"text-amber-800":"text-blue-800"}`,children:j.days<=1?" Evaluation Period Ending Soon!":j.days<=3?" Evaluation Period Deadline Approaching":" Active Evaluation Period"}),a.jsxs("p",{className:`text-sm ${j.days<=1?"text-red-700":j.days<=3?"text-amber-700":"text-blue-700"}`,children:[x.active_period_name&&a.jsxs("span",{className:"font-medium",children:[x.active_period_name,": "]}),a.jsxs("span",{className:"font-bold",children:[j.days>0&&`${j.days} day${j.days!==1?"s":""}, `,j.hours," hour",j.hours!==1?"s":"",", ",j.minutes," minute",j.minutes!==1?"s":""," remaining"]})]}),x.evaluable_courses>0&&a.jsxs("p",{className:`text-xs mt-1 ${j.days<=1?"text-red-600":j.days<=3?"text-amber-600":"text-blue-600"}`,children:["You have ",x.evaluable_courses," course",x.evaluable_courses!==1?"s":""," pending evaluation"]})]})]})}),a.jsx("div",{className:"bg-white rounded-card shadow-card border border-gray-200 overflow-hidden",children:i.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.jsx("p",{className:"text-gray-500 text-sm",children:"No courses found"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Course Code"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Class Code"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Subject Name"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Semester"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:i.map(M=>a.jsxs("tr",{onClick:()=>e(`/student/evaluate/${M.class_section_id||M.id}`),className:`cursor-pointer transition-all hover:bg-blue-50 ${M.already_evaluated?"bg-green-50/30":""}`,children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:M.code})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-mono text-gray-700",children:M.class_code})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:M.name})}),a.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-600",children:M.semester===1||M.semester==="1"?"1st Semester":M.semester===2||M.semester==="2"?"2nd Semester":M.semester||"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:M.already_evaluated?a.jsx("div",{className:"flex items-center justify-center gap-4 lg:gap-5",children:a.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[a.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Evaluated"]})}):a.jsx("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-orange-100 text-orange-800",children:"Pending"})})]},M.class_section_id||`${M.id}-${M.class_code}`))})]})})}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Evaluation History"}),m.length>0&&a.jsx("div",{className:"sm:w-64",children:a.jsx(ht,{value:f,onChange:M=>h(M),options:[{value:"",label:"All Periods"},...m.map(M=>({value:M.id.toString(),label:`${M.name} (${M.evaluation_count} evaluation${M.evaluation_count!==1?"s":""})`}))]})})]}),a.jsx("div",{className:"bg-white rounded-card shadow-card border border-gray-200 overflow-hidden",children:p?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#7a0000] border-r-transparent"}),a.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"Loading history..."})]}):l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsx("p",{className:"text-gray-500 text-sm",children:"No evaluation history found"}),f&&a.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Try selecting a different period"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Course"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Evaluation Period"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider w-40",children:"Submitted"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider w-32",children:"Rating"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold uppercase tracking-wider w-32",children:"Sentiment"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map((M,q)=>{const G=M.evaluation_id&&M.submission_date;return a.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${G?"":"bg-yellow-50/30"}`,children:[a.jsx("td",{className:"px-6 py-5",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-base font-medium text-gray-900",children:M.course.subject_name}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:M.course.class_code})]})}),a.jsx("td",{className:"px-6 py-5",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-base font-medium text-gray-900",children:M.evaluation_period.name}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[M.evaluation_period.semester,"  ",M.evaluation_period.academic_year]}),a.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${M.evaluation_period.status==="active"||M.evaluation_period.status==="Open"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:M.evaluation_period.status==="active"||M.evaluation_period.status==="Open"?"Active":"Closed"})]})}),a.jsx("td",{className:"px-6 py-5 text-center whitespace-nowrap",children:G?a.jsx("span",{className:"text-sm text-gray-600",children:new Date(M.submission_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}):a.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:"No Response"})}),a.jsx("td",{className:"px-6 py-5 text-center whitespace-nowrap",children:G?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:M.rating_overall?.toFixed(1)||"N/A"}),a.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"/4"})]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx("td",{className:"px-6 py-5 text-center whitespace-nowrap",children:G&&M.sentiment?a.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium ${M.sentiment==="positive"?"bg-green-100 text-green-800":M.sentiment==="negative"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[M.sentiment==="positive"&&a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"})}),M.sentiment==="negative"&&a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-5.172 7.414a1 1 0 001.415-1.414 3 3 0 014.242 0 1 1 0 001.415 1.414 5 5 0 00-7.072 0z",clipRule:"evenodd"})}),M.sentiment.charAt(0).toUpperCase()+M.sentiment.slice(1)]}):a.jsx("span",{className:"text-sm text-gray-400",children:""})})]},M.evaluation_id||`no-eval-${q}`)})})]})})})]})]})}):a.jsx(ko,{message:"Loading student info..."})}function Tee(){const{courseId:e}=t9(),{user:t}=ma(),[r,n]=L.useState(null),[s,i]=L.useState(!0),[o,l]=L.useState(!1),[u,f]=L.useState(()=>{const C={};return Zo.forEach(T=>{T.questions.forEach(F=>{C[F.id]=null})}),C}),[h,m]=L.useState(""),[v,p]=L.useState(""),[w,x]=L.useState(0),y=Qn();L.useEffect(()=>{(async()=>{try{i(!0);const T=t||JSON.parse(localStorage.getItem("currentUser")),F=await kh.getCourses(T.id),q=(F?.data||F||[]).find(G=>G.class_section_id===parseInt(e)||G.id===parseInt(e));if(q){if(q.already_evaluated){alert("You have already submitted an evaluation for this course. Evaluations cannot be edited once submitted."),y("/student/courses");return}n(q)}else{const G=await kh.getCourseDetails(e);n(G||{name:e,class_section_id:e})}}catch{n({name:e,class_section_id:e})}finally{i(!1)}})()},[e,t,y]);function j(C,T){f(F=>({...F,[C]:Number(T)}))}function A(C){const T=Zo[C];return T.questions.filter(M=>u[M.id]!==null).length/T.questions.length*100}function N(){return Object.values(u).every(T=>T!==null)}async function k(){if(p(""),!N())return p("Please complete all ratings before submitting");try{l(!0);const C=t||JSON.parse(localStorage.getItem("currentUser")),T={class_section_id:parseInt(e),student_id:C.id,evaluation_period_id:r?.evaluation_period_id||null,ratings:u,comment:h};await kh.submitEvaluation(T),alert("Evaluation submitted successfully! Thank you for your feedback."),y("/student/courses")}catch(C){const T=C.response?.data?.detail||C.message||"Failed to submit evaluation. Please try again.";p(T)}finally{l(!1)}}return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:a.jsx("div",{className:"w-full mx-auto max-w-screen-2xl px-6 sm:px-8 lg:px-10 py-10 lg:py-12",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading course..."})]})})}):r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:a.jsx("div",{className:"w-full mx-auto max-w-screen-2xl px-6 sm:px-8 lg:px-10 py-10 lg:py-12",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card",children:[a.jsxs("div",{className:"p-6 lg:p-8 border-b bg-gradient-to-r from-[#7a0000] to-[#8f0000]",children:[a.jsxs("button",{onClick:()=>y("/student/courses"),className:"text-white hover:text-gray-200 mb-4 lg:mb-5 flex items-center text-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Courses"]}),a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-white",children:["Course Evaluation: ",r.name||"Course"]}),a.jsx("p",{className:"text-sm text-gray-200 mt-1",children:r.class_code||r.code||""}),a.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:[r.semester||"Current Semester","  ",r.academic_year||"Academic Year 2024-2025"]})]}),a.jsxs("div",{className:"px-6 lg:px-8 py-5 lg:py-6 bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-5",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[Object.values(u).filter(C=>C!==null).length," of ",Object.keys(u).length," answered"]})]}),a.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3 shadow-inner",children:a.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#a31111] h-3 rounded-full transition-all duration-500 shadow-sm",style:{width:`${Object.values(u).filter(C=>C!==null).length/Object.keys(u).length*100}%`}})})]}),a.jsx("div",{className:"px-6 lg:px-8 pt-4 lg:pt-5 border-b",children:a.jsx("div",{className:"flex overflow-x-auto gap-4 lg:gap-5 -mb-px",children:Zo.map((C,T)=>{const F=A(T);return a.jsxs("button",{onClick:()=>x(T),className:`px-4 py-3 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${w===T?"border-[#7a0000] text-[#7a0000]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:C.name}),F===100&&a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),a.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1",children:a.jsx("div",{className:"bg-[#7a0000] h-1 rounded-full transition-all",style:{width:`${F}%`}})})]},T)})})}),a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"mb-6 lg:mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:Zo[w].name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Zo[w].description}),a.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-4 bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Rating Scale:"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-red-100 text-red-700 text-xs font-medium",children:[a.jsx("span",{children:""})," 1 = Strongly Disagree"]}),a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-orange-100 text-orange-700 text-xs font-medium",children:[a.jsx("span",{children:""})," 2 = Disagree"]}),a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-medium",children:[a.jsx("span",{children:""})," 3 = Agree"]}),a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs font-medium",children:[a.jsx("span",{children:""})," 4 = Strongly Agree"]})]})]})]}),a.jsx("div",{className:"space-y-8",children:Zo[w].questions.map((C,T)=>a.jsxs("div",{className:T!==Zo[w].questions.length-1?"border-b border-gray-200 pb-6":"",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"font-semibold text-gray-900 text-base",children:C.text}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:C.shortLabel})]}),a.jsx("div",{className:"flex flex-wrap items-center gap-3",children:[{value:1,label:"Strongly Disagree",emoji:"",color:"from-red-500 to-red-600",hoverBg:"hover:bg-red-50",borderColor:"border-red-300",textColor:"text-red-600"},{value:2,label:"Disagree",emoji:"",color:"from-orange-500 to-orange-600",hoverBg:"hover:bg-orange-50",borderColor:"border-orange-300",textColor:"text-orange-600"},{value:3,label:"Agree",emoji:"",color:"from-blue-500 to-blue-600",hoverBg:"hover:bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-600"},{value:4,label:"Strongly Agree",emoji:"",color:"from-green-500 to-green-600",hoverBg:"hover:bg-green-50",borderColor:"border-green-300",textColor:"text-green-600"}].map(F=>a.jsxs("button",{type:"button",onClick:()=>j(C.id,F.value),className:`flex flex-col items-center justify-center px-4 py-3 rounded-xl border-2 transition-all duration-200 min-w-[90px] ${u[C.id]===F.value?`bg-gradient-to-br ${F.color} text-white border-transparent shadow-lg scale-105`:`bg-white ${F.borderColor} ${F.textColor} ${F.hoverBg} hover:border-opacity-100 hover:shadow-md`}`,children:[a.jsx("span",{className:"text-2xl mb-1",children:F.emoji}),a.jsx("span",{className:"font-bold text-lg",children:F.value}),a.jsx("span",{className:`text-xs mt-0.5 ${u[C.id]===F.value?"text-white/90":"text-gray-500"}`,children:F.label})]},F.value))})]},C.id))}),a.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[a.jsxs("button",{onClick:()=>x(Math.max(0,w-1)),disabled:w===0,className:"px-4 py-2 border rounded bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Previous"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Category ",w+1," of ",Zo.length]}),a.jsxs("button",{onClick:()=>x(Math.min(Zo.length-1,w+1)),disabled:w===Zo.length-1,className:"px-4 py-2 border rounded bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next",a.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),a.jsxs("div",{className:"px-6 lg:px-8 py-4 lg:py-5 bg-gray-50 border-t",children:[a.jsx("div",{className:"font-medium mb-2",children:"Additional Comments (optional)"}),a.jsx("textarea",{rows:4,className:"w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"Enter your additional comments here... (optional)",value:h,onChange:C=>m(C.target.value)}),h.length>0&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[h.length," characters"]})]}),a.jsxs("div",{className:"px-6 lg:px-8 py-4 lg:py-5 bg-white border-t",children:[v&&a.jsx("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:v}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-600",children:N()?a.jsxs("span",{className:"text-green-600 font-medium flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Ready to submit!"]}):a.jsx("span",{children:"Complete all questions to submit"})}),a.jsx("button",{className:"px-8 py-3 rounded-lg bg-[#7a0000] hover:bg-[#8f0000] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",onClick:k,disabled:o||!N(),children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:isEditMode?"Updating...":"Submitting..."})]}):a.jsx("span",{children:"Submit Evaluation"})})]})]})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:a.jsx("div",{className:"w-full mx-auto max-w-screen-2xl px-6 sm:px-8 lg:px-10 py-10 lg:py-12",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 text-center",children:[a.jsx("p",{className:"text-gray-600",children:"Course not found"}),a.jsx("button",{onClick:()=>y("/student/courses"),className:"mt-4 px-4 py-2 bg-[#7a0000] text-white rounded",children:"Back to Courses"})]})})})}function Mee(){return a.jsx(iT,{children:a.jsxs(g9,{children:[a.jsx(jn,{path:"/",element:a.jsx(oT,{})}),a.jsx(jn,{path:"/login",element:a.jsx(cT,{})}),a.jsx(jn,{path:"/forgot",element:a.jsx(uT,{})}),a.jsx(jn,{path:"/reset-password",element:a.jsx(dT,{})}),a.jsx(jn,{path:"/first-time-login",element:a.jsx(fT,{})}),a.jsx(jn,{path:"/admin/dashboard",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(iX,{})})}),a.jsx(jn,{path:"/admin/users",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(qX,{})})}),a.jsx(jn,{path:"/admin/periods",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(zX,{})})}),a.jsx(jn,{path:"/admin/courses",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(WX,{})})}),a.jsx(jn,{path:"/admin/export",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(yee,{})})}),a.jsx(jn,{path:"/admin/audit-logs",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(HX,{})})}),a.jsx(jn,{path:"/admin/emails",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(bee,{})})}),a.jsx(jn,{path:"/admin/student-management",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(wee,{})})}),a.jsx(jn,{path:"/admin/enrollment-list",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(jee,{})})}),a.jsx(jn,{path:"/admin/non-respondents",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(Lee,{})})}),a.jsx(jn,{path:"/admin/program-sections",element:a.jsx(Ra,{allowedRoles:["admin"],children:a.jsx(OE,{})})}),a.jsx(jn,{path:"/dashboard",element:a.jsx(Ra,{allowedRoles:["secretary","department_head"],children:a.jsx(See,{})})}),a.jsx(jn,{path:"/sentiment",element:a.jsx(Ra,{allowedRoles:["secretary","department_head"],children:a.jsx(_ee,{})})}),a.jsx(jn,{path:"/courses",element:a.jsx(Ra,{allowedRoles:["secretary","department_head"],children:a.jsx(kee,{})})}),a.jsx(jn,{path:"/evaluations",element:a.jsx(Ra,{allowedRoles:["secretary","department_head"],children:a.jsx(Aee,{})})}),a.jsx(jn,{path:"/non-respondents",element:a.jsx(Ra,{allowedRoles:["secretary","department_head"],children:a.jsx(Cee,{})})}),a.jsx(jn,{path:"/anomalies",element:a.jsx(Ra,{allowedRoles:["secretary","department_head"],children:a.jsx(Pee,{})})}),a.jsx(jn,{path:"/student/courses",element:a.jsx(Ra,{allowedRoles:["student"],children:a.jsx(Ree,{})})}),a.jsx(jn,{path:"/student/evaluate/:courseId",element:a.jsx(Ra,{allowedRoles:["student"],children:a.jsx(Tee,{})})}),a.jsx(jn,{path:"/404",element:a.jsx(tN,{})}),a.jsx(jn,{path:"*",element:a.jsx(tN,{})})]})})}class Iee extends Te.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:a.jsxs("div",{className:"max-w-2xl bg-white rounded-lg shadow-lg p-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:" Something went wrong"}),a.jsx("div",{className:"bg-red-100 border border-red-300 rounded p-4 mb-4",children:a.jsx("p",{className:"font-mono text-sm text-red-800",children:this.state.error&&this.state.error.toString()})}),this.state.errorInfo&&a.jsxs("details",{className:"bg-gray-100 p-4 rounded",children:[a.jsx("summary",{className:"cursor-pointer font-semibold mb-2",children:"Stack trace"}),a.jsx("pre",{className:"text-xs overflow-auto",children:this.state.errorInfo.componentStack})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Reload Page"}),a.jsx("a",{href:"/debug",className:"mt-4 ml-2 inline-block bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white px-4 py-2 rounded hover:from-[#9a1000] hover:to-[#7a0000]",children:"Go to Debug Page"})]})}):this.props.children}}kO.createRoot(document.getElementById("root")).render(a.jsx(Te.StrictMode,{children:a.jsx(Iee,{children:a.jsx(N9,{children:a.jsx(sT,{children:a.jsx(Mee,{})})})})}));export{fn as _,dm as c,Qr as g};
