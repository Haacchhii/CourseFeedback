function vO(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _x={exports:{}},lh={},kx={exports:{}},Ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4;function yO(){if(w4)return Ir;w4=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function y(G,oe,q){this.props=G,this.context=oe,this.refs=v,this.updater=q||p}y.prototype.isReactComponent={},y.prototype.setState=function(G,oe){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,oe,"setState")},y.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function S(){}S.prototype=y.prototype;function A(G,oe,q){this.props=G,this.context=oe,this.refs=v,this.updater=q||p}var N=A.prototype=new S;N.constructor=A,w(N,y.prototype),N.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,T={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function F(G,oe,q){var U,V={},ie=null,me=null;if(oe!=null)for(U in oe.ref!==void 0&&(me=oe.ref),oe.key!==void 0&&(ie=""+oe.key),oe)C.call(oe,U)&&!I.hasOwnProperty(U)&&(V[U]=oe[U]);var W=arguments.length-2;if(W===1)V.children=q;else if(1<W){for(var de=Array(W),re=0;re<W;re++)de[re]=arguments[re+2];V.children=de}if(G&&G.defaultProps)for(U in W=G.defaultProps,W)V[U]===void 0&&(V[U]=W[U]);return{$$typeof:e,type:G,key:ie,ref:me,props:V,_owner:T.current}}function z(G,oe){return{$$typeof:e,type:G.type,key:oe,ref:G.ref,props:G.props,_owner:G._owner}}function J(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function R(G){var oe={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(q){return oe[q]})}var $=/\/+/g;function H(G,oe){return typeof G=="object"&&G!==null&&G.key!=null?R(""+G.key):oe.toString(36)}function B(G,oe,q,U,V){var ie=typeof G;(ie==="undefined"||ie==="boolean")&&(G=null);var me=!1;if(G===null)me=!0;else switch(ie){case"string":case"number":me=!0;break;case"object":switch(G.$$typeof){case e:case t:me=!0}}if(me)return me=G,V=V(me),G=U===""?"."+H(me,0):U,k(V)?(q="",G!=null&&(q=G.replace($,"$&/")+"/"),B(V,oe,q,"",function(re){return re})):V!=null&&(J(V)&&(V=z(V,q+(!V.key||me&&me.key===V.key?"":(""+V.key).replace($,"$&/")+"/")+G)),oe.push(V)),1;if(me=0,U=U===""?".":U+":",k(G))for(var W=0;W<G.length;W++){ie=G[W];var de=U+H(ie,W);me+=B(ie,oe,q,de,V)}else if(de=x(G),typeof de=="function")for(G=de.call(G),W=0;!(ie=G.next()).done;)ie=ie.value,de=U+H(ie,W++),me+=B(ie,oe,q,de,V);else if(ie==="object")throw oe=String(G),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return me}function ce(G,oe,q){if(G==null)return G;var U=[],V=0;return B(G,U,"","",function(ie){return oe.call(q,ie,V++)}),U}function se(G){if(G._status===-1){var oe=G._result;oe=oe(),oe.then(function(q){(G._status===0||G._status===-1)&&(G._status=1,G._result=q)},function(q){(G._status===0||G._status===-1)&&(G._status=2,G._result=q)}),G._status===-1&&(G._status=0,G._result=oe)}if(G._status===1)return G._result.default;throw G._result}var xe={current:null},te={transition:null},ee={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:te,ReactCurrentOwner:T};return Ir.Children={map:ce,forEach:function(G,oe,q){ce(G,function(){oe.apply(this,arguments)},q)},count:function(G){var oe=0;return ce(G,function(){oe++}),oe},toArray:function(G){return ce(G,function(oe){return oe})||[]},only:function(G){if(!J(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ir.Component=y,Ir.Fragment=r,Ir.Profiler=s,Ir.PureComponent=A,Ir.StrictMode=a,Ir.Suspense=u,Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ir.cloneElement=function(G,oe,q){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var U=w({},G.props),V=G.key,ie=G.ref,me=G._owner;if(oe!=null){if(oe.ref!==void 0&&(ie=oe.ref,me=T.current),oe.key!==void 0&&(V=""+oe.key),G.type&&G.type.defaultProps)var W=G.type.defaultProps;for(de in oe)C.call(oe,de)&&!I.hasOwnProperty(de)&&(U[de]=oe[de]===void 0&&W!==void 0?W[de]:oe[de])}var de=arguments.length-2;if(de===1)U.children=q;else if(1<de){W=Array(de);for(var re=0;re<de;re++)W[re]=arguments[re+2];U.children=W}return{$$typeof:e,type:G.type,key:V,ref:ie,props:U,_owner:me}},Ir.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},Ir.createElement=F,Ir.createFactory=function(G){var oe=F.bind(null,G);return oe.type=G,oe},Ir.createRef=function(){return{current:null}},Ir.forwardRef=function(G){return{$$typeof:l,render:G}},Ir.isValidElement=J,Ir.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:se}},Ir.memo=function(G,oe){return{$$typeof:f,type:G,compare:oe===void 0?null:oe}},Ir.startTransition=function(G){var oe=te.transition;te.transition={};try{G()}finally{te.transition=oe}},Ir.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ir.useCallback=function(G,oe){return xe.current.useCallback(G,oe)},Ir.useContext=function(G){return xe.current.useContext(G)},Ir.useDebugValue=function(){},Ir.useDeferredValue=function(G){return xe.current.useDeferredValue(G)},Ir.useEffect=function(G,oe){return xe.current.useEffect(G,oe)},Ir.useId=function(){return xe.current.useId()},Ir.useImperativeHandle=function(G,oe,q){return xe.current.useImperativeHandle(G,oe,q)},Ir.useInsertionEffect=function(G,oe){return xe.current.useInsertionEffect(G,oe)},Ir.useLayoutEffect=function(G,oe){return xe.current.useLayoutEffect(G,oe)},Ir.useMemo=function(G,oe){return xe.current.useMemo(G,oe)},Ir.useReducer=function(G,oe,q){return xe.current.useReducer(G,oe,q)},Ir.useRef=function(G){return xe.current.useRef(G)},Ir.useState=function(G){return xe.current.useState(G)},Ir.useSyncExternalStore=function(G,oe,q){return xe.current.useSyncExternalStore(G,oe,q)},Ir.useTransition=function(){return xe.current.useTransition()},Ir.version="18.2.0",Ir}var j4;function r5(){return j4||(j4=1,kx.exports=yO()),kx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4;function bO(){if(N4)return lh;N4=1;var e=r5(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,f){var h,m={},x=null,p=null;f!==void 0&&(x=""+f),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(p=u.ref);for(h in u)a.call(u,h)&&!i.hasOwnProperty(h)&&(m[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:t,type:l,key:x,ref:p,props:m,_owner:s.current}}return lh.Fragment=r,lh.jsx=o,lh.jsxs=o,lh}var S4;function wO(){return S4||(S4=1,_x.exports=bO()),_x.exports}var n=wO(),O=r5();const Re=Jr(O),jO=vO({__proto__:null,default:Re},[O]);var fm={},Ax={exports:{}},ui={},Cx={exports:{}},Px={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _4;function NO(){return _4||(_4=1,(function(e){function t(te,ee){var G=te.length;te.push(ee);e:for(;0<G;){var oe=G-1>>>1,q=te[oe];if(0<s(q,ee))te[oe]=ee,te[G]=q,G=oe;else break e}}function r(te){return te.length===0?null:te[0]}function a(te){if(te.length===0)return null;var ee=te[0],G=te.pop();if(G!==ee){te[0]=G;e:for(var oe=0,q=te.length,U=q>>>1;oe<U;){var V=2*(oe+1)-1,ie=te[V],me=V+1,W=te[me];if(0>s(ie,G))me<q&&0>s(W,ie)?(te[oe]=W,te[me]=G,oe=me):(te[oe]=ie,te[V]=G,oe=V);else if(me<q&&0>s(W,G))te[oe]=W,te[me]=G,oe=me;else break e}}return ee}function s(te,ee){var G=te.sortIndex-ee.sortIndex;return G!==0?G:te.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,m=null,x=3,p=!1,w=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(te){for(var ee=r(f);ee!==null;){if(ee.callback===null)a(f);else if(ee.startTime<=te)a(f),ee.sortIndex=ee.expirationTime,t(u,ee);else break;ee=r(f)}}function k(te){if(v=!1,N(te),!w)if(r(u)!==null)w=!0,se(C);else{var ee=r(f);ee!==null&&xe(k,ee.startTime-te)}}function C(te,ee){w=!1,v&&(v=!1,S(F),F=-1),p=!0;var G=x;try{for(N(ee),m=r(u);m!==null&&(!(m.expirationTime>ee)||te&&!R());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,x=m.priorityLevel;var q=oe(m.expirationTime<=ee);ee=e.unstable_now(),typeof q=="function"?m.callback=q:m===r(u)&&a(u),N(ee)}else a(u);m=r(u)}if(m!==null)var U=!0;else{var V=r(f);V!==null&&xe(k,V.startTime-ee),U=!1}return U}finally{m=null,x=G,p=!1}}var T=!1,I=null,F=-1,z=5,J=-1;function R(){return!(e.unstable_now()-J<z)}function $(){if(I!==null){var te=e.unstable_now();J=te;var ee=!0;try{ee=I(!0,te)}finally{ee?H():(T=!1,I=null)}}else T=!1}var H;if(typeof A=="function")H=function(){A($)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ce=B.port2;B.port1.onmessage=$,H=function(){ce.postMessage(null)}}else H=function(){y($,0)};function se(te){I=te,T||(T=!0,H())}function xe(te,ee){F=y(function(){te(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,se(C))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(te){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var G=x;x=ee;try{return te()}finally{x=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ee){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var G=x;x=te;try{return ee()}finally{x=G}},e.unstable_scheduleCallback=function(te,ee,G){var oe=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?oe+G:oe):G=oe,te){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=G+q,te={id:h++,callback:ee,priorityLevel:te,startTime:G,expirationTime:q,sortIndex:-1},G>oe?(te.sortIndex=G,t(f,te),r(u)===null&&te===r(f)&&(v?(S(F),F=-1):v=!0,xe(k,G-oe))):(te.sortIndex=q,t(u,te),w||p||(w=!0,se(C))),te},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(te){var ee=x;return function(){var G=x;x=ee;try{return te.apply(this,arguments)}finally{x=G}}}})(Px)),Px}var k4;function SO(){return k4||(k4=1,Cx.exports=NO()),Cx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A4;function _O(){if(A4)return ui;A4=1;var e=r5(),t=SO();function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(s[c]=d,c=0;c<d.length;c++)a.add(d[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function x(c){return u.call(m,c)?!0:u.call(h,c)?!1:f.test(c)?m[c]=!0:(h[c]=!0,!1)}function p(c,d,g,j){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return j?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function w(c,d,g,j){if(d===null||typeof d>"u"||p(c,d,g,j))return!0;if(j)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function v(c,d,g,j,E,M,ne){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=j,this.attributeNamespace=E,this.mustUseProperty=g,this.propertyName=c,this.type=d,this.sanitizeURL=M,this.removeEmptyString=ne}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new v(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];y[d]=new v(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new v(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new v(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new v(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new v(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function A(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(S,A);y[d]=new v(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(S,A);y[d]=new v(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(S,A);y[d]=new v(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function N(c,d,g,j){var E=y.hasOwnProperty(d)?y[d]:null;(E!==null?E.type!==0:j||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,g,E,j)&&(g=null),j||E===null?x(d)&&(g===null?c.removeAttribute(d):c.setAttribute(d,""+g)):E.mustUseProperty?c[E.propertyName]=g===null?E.type===3?!1:"":g:(d=E.attributeName,j=E.attributeNamespace,g===null?c.removeAttribute(d):(E=E.type,g=E===3||E===4&&g===!0?"":""+g,j?c.setAttributeNS(j,d,g):c.setAttribute(d,g))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),T=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),R=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),te=Symbol.iterator;function ee(c){return c===null||typeof c!="object"?null:(c=te&&c[te]||c["@@iterator"],typeof c=="function"?c:null)}var G=Object.assign,oe;function q(c){if(oe===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);oe=d&&d[1]||""}return`
`+oe+c}var U=!1;function V(c,d){if(!c||U)return"";U=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ve){var j=Ve}Reflect.construct(c,[],d)}else{try{d.call()}catch(Ve){j=Ve}c.call(d.prototype)}else{try{throw Error()}catch(Ve){j=Ve}c()}}catch(Ve){if(Ve&&j&&typeof Ve.stack=="string"){for(var E=Ve.stack.split(`
`),M=j.stack.split(`
`),ne=E.length-1,je=M.length-1;1<=ne&&0<=je&&E[ne]!==M[je];)je--;for(;1<=ne&&0<=je;ne--,je--)if(E[ne]!==M[je]){if(ne!==1||je!==1)do if(ne--,je--,0>je||E[ne]!==M[je]){var Ae=`
`+E[ne].replace(" at new "," at ");return c.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",c.displayName)),Ae}while(1<=ne&&0<=je);break}}}finally{U=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?q(c):""}function ie(c){switch(c.tag){case 5:return q(c.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return c=V(c.type,!1),c;case 11:return c=V(c.type.render,!1),c;case 1:return c=V(c.type,!0),c;default:return""}}function me(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case I:return"Fragment";case T:return"Portal";case z:return"Profiler";case F:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case R:return(c.displayName||"Context")+".Consumer";case J:return(c._context.displayName||"Context")+".Provider";case $:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case ce:return d=c.displayName||null,d!==null?d:me(c.type)||"Memo";case se:d=c._payload,c=c._init;try{return me(c(d))}catch{}}return null}function W(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(d);case 8:return d===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function de(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function re(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Q(c){var d=re(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),j=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,M=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return E.call(this)},set:function(ne){j=""+ne,M.call(this,ne)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return j},setValue:function(ne){j=""+ne},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Ne(c){c._valueTracker||(c._valueTracker=Q(c))}function he(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),j="";return c&&(j=re(c)?c.checked?"true":"false":c.value),c=j,c!==g?(d.setValue(c),!0):!1}function we(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function be(c,d){var g=d.checked;return G({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function Z(c,d){var g=d.defaultValue==null?"":d.defaultValue,j=d.checked!=null?d.checked:d.defaultChecked;g=de(d.value!=null?d.value:g),c._wrapperState={initialChecked:j,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Xe(c,d){d=d.checked,d!=null&&N(c,"checked",d,!1)}function Je(c,d){Xe(c,d);var g=de(d.value),j=d.type;if(g!=null)j==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?Te(c,d.type,g):d.hasOwnProperty("defaultValue")&&Te(c,d.type,de(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function Qe(c,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var j=d.type;if(!(j!=="submit"&&j!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,g||d===c.value||(c.value=d),c.defaultValue=d}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function Te(c,d,g){(d!=="number"||we(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var ye=Array.isArray;function qe(c,d,g,j){if(c=c.options,d){d={};for(var E=0;E<g.length;E++)d["$"+g[E]]=!0;for(g=0;g<c.length;g++)E=d.hasOwnProperty("$"+c[g].value),c[g].selected!==E&&(c[g].selected=E),E&&j&&(c[g].defaultSelected=!0)}else{for(g=""+de(g),d=null,E=0;E<c.length;E++){if(c[E].value===g){c[E].selected=!0,j&&(c[E].defaultSelected=!0);return}d!==null||c[E].disabled||(d=c[E])}d!==null&&(d.selected=!0)}}function wt(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Ee(c,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(r(92));if(ye(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),g=d}c._wrapperState={initialValue:de(g)}}function xt(c,d){var g=de(d.value),j=de(d.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),d.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),j!=null&&(c.defaultValue=""+j)}function gt(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function ht(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _e(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?ht(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var He,We=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,j,E){MSApp.execUnsafeLocalFunction(function(){return c(d,g,j,E)})}:c})(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(He=He||document.createElement("div"),He.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=He.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function Ge(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nt=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(c){Nt.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),ot[d]=ot[c]})});function Dt(c,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||ot.hasOwnProperty(c)&&ot[c]?(""+d).trim():d+"px"}function pt(c,d){c=c.style;for(var g in d)if(d.hasOwnProperty(g)){var j=g.indexOf("--")===0,E=Dt(g,d[g],j);g==="float"&&(g="cssFloat"),j?c.setProperty(g,E):c[g]=E}}var At=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Be(c,d){if(d){if(At[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Ie(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dt=null;function kt(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var pr=null,br=null,gr=null;function Vt(c){if(c=yc(c)){if(typeof pr!="function")throw Error(r(280));var d=c.stateNode;d&&(d=hu(d),pr(c.stateNode,c.type,d))}}function xr(c){br?gr?gr.push(c):gr=[c]:br=c}function na(){if(br){var c=br,d=gr;if(gr=br=null,Vt(c),d)for(c=0;c<d.length;c++)Vt(d[c])}}function _r(c,d){return c(d)}function ca(){}var Sa=!1;function Tt(c,d,g){if(Sa)return c(d,g);Sa=!0;try{return _r(c,d,g)}finally{Sa=!1,(br!==null||gr!==null)&&(ca(),na())}}function ir(c,d){var g=c.stateNode;if(g===null)return null;var j=hu(g);if(j===null)return null;g=j[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var _a=!1;if(l)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{_a=!1}function ka(c,d,g,j,E,M,ne,je,Ae){var Ve=Array.prototype.slice.call(arguments,3);try{d.apply(g,Ve)}catch(ft){this.onError(ft)}}var Hr=!1,on=null,Sn=!1,$a=null,en={onError:function(c){Hr=!0,on=c}};function va(c,d,g,j,E,M,ne,je,Ae){Hr=!1,on=null,ka.apply(en,arguments)}function Fn(c,d,g,j,E,M,ne,je,Ae){if(va.apply(this,arguments),Hr){if(Hr){var Ve=on;Hr=!1,on=null}else throw Error(r(198));Sn||(Sn=!0,$a=Ve)}}function fn(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function ua(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function $n(c){if(fn(c)!==c)throw Error(r(188))}function xi(c){var d=c.alternate;if(!d){if(d=fn(c),d===null)throw Error(r(188));return d!==c?null:c}for(var g=c,j=d;;){var E=g.return;if(E===null)break;var M=E.alternate;if(M===null){if(j=E.return,j!==null){g=j;continue}break}if(E.child===M.child){for(M=E.child;M;){if(M===g)return $n(E),c;if(M===j)return $n(E),d;M=M.sibling}throw Error(r(188))}if(g.return!==j.return)g=E,j=M;else{for(var ne=!1,je=E.child;je;){if(je===g){ne=!0,g=E,j=M;break}if(je===j){ne=!0,j=E,g=M;break}je=je.sibling}if(!ne){for(je=M.child;je;){if(je===g){ne=!0,g=M,j=E;break}if(je===j){ne=!0,j=M,g=E;break}je=je.sibling}if(!ne)throw Error(r(189))}}if(g.alternate!==j)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:d}function Ba(c){return c=xi(c),c!==null?es(c):null}function es(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=es(c);if(d!==null)return d;c=c.sibling}return null}var Ys=t.unstable_scheduleCallback,Os=t.unstable_cancelCallback,Oe=t.unstable_shouldYield,bt=t.unstable_requestPaint,_t=t.unstable_now,Qt=t.unstable_getCurrentPriorityLevel,vr=t.unstable_ImmediatePriority,Zt=t.unstable_UserBlockingPriority,Vr=t.unstable_NormalPriority,Or=t.unstable_LowPriority,ln=t.unstable_IdlePriority,ya=null,Sr=null;function Cr(c){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(ya,c,void 0,(c.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Fr,Xt=Math.log,Lt=Math.LN2;function Fr(c){return c>>>=0,c===0?32:31-(Xt(c)/Lt|0)|0}var Rs=64,Aa=4194304;function ts(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function da(c,d){var g=c.pendingLanes;if(g===0)return 0;var j=0,E=c.suspendedLanes,M=c.pingedLanes,ne=g&268435455;if(ne!==0){var je=ne&~E;je!==0?j=ts(je):(M&=ne,M!==0&&(j=ts(M)))}else ne=g&~E,ne!==0?j=ts(ne):M!==0&&(j=ts(M));if(j===0)return 0;if(d!==0&&d!==j&&(d&E)===0&&(E=j&-j,M=d&-d,E>=M||E===16&&(M&4194240)!==0))return d;if((j&4)!==0&&(j|=g&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=j;0<d;)g=31-Ct(d),E=1<<g,j|=c[g],d&=~E;return j}function Ti(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(c,d){for(var g=c.suspendedLanes,j=c.pingedLanes,E=c.expirationTimes,M=c.pendingLanes;0<M;){var ne=31-Ct(M),je=1<<ne,Ae=E[ne];Ae===-1?((je&g)===0||(je&j)!==0)&&(E[ne]=Ti(je,d)):Ae<=d&&(c.expiredLanes|=je),M&=~je}}function rs(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Gs(){var c=Rs;return Rs<<=1,(Rs&4194240)===0&&(Rs=64),c}function Ks(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function Kt(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Ct(d),c[d]=g}function aa(c,d){var g=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<g;){var E=31-Ct(g),M=1<<E;d[E]=0,j[E]=-1,c[E]=-1,g&=~M}}function Eo(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var j=31-Ct(g),E=1<<j;E&d|c[j]&d&&(c[j]|=d),g&=~E}}var Er=0;function vi(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Lo,ll,ic,oc,Oo,yi=!1,Ts=[],Xs=null,Ua=null,hs=null,qt=new Map,ao=new Map,Js=[],tu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cl(c,d){switch(c){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":qt.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(d.pointerId)}}function ns(c,d,g,j,E,M){return c===null||c.nativeEvent!==M?(c={blockedOn:d,domEventName:g,eventSystemFlags:j,nativeEvent:M,targetContainers:[E]},d!==null&&(d=yc(d),d!==null&&ll(d)),c):(c.eventSystemFlags|=j,d=c.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),c)}function bi(c,d,g,j,E){switch(d){case"focusin":return Xs=ns(Xs,c,d,g,j,E),!0;case"dragenter":return Ua=ns(Ua,c,d,g,j,E),!0;case"mouseover":return hs=ns(hs,c,d,g,j,E),!0;case"pointerover":var M=E.pointerId;return qt.set(M,ns(qt.get(M)||null,c,d,g,j,E)),!0;case"gotpointercapture":return M=E.pointerId,ao.set(M,ns(ao.get(M)||null,c,d,g,j,E)),!0}return!1}function lc(c){var d=Ho(c.target);if(d!==null){var g=fn(d);if(g!==null){if(d=g.tag,d===13){if(d=ua(g),d!==null){c.blockedOn=d,Oo(c.priority,function(){ic(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ro(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=Ue(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var j=new g.constructor(g.type,g);dt=j,g.target.dispatchEvent(j),dt=null}else return d=yc(g),d!==null&&ll(d),c.blockedOn=g,!1;d.shift()}return!0}function so(c,d,g){Ro(c)&&g.delete(d)}function Mi(){yi=!1,Xs!==null&&Ro(Xs)&&(Xs=null),Ua!==null&&Ro(Ua)&&(Ua=null),hs!==null&&Ro(hs)&&(hs=null),qt.forEach(so),ao.forEach(so)}function Ms(c,d){c.blockedOn===d&&(c.blockedOn=null,yi||(yi=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mi)))}function Qs(c){function d(E){return Ms(E,c)}if(0<Ts.length){Ms(Ts[0],c);for(var g=1;g<Ts.length;g++){var j=Ts[g];j.blockedOn===c&&(j.blockedOn=null)}}for(Xs!==null&&Ms(Xs,c),Ua!==null&&Ms(Ua,c),hs!==null&&Ms(hs,c),qt.forEach(d),ao.forEach(d),g=0;g<Js.length;g++)j=Js[g],j.blockedOn===c&&(j.blockedOn=null);for(;0<Js.length&&(g=Js[0],g.blockedOn===null);)lc(g),g.blockedOn===null&&Js.shift()}var Is=k.ReactCurrentBatchConfig,To=!0;function ul(c,d,g,j){var E=Er,M=Is.transition;Is.transition=null;try{Er=1,wi(c,d,g,j)}finally{Er=E,Is.transition=M}}function Mo(c,d,g,j){var E=Er,M=Is.transition;Is.transition=null;try{Er=4,wi(c,d,g,j)}finally{Er=E,Is.transition=M}}function wi(c,d,g,j){if(To){var E=Ue(c,d,g,j);if(E===null)uu(c,d,j,Y,g),cl(c,j);else if(bi(E,c,d,g,j))j.stopPropagation();else if(cl(c,j),d&4&&-1<tu.indexOf(c)){for(;E!==null;){var M=yc(E);if(M!==null&&Lo(M),M=Ue(c,d,g,j),M===null&&uu(c,d,j,Y,g),M===E)break;E=M}E!==null&&j.stopPropagation()}else uu(c,d,j,null,g)}}var Y=null;function Ue(c,d,g,j){if(Y=null,c=kt(j),c=Ho(c),c!==null)if(d=fn(c),d===null)c=null;else if(g=d.tag,g===13){if(c=ua(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return Y=c,null}function it(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case vr:return 1;case Zt:return 4;case Vr:case Or:return 16;case ln:return 536870912;default:return 16}default:return 16}}var Et=null,tr=null,wr=null;function er(){if(wr)return wr;var c,d=tr,g=d.length,j,E="value"in Et?Et.value:Et.textContent,M=E.length;for(c=0;c<g&&d[c]===E[c];c++);var ne=g-c;for(j=1;j<=ne&&d[g-j]===E[M-j];j++);return wr=E.slice(c,1<j?1-j:void 0)}function lr(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function hn(){return!0}function _n(){return!1}function cn(c){function d(g,j,E,M,ne){this._reactName=g,this._targetInst=E,this.type=j,this.nativeEvent=M,this.target=ne,this.currentTarget=null;for(var je in c)c.hasOwnProperty(je)&&(g=c[je],this[je]=g?g(M):M[je]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?hn:_n,this.isPropagationStopped=_n,this}return G(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),d}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rn=cn(Yr),P=G({},Yr,{view:0,detail:0}),K=cn(P),pe,Se,Le,et=G({},P,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Io,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Le&&(Le&&c.type==="mousemove"?(pe=c.screenX-Le.screenX,Se=c.screenY-Le.screenY):Se=pe=0,Le=c),pe)},movementY:function(c){return"movementY"in c?c.movementY:Se}}),lt=cn(et),Ft=G({},et,{dataTransfer:0}),Wt=cn(Ft),cr=G({},P,{relatedTarget:0}),ur=cn(cr),Br=G({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tn=cn(Br),sa=G({},Yr,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),mn=cn(sa),fa=G({},Yr,{data:0}),Xn=cn(fa),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ms={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function od(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=ms[c])?!!d[c]:!1}function Io(){return od}var dl=G({},P,{key:function(c){if(c.key){var d=Ca[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=lr(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Zs[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Io,charCode:function(c){return c.type==="keypress"?lr(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?lr(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Do=cn(dl),fl=G({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=cn(fl),hl=G({},P,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Io}),qa=cn(hl),ml=G({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pl=cn(ml),ru=G({},et,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),nu=cn(ru),Bn=[9,13,27,32],ji=l&&"CompositionEvent"in window,Ii=null;l&&"documentMode"in document&&(Ii=document.documentMode);var ld=l&&"TextEvent"in window&&!Ii,Ds=l&&(!ji||Ii&&8<Ii&&11>=Ii),$o=" ",cc=!1;function uc(c,d){switch(c){case"keyup":return Bn.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ei=!1;function Fs(c,d){switch(c){case"compositionend":return io(d);case"keypress":return d.which!==32?null:(cc=!0,$o);case"textInput":return c=d.data,c===$o&&cc?null:c;default:return null}}function $s(c,d){if(ei)return c==="compositionend"||!ji&&uc(c,d)?(c=er(),wr=tr=Et=null,ei=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ds&&d.locale!=="ko"?null:d.data;default:return null}}var Bo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Di(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Bo[c.type]:d==="textarea"}function oo(c,d,g,j){xr(j),d=hd(d,"onChange"),0<d.length&&(g=new Rn("onChange","change",null,g,j),c.push({event:g,listeners:d}))}var lo=null,Fi=null;function Jn(c){lu(c,0)}function gl(c){var d=kl(c);if(he(d))return c}function $i(c,d){if(c==="change")return d}var Ni=!1;if(l){var xl;if(l){var vl="oninput"in document;if(!vl){var dc=document.createElement("div");dc.setAttribute("oninput","return;"),vl=typeof dc.oninput=="function"}xl=vl}else xl=!1;Ni=xl&&(!document.documentMode||9<document.documentMode)}function fc(){lo&&(lo.detachEvent("onpropertychange",co),Fi=lo=null)}function co(c){if(c.propertyName==="value"&&gl(Fi)){var d=[];oo(d,Fi,c,kt(c)),Tt(Jn,d)}}function Uo(c,d,g){c==="focusin"?(fc(),lo=d,Fi=g,lo.attachEvent("onpropertychange",co)):c==="focusout"&&fc()}function qo(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return gl(Fi)}function yl(c,d){if(c==="click")return gl(d)}function zo(c,d){if(c==="input"||c==="change")return gl(d)}function bl(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Un=typeof Object.is=="function"?Object.is:bl;function ps(c,d){if(Un(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),j=Object.keys(d);if(g.length!==j.length)return!1;for(j=0;j<g.length;j++){var E=g[j];if(!u.call(d,E)||!Un(c[E],d[E]))return!1}return!0}function Ur(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function tn(c,d){var g=Ur(c);c=0;for(var j;g;){if(g.nodeType===3){if(j=c+g.textContent.length,c<=d&&j>=d)return{node:g,offset:d-c};c=j}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Ur(g)}}function qn(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?qn(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function ia(){for(var c=window,d=we();d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=we(c.document)}return d}function Si(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function au(c){var d=ia(),g=c.focusedElem,j=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&qn(g.ownerDocument.documentElement,g)){if(j!==null&&Si(g)){if(d=j.start,c=j.end,c===void 0&&(c=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(c,g.value.length);else if(c=(d=g.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var E=g.textContent.length,M=Math.min(j.start,E);j=j.end===void 0?M:Math.min(j.end,E),!c.extend&&M>j&&(E=j,j=M,M=E),E=tn(g,M);var ne=tn(g,j);E&&ne&&(c.rangeCount!==1||c.anchorNode!==E.node||c.anchorOffset!==E.offset||c.focusNode!==ne.node||c.focusOffset!==ne.offset)&&(d=d.createRange(),d.setStart(E.node,E.offset),c.removeAllRanges(),M>j?(c.addRange(d),c.extend(ne.node,ne.offset)):(d.setEnd(ne.node,ne.offset),c.addRange(d)))}}for(d=[],c=g;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)c=d[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var hc=l&&"documentMode"in document&&11>=document.documentMode,uo=null,cd=null,mc=null,ud=!1;function Ff(c,d,g){var j=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ud||uo==null||uo!==we(j)||(j=uo,"selectionStart"in j&&Si(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),mc&&ps(mc,j)||(mc=j,j=hd(cd,"onSelect"),0<j.length&&(d=new Rn("onSelect","select",null,d,g),c.push({event:d,listeners:j}),d.target=uo)))}function su(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var wl={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},jl={},$f={};l&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function iu(c){if(jl[c])return jl[c];if(!wl[c])return c;var d=wl[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in $f)return jl[c]=d[g];return c}var Bf=iu("animationend"),Uf=iu("animationiteration"),qf=iu("animationstart"),zf=iu("transitionend"),Wf=new Map,Hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(c,d){Wf.set(c,d),i(d,[c])}for(var pc=0;pc<Hf.length;pc++){var as=Hf[pc],ti=as.toLowerCase(),dd=as[0].toUpperCase()+as.slice(1);Bi(ti,"on"+dd)}Bi(Bf,"onAnimationEnd"),Bi(Uf,"onAnimationIteration"),Bi(qf,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(zf,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function ou(c,d,g){var j=c.type||"unknown-event";c.currentTarget=g,Fn(j,d,void 0,c),c.currentTarget=null}function lu(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var j=c[g],E=j.event;j=j.listeners;e:{var M=void 0;if(d)for(var ne=j.length-1;0<=ne;ne--){var je=j[ne],Ae=je.instance,Ve=je.currentTarget;if(je=je.listener,Ae!==M&&E.isPropagationStopped())break e;ou(E,je,Ve),M=Ae}else for(ne=0;ne<j.length;ne++){if(je=j[ne],Ae=je.instance,Ve=je.currentTarget,je=je.listener,Ae!==M&&E.isPropagationStopped())break e;ou(E,je,Ve),M=Ae}}}if(Sn)throw c=$a,Sn=!1,$a=null,c}function un(c,d){var g=d[xs];g===void 0&&(g=d[xs]=new Set);var j=c+"__bubble";g.has(j)||(cu(d,c,2,!1),g.add(j))}function fd(c,d,g){var j=0;d&&(j|=4),cu(g,c,j,d)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Nl(c){if(!c[gc]){c[gc]=!0,a.forEach(function(g){g!=="selectionchange"&&(O0.has(g)||fd(g,!1,c),fd(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[gc]||(d[gc]=!0,fd("selectionchange",!1,d))}}function cu(c,d,g,j){switch(it(d)){case 1:var E=ul;break;case 4:E=Mo;break;default:E=wi}g=E.bind(null,d,g,c),E=void 0,!_a||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),j?E!==void 0?c.addEventListener(d,g,{capture:!0,passive:E}):c.addEventListener(d,g,!0):E!==void 0?c.addEventListener(d,g,{passive:E}):c.addEventListener(d,g,!1)}function uu(c,d,g,j,E){var M=j;if((d&1)===0&&(d&2)===0&&j!==null)e:for(;;){if(j===null)return;var ne=j.tag;if(ne===3||ne===4){var je=j.stateNode.containerInfo;if(je===E||je.nodeType===8&&je.parentNode===E)break;if(ne===4)for(ne=j.return;ne!==null;){var Ae=ne.tag;if((Ae===3||Ae===4)&&(Ae=ne.stateNode.containerInfo,Ae===E||Ae.nodeType===8&&Ae.parentNode===E))return;ne=ne.return}for(;je!==null;){if(ne=Ho(je),ne===null)return;if(Ae=ne.tag,Ae===5||Ae===6){j=M=ne;continue e}je=je.parentNode}}j=j.return}Tt(function(){var Ve=M,ft=kt(g),mt=[];e:{var ut=Wf.get(c);if(ut!==void 0){var Pt=Rn,Bt=c;switch(c){case"keypress":if(lr(g)===0)break e;case"keydown":case"keyup":Pt=Do;break;case"focusin":Bt="focus",Pt=ur;break;case"focusout":Bt="blur",Pt=ur;break;case"beforeblur":case"afterblur":Pt=ur;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pt=lt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pt=Wt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pt=qa;break;case Bf:case Uf:case qf:Pt=Tn;break;case zf:Pt=pl;break;case"scroll":Pt=K;break;case"wheel":Pt=nu;break;case"copy":case"cut":case"paste":Pt=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pt=Fo}var zt=(d&4)!==0,ha=!zt&&c==="scroll",Fe=zt?ut!==null?ut+"Capture":null:ut;zt=[];for(var Pe=Ve,ze;Pe!==null;){ze=Pe;var vt=ze.stateNode;if(ze.tag===5&&vt!==null&&(ze=vt,Fe!==null&&(vt=ir(Pe,Fe),vt!=null&&zt.push(du(Pe,vt,ze)))),ha)break;Pe=Pe.return}0<zt.length&&(ut=new Pt(ut,Bt,null,g,ft),mt.push({event:ut,listeners:zt}))}}if((d&7)===0){e:{if(ut=c==="mouseover"||c==="pointerover",Pt=c==="mouseout"||c==="pointerout",ut&&g!==dt&&(Bt=g.relatedTarget||g.fromElement)&&(Ho(Bt)||Bt[za]))break e;if((Pt||ut)&&(ut=ft.window===ft?ft:(ut=ft.ownerDocument)?ut.defaultView||ut.parentWindow:window,Pt?(Bt=g.relatedTarget||g.toElement,Pt=Ve,Bt=Bt?Ho(Bt):null,Bt!==null&&(ha=fn(Bt),Bt!==ha||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(Pt=null,Bt=Ve),Pt!==Bt)){if(zt=lt,vt="onMouseLeave",Fe="onMouseEnter",Pe="mouse",(c==="pointerout"||c==="pointerover")&&(zt=Fo,vt="onPointerLeave",Fe="onPointerEnter",Pe="pointer"),ha=Pt==null?ut:kl(Pt),ze=Bt==null?ut:kl(Bt),ut=new zt(vt,Pe+"leave",Pt,g,ft),ut.target=ha,ut.relatedTarget=ze,vt=null,Ho(ft)===Ve&&(zt=new zt(Fe,Pe+"enter",Bt,g,ft),zt.target=ze,zt.relatedTarget=ha,vt=zt),ha=vt,Pt&&Bt)t:{for(zt=Pt,Fe=Bt,Pe=0,ze=zt;ze;ze=Sl(ze))Pe++;for(ze=0,vt=Fe;vt;vt=Sl(vt))ze++;for(;0<Pe-ze;)zt=Sl(zt),Pe--;for(;0<ze-Pe;)Fe=Sl(Fe),ze--;for(;Pe--;){if(zt===Fe||Fe!==null&&zt===Fe.alternate)break t;zt=Sl(zt),Fe=Sl(Fe)}zt=null}else zt=null;Pt!==null&&R0(mt,ut,Pt,zt,!1),Bt!==null&&ha!==null&&R0(mt,ha,Bt,zt,!0)}}e:{if(ut=Ve?kl(Ve):window,Pt=ut.nodeName&&ut.nodeName.toLowerCase(),Pt==="select"||Pt==="input"&&ut.type==="file")var Yt=$i;else if(Di(ut))if(Ni)Yt=zo;else{Yt=qo;var rr=Uo}else(Pt=ut.nodeName)&&Pt.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(Yt=yl);if(Yt&&(Yt=Yt(c,Ve))){oo(mt,Yt,g,ft);break e}rr&&rr(c,ut,Ve),c==="focusout"&&(rr=ut._wrapperState)&&rr.controlled&&ut.type==="number"&&Te(ut,"number",ut.value)}switch(rr=Ve?kl(Ve):window,c){case"focusin":(Di(rr)||rr.contentEditable==="true")&&(uo=rr,cd=Ve,mc=null);break;case"focusout":mc=cd=uo=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,Ff(mt,g,ft);break;case"selectionchange":if(hc)break;case"keydown":case"keyup":Ff(mt,g,ft)}var nr;if(ji)e:{switch(c){case"compositionstart":var dr="onCompositionStart";break e;case"compositionend":dr="onCompositionEnd";break e;case"compositionupdate":dr="onCompositionUpdate";break e}dr=void 0}else ei?uc(c,g)&&(dr="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(dr="onCompositionStart");dr&&(Ds&&g.locale!=="ko"&&(ei||dr!=="onCompositionStart"?dr==="onCompositionEnd"&&ei&&(nr=er()):(Et=ft,tr="value"in Et?Et.value:Et.textContent,ei=!0)),rr=hd(Ve,dr),0<rr.length&&(dr=new Xn(dr,c,null,g,ft),mt.push({event:dr,listeners:rr}),nr?dr.data=nr:(nr=io(g),nr!==null&&(dr.data=nr)))),(nr=ld?Fs(c,g):$s(c,g))&&(Ve=hd(Ve,"onBeforeInput"),0<Ve.length&&(ft=new Xn("onBeforeInput","beforeinput",null,g,ft),mt.push({event:ft,listeners:Ve}),ft.data=nr))}lu(mt,d)})}function du(c,d,g){return{instance:c,listener:d,currentTarget:g}}function hd(c,d){for(var g=d+"Capture",j=[];c!==null;){var E=c,M=E.stateNode;E.tag===5&&M!==null&&(E=M,M=ir(c,g),M!=null&&j.unshift(du(c,M,E)),M=ir(c,d),M!=null&&j.push(du(c,M,E))),c=c.return}return j}function Sl(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function R0(c,d,g,j,E){for(var M=d._reactName,ne=[];g!==null&&g!==j;){var je=g,Ae=je.alternate,Ve=je.stateNode;if(Ae!==null&&Ae===j)break;je.tag===5&&Ve!==null&&(je=Ve,E?(Ae=ir(g,M),Ae!=null&&ne.unshift(du(g,Ae,je))):E||(Ae=ir(g,M),Ae!=null&&ne.push(du(g,Ae,je)))),g=g.return}ne.length!==0&&c.push({event:d,listeners:ne})}var Ug=/\r\n?/g,qg=/\u0000|\uFFFD/g;function T0(c){return(typeof c=="string"?c:""+c).replace(Ug,`
`).replace(qg,"")}function md(c,d,g){if(d=T0(d),T0(c)!==d&&g)throw Error(r(425))}function xc(){}var fu=null,_l=null;function Vf(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,M0=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,zg=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(c){return I0.resolve(null).then(c).catch(Wg)}:Yf;function Wg(c){setTimeout(function(){throw c})}function Gf(c,d){var g=d,j=0;do{var E=g.nextSibling;if(c.removeChild(g),E&&E.nodeType===8)if(g=E.data,g==="/$"){if(j===0){c.removeChild(E),Qs(d);return}j--}else g!=="$"&&g!=="$?"&&g!=="$!"||j++;g=E}while(g);Qs(d)}function ss(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function ri(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Ui="__reactFiber$"+gs,vc="__reactProps$"+gs,za="__reactContainer$"+gs,xs="__reactEvents$"+gs,Hg="__reactListeners$"+gs,Vg="__reactHandles$"+gs;function Ho(c){var d=c[Ui];if(d)return d;for(var g=c.parentNode;g;){if(d=g[za]||g[Ui]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=ri(c);c!==null;){if(g=c[Ui])return g;c=ri(c)}return d}c=g,g=c.parentNode}return null}function yc(c){return c=c[Ui]||c[za],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function kl(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function hu(c){return c[vc]||null}var Kf=[],fo=-1;function _i(c){return{current:c}}function Qr(c){0>fo||(c.current=Kf[fo],Kf[fo]=null,fo--)}function rn(c,d){fo++,Kf[fo]=c.current,c.current=d}var Vo={},Pa=_i(Vo),vs=_i(!1),Al=Vo;function bc(c,d){var g=c.type.contextTypes;if(!g)return Vo;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===d)return j.__reactInternalMemoizedMaskedChildContext;var E={},M;for(M in g)E[M]=d[M];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=E),E}function ys(c){return c=c.childContextTypes,c!=null}function pd(){Qr(vs),Qr(Pa)}function D0(c,d,g){if(Pa.current!==Vo)throw Error(r(168));rn(Pa,d),rn(vs,g)}function Xf(c,d,g){var j=c.stateNode;if(d=d.childContextTypes,typeof j.getChildContext!="function")return g;j=j.getChildContext();for(var E in j)if(!(E in d))throw Error(r(108,W(c)||"Unknown",E));return G({},g,j)}function Cl(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Vo,Al=Pa.current,rn(Pa,c),rn(vs,vs.current),!0}function F0(c,d,g){var j=c.stateNode;if(!j)throw Error(r(169));g?(c=Xf(c,d,Al),j.__reactInternalMemoizedMergedChildContext=c,Qr(vs),Qr(Pa),rn(Pa,c)):Qr(vs),rn(vs,g)}var ho=null,mu=!1,b=!1;function _(c){ho===null?ho=[c]:ho.push(c)}function L(c){mu=!0,_(c)}function D(){if(!b&&ho!==null){b=!0;var c=0,d=Er;try{var g=ho;for(Er=1;c<g.length;c++){var j=g[c];do j=j(!0);while(j!==null)}ho=null,mu=!1}catch(E){throw ho!==null&&(ho=ho.slice(c+1)),Ys(vr,D),E}finally{Er=d,b=!1}}return null}var X=[],ae=0,le=null,ue=0,fe=[],ge=0,ke=null,De=1,ve="";function Ce(c,d){X[ae++]=ue,X[ae++]=le,le=c,ue=d}function Me(c,d,g){fe[ge++]=De,fe[ge++]=ve,fe[ge++]=ke,ke=c;var j=De;c=ve;var E=32-Ct(j)-1;j&=~(1<<E),g+=1;var M=32-Ct(d)+E;if(30<M){var ne=E-E%5;M=(j&(1<<ne)-1).toString(32),j>>=ne,E-=ne,De=1<<32-Ct(d)+E|g<<E|j,ve=M+c}else De=1<<M|g<<E|j,ve=c}function rt(c){c.return!==null&&(Ce(c,1),Me(c,1,0))}function $e(c){for(;c===le;)le=X[--ae],X[ae]=null,ue=X[--ae],X[ae]=null;for(;c===ke;)ke=fe[--ge],fe[ge]=null,ve=fe[--ge],fe[ge]=null,De=fe[--ge],fe[ge]=null}var Ke=null,Ze=null,at=!1,st=null;function Ht(c,d){var g=Vi(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,d=c.deletions,d===null?(c.deletions=[g],c.flags|=16):d.push(g)}function Ot(c,d){switch(c.tag){case 5:var g=c.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,Ke=c,Ze=ss(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,Ke=c,Ze=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=ke!==null?{id:De,overflow:ve}:null,c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=Vi(18,null,null,0),g.stateNode=d,g.return=c,c.child=g,Ke=c,Ze=null,!0):!1;default:return!1}}function yr(c){return(c.mode&1)!==0&&(c.flags&128)===0}function $t(c){if(at){var d=Ze;if(d){var g=d;if(!Ot(c,d)){if(yr(c))throw Error(r(418));d=ss(g.nextSibling);var j=Ke;d&&Ot(c,d)?Ht(j,g):(c.flags=c.flags&-4097|2,at=!1,Ke=c)}}else{if(yr(c))throw Error(r(418));c.flags=c.flags&-4097|2,at=!1,Ke=c}}}function Lr(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ke=c}function zn(c){if(c!==Ke)return!1;if(!at)return Lr(c),at=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!Vf(c.type,c.memoizedProps)),d&&(d=Ze)){if(yr(c))throw jr(),Error(r(418));for(;d;)Ht(c,d),d=ss(d.nextSibling)}if(Lr(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(d===0){Ze=ss(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}c=c.nextSibling}Ze=null}}else Ze=Ke?ss(c.stateNode.nextSibling):null;return!0}function jr(){for(var c=Ze;c;)c=ss(c.nextSibling)}function Rt(){Ze=Ke=null,at=!1}function jt(c){st===null?st=[c]:st.push(c)}var Qn=k.ReactCurrentBatchConfig;function Jt(c,d){if(c&&c.defaultProps){d=G({},d),c=c.defaultProps;for(var g in c)d[g]===void 0&&(d[g]=c[g]);return d}return d}var Pr=_i(null),nn=null,Wn=null,Ea=null;function kn(){Ea=Wn=nn=null}function ba(c){var d=Pr.current;Qr(Pr),c._currentValue=d}function La(c,d,g){for(;c!==null;){var j=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,j!==null&&(j.childLanes|=d)):j!==null&&(j.childLanes&d)!==d&&(j.childLanes|=d),c===g)break;c=c.return}}function An(c,d){nn=c,Ea=Wn=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(oi=!0),c.firstContext=null)}function hr(c){var d=c._currentValue;if(Ea!==c)if(c={context:c,memoizedValue:d,next:null},Wn===null){if(nn===null)throw Error(r(308));Wn=c,nn.dependencies={lanes:0,firstContext:c}}else Wn=Wn.next=c;return d}var Tr=null;function Cn(c){Tr===null?Tr=[c]:Tr.push(c)}function Gr(c,d,g,j){var E=d.interleaved;return E===null?(g.next=g,Cn(d)):(g.next=E.next,E.next=g),d.interleaved=g,vn(c,j)}function vn(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,g=c.alternate,g!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var wa=!1;function Mn(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function is(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Mr(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function pn(c,d,g){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(qr&2)!==0){var E=j.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),j.pending=d,vn(c,g)}return E=j.interleaved,E===null?(d.next=d,Cn(j)):(d.next=E.next,E.next=d),j.interleaved=d,vn(c,g)}function Wa(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var j=d.lanes;j&=c.pendingLanes,g|=j,d.lanes=g,Eo(c,g)}}function Ha(c,d){var g=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,g===j)){var E=null,M=null;if(g=g.firstBaseUpdate,g!==null){do{var ne={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};M===null?E=M=ne:M=M.next=ne,g=g.next}while(g!==null);M===null?E=M=d:M=M.next=d}else E=M=d;g={baseState:j.baseState,firstBaseUpdate:E,lastBaseUpdate:M,shared:j.shared,effects:j.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function Va(c,d,g,j){var E=c.updateQueue;wa=!1;var M=E.firstBaseUpdate,ne=E.lastBaseUpdate,je=E.shared.pending;if(je!==null){E.shared.pending=null;var Ae=je,Ve=Ae.next;Ae.next=null,ne===null?M=Ve:ne.next=Ve,ne=Ae;var ft=c.alternate;ft!==null&&(ft=ft.updateQueue,je=ft.lastBaseUpdate,je!==ne&&(je===null?ft.firstBaseUpdate=Ve:je.next=Ve,ft.lastBaseUpdate=Ae))}if(M!==null){var mt=E.baseState;ne=0,ft=Ve=Ae=null,je=M;do{var ut=je.lane,Pt=je.eventTime;if((j&ut)===ut){ft!==null&&(ft=ft.next={eventTime:Pt,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var Bt=c,zt=je;switch(ut=d,Pt=g,zt.tag){case 1:if(Bt=zt.payload,typeof Bt=="function"){mt=Bt.call(Pt,mt,ut);break e}mt=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=zt.payload,ut=typeof Bt=="function"?Bt.call(Pt,mt,ut):Bt,ut==null)break e;mt=G({},mt,ut);break e;case 2:wa=!0}}je.callback!==null&&je.lane!==0&&(c.flags|=64,ut=E.effects,ut===null?E.effects=[je]:ut.push(je))}else Pt={eventTime:Pt,lane:ut,tag:je.tag,payload:je.payload,callback:je.callback,next:null},ft===null?(Ve=ft=Pt,Ae=mt):ft=ft.next=Pt,ne|=ut;if(je=je.next,je===null){if(je=E.shared.pending,je===null)break;ut=je,je=ut.next,ut.next=null,E.lastBaseUpdate=ut,E.shared.pending=null}}while(!0);if(ft===null&&(Ae=mt),E.baseState=Ae,E.firstBaseUpdate=Ve,E.lastBaseUpdate=ft,d=E.shared.interleaved,d!==null){E=d;do ne|=E.lane,E=E.next;while(E!==d)}else M===null&&(E.shared.lanes=0);_u|=ne,c.lanes=ne,c.memoizedState=mt}}function bs(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var j=c[d],E=j.callback;if(E!==null){if(j.callback=null,j=g,typeof E!="function")throw Error(r(191,E));E.call(j)}}}var os=new e.Component().refs;function ls(c,d,g,j){d=c.memoizedState,g=g(j,d),g=g==null?d:G({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Zr={isMounted:function(c){return(c=c._reactInternals)?fn(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var j=Us(),E=kc(c),M=Mr(j,E);M.payload=d,g!=null&&(M.callback=g),d=pn(c,M,E),d!==null&&(yo(d,c,E,j),Wa(d,c,E))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var j=Us(),E=kc(c),M=Mr(j,E);M.tag=1,M.payload=d,g!=null&&(M.callback=g),d=pn(c,M,E),d!==null&&(yo(d,c,E,j),Wa(d,c,E))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=Us(),j=kc(c),E=Mr(g,j);E.tag=2,d!=null&&(E.callback=d),d=pn(c,E,j),d!==null&&(yo(d,c,j,g),Wa(d,c,j))}};function ws(c,d,g,j,E,M,ne){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,M,ne):d.prototype&&d.prototype.isPureReactComponent?!ps(g,j)||!ps(E,M):!0}function ni(c,d,g){var j=!1,E=Vo,M=d.contextType;return typeof M=="object"&&M!==null?M=hr(M):(E=ys(d)?Al:Pa.current,j=d.contextTypes,M=(j=j!=null)?bc(c,E):Vo),d=new d(g,M),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zr,c.stateNode=d,d._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=E,c.__reactInternalMemoizedMaskedChildContext=M),d}function Yo(c,d,g,j){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,j),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,j),d.state!==c&&Zr.enqueueReplaceState(d,d.state,null)}function ki(c,d,g,j){var E=c.stateNode;E.props=g,E.state=c.memoizedState,E.refs=os,Mn(c);var M=d.contextType;typeof M=="object"&&M!==null?E.context=hr(M):(M=ys(d)?Al:Pa.current,E.context=bc(c,M)),E.state=c.memoizedState,M=d.getDerivedStateFromProps,typeof M=="function"&&(ls(c,d,M,g),E.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(d=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),d!==E.state&&Zr.enqueueReplaceState(E,E.state,null),Va(c,g,E,j),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308)}function Zn(c,d,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var j=g.stateNode}if(!j)throw Error(r(147,c));var E=j,M=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===M?d.ref:(d=function(ne){var je=E.refs;je===os&&(je=E.refs={}),ne===null?delete je[M]:je[M]=ne},d._stringRef=M,d)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function Pl(c,d){throw c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function gd(c){var d=c._init;return d(c._payload)}function pu(c){function d(Fe,Pe){if(c){var ze=Fe.deletions;ze===null?(Fe.deletions=[Pe],Fe.flags|=16):ze.push(Pe)}}function g(Fe,Pe){if(!c)return null;for(;Pe!==null;)d(Fe,Pe),Pe=Pe.sibling;return null}function j(Fe,Pe){for(Fe=new Map;Pe!==null;)Pe.key!==null?Fe.set(Pe.key,Pe):Fe.set(Pe.index,Pe),Pe=Pe.sibling;return Fe}function E(Fe,Pe){return Fe=Cc(Fe,Pe),Fe.index=0,Fe.sibling=null,Fe}function M(Fe,Pe,ze){return Fe.index=ze,c?(ze=Fe.alternate,ze!==null?(ze=ze.index,ze<Pe?(Fe.flags|=2,Pe):ze):(Fe.flags|=2,Pe)):(Fe.flags|=1048576,Pe)}function ne(Fe){return c&&Fe.alternate===null&&(Fe.flags|=2),Fe}function je(Fe,Pe,ze,vt){return Pe===null||Pe.tag!==6?(Pe=yx(ze,Fe.mode,vt),Pe.return=Fe,Pe):(Pe=E(Pe,ze),Pe.return=Fe,Pe)}function Ae(Fe,Pe,ze,vt){var Yt=ze.type;return Yt===I?ft(Fe,Pe,ze.props.children,vt,ze.key):Pe!==null&&(Pe.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===se&&gd(Yt)===Pe.type)?(vt=E(Pe,ze.props),vt.ref=Zn(Fe,Pe,ze),vt.return=Fe,vt):(vt=nm(ze.type,ze.key,ze.props,null,Fe.mode,vt),vt.ref=Zn(Fe,Pe,ze),vt.return=Fe,vt)}function Ve(Fe,Pe,ze,vt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==ze.containerInfo||Pe.stateNode.implementation!==ze.implementation?(Pe=bx(ze,Fe.mode,vt),Pe.return=Fe,Pe):(Pe=E(Pe,ze.children||[]),Pe.return=Fe,Pe)}function ft(Fe,Pe,ze,vt,Yt){return Pe===null||Pe.tag!==7?(Pe=Pu(ze,Fe.mode,vt,Yt),Pe.return=Fe,Pe):(Pe=E(Pe,ze),Pe.return=Fe,Pe)}function mt(Fe,Pe,ze){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=yx(""+Pe,Fe.mode,ze),Pe.return=Fe,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case C:return ze=nm(Pe.type,Pe.key,Pe.props,null,Fe.mode,ze),ze.ref=Zn(Fe,null,Pe),ze.return=Fe,ze;case T:return Pe=bx(Pe,Fe.mode,ze),Pe.return=Fe,Pe;case se:var vt=Pe._init;return mt(Fe,vt(Pe._payload),ze)}if(ye(Pe)||ee(Pe))return Pe=Pu(Pe,Fe.mode,ze,null),Pe.return=Fe,Pe;Pl(Fe,Pe)}return null}function ut(Fe,Pe,ze,vt){var Yt=Pe!==null?Pe.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return Yt!==null?null:je(Fe,Pe,""+ze,vt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case C:return ze.key===Yt?Ae(Fe,Pe,ze,vt):null;case T:return ze.key===Yt?Ve(Fe,Pe,ze,vt):null;case se:return Yt=ze._init,ut(Fe,Pe,Yt(ze._payload),vt)}if(ye(ze)||ee(ze))return Yt!==null?null:ft(Fe,Pe,ze,vt,null);Pl(Fe,ze)}return null}function Pt(Fe,Pe,ze,vt,Yt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Fe=Fe.get(ze)||null,je(Pe,Fe,""+vt,Yt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case C:return Fe=Fe.get(vt.key===null?ze:vt.key)||null,Ae(Pe,Fe,vt,Yt);case T:return Fe=Fe.get(vt.key===null?ze:vt.key)||null,Ve(Pe,Fe,vt,Yt);case se:var rr=vt._init;return Pt(Fe,Pe,ze,rr(vt._payload),Yt)}if(ye(vt)||ee(vt))return Fe=Fe.get(ze)||null,ft(Pe,Fe,vt,Yt,null);Pl(Pe,vt)}return null}function Bt(Fe,Pe,ze,vt){for(var Yt=null,rr=null,nr=Pe,dr=Pe=0,Ga=null;nr!==null&&dr<ze.length;dr++){nr.index>dr?(Ga=nr,nr=null):Ga=nr.sibling;var Kr=ut(Fe,nr,ze[dr],vt);if(Kr===null){nr===null&&(nr=Ga);break}c&&nr&&Kr.alternate===null&&d(Fe,nr),Pe=M(Kr,Pe,dr),rr===null?Yt=Kr:rr.sibling=Kr,rr=Kr,nr=Ga}if(dr===ze.length)return g(Fe,nr),at&&Ce(Fe,dr),Yt;if(nr===null){for(;dr<ze.length;dr++)nr=mt(Fe,ze[dr],vt),nr!==null&&(Pe=M(nr,Pe,dr),rr===null?Yt=nr:rr.sibling=nr,rr=nr);return at&&Ce(Fe,dr),Yt}for(nr=j(Fe,nr);dr<ze.length;dr++)Ga=Pt(nr,Fe,dr,ze[dr],vt),Ga!==null&&(c&&Ga.alternate!==null&&nr.delete(Ga.key===null?dr:Ga.key),Pe=M(Ga,Pe,dr),rr===null?Yt=Ga:rr.sibling=Ga,rr=Ga);return c&&nr.forEach(function(Pc){return d(Fe,Pc)}),at&&Ce(Fe,dr),Yt}function zt(Fe,Pe,ze,vt){var Yt=ee(ze);if(typeof Yt!="function")throw Error(r(150));if(ze=Yt.call(ze),ze==null)throw Error(r(151));for(var rr=Yt=null,nr=Pe,dr=Pe=0,Ga=null,Kr=ze.next();nr!==null&&!Kr.done;dr++,Kr=ze.next()){nr.index>dr?(Ga=nr,nr=null):Ga=nr.sibling;var Pc=ut(Fe,nr,Kr.value,vt);if(Pc===null){nr===null&&(nr=Ga);break}c&&nr&&Pc.alternate===null&&d(Fe,nr),Pe=M(Pc,Pe,dr),rr===null?Yt=Pc:rr.sibling=Pc,rr=Pc,nr=Ga}if(Kr.done)return g(Fe,nr),at&&Ce(Fe,dr),Yt;if(nr===null){for(;!Kr.done;dr++,Kr=ze.next())Kr=mt(Fe,Kr.value,vt),Kr!==null&&(Pe=M(Kr,Pe,dr),rr===null?Yt=Kr:rr.sibling=Kr,rr=Kr);return at&&Ce(Fe,dr),Yt}for(nr=j(Fe,nr);!Kr.done;dr++,Kr=ze.next())Kr=Pt(nr,Fe,dr,Kr.value,vt),Kr!==null&&(c&&Kr.alternate!==null&&nr.delete(Kr.key===null?dr:Kr.key),Pe=M(Kr,Pe,dr),rr===null?Yt=Kr:rr.sibling=Kr,rr=Kr);return c&&nr.forEach(function(xO){return d(Fe,xO)}),at&&Ce(Fe,dr),Yt}function ha(Fe,Pe,ze,vt){if(typeof ze=="object"&&ze!==null&&ze.type===I&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case C:e:{for(var Yt=ze.key,rr=Pe;rr!==null;){if(rr.key===Yt){if(Yt=ze.type,Yt===I){if(rr.tag===7){g(Fe,rr.sibling),Pe=E(rr,ze.props.children),Pe.return=Fe,Fe=Pe;break e}}else if(rr.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===se&&gd(Yt)===rr.type){g(Fe,rr.sibling),Pe=E(rr,ze.props),Pe.ref=Zn(Fe,rr,ze),Pe.return=Fe,Fe=Pe;break e}g(Fe,rr);break}else d(Fe,rr);rr=rr.sibling}ze.type===I?(Pe=Pu(ze.props.children,Fe.mode,vt,ze.key),Pe.return=Fe,Fe=Pe):(vt=nm(ze.type,ze.key,ze.props,null,Fe.mode,vt),vt.ref=Zn(Fe,Pe,ze),vt.return=Fe,Fe=vt)}return ne(Fe);case T:e:{for(rr=ze.key;Pe!==null;){if(Pe.key===rr)if(Pe.tag===4&&Pe.stateNode.containerInfo===ze.containerInfo&&Pe.stateNode.implementation===ze.implementation){g(Fe,Pe.sibling),Pe=E(Pe,ze.children||[]),Pe.return=Fe,Fe=Pe;break e}else{g(Fe,Pe);break}else d(Fe,Pe);Pe=Pe.sibling}Pe=bx(ze,Fe.mode,vt),Pe.return=Fe,Fe=Pe}return ne(Fe);case se:return rr=ze._init,ha(Fe,Pe,rr(ze._payload),vt)}if(ye(ze))return Bt(Fe,Pe,ze,vt);if(ee(ze))return zt(Fe,Pe,ze,vt);Pl(Fe,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,Pe!==null&&Pe.tag===6?(g(Fe,Pe.sibling),Pe=E(Pe,ze),Pe.return=Fe,Fe=Pe):(g(Fe,Pe),Pe=yx(ze,Fe.mode,vt),Pe.return=Fe,Fe=Pe),ne(Fe)):g(Fe,Pe)}return ha}var qi=pu(!0),$0=pu(!1),gu={},ai=_i(gu),si=_i(gu),xu=_i(gu);function El(c){if(c===gu)throw Error(r(174));return c}function Jf(c,d){switch(rn(xu,d),rn(si,c),rn(ai,gu),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:_e(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=_e(d,c)}Qr(ai),rn(ai,d)}function Ll(){Qr(ai),Qr(si),Qr(xu)}function vu(c){El(xu.current);var d=El(ai.current),g=_e(d,c.type);d!==g&&(rn(si,c),rn(ai,g))}function xd(c){si.current===c&&(Qr(ai),Qr(si))}var Pn=_i(0);function Ol(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var yu=[];function Rl(){for(var c=0;c<yu.length;c++)yu[c]._workInProgressVersionPrimary=null;yu.length=0}var bu=k.ReactCurrentDispatcher,Qf=k.ReactCurrentBatchConfig,zi=0,En=null,ea=null,yn=null,wu=!1,wc=!1,ju=0,B0=0;function ta(){throw Error(r(321))}function Zf(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!Un(c[g],d[g]))return!1;return!0}function vd(c,d,g,j,E,M){if(zi=M,En=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,bu.current=c===null||c.memoizedState===null?zL:WL,c=g(j,E),wc){M=0;do{if(wc=!1,ju=0,25<=M)throw Error(r(301));M+=1,yn=ea=null,d.updateQueue=null,bu.current=HL,c=g(j,E)}while(wc)}if(bu.current=W0,d=ea!==null&&ea.next!==null,zi=0,yn=ea=En=null,wu=!1,d)throw Error(r(300));return c}function eh(){var c=ju!==0;return ju=0,c}function Ai(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?En.memoizedState=yn=c:yn=yn.next=c,yn}function ii(){if(ea===null){var c=En.alternate;c=c!==null?c.memoizedState:null}else c=ea.next;var d=yn===null?En.memoizedState:yn.next;if(d!==null)yn=d,ea=c;else{if(c===null)throw Error(r(310));ea=c,c={memoizedState:ea.memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},yn===null?En.memoizedState=yn=c:yn=yn.next=c}return yn}function mo(c,d){return typeof d=="function"?d(c):d}function Nu(c){var d=ii(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var j=ea,E=j.baseQueue,M=g.pending;if(M!==null){if(E!==null){var ne=E.next;E.next=M.next,M.next=ne}j.baseQueue=E=M,g.pending=null}if(E!==null){M=E.next,j=j.baseState;var je=ne=null,Ae=null,Ve=M;do{var ft=Ve.lane;if((zi&ft)===ft)Ae!==null&&(Ae=Ae.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),j=Ve.hasEagerState?Ve.eagerState:c(j,Ve.action);else{var mt={lane:ft,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Ae===null?(je=Ae=mt,ne=j):Ae=Ae.next=mt,En.lanes|=ft,_u|=ft}Ve=Ve.next}while(Ve!==null&&Ve!==M);Ae===null?ne=j:Ae.next=je,Un(j,d.memoizedState)||(oi=!0),d.memoizedState=j,d.baseState=ne,d.baseQueue=Ae,g.lastRenderedState=j}if(c=g.interleaved,c!==null){E=c;do M=E.lane,En.lanes|=M,_u|=M,E=E.next;while(E!==c)}else E===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function jc(c){var d=ii(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var j=g.dispatch,E=g.pending,M=d.memoizedState;if(E!==null){g.pending=null;var ne=E=E.next;do M=c(M,ne.action),ne=ne.next;while(ne!==E);Un(M,d.memoizedState)||(oi=!0),d.memoizedState=M,d.baseQueue===null&&(d.baseState=M),g.lastRenderedState=M}return[M,j]}function Wi(){}function po(c,d){var g=En,j=ii(),E=d(),M=!Un(j.memoizedState,E);if(M&&(j.memoizedState=E,oi=!0),j=j.queue,Yg(yd.bind(null,g,j,c),[c]),j.getSnapshot!==d||M||yn!==null&&yn.memoizedState.tag&1){if(g.flags|=2048,Tl(9,Su.bind(null,g,j,E,d),void 0,null),Ya===null)throw Error(r(349));(zi&30)!==0||go(g,d,E)}return E}function go(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=En.updateQueue,d===null?(d={lastEffect:null,stores:null},En.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function Su(c,d,g,j){d.value=g,d.getSnapshot=j,th(d)&&U0(c)}function yd(c,d,g){return g(function(){th(d)&&U0(c)})}function th(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!Un(c,g)}catch{return!0}}function U0(c){var d=vn(c,1);d!==null&&yo(d,c,1,-1)}function bd(c){var d=Ai();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:c},d.queue=c,c=c.dispatch=qL.bind(null,En,c),[d.memoizedState,c]}function Tl(c,d,g,j){return c={tag:c,create:d,destroy:g,deps:j,next:null},d=En.updateQueue,d===null?(d={lastEffect:null,stores:null},En.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect,g===null?d.lastEffect=c.next=c:(j=g.next,g.next=c,c.next=j,d.lastEffect=c)),c}function xj(){return ii().memoizedState}function q0(c,d,g,j){var E=Ai();En.flags|=c,E.memoizedState=Tl(1|d,g,void 0,j===void 0?null:j)}function z0(c,d,g,j){var E=ii();j=j===void 0?null:j;var M=void 0;if(ea!==null){var ne=ea.memoizedState;if(M=ne.destroy,j!==null&&Zf(j,ne.deps)){E.memoizedState=Tl(d,g,M,j);return}}En.flags|=c,E.memoizedState=Tl(1|d,g,M,j)}function vj(c,d){return q0(8390656,8,c,d)}function Yg(c,d){return z0(2048,8,c,d)}function yj(c,d){return z0(4,2,c,d)}function bj(c,d){return z0(4,4,c,d)}function wj(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function jj(c,d,g){return g=g!=null?g.concat([c]):null,z0(4,4,wj.bind(null,d,c),g)}function Gg(){}function Nj(c,d){var g=ii();d=d===void 0?null:d;var j=g.memoizedState;return j!==null&&d!==null&&Zf(d,j[1])?j[0]:(g.memoizedState=[c,d],c)}function Sj(c,d){var g=ii();d=d===void 0?null:d;var j=g.memoizedState;return j!==null&&d!==null&&Zf(d,j[1])?j[0]:(c=c(),g.memoizedState=[c,d],c)}function _j(c,d,g){return(zi&21)===0?(c.baseState&&(c.baseState=!1,oi=!0),c.memoizedState=g):(Un(g,d)||(g=Gs(),En.lanes|=g,_u|=g,c.baseState=!0),d)}function BL(c,d){var g=Er;Er=g!==0&&4>g?g:4,c(!0);var j=Qf.transition;Qf.transition={};try{c(!1),d()}finally{Er=g,Qf.transition=j}}function kj(){return ii().memoizedState}function UL(c,d,g){var j=kc(c);if(g={lane:j,action:g,hasEagerState:!1,eagerState:null,next:null},Aj(c))Cj(d,g);else if(g=Gr(c,d,g,j),g!==null){var E=Us();yo(g,c,j,E),Pj(g,d,j)}}function qL(c,d,g){var j=kc(c),E={lane:j,action:g,hasEagerState:!1,eagerState:null,next:null};if(Aj(c))Cj(d,E);else{var M=c.alternate;if(c.lanes===0&&(M===null||M.lanes===0)&&(M=d.lastRenderedReducer,M!==null))try{var ne=d.lastRenderedState,je=M(ne,g);if(E.hasEagerState=!0,E.eagerState=je,Un(je,ne)){var Ae=d.interleaved;Ae===null?(E.next=E,Cn(d)):(E.next=Ae.next,Ae.next=E),d.interleaved=E;return}}catch{}finally{}g=Gr(c,d,E,j),g!==null&&(E=Us(),yo(g,c,j,E),Pj(g,d,j))}}function Aj(c){var d=c.alternate;return c===En||d!==null&&d===En}function Cj(c,d){wc=wu=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function Pj(c,d,g){if((g&4194240)!==0){var j=d.lanes;j&=c.pendingLanes,g|=j,d.lanes=g,Eo(c,g)}}var W0={readContext:hr,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useInsertionEffect:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useSyncExternalStore:ta,useId:ta,unstable_isNewReconciler:!1},zL={readContext:hr,useCallback:function(c,d){return Ai().memoizedState=[c,d===void 0?null:d],c},useContext:hr,useEffect:vj,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,q0(4194308,4,wj.bind(null,d,c),g)},useLayoutEffect:function(c,d){return q0(4194308,4,c,d)},useInsertionEffect:function(c,d){return q0(4,2,c,d)},useMemo:function(c,d){var g=Ai();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var j=Ai();return d=g!==void 0?g(d):d,j.memoizedState=j.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},j.queue=c,c=c.dispatch=UL.bind(null,En,c),[j.memoizedState,c]},useRef:function(c){var d=Ai();return c={current:c},d.memoizedState=c},useState:bd,useDebugValue:Gg,useDeferredValue:function(c){return Ai().memoizedState=c},useTransition:function(){var c=bd(!1),d=c[0];return c=BL.bind(null,c[1]),Ai().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var j=En,E=Ai();if(at){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),Ya===null)throw Error(r(349));(zi&30)!==0||go(j,d,g)}E.memoizedState=g;var M={value:g,getSnapshot:d};return E.queue=M,vj(yd.bind(null,j,M,c),[c]),j.flags|=2048,Tl(9,Su.bind(null,j,M,g,d),void 0,null),g},useId:function(){var c=Ai(),d=Ya.identifierPrefix;if(at){var g=ve,j=De;g=(j&~(1<<32-Ct(j)-1)).toString(32)+g,d=":"+d+"R"+g,g=ju++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=B0++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},WL={readContext:hr,useCallback:Nj,useContext:hr,useEffect:Yg,useImperativeHandle:jj,useInsertionEffect:yj,useLayoutEffect:bj,useMemo:Sj,useReducer:Nu,useRef:xj,useState:function(){return Nu(mo)},useDebugValue:Gg,useDeferredValue:function(c){var d=ii();return _j(d,ea.memoizedState,c)},useTransition:function(){var c=Nu(mo)[0],d=ii().memoizedState;return[c,d]},useMutableSource:Wi,useSyncExternalStore:po,useId:kj,unstable_isNewReconciler:!1},HL={readContext:hr,useCallback:Nj,useContext:hr,useEffect:Yg,useImperativeHandle:jj,useInsertionEffect:yj,useLayoutEffect:bj,useMemo:Sj,useReducer:jc,useRef:xj,useState:function(){return jc(mo)},useDebugValue:Gg,useDeferredValue:function(c){var d=ii();return ea===null?d.memoizedState=c:_j(d,ea.memoizedState,c)},useTransition:function(){var c=jc(mo)[0],d=ii().memoizedState;return[c,d]},useMutableSource:Wi,useSyncExternalStore:po,useId:kj,unstable_isNewReconciler:!1};function wd(c,d){try{var g="",j=d;do g+=ie(j),j=j.return;while(j);var E=g}catch(M){E=`
Error generating stack: `+M.message+`
`+M.stack}return{value:c,source:d,stack:E,digest:null}}function Kg(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function Xg(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var VL=typeof WeakMap=="function"?WeakMap:Map;function Ej(c,d,g){g=Mr(-1,g),g.tag=3,g.payload={element:null};var j=d.value;return g.callback=function(){J0||(J0=!0,dx=j),Xg(c,d)},g}function Lj(c,d,g){g=Mr(-1,g),g.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var E=d.value;g.payload=function(){return j(E)},g.callback=function(){Xg(c,d)}}var M=c.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(g.callback=function(){Xg(c,d),typeof j!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var ne=d.stack;this.componentDidCatch(d.value,{componentStack:ne!==null?ne:""})}),g}function Oj(c,d,g){var j=c.pingCache;if(j===null){j=c.pingCache=new VL;var E=new Set;j.set(d,E)}else E=j.get(d),E===void 0&&(E=new Set,j.set(d,E));E.has(g)||(E.add(g),c=iO.bind(null,c,d,g),d.then(c,c))}function Rj(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function Tj(c,d,g,j,E){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=Mr(-1,1),d.tag=2,pn(g,d,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=E,c)}var YL=k.ReactCurrentOwner,oi=!1;function Bs(c,d,g,j){d.child=c===null?$0(d,null,g,j):qi(d,c.child,g,j)}function Mj(c,d,g,j,E){g=g.render;var M=d.ref;return An(d,E),j=vd(c,d,g,j,M,E),g=eh(),c!==null&&!oi?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~E,Ml(c,d,E)):(at&&g&&rt(d),d.flags|=1,Bs(c,d,j,E),d.child)}function Ij(c,d,g,j,E){if(c===null){var M=g.type;return typeof M=="function"&&!vx(M)&&M.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=M,Dj(c,d,M,j,E)):(c=nm(g.type,null,j,d,d.mode,E),c.ref=d.ref,c.return=d,d.child=c)}if(M=c.child,(c.lanes&E)===0){var ne=M.memoizedProps;if(g=g.compare,g=g!==null?g:ps,g(ne,j)&&c.ref===d.ref)return Ml(c,d,E)}return d.flags|=1,c=Cc(M,j),c.ref=d.ref,c.return=d,d.child=c}function Dj(c,d,g,j,E){if(c!==null){var M=c.memoizedProps;if(ps(M,j)&&c.ref===d.ref)if(oi=!1,d.pendingProps=j=M,(c.lanes&E)!==0)(c.flags&131072)!==0&&(oi=!0);else return d.lanes=c.lanes,Ml(c,d,E)}return Jg(c,d,g,j,E)}function Fj(c,d,g){var j=d.pendingProps,E=j.children,M=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(Nd,Ci),Ci|=g;else{if((g&1073741824)===0)return c=M!==null?M.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,rn(Nd,Ci),Ci|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=M!==null?M.baseLanes:g,rn(Nd,Ci),Ci|=j}else M!==null?(j=M.baseLanes|g,d.memoizedState=null):j=g,rn(Nd,Ci),Ci|=j;return Bs(c,d,E,g),d.child}function $j(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function Jg(c,d,g,j,E){var M=ys(g)?Al:Pa.current;return M=bc(d,M),An(d,E),g=vd(c,d,g,j,M,E),j=eh(),c!==null&&!oi?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~E,Ml(c,d,E)):(at&&j&&rt(d),d.flags|=1,Bs(c,d,g,E),d.child)}function Bj(c,d,g,j,E){if(ys(g)){var M=!0;Cl(d)}else M=!1;if(An(d,E),d.stateNode===null)V0(c,d),ni(d,g,j),ki(d,g,j,E),j=!0;else if(c===null){var ne=d.stateNode,je=d.memoizedProps;ne.props=je;var Ae=ne.context,Ve=g.contextType;typeof Ve=="object"&&Ve!==null?Ve=hr(Ve):(Ve=ys(g)?Al:Pa.current,Ve=bc(d,Ve));var ft=g.getDerivedStateFromProps,mt=typeof ft=="function"||typeof ne.getSnapshotBeforeUpdate=="function";mt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(je!==j||Ae!==Ve)&&Yo(d,ne,j,Ve),wa=!1;var ut=d.memoizedState;ne.state=ut,Va(d,j,ne,E),Ae=d.memoizedState,je!==j||ut!==Ae||vs.current||wa?(typeof ft=="function"&&(ls(d,g,ft,j),Ae=d.memoizedState),(je=wa||ws(d,g,je,j,ut,Ae,Ve))?(mt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(d.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=j,d.memoizedState=Ae),ne.props=j,ne.state=Ae,ne.context=Ve,j=je):(typeof ne.componentDidMount=="function"&&(d.flags|=4194308),j=!1)}else{ne=d.stateNode,is(c,d),je=d.memoizedProps,Ve=d.type===d.elementType?je:Jt(d.type,je),ne.props=Ve,mt=d.pendingProps,ut=ne.context,Ae=g.contextType,typeof Ae=="object"&&Ae!==null?Ae=hr(Ae):(Ae=ys(g)?Al:Pa.current,Ae=bc(d,Ae));var Pt=g.getDerivedStateFromProps;(ft=typeof Pt=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(je!==mt||ut!==Ae)&&Yo(d,ne,j,Ae),wa=!1,ut=d.memoizedState,ne.state=ut,Va(d,j,ne,E);var Bt=d.memoizedState;je!==mt||ut!==Bt||vs.current||wa?(typeof Pt=="function"&&(ls(d,g,Pt,j),Bt=d.memoizedState),(Ve=wa||ws(d,g,Ve,j,ut,Bt,Ae)||!1)?(ft||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(j,Bt,Ae),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(j,Bt,Ae)),typeof ne.componentDidUpdate=="function"&&(d.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof ne.componentDidUpdate!="function"||je===c.memoizedProps&&ut===c.memoizedState||(d.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||je===c.memoizedProps&&ut===c.memoizedState||(d.flags|=1024),d.memoizedProps=j,d.memoizedState=Bt),ne.props=j,ne.state=Bt,ne.context=Ae,j=Ve):(typeof ne.componentDidUpdate!="function"||je===c.memoizedProps&&ut===c.memoizedState||(d.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||je===c.memoizedProps&&ut===c.memoizedState||(d.flags|=1024),j=!1)}return Qg(c,d,g,j,M,E)}function Qg(c,d,g,j,E,M){$j(c,d);var ne=(d.flags&128)!==0;if(!j&&!ne)return E&&F0(d,g,!1),Ml(c,d,M);j=d.stateNode,YL.current=d;var je=ne&&typeof g.getDerivedStateFromError!="function"?null:j.render();return d.flags|=1,c!==null&&ne?(d.child=qi(d,c.child,null,M),d.child=qi(d,null,je,M)):Bs(c,d,je,M),d.memoizedState=j.state,E&&F0(d,g,!0),d.child}function Uj(c){var d=c.stateNode;d.pendingContext?D0(c,d.pendingContext,d.pendingContext!==d.context):d.context&&D0(c,d.context,!1),Jf(c,d.containerInfo)}function qj(c,d,g,j,E){return Rt(),jt(E),d.flags|=256,Bs(c,d,g,j),d.child}var Zg={dehydrated:null,treeContext:null,retryLane:0};function ex(c){return{baseLanes:c,cachePool:null,transitions:null}}function zj(c,d,g){var j=d.pendingProps,E=Pn.current,M=!1,ne=(d.flags&128)!==0,je;if((je=ne)||(je=c!==null&&c.memoizedState===null?!1:(E&2)!==0),je?(M=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(E|=1),rn(Pn,E&1),c===null)return $t(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(ne=j.children,c=j.fallback,M?(j=d.mode,M=d.child,ne={mode:"hidden",children:ne},(j&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=ne):M=am(ne,j,0,null),c=Pu(c,j,g,null),M.return=d,c.return=d,M.sibling=c,d.child=M,d.child.memoizedState=ex(g),d.memoizedState=Zg,c):tx(d,ne));if(E=c.memoizedState,E!==null&&(je=E.dehydrated,je!==null))return GL(c,d,ne,j,je,E,g);if(M){M=j.fallback,ne=d.mode,E=c.child,je=E.sibling;var Ae={mode:"hidden",children:j.children};return(ne&1)===0&&d.child!==E?(j=d.child,j.childLanes=0,j.pendingProps=Ae,d.deletions=null):(j=Cc(E,Ae),j.subtreeFlags=E.subtreeFlags&14680064),je!==null?M=Cc(je,M):(M=Pu(M,ne,g,null),M.flags|=2),M.return=d,j.return=d,j.sibling=M,d.child=j,j=M,M=d.child,ne=c.child.memoizedState,ne=ne===null?ex(g):{baseLanes:ne.baseLanes|g,cachePool:null,transitions:ne.transitions},M.memoizedState=ne,M.childLanes=c.childLanes&~g,d.memoizedState=Zg,j}return M=c.child,c=M.sibling,j=Cc(M,{mode:"visible",children:j.children}),(d.mode&1)===0&&(j.lanes=g),j.return=d,j.sibling=null,c!==null&&(g=d.deletions,g===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=j,d.memoizedState=null,j}function tx(c,d){return d=am({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function H0(c,d,g,j){return j!==null&&jt(j),qi(d,c.child,null,g),c=tx(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function GL(c,d,g,j,E,M,ne){if(g)return d.flags&256?(d.flags&=-257,j=Kg(Error(r(422))),H0(c,d,ne,j)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(M=j.fallback,E=d.mode,j=am({mode:"visible",children:j.children},E,0,null),M=Pu(M,E,ne,null),M.flags|=2,j.return=d,M.return=d,j.sibling=M,d.child=j,(d.mode&1)!==0&&qi(d,c.child,null,ne),d.child.memoizedState=ex(ne),d.memoizedState=Zg,M);if((d.mode&1)===0)return H0(c,d,ne,null);if(E.data==="$!"){if(j=E.nextSibling&&E.nextSibling.dataset,j)var je=j.dgst;return j=je,M=Error(r(419)),j=Kg(M,j,void 0),H0(c,d,ne,j)}if(je=(ne&c.childLanes)!==0,oi||je){if(j=Ya,j!==null){switch(ne&-ne){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(j.suspendedLanes|ne))!==0?0:E,E!==0&&E!==M.retryLane&&(M.retryLane=E,vn(c,E),yo(j,c,E,-1))}return xx(),j=Kg(Error(r(421))),H0(c,d,ne,j)}return E.data==="$?"?(d.flags|=128,d.child=c.child,d=oO.bind(null,c),E._reactRetry=d,null):(c=M.treeContext,Ze=ss(E.nextSibling),Ke=d,at=!0,st=null,c!==null&&(fe[ge++]=De,fe[ge++]=ve,fe[ge++]=ke,De=c.id,ve=c.overflow,ke=d),d=tx(d,j.children),d.flags|=4096,d)}function Wj(c,d,g){c.lanes|=d;var j=c.alternate;j!==null&&(j.lanes|=d),La(c.return,d,g)}function rx(c,d,g,j,E){var M=c.memoizedState;M===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:j,tail:g,tailMode:E}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=j,M.tail=g,M.tailMode=E)}function Hj(c,d,g){var j=d.pendingProps,E=j.revealOrder,M=j.tail;if(Bs(c,d,j.children,g),j=Pn.current,(j&2)!==0)j=j&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Wj(c,g,d);else if(c.tag===19)Wj(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(rn(Pn,j),(d.mode&1)===0)d.memoizedState=null;else switch(E){case"forwards":for(g=d.child,E=null;g!==null;)c=g.alternate,c!==null&&Ol(c)===null&&(E=g),g=g.sibling;g=E,g===null?(E=d.child,d.child=null):(E=g.sibling,g.sibling=null),rx(d,!1,E,g,M);break;case"backwards":for(g=null,E=d.child,d.child=null;E!==null;){if(c=E.alternate,c!==null&&Ol(c)===null){d.child=E;break}c=E.sibling,E.sibling=g,g=E,E=c}rx(d,!0,g,null,M);break;case"together":rx(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function V0(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Ml(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),_u|=d.lanes,(g&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,g=Cc(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=Cc(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function KL(c,d,g){switch(d.tag){case 3:Uj(d),Rt();break;case 5:vu(d);break;case 1:ys(d.type)&&Cl(d);break;case 4:Jf(d,d.stateNode.containerInfo);break;case 10:var j=d.type._context,E=d.memoizedProps.value;rn(Pr,j._currentValue),j._currentValue=E;break;case 13:if(j=d.memoizedState,j!==null)return j.dehydrated!==null?(rn(Pn,Pn.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?zj(c,d,g):(rn(Pn,Pn.current&1),c=Ml(c,d,g),c!==null?c.sibling:null);rn(Pn,Pn.current&1);break;case 19:if(j=(g&d.childLanes)!==0,(c.flags&128)!==0){if(j)return Hj(c,d,g);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),rn(Pn,Pn.current),j)break;return null;case 22:case 23:return d.lanes=0,Fj(c,d,g)}return Ml(c,d,g)}var Vj,nx,Yj,Gj;Vj=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},nx=function(){},Yj=function(c,d,g,j){var E=c.memoizedProps;if(E!==j){c=d.stateNode,El(ai.current);var M=null;switch(g){case"input":E=be(c,E),j=be(c,j),M=[];break;case"select":E=G({},E,{value:void 0}),j=G({},j,{value:void 0}),M=[];break;case"textarea":E=wt(c,E),j=wt(c,j),M=[];break;default:typeof E.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=xc)}Be(g,j);var ne;g=null;for(Ve in E)if(!j.hasOwnProperty(Ve)&&E.hasOwnProperty(Ve)&&E[Ve]!=null)if(Ve==="style"){var je=E[Ve];for(ne in je)je.hasOwnProperty(ne)&&(g||(g={}),g[ne]="")}else Ve!=="dangerouslySetInnerHTML"&&Ve!=="children"&&Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&Ve!=="autoFocus"&&(s.hasOwnProperty(Ve)?M||(M=[]):(M=M||[]).push(Ve,null));for(Ve in j){var Ae=j[Ve];if(je=E?.[Ve],j.hasOwnProperty(Ve)&&Ae!==je&&(Ae!=null||je!=null))if(Ve==="style")if(je){for(ne in je)!je.hasOwnProperty(ne)||Ae&&Ae.hasOwnProperty(ne)||(g||(g={}),g[ne]="");for(ne in Ae)Ae.hasOwnProperty(ne)&&je[ne]!==Ae[ne]&&(g||(g={}),g[ne]=Ae[ne])}else g||(M||(M=[]),M.push(Ve,g)),g=Ae;else Ve==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,je=je?je.__html:void 0,Ae!=null&&je!==Ae&&(M=M||[]).push(Ve,Ae)):Ve==="children"?typeof Ae!="string"&&typeof Ae!="number"||(M=M||[]).push(Ve,""+Ae):Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ve)?(Ae!=null&&Ve==="onScroll"&&un("scroll",c),M||je===Ae||(M=[])):(M=M||[]).push(Ve,Ae))}g&&(M=M||[]).push("style",g);var Ve=M;(d.updateQueue=Ve)&&(d.flags|=4)}},Gj=function(c,d,g,j){g!==j&&(d.flags|=4)};function rh(c,d){if(!at)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var j=null;g!==null;)g.alternate!==null&&(j=g),g=g.sibling;j===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function js(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,j=0;if(d)for(var E=c.child;E!==null;)g|=E.lanes|E.childLanes,j|=E.subtreeFlags&14680064,j|=E.flags&14680064,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)g|=E.lanes|E.childLanes,j|=E.subtreeFlags,j|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=j,c.childLanes=g,d}function XL(c,d,g){var j=d.pendingProps;switch($e(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return js(d),null;case 1:return ys(d.type)&&pd(),js(d),null;case 3:return j=d.stateNode,Ll(),Qr(vs),Qr(Pa),Rl(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(zn(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,st!==null&&(mx(st),st=null))),nx(c,d),js(d),null;case 5:xd(d);var E=El(xu.current);if(g=d.type,c!==null&&d.stateNode!=null)Yj(c,d,g,j,E),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!j){if(d.stateNode===null)throw Error(r(166));return js(d),null}if(c=El(ai.current),zn(d)){j=d.stateNode,g=d.type;var M=d.memoizedProps;switch(j[Ui]=d,j[vc]=M,c=(d.mode&1)!==0,g){case"dialog":un("cancel",j),un("close",j);break;case"iframe":case"object":case"embed":un("load",j);break;case"video":case"audio":for(E=0;E<Wo.length;E++)un(Wo[E],j);break;case"source":un("error",j);break;case"img":case"image":case"link":un("error",j),un("load",j);break;case"details":un("toggle",j);break;case"input":Z(j,M),un("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!M.multiple},un("invalid",j);break;case"textarea":Ee(j,M),un("invalid",j)}Be(g,M),E=null;for(var ne in M)if(M.hasOwnProperty(ne)){var je=M[ne];ne==="children"?typeof je=="string"?j.textContent!==je&&(M.suppressHydrationWarning!==!0&&md(j.textContent,je,c),E=["children",je]):typeof je=="number"&&j.textContent!==""+je&&(M.suppressHydrationWarning!==!0&&md(j.textContent,je,c),E=["children",""+je]):s.hasOwnProperty(ne)&&je!=null&&ne==="onScroll"&&un("scroll",j)}switch(g){case"input":Ne(j),Qe(j,M,!0);break;case"textarea":Ne(j),gt(j);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(j.onclick=xc)}j=E,d.updateQueue=j,j!==null&&(d.flags|=4)}else{ne=E.nodeType===9?E:E.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=ht(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=ne.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=ne.createElement(g,{is:j.is}):(c=ne.createElement(g),g==="select"&&(ne=c,j.multiple?ne.multiple=!0:j.size&&(ne.size=j.size))):c=ne.createElementNS(c,g),c[Ui]=d,c[vc]=j,Vj(c,d,!1,!1),d.stateNode=c;e:{switch(ne=Ie(g,j),g){case"dialog":un("cancel",c),un("close",c),E=j;break;case"iframe":case"object":case"embed":un("load",c),E=j;break;case"video":case"audio":for(E=0;E<Wo.length;E++)un(Wo[E],c);E=j;break;case"source":un("error",c),E=j;break;case"img":case"image":case"link":un("error",c),un("load",c),E=j;break;case"details":un("toggle",c),E=j;break;case"input":Z(c,j),E=be(c,j),un("invalid",c);break;case"option":E=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},E=G({},j,{value:void 0}),un("invalid",c);break;case"textarea":Ee(c,j),E=wt(c,j),un("invalid",c);break;default:E=j}Be(g,E),je=E;for(M in je)if(je.hasOwnProperty(M)){var Ae=je[M];M==="style"?pt(c,Ae):M==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,Ae!=null&&We(c,Ae)):M==="children"?typeof Ae=="string"?(g!=="textarea"||Ae!=="")&&Ge(c,Ae):typeof Ae=="number"&&Ge(c,""+Ae):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(s.hasOwnProperty(M)?Ae!=null&&M==="onScroll"&&un("scroll",c):Ae!=null&&N(c,M,Ae,ne))}switch(g){case"input":Ne(c),Qe(c,j,!1);break;case"textarea":Ne(c),gt(c);break;case"option":j.value!=null&&c.setAttribute("value",""+de(j.value));break;case"select":c.multiple=!!j.multiple,M=j.value,M!=null?qe(c,!!j.multiple,M,!1):j.defaultValue!=null&&qe(c,!!j.multiple,j.defaultValue,!0);break;default:typeof E.onClick=="function"&&(c.onclick=xc)}switch(g){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return js(d),null;case 6:if(c&&d.stateNode!=null)Gj(c,d,c.memoizedProps,j);else{if(typeof j!="string"&&d.stateNode===null)throw Error(r(166));if(g=El(xu.current),El(ai.current),zn(d)){if(j=d.stateNode,g=d.memoizedProps,j[Ui]=d,(M=j.nodeValue!==g)&&(c=Ke,c!==null))switch(c.tag){case 3:md(j.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&md(j.nodeValue,g,(c.mode&1)!==0)}M&&(d.flags|=4)}else j=(g.nodeType===9?g:g.ownerDocument).createTextNode(j),j[Ui]=d,d.stateNode=j}return js(d),null;case 13:if(Qr(Pn),j=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(at&&Ze!==null&&(d.mode&1)!==0&&(d.flags&128)===0)jr(),Rt(),d.flags|=98560,M=!1;else if(M=zn(d),j!==null&&j.dehydrated!==null){if(c===null){if(!M)throw Error(r(318));if(M=d.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[Ui]=d}else Rt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;js(d),M=!1}else st!==null&&(mx(st),st=null),M=!0;if(!M)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(Pn.current&1)!==0?Oa===0&&(Oa=3):xx())),d.updateQueue!==null&&(d.flags|=4),js(d),null);case 4:return Ll(),nx(c,d),c===null&&Nl(d.stateNode.containerInfo),js(d),null;case 10:return ba(d.type._context),js(d),null;case 17:return ys(d.type)&&pd(),js(d),null;case 19:if(Qr(Pn),M=d.memoizedState,M===null)return js(d),null;if(j=(d.flags&128)!==0,ne=M.rendering,ne===null)if(j)rh(M,!1);else{if(Oa!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(ne=Ol(c),ne!==null){for(d.flags|=128,rh(M,!1),j=ne.updateQueue,j!==null&&(d.updateQueue=j,d.flags|=4),d.subtreeFlags=0,j=g,g=d.child;g!==null;)M=g,c=j,M.flags&=14680066,ne=M.alternate,ne===null?(M.childLanes=0,M.lanes=c,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=ne.childLanes,M.lanes=ne.lanes,M.child=ne.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=ne.memoizedProps,M.memoizedState=ne.memoizedState,M.updateQueue=ne.updateQueue,M.type=ne.type,c=ne.dependencies,M.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return rn(Pn,Pn.current&1|2),d.child}c=c.sibling}M.tail!==null&&_t()>Sd&&(d.flags|=128,j=!0,rh(M,!1),d.lanes=4194304)}else{if(!j)if(c=Ol(ne),c!==null){if(d.flags|=128,j=!0,g=c.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),rh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!ne.alternate&&!at)return js(d),null}else 2*_t()-M.renderingStartTime>Sd&&g!==1073741824&&(d.flags|=128,j=!0,rh(M,!1),d.lanes=4194304);M.isBackwards?(ne.sibling=d.child,d.child=ne):(g=M.last,g!==null?g.sibling=ne:d.child=ne,M.last=ne)}return M.tail!==null?(d=M.tail,M.rendering=d,M.tail=d.sibling,M.renderingStartTime=_t(),d.sibling=null,g=Pn.current,rn(Pn,j?g&1|2:g&1),d):(js(d),null);case 22:case 23:return gx(),j=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(d.flags|=8192),j&&(d.mode&1)!==0?(Ci&1073741824)!==0&&(js(d),d.subtreeFlags&6&&(d.flags|=8192)):js(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function JL(c,d){switch($e(d),d.tag){case 1:return ys(d.type)&&pd(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Ll(),Qr(vs),Qr(Pa),Rl(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return xd(d),null;case 13:if(Qr(Pn),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Rt()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Qr(Pn),null;case 4:return Ll(),null;case 10:return ba(d.type._context),null;case 22:case 23:return gx(),null;case 24:return null;default:return null}}var Y0=!1,Ns=!1,QL=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function jd(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(j){oa(c,d,j)}else g.current=null}function ax(c,d,g){try{g()}catch(j){oa(c,d,j)}}var Kj=!1;function ZL(c,d){if(fu=To,c=ia(),Si(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var j=g.getSelection&&g.getSelection();if(j&&j.rangeCount!==0){g=j.anchorNode;var E=j.anchorOffset,M=j.focusNode;j=j.focusOffset;try{g.nodeType,M.nodeType}catch{g=null;break e}var ne=0,je=-1,Ae=-1,Ve=0,ft=0,mt=c,ut=null;t:for(;;){for(var Pt;mt!==g||E!==0&&mt.nodeType!==3||(je=ne+E),mt!==M||j!==0&&mt.nodeType!==3||(Ae=ne+j),mt.nodeType===3&&(ne+=mt.nodeValue.length),(Pt=mt.firstChild)!==null;)ut=mt,mt=Pt;for(;;){if(mt===c)break t;if(ut===g&&++Ve===E&&(je=ne),ut===M&&++ft===j&&(Ae=ne),(Pt=mt.nextSibling)!==null)break;mt=ut,ut=mt.parentNode}mt=Pt}g=je===-1||Ae===-1?null:{start:je,end:Ae}}else g=null}g=g||{start:0,end:0}}else g=null;for(_l={focusedElem:c,selectionRange:g},To=!1,Mt=d;Mt!==null;)if(d=Mt,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Mt=c;else for(;Mt!==null;){d=Mt;try{var Bt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var zt=Bt.memoizedProps,ha=Bt.memoizedState,Fe=d.stateNode,Pe=Fe.getSnapshotBeforeUpdate(d.elementType===d.type?zt:Jt(d.type,zt),ha);Fe.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var ze=d.stateNode.containerInfo;ze.nodeType===1?ze.textContent="":ze.nodeType===9&&ze.documentElement&&ze.removeChild(ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(vt){oa(d,d.return,vt)}if(c=d.sibling,c!==null){c.return=d.return,Mt=c;break}Mt=d.return}return Bt=Kj,Kj=!1,Bt}function nh(c,d,g){var j=d.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var E=j=j.next;do{if((E.tag&c)===c){var M=E.destroy;E.destroy=void 0,M!==void 0&&ax(d,g,M)}E=E.next}while(E!==j)}}function G0(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&c)===c){var j=g.create;g.destroy=j()}g=g.next}while(g!==d)}}function sx(c){var d=c.ref;if(d!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof d=="function"?d(c):d.current=c}}function Xj(c){var d=c.alternate;d!==null&&(c.alternate=null,Xj(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[Ui],delete d[vc],delete d[xs],delete d[Hg],delete d[Vg])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Jj(c){return c.tag===5||c.tag===3||c.tag===4}function Qj(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Jj(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function ix(c,d,g){var j=c.tag;if(j===5||j===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=xc));else if(j!==4&&(c=c.child,c!==null))for(ix(c,d,g),c=c.sibling;c!==null;)ix(c,d,g),c=c.sibling}function ox(c,d,g){var j=c.tag;if(j===5||j===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(ox(c,d,g),c=c.sibling;c!==null;)ox(c,d,g),c=c.sibling}var cs=null,xo=!1;function Nc(c,d,g){for(g=g.child;g!==null;)Zj(c,d,g),g=g.sibling}function Zj(c,d,g){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(ya,g)}catch{}switch(g.tag){case 5:Ns||jd(g,d);case 6:var j=cs,E=xo;cs=null,Nc(c,d,g),cs=j,xo=E,cs!==null&&(xo?(c=cs,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):cs.removeChild(g.stateNode));break;case 18:cs!==null&&(xo?(c=cs,g=g.stateNode,c.nodeType===8?Gf(c.parentNode,g):c.nodeType===1&&Gf(c,g),Qs(c)):Gf(cs,g.stateNode));break;case 4:j=cs,E=xo,cs=g.stateNode.containerInfo,xo=!0,Nc(c,d,g),cs=j,xo=E;break;case 0:case 11:case 14:case 15:if(!Ns&&(j=g.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){E=j=j.next;do{var M=E,ne=M.destroy;M=M.tag,ne!==void 0&&((M&2)!==0||(M&4)!==0)&&ax(g,d,ne),E=E.next}while(E!==j)}Nc(c,d,g);break;case 1:if(!Ns&&(jd(g,d),j=g.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=g.memoizedProps,j.state=g.memoizedState,j.componentWillUnmount()}catch(je){oa(g,d,je)}Nc(c,d,g);break;case 21:Nc(c,d,g);break;case 22:g.mode&1?(Ns=(j=Ns)||g.memoizedState!==null,Nc(c,d,g),Ns=j):Nc(c,d,g);break;default:Nc(c,d,g)}}function e4(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new QL),d.forEach(function(j){var E=lO.bind(null,c,j);g.has(j)||(g.add(j),j.then(E,E))})}}function vo(c,d){var g=d.deletions;if(g!==null)for(var j=0;j<g.length;j++){var E=g[j];try{var M=c,ne=d,je=ne;e:for(;je!==null;){switch(je.tag){case 5:cs=je.stateNode,xo=!1;break e;case 3:cs=je.stateNode.containerInfo,xo=!0;break e;case 4:cs=je.stateNode.containerInfo,xo=!0;break e}je=je.return}if(cs===null)throw Error(r(160));Zj(M,ne,E),cs=null,xo=!1;var Ae=E.alternate;Ae!==null&&(Ae.return=null),E.return=null}catch(Ve){oa(E,d,Ve)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)t4(d,c),d=d.sibling}function t4(c,d){var g=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(vo(d,c),Go(c),j&4){try{nh(3,c,c.return),G0(3,c)}catch(zt){oa(c,c.return,zt)}try{nh(5,c,c.return)}catch(zt){oa(c,c.return,zt)}}break;case 1:vo(d,c),Go(c),j&512&&g!==null&&jd(g,g.return);break;case 5:if(vo(d,c),Go(c),j&512&&g!==null&&jd(g,g.return),c.flags&32){var E=c.stateNode;try{Ge(E,"")}catch(zt){oa(c,c.return,zt)}}if(j&4&&(E=c.stateNode,E!=null)){var M=c.memoizedProps,ne=g!==null?g.memoizedProps:M,je=c.type,Ae=c.updateQueue;if(c.updateQueue=null,Ae!==null)try{je==="input"&&M.type==="radio"&&M.name!=null&&Xe(E,M),Ie(je,ne);var Ve=Ie(je,M);for(ne=0;ne<Ae.length;ne+=2){var ft=Ae[ne],mt=Ae[ne+1];ft==="style"?pt(E,mt):ft==="dangerouslySetInnerHTML"?We(E,mt):ft==="children"?Ge(E,mt):N(E,ft,mt,Ve)}switch(je){case"input":Je(E,M);break;case"textarea":xt(E,M);break;case"select":var ut=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!M.multiple;var Pt=M.value;Pt!=null?qe(E,!!M.multiple,Pt,!1):ut!==!!M.multiple&&(M.defaultValue!=null?qe(E,!!M.multiple,M.defaultValue,!0):qe(E,!!M.multiple,M.multiple?[]:"",!1))}E[vc]=M}catch(zt){oa(c,c.return,zt)}}break;case 6:if(vo(d,c),Go(c),j&4){if(c.stateNode===null)throw Error(r(162));E=c.stateNode,M=c.memoizedProps;try{E.nodeValue=M}catch(zt){oa(c,c.return,zt)}}break;case 3:if(vo(d,c),Go(c),j&4&&g!==null&&g.memoizedState.isDehydrated)try{Qs(d.containerInfo)}catch(zt){oa(c,c.return,zt)}break;case 4:vo(d,c),Go(c);break;case 13:vo(d,c),Go(c),E=c.child,E.flags&8192&&(M=E.memoizedState!==null,E.stateNode.isHidden=M,!M||E.alternate!==null&&E.alternate.memoizedState!==null||(ux=_t())),j&4&&e4(c);break;case 22:if(ft=g!==null&&g.memoizedState!==null,c.mode&1?(Ns=(Ve=Ns)||ft,vo(d,c),Ns=Ve):vo(d,c),Go(c),j&8192){if(Ve=c.memoizedState!==null,(c.stateNode.isHidden=Ve)&&!ft&&(c.mode&1)!==0)for(Mt=c,ft=c.child;ft!==null;){for(mt=Mt=ft;Mt!==null;){switch(ut=Mt,Pt=ut.child,ut.tag){case 0:case 11:case 14:case 15:nh(4,ut,ut.return);break;case 1:jd(ut,ut.return);var Bt=ut.stateNode;if(typeof Bt.componentWillUnmount=="function"){j=ut,g=ut.return;try{d=j,Bt.props=d.memoizedProps,Bt.state=d.memoizedState,Bt.componentWillUnmount()}catch(zt){oa(j,g,zt)}}break;case 5:jd(ut,ut.return);break;case 22:if(ut.memoizedState!==null){a4(mt);continue}}Pt!==null?(Pt.return=ut,Mt=Pt):a4(mt)}ft=ft.sibling}e:for(ft=null,mt=c;;){if(mt.tag===5){if(ft===null){ft=mt;try{E=mt.stateNode,Ve?(M=E.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(je=mt.stateNode,Ae=mt.memoizedProps.style,ne=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null,je.style.display=Dt("display",ne))}catch(zt){oa(c,c.return,zt)}}}else if(mt.tag===6){if(ft===null)try{mt.stateNode.nodeValue=Ve?"":mt.memoizedProps}catch(zt){oa(c,c.return,zt)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===c)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===c)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===c)break e;ft===mt&&(ft=null),mt=mt.return}ft===mt&&(ft=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:vo(d,c),Go(c),j&4&&e4(c);break;case 21:break;default:vo(d,c),Go(c)}}function Go(c){var d=c.flags;if(d&2){try{e:{for(var g=c.return;g!==null;){if(Jj(g)){var j=g;break e}g=g.return}throw Error(r(160))}switch(j.tag){case 5:var E=j.stateNode;j.flags&32&&(Ge(E,""),j.flags&=-33);var M=Qj(c);ox(c,M,E);break;case 3:case 4:var ne=j.stateNode.containerInfo,je=Qj(c);ix(c,je,ne);break;default:throw Error(r(161))}}catch(Ae){oa(c,c.return,Ae)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function eO(c,d,g){Mt=c,r4(c)}function r4(c,d,g){for(var j=(c.mode&1)!==0;Mt!==null;){var E=Mt,M=E.child;if(E.tag===22&&j){var ne=E.memoizedState!==null||Y0;if(!ne){var je=E.alternate,Ae=je!==null&&je.memoizedState!==null||Ns;je=Y0;var Ve=Ns;if(Y0=ne,(Ns=Ae)&&!Ve)for(Mt=E;Mt!==null;)ne=Mt,Ae=ne.child,ne.tag===22&&ne.memoizedState!==null?s4(E):Ae!==null?(Ae.return=ne,Mt=Ae):s4(E);for(;M!==null;)Mt=M,r4(M),M=M.sibling;Mt=E,Y0=je,Ns=Ve}n4(c)}else(E.subtreeFlags&8772)!==0&&M!==null?(M.return=E,Mt=M):n4(c)}}function n4(c){for(;Mt!==null;){var d=Mt;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Ns||G0(5,d);break;case 1:var j=d.stateNode;if(d.flags&4&&!Ns)if(g===null)j.componentDidMount();else{var E=d.elementType===d.type?g.memoizedProps:Jt(d.type,g.memoizedProps);j.componentDidUpdate(E,g.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var M=d.updateQueue;M!==null&&bs(d,M,j);break;case 3:var ne=d.updateQueue;if(ne!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}bs(d,ne,g)}break;case 5:var je=d.stateNode;if(g===null&&d.flags&4){g=je;var Ae=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Ae.autoFocus&&g.focus();break;case"img":Ae.src&&(g.src=Ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ve=d.alternate;if(Ve!==null){var ft=Ve.memoizedState;if(ft!==null){var mt=ft.dehydrated;mt!==null&&Qs(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ns||d.flags&512&&sx(d)}catch(ut){oa(d,d.return,ut)}}if(d===c){Mt=null;break}if(g=d.sibling,g!==null){g.return=d.return,Mt=g;break}Mt=d.return}}function a4(c){for(;Mt!==null;){var d=Mt;if(d===c){Mt=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Mt=g;break}Mt=d.return}}function s4(c){for(;Mt!==null;){var d=Mt;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{G0(4,d)}catch(Ae){oa(d,g,Ae)}break;case 1:var j=d.stateNode;if(typeof j.componentDidMount=="function"){var E=d.return;try{j.componentDidMount()}catch(Ae){oa(d,E,Ae)}}var M=d.return;try{sx(d)}catch(Ae){oa(d,M,Ae)}break;case 5:var ne=d.return;try{sx(d)}catch(Ae){oa(d,ne,Ae)}}}catch(Ae){oa(d,d.return,Ae)}if(d===c){Mt=null;break}var je=d.sibling;if(je!==null){je.return=d.return,Mt=je;break}Mt=d.return}}var tO=Math.ceil,K0=k.ReactCurrentDispatcher,lx=k.ReactCurrentOwner,Hi=k.ReactCurrentBatchConfig,qr=0,Ya=null,ja=null,us=0,Ci=0,Nd=_i(0),Oa=0,ah=null,_u=0,X0=0,cx=0,sh=null,li=null,ux=0,Sd=1/0,Il=null,J0=!1,dx=null,Sc=null,Q0=!1,_c=null,Z0=0,ih=0,fx=null,em=-1,tm=0;function Us(){return(qr&6)!==0?_t():em!==-1?em:em=_t()}function kc(c){return(c.mode&1)===0?1:(qr&2)!==0&&us!==0?us&-us:Qn.transition!==null?(tm===0&&(tm=Gs()),tm):(c=Er,c!==0||(c=window.event,c=c===void 0?16:it(c.type)),c)}function yo(c,d,g,j){if(50<ih)throw ih=0,fx=null,Error(r(185));Kt(c,g,j),((qr&2)===0||c!==Ya)&&(c===Ya&&((qr&2)===0&&(X0|=g),Oa===4&&Ac(c,us)),ci(c,j),g===1&&qr===0&&(d.mode&1)===0&&(Sd=_t()+500,mu&&D()))}function ci(c,d){var g=c.callbackNode;Rr(c,d);var j=da(c,c===Ya?us:0);if(j===0)g!==null&&Os(g),c.callbackNode=null,c.callbackPriority=0;else if(d=j&-j,c.callbackPriority!==d){if(g!=null&&Os(g),d===1)c.tag===0?L(o4.bind(null,c)):_(o4.bind(null,c)),zg(function(){(qr&6)===0&&D()}),g=null;else{switch(vi(j)){case 1:g=vr;break;case 4:g=Zt;break;case 16:g=Vr;break;case 536870912:g=ln;break;default:g=Vr}g=p4(g,i4.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function i4(c,d){if(em=-1,tm=0,(qr&6)!==0)throw Error(r(327));var g=c.callbackNode;if(_d()&&c.callbackNode!==g)return null;var j=da(c,c===Ya?us:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||d)d=rm(c,j);else{d=j;var E=qr;qr|=2;var M=c4();(Ya!==c||us!==d)&&(Il=null,Sd=_t()+500,Au(c,d));do try{aO();break}catch(je){l4(c,je)}while(!0);kn(),K0.current=M,qr=E,ja!==null?d=0:(Ya=null,us=0,d=Oa)}if(d!==0){if(d===2&&(E=rs(c),E!==0&&(j=E,d=hx(c,E))),d===1)throw g=ah,Au(c,0),Ac(c,j),ci(c,_t()),g;if(d===6)Ac(c,j);else{if(E=c.current.alternate,(j&30)===0&&!rO(E)&&(d=rm(c,j),d===2&&(M=rs(c),M!==0&&(j=M,d=hx(c,M))),d===1))throw g=ah,Au(c,0),Ac(c,j),ci(c,_t()),g;switch(c.finishedWork=E,c.finishedLanes=j,d){case 0:case 1:throw Error(r(345));case 2:Cu(c,li,Il);break;case 3:if(Ac(c,j),(j&130023424)===j&&(d=ux+500-_t(),10<d)){if(da(c,0)!==0)break;if(E=c.suspendedLanes,(E&j)!==j){Us(),c.pingedLanes|=c.suspendedLanes&E;break}c.timeoutHandle=Yf(Cu.bind(null,c,li,Il),d);break}Cu(c,li,Il);break;case 4:if(Ac(c,j),(j&4194240)===j)break;for(d=c.eventTimes,E=-1;0<j;){var ne=31-Ct(j);M=1<<ne,ne=d[ne],ne>E&&(E=ne),j&=~M}if(j=E,j=_t()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*tO(j/1960))-j,10<j){c.timeoutHandle=Yf(Cu.bind(null,c,li,Il),j);break}Cu(c,li,Il);break;case 5:Cu(c,li,Il);break;default:throw Error(r(329))}}}return ci(c,_t()),c.callbackNode===g?i4.bind(null,c):null}function hx(c,d){var g=sh;return c.current.memoizedState.isDehydrated&&(Au(c,d).flags|=256),c=rm(c,d),c!==2&&(d=li,li=g,d!==null&&mx(d)),c}function mx(c){li===null?li=c:li.push.apply(li,c)}function rO(c){for(var d=c;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var j=0;j<g.length;j++){var E=g[j],M=E.getSnapshot;E=E.value;try{if(!Un(M(),E))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ac(c,d){for(d&=~cx,d&=~X0,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-Ct(d),j=1<<g;c[g]=-1,d&=~j}}function o4(c){if((qr&6)!==0)throw Error(r(327));_d();var d=da(c,0);if((d&1)===0)return ci(c,_t()),null;var g=rm(c,d);if(c.tag!==0&&g===2){var j=rs(c);j!==0&&(d=j,g=hx(c,j))}if(g===1)throw g=ah,Au(c,0),Ac(c,d),ci(c,_t()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Cu(c,li,Il),ci(c,_t()),null}function px(c,d){var g=qr;qr|=1;try{return c(d)}finally{qr=g,qr===0&&(Sd=_t()+500,mu&&D())}}function ku(c){_c!==null&&_c.tag===0&&(qr&6)===0&&_d();var d=qr;qr|=1;var g=Hi.transition,j=Er;try{if(Hi.transition=null,Er=1,c)return c()}finally{Er=j,Hi.transition=g,qr=d,(qr&6)===0&&D()}}function gx(){Ci=Nd.current,Qr(Nd)}function Au(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,M0(g)),ja!==null)for(g=ja.return;g!==null;){var j=g;switch($e(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&pd();break;case 3:Ll(),Qr(vs),Qr(Pa),Rl();break;case 5:xd(j);break;case 4:Ll();break;case 13:Qr(Pn);break;case 19:Qr(Pn);break;case 10:ba(j.type._context);break;case 22:case 23:gx()}g=g.return}if(Ya=c,ja=c=Cc(c.current,null),us=Ci=d,Oa=0,ah=null,cx=X0=_u=0,li=sh=null,Tr!==null){for(d=0;d<Tr.length;d++)if(g=Tr[d],j=g.interleaved,j!==null){g.interleaved=null;var E=j.next,M=g.pending;if(M!==null){var ne=M.next;M.next=E,j.next=ne}g.pending=j}Tr=null}return c}function l4(c,d){do{var g=ja;try{if(kn(),bu.current=W0,wu){for(var j=En.memoizedState;j!==null;){var E=j.queue;E!==null&&(E.pending=null),j=j.next}wu=!1}if(zi=0,yn=ea=En=null,wc=!1,ju=0,lx.current=null,g===null||g.return===null){Oa=1,ah=d,ja=null;break}e:{var M=c,ne=g.return,je=g,Ae=d;if(d=us,je.flags|=32768,Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Ve=Ae,ft=je,mt=ft.tag;if((ft.mode&1)===0&&(mt===0||mt===11||mt===15)){var ut=ft.alternate;ut?(ft.updateQueue=ut.updateQueue,ft.memoizedState=ut.memoizedState,ft.lanes=ut.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Pt=Rj(ne);if(Pt!==null){Pt.flags&=-257,Tj(Pt,ne,je,M,d),Pt.mode&1&&Oj(M,Ve,d),d=Pt,Ae=Ve;var Bt=d.updateQueue;if(Bt===null){var zt=new Set;zt.add(Ae),d.updateQueue=zt}else Bt.add(Ae);break e}else{if((d&1)===0){Oj(M,Ve,d),xx();break e}Ae=Error(r(426))}}else if(at&&je.mode&1){var ha=Rj(ne);if(ha!==null){(ha.flags&65536)===0&&(ha.flags|=256),Tj(ha,ne,je,M,d),jt(wd(Ae,je));break e}}M=Ae=wd(Ae,je),Oa!==4&&(Oa=2),sh===null?sh=[M]:sh.push(M),M=ne;do{switch(M.tag){case 3:M.flags|=65536,d&=-d,M.lanes|=d;var Fe=Ej(M,Ae,d);Ha(M,Fe);break e;case 1:je=Ae;var Pe=M.type,ze=M.stateNode;if((M.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Sc===null||!Sc.has(ze)))){M.flags|=65536,d&=-d,M.lanes|=d;var vt=Lj(M,je,d);Ha(M,vt);break e}}M=M.return}while(M!==null)}d4(g)}catch(Yt){d=Yt,ja===g&&g!==null&&(ja=g=g.return);continue}break}while(!0)}function c4(){var c=K0.current;return K0.current=W0,c===null?W0:c}function xx(){(Oa===0||Oa===3||Oa===2)&&(Oa=4),Ya===null||(_u&268435455)===0&&(X0&268435455)===0||Ac(Ya,us)}function rm(c,d){var g=qr;qr|=2;var j=c4();(Ya!==c||us!==d)&&(Il=null,Au(c,d));do try{nO();break}catch(E){l4(c,E)}while(!0);if(kn(),qr=g,K0.current=j,ja!==null)throw Error(r(261));return Ya=null,us=0,Oa}function nO(){for(;ja!==null;)u4(ja)}function aO(){for(;ja!==null&&!Oe();)u4(ja)}function u4(c){var d=m4(c.alternate,c,Ci);c.memoizedProps=c.pendingProps,d===null?d4(c):ja=d,lx.current=null}function d4(c){var d=c;do{var g=d.alternate;if(c=d.return,(d.flags&32768)===0){if(g=XL(g,d,Ci),g!==null){ja=g;return}}else{if(g=JL(g,d),g!==null){g.flags&=32767,ja=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Oa=6,ja=null;return}}if(d=d.sibling,d!==null){ja=d;return}ja=d=c}while(d!==null);Oa===0&&(Oa=5)}function Cu(c,d,g){var j=Er,E=Hi.transition;try{Hi.transition=null,Er=1,sO(c,d,g,j)}finally{Hi.transition=E,Er=j}return null}function sO(c,d,g,j){do _d();while(_c!==null);if((qr&6)!==0)throw Error(r(327));g=c.finishedWork;var E=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var M=g.lanes|g.childLanes;if(aa(c,M),c===Ya&&(ja=Ya=null,us=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Q0||(Q0=!0,p4(Vr,function(){return _d(),null})),M=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||M){M=Hi.transition,Hi.transition=null;var ne=Er;Er=1;var je=qr;qr|=4,lx.current=null,ZL(c,g),t4(g,c),au(_l),To=!!fu,_l=fu=null,c.current=g,eO(g),bt(),qr=je,Er=ne,Hi.transition=M}else c.current=g;if(Q0&&(Q0=!1,_c=c,Z0=E),M=c.pendingLanes,M===0&&(Sc=null),Cr(g.stateNode),ci(c,_t()),d!==null)for(j=c.onRecoverableError,g=0;g<d.length;g++)E=d[g],j(E.value,{componentStack:E.stack,digest:E.digest});if(J0)throw J0=!1,c=dx,dx=null,c;return(Z0&1)!==0&&c.tag!==0&&_d(),M=c.pendingLanes,(M&1)!==0?c===fx?ih++:(ih=0,fx=c):ih=0,D(),null}function _d(){if(_c!==null){var c=vi(Z0),d=Hi.transition,g=Er;try{if(Hi.transition=null,Er=16>c?16:c,_c===null)var j=!1;else{if(c=_c,_c=null,Z0=0,(qr&6)!==0)throw Error(r(331));var E=qr;for(qr|=4,Mt=c.current;Mt!==null;){var M=Mt,ne=M.child;if((Mt.flags&16)!==0){var je=M.deletions;if(je!==null){for(var Ae=0;Ae<je.length;Ae++){var Ve=je[Ae];for(Mt=Ve;Mt!==null;){var ft=Mt;switch(ft.tag){case 0:case 11:case 15:nh(8,ft,M)}var mt=ft.child;if(mt!==null)mt.return=ft,Mt=mt;else for(;Mt!==null;){ft=Mt;var ut=ft.sibling,Pt=ft.return;if(Xj(ft),ft===Ve){Mt=null;break}if(ut!==null){ut.return=Pt,Mt=ut;break}Mt=Pt}}}var Bt=M.alternate;if(Bt!==null){var zt=Bt.child;if(zt!==null){Bt.child=null;do{var ha=zt.sibling;zt.sibling=null,zt=ha}while(zt!==null)}}Mt=M}}if((M.subtreeFlags&2064)!==0&&ne!==null)ne.return=M,Mt=ne;else e:for(;Mt!==null;){if(M=Mt,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:nh(9,M,M.return)}var Fe=M.sibling;if(Fe!==null){Fe.return=M.return,Mt=Fe;break e}Mt=M.return}}var Pe=c.current;for(Mt=Pe;Mt!==null;){ne=Mt;var ze=ne.child;if((ne.subtreeFlags&2064)!==0&&ze!==null)ze.return=ne,Mt=ze;else e:for(ne=Pe;Mt!==null;){if(je=Mt,(je.flags&2048)!==0)try{switch(je.tag){case 0:case 11:case 15:G0(9,je)}}catch(Yt){oa(je,je.return,Yt)}if(je===ne){Mt=null;break e}var vt=je.sibling;if(vt!==null){vt.return=je.return,Mt=vt;break e}Mt=je.return}}if(qr=E,D(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(ya,c)}catch{}j=!0}return j}finally{Er=g,Hi.transition=d}}return!1}function f4(c,d,g){d=wd(g,d),d=Ej(c,d,1),c=pn(c,d,1),d=Us(),c!==null&&(Kt(c,1,d),ci(c,d))}function oa(c,d,g){if(c.tag===3)f4(c,c,g);else for(;d!==null;){if(d.tag===3){f4(d,c,g);break}else if(d.tag===1){var j=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Sc===null||!Sc.has(j))){c=wd(g,c),c=Lj(d,c,1),d=pn(d,c,1),c=Us(),d!==null&&(Kt(d,1,c),ci(d,c));break}}d=d.return}}function iO(c,d,g){var j=c.pingCache;j!==null&&j.delete(d),d=Us(),c.pingedLanes|=c.suspendedLanes&g,Ya===c&&(us&g)===g&&(Oa===4||Oa===3&&(us&130023424)===us&&500>_t()-ux?Au(c,0):cx|=g),ci(c,d)}function h4(c,d){d===0&&((c.mode&1)===0?d=1:(d=Aa,Aa<<=1,(Aa&130023424)===0&&(Aa=4194304)));var g=Us();c=vn(c,d),c!==null&&(Kt(c,d,g),ci(c,g))}function oO(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),h4(c,g)}function lO(c,d){var g=0;switch(c.tag){case 13:var j=c.stateNode,E=c.memoizedState;E!==null&&(g=E.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(r(314))}j!==null&&j.delete(d),h4(c,g)}var m4;m4=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||vs.current)oi=!0;else{if((c.lanes&g)===0&&(d.flags&128)===0)return oi=!1,KL(c,d,g);oi=(c.flags&131072)!==0}else oi=!1,at&&(d.flags&1048576)!==0&&Me(d,ue,d.index);switch(d.lanes=0,d.tag){case 2:var j=d.type;V0(c,d),c=d.pendingProps;var E=bc(d,Pa.current);An(d,g),E=vd(null,d,j,c,E,g);var M=eh();return d.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ys(j)?(M=!0,Cl(d)):M=!1,d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Mn(d),E.updater=Zr,d.stateNode=E,E._reactInternals=d,ki(d,j,c,g),d=Qg(null,d,j,!0,M,g)):(d.tag=0,at&&M&&rt(d),Bs(null,d,E,g),d=d.child),d;case 16:j=d.elementType;e:{switch(V0(c,d),c=d.pendingProps,E=j._init,j=E(j._payload),d.type=j,E=d.tag=uO(j),c=Jt(j,c),E){case 0:d=Jg(null,d,j,c,g);break e;case 1:d=Bj(null,d,j,c,g);break e;case 11:d=Mj(null,d,j,c,g);break e;case 14:d=Ij(null,d,j,Jt(j.type,c),g);break e}throw Error(r(306,j,""))}return d;case 0:return j=d.type,E=d.pendingProps,E=d.elementType===j?E:Jt(j,E),Jg(c,d,j,E,g);case 1:return j=d.type,E=d.pendingProps,E=d.elementType===j?E:Jt(j,E),Bj(c,d,j,E,g);case 3:e:{if(Uj(d),c===null)throw Error(r(387));j=d.pendingProps,M=d.memoizedState,E=M.element,is(c,d),Va(d,j,null,g);var ne=d.memoizedState;if(j=ne.element,M.isDehydrated)if(M={element:j,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},d.updateQueue.baseState=M,d.memoizedState=M,d.flags&256){E=wd(Error(r(423)),d),d=qj(c,d,j,g,E);break e}else if(j!==E){E=wd(Error(r(424)),d),d=qj(c,d,j,g,E);break e}else for(Ze=ss(d.stateNode.containerInfo.firstChild),Ke=d,at=!0,st=null,g=$0(d,null,j,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Rt(),j===E){d=Ml(c,d,g);break e}Bs(c,d,j,g)}d=d.child}return d;case 5:return vu(d),c===null&&$t(d),j=d.type,E=d.pendingProps,M=c!==null?c.memoizedProps:null,ne=E.children,Vf(j,E)?ne=null:M!==null&&Vf(j,M)&&(d.flags|=32),$j(c,d),Bs(c,d,ne,g),d.child;case 6:return c===null&&$t(d),null;case 13:return zj(c,d,g);case 4:return Jf(d,d.stateNode.containerInfo),j=d.pendingProps,c===null?d.child=qi(d,null,j,g):Bs(c,d,j,g),d.child;case 11:return j=d.type,E=d.pendingProps,E=d.elementType===j?E:Jt(j,E),Mj(c,d,j,E,g);case 7:return Bs(c,d,d.pendingProps,g),d.child;case 8:return Bs(c,d,d.pendingProps.children,g),d.child;case 12:return Bs(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(j=d.type._context,E=d.pendingProps,M=d.memoizedProps,ne=E.value,rn(Pr,j._currentValue),j._currentValue=ne,M!==null)if(Un(M.value,ne)){if(M.children===E.children&&!vs.current){d=Ml(c,d,g);break e}}else for(M=d.child,M!==null&&(M.return=d);M!==null;){var je=M.dependencies;if(je!==null){ne=M.child;for(var Ae=je.firstContext;Ae!==null;){if(Ae.context===j){if(M.tag===1){Ae=Mr(-1,g&-g),Ae.tag=2;var Ve=M.updateQueue;if(Ve!==null){Ve=Ve.shared;var ft=Ve.pending;ft===null?Ae.next=Ae:(Ae.next=ft.next,ft.next=Ae),Ve.pending=Ae}}M.lanes|=g,Ae=M.alternate,Ae!==null&&(Ae.lanes|=g),La(M.return,g,d),je.lanes|=g;break}Ae=Ae.next}}else if(M.tag===10)ne=M.type===d.type?null:M.child;else if(M.tag===18){if(ne=M.return,ne===null)throw Error(r(341));ne.lanes|=g,je=ne.alternate,je!==null&&(je.lanes|=g),La(ne,g,d),ne=M.sibling}else ne=M.child;if(ne!==null)ne.return=M;else for(ne=M;ne!==null;){if(ne===d){ne=null;break}if(M=ne.sibling,M!==null){M.return=ne.return,ne=M;break}ne=ne.return}M=ne}Bs(c,d,E.children,g),d=d.child}return d;case 9:return E=d.type,j=d.pendingProps.children,An(d,g),E=hr(E),j=j(E),d.flags|=1,Bs(c,d,j,g),d.child;case 14:return j=d.type,E=Jt(j,d.pendingProps),E=Jt(j.type,E),Ij(c,d,j,E,g);case 15:return Dj(c,d,d.type,d.pendingProps,g);case 17:return j=d.type,E=d.pendingProps,E=d.elementType===j?E:Jt(j,E),V0(c,d),d.tag=1,ys(j)?(c=!0,Cl(d)):c=!1,An(d,g),ni(d,j,E),ki(d,j,E,g),Qg(null,d,j,!0,c,g);case 19:return Hj(c,d,g);case 22:return Fj(c,d,g)}throw Error(r(156,d.tag))};function p4(c,d){return Ys(c,d)}function cO(c,d,g,j){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(c,d,g,j){return new cO(c,d,g,j)}function vx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function uO(c){if(typeof c=="function")return vx(c)?1:0;if(c!=null){if(c=c.$$typeof,c===$)return 11;if(c===ce)return 14}return 2}function Cc(c,d){var g=c.alternate;return g===null?(g=Vi(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function nm(c,d,g,j,E,M){var ne=2;if(j=c,typeof c=="function")vx(c)&&(ne=1);else if(typeof c=="string")ne=5;else e:switch(c){case I:return Pu(g.children,E,M,d);case F:ne=8,E|=8;break;case z:return c=Vi(12,g,d,E|2),c.elementType=z,c.lanes=M,c;case H:return c=Vi(13,g,d,E),c.elementType=H,c.lanes=M,c;case B:return c=Vi(19,g,d,E),c.elementType=B,c.lanes=M,c;case xe:return am(g,E,M,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case J:ne=10;break e;case R:ne=9;break e;case $:ne=11;break e;case ce:ne=14;break e;case se:ne=16,j=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return d=Vi(ne,g,d,E),d.elementType=c,d.type=j,d.lanes=M,d}function Pu(c,d,g,j){return c=Vi(7,c,j,d),c.lanes=g,c}function am(c,d,g,j){return c=Vi(22,c,j,d),c.elementType=xe,c.lanes=g,c.stateNode={isHidden:!1},c}function yx(c,d,g){return c=Vi(6,c,null,d),c.lanes=g,c}function bx(c,d,g){return d=Vi(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function dO(c,d,g,j,E){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ks(0),this.expirationTimes=Ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.identifierPrefix=j,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function wx(c,d,g,j,E,M,ne,je,Ae){return c=new dO(c,d,g,je,Ae),d===1?(d=1,M===!0&&(d|=8)):d=0,M=Vi(3,null,null,d),c.current=M,M.stateNode=c,M.memoizedState={element:j,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mn(M),c}function fO(c,d,g){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:j==null?null:""+j,children:c,containerInfo:d,implementation:g}}function g4(c){if(!c)return Vo;c=c._reactInternals;e:{if(fn(c)!==c||c.tag!==1)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ys(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(ys(g))return Xf(c,g,d)}return d}function x4(c,d,g,j,E,M,ne,je,Ae){return c=wx(g,j,!0,c,E,M,ne,je,Ae),c.context=g4(null),g=c.current,j=Us(),E=kc(g),M=Mr(j,E),M.callback=d??null,pn(g,M,E),c.current.lanes=E,Kt(c,E,j),ci(c,j),c}function sm(c,d,g,j){var E=d.current,M=Us(),ne=kc(E);return g=g4(g),d.context===null?d.context=g:d.pendingContext=g,d=Mr(M,ne),d.payload={element:c},j=j===void 0?null:j,j!==null&&(d.callback=j),c=pn(E,d,ne),c!==null&&(yo(c,E,ne,M),Wa(c,E,ne)),ne}function im(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function v4(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function jx(c,d){v4(c,d),(c=c.alternate)&&v4(c,d)}function hO(){return null}var y4=typeof reportError=="function"?reportError:function(c){console.error(c)};function Nx(c){this._internalRoot=c}om.prototype.render=Nx.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));sm(c,d,null,null)},om.prototype.unmount=Nx.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;ku(function(){sm(null,c,null,null)}),d[za]=null}};function om(c){this._internalRoot=c}om.prototype.unstable_scheduleHydration=function(c){if(c){var d=oc();c={blockedOn:null,target:c,priority:d};for(var g=0;g<Js.length&&d!==0&&d<Js[g].priority;g++);Js.splice(g,0,c),g===0&&lc(c)}};function Sx(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function lm(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function b4(){}function mO(c,d,g,j,E){if(E){if(typeof j=="function"){var M=j;j=function(){var Ve=im(ne);M.call(Ve)}}var ne=x4(d,j,c,0,null,!1,!1,"",b4);return c._reactRootContainer=ne,c[za]=ne.current,Nl(c.nodeType===8?c.parentNode:c),ku(),ne}for(;E=c.lastChild;)c.removeChild(E);if(typeof j=="function"){var je=j;j=function(){var Ve=im(Ae);je.call(Ve)}}var Ae=wx(c,0,!1,null,null,!1,!1,"",b4);return c._reactRootContainer=Ae,c[za]=Ae.current,Nl(c.nodeType===8?c.parentNode:c),ku(function(){sm(d,Ae,g,j)}),Ae}function cm(c,d,g,j,E){var M=g._reactRootContainer;if(M){var ne=M;if(typeof E=="function"){var je=E;E=function(){var Ae=im(ne);je.call(Ae)}}sm(d,ne,c,E)}else ne=mO(g,d,c,E,j);return im(ne)}Lo=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=ts(d.pendingLanes);g!==0&&(Eo(d,g|1),ci(d,_t()),(qr&6)===0&&(Sd=_t()+500,D()))}break;case 13:ku(function(){var j=vn(c,1);if(j!==null){var E=Us();yo(j,c,1,E)}}),jx(c,1)}},ll=function(c){if(c.tag===13){var d=vn(c,134217728);if(d!==null){var g=Us();yo(d,c,134217728,g)}jx(c,134217728)}},ic=function(c){if(c.tag===13){var d=kc(c),g=vn(c,d);if(g!==null){var j=Us();yo(g,c,d,j)}jx(c,d)}},oc=function(){return Er},Oo=function(c,d){var g=Er;try{return Er=c,d()}finally{Er=g}},pr=function(c,d,g){switch(d){case"input":if(Je(c,g),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var j=g[d];if(j!==c&&j.form===c.form){var E=hu(j);if(!E)throw Error(r(90));he(j),Je(j,E)}}}break;case"textarea":xt(c,g);break;case"select":d=g.value,d!=null&&qe(c,!!g.multiple,d,!1)}},_r=px,ca=ku;var pO={usingClientEntryPoint:!1,Events:[yc,kl,hu,xr,na,px]},oh={findFiberByHostInstance:Ho,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gO={bundleType:oh.bundleType,version:oh.version,rendererPackageName:oh.rendererPackageName,rendererConfig:oh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Ba(c),c===null?null:c.stateNode},findFiberByHostInstance:oh.findFiberByHostInstance||hO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{ya=um.inject(gO),Sr=um}catch{}}return ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pO,ui.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sx(d))throw Error(r(200));return fO(c,d,null,g)},ui.createRoot=function(c,d){if(!Sx(c))throw Error(r(299));var g=!1,j="",E=y4;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(E=d.onRecoverableError)),d=wx(c,1,!1,null,null,g,!1,j,E),c[za]=d.current,Nl(c.nodeType===8?c.parentNode:c),new Nx(d)},ui.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Ba(d),c=c===null?null:c.stateNode,c},ui.flushSync=function(c){return ku(c)},ui.hydrate=function(c,d,g){if(!lm(d))throw Error(r(200));return cm(null,c,d,!0,g)},ui.hydrateRoot=function(c,d,g){if(!Sx(c))throw Error(r(405));var j=g!=null&&g.hydratedSources||null,E=!1,M="",ne=y4;if(g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onRecoverableError!==void 0&&(ne=g.onRecoverableError)),d=x4(d,null,c,1,g??null,E,!1,M,ne),c[za]=d.current,Nl(c),j)for(c=0;c<j.length;c++)g=j[c],E=g._getVersion,E=E(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,E]:d.mutableSourceEagerHydrationData.push(g,E);return new om(d)},ui.render=function(c,d,g){if(!lm(d))throw Error(r(200));return cm(null,c,d,!1,g)},ui.unmountComponentAtNode=function(c){if(!lm(c))throw Error(r(40));return c._reactRootContainer?(ku(function(){cm(null,null,c,!1,function(){c._reactRootContainer=null,c[za]=null})}),!0):!1},ui.unstable_batchedUpdates=px,ui.unstable_renderSubtreeIntoContainer=function(c,d,g,j){if(!lm(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return cm(c,d,g,!1,j)},ui.version="18.2.0-next-9e3b772b8-20220608",ui}var C4;function u8(){if(C4)return Ax.exports;C4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ax.exports=_O(),Ax.exports}var P4;function kO(){if(P4)return fm;P4=1;var e=u8();return fm.createRoot=e.createRoot,fm.hydrateRoot=e.hydrateRoot,fm}var AO=kO();/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dh.apply(this,arguments)}var Ic;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ic||(Ic={}));const E4="popstate";function CO(e){e===void 0&&(e={});function t(a,s){let{pathname:i,search:o,hash:l}=a.location;return mb("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Vm(s)}return EO(t,r,null,e)}function xa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function n5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PO(){return Math.random().toString(36).substr(2,8)}function L4(e,t){return{usr:e.state,key:e.key,idx:t}}function mb(e,t,r,a){return r===void 0&&(r=null),Dh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jf(t):t,{state:r,key:t&&t.key||a||PO()})}function Vm(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function jf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function EO(e,t,r,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=Ic.Pop,u=null,f=h();f==null&&(f=0,o.replaceState(Dh({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=Ic.Pop;let y=h(),S=y==null?null:y-f;f=y,u&&u({action:l,location:v.location,delta:S})}function x(y,S){l=Ic.Push;let A=mb(v.location,y,S);f=h()+1;let N=L4(A,f),k=v.createHref(A);try{o.pushState(N,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(k)}i&&u&&u({action:l,location:v.location,delta:1})}function p(y,S){l=Ic.Replace;let A=mb(v.location,y,S);f=h();let N=L4(A,f),k=v.createHref(A);o.replaceState(N,"",k),i&&u&&u({action:l,location:v.location,delta:0})}function w(y){let S=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof y=="string"?y:Vm(y);return xa(S,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,S)}let v={get action(){return l},get location(){return e(s,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(E4,m),u=y,()=>{s.removeEventListener(E4,m),u=null}},createHref(y){return t(s,y)},createURL:w,encodeLocation(y){let S=w(y);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:p,go(y){return o.go(y)}};return v}var O4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(O4||(O4={}));function LO(e,t,r){r===void 0&&(r="/");let a=typeof t=="string"?jf(t):t,s=a5(a.pathname||"/",r);if(s==null)return null;let i=d8(e);OO(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=UO(i[l],WO(s));return o}function d8(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(xa(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let f=$c([a,u.relativePath]),h=r.concat(u);i.children&&i.children.length>0&&(xa(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),d8(i.children,t,h,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:$O(f,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of f8(i.path))s(i,o,u)}),t}function f8(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=f8(a.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function OO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:BO(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const RO=/^:\w+$/,TO=3,MO=2,IO=1,DO=10,FO=-2,R4=e=>e==="*";function $O(e,t){let r=e.split("/"),a=r.length;return r.some(R4)&&(a+=FO),t&&(a+=MO),r.filter(s=>!R4(s)).reduce((s,i)=>s+(RO.test(i)?TO:i===""?IO:DO),a)}function BO(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function UO(e,t){let{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",h=qO({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f);if(!h)return null;Object.assign(a,h.params);let m=l.route;i.push({params:a,pathname:$c([s,h.pathname]),pathnameBase:GO($c([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=$c([s,h.pathnameBase]))}return i}function qO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=zO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((f,h,m)=>{if(h==="*"){let x=l[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}return f[h]=HO(l[m]||"",h),f},{}),pathname:i,pathnameBase:o,pattern:e}}function zO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),n5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(a.push(l),"/([^\\/]+)"));return e.endsWith("*")?(a.push("*"),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function WO(e){try{return decodeURI(e)}catch(t){return n5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HO(e,t){try{return decodeURIComponent(e)}catch(r){return n5(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function a5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function VO(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?jf(e):e;return{pathname:r?r.startsWith("/")?r:YO(r,t):t,search:KO(a),hash:XO(s)}}function YO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ex(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function i5(e,t,r,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=jf(e):(s=Dh({},e),xa(!s.pathname||!s.pathname.includes("?"),Ex("?","pathname","search",s)),xa(!s.pathname||!s.pathname.includes("#"),Ex("#","pathname","hash",s)),xa(!s.search||!s.search.includes("#"),Ex("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(a||o==null)l=r;else{let m=t.length-1;if(o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}l=m>=0?t[m]:"/"}let u=VO(s,l),f=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const $c=e=>e.join("/").replace(/\/\/+/g,"/"),GO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const h8=["post","put","patch","delete"];new Set(h8);const QO=["get",...h8];new Set(QO);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ym.apply(this,arguments)}const o5=O.createContext(null),ZO=O.createContext(null),Nf=O.createContext(null),Xp=O.createContext(null),ec=O.createContext({outlet:null,matches:[],isDataRoute:!1}),m8=O.createContext(null);function e9(e,t){let{relative:r}=t===void 0?{}:t;Sf()||xa(!1);let{basename:a,navigator:s}=O.useContext(Nf),{hash:i,pathname:o,search:l}=g8(e,{relative:r}),u=o;return a!=="/"&&(u=o==="/"?a:$c([a,o])),s.createHref({pathname:u,search:l,hash:i})}function Sf(){return O.useContext(Xp)!=null}function Yc(){return Sf()||xa(!1),O.useContext(Xp).location}function p8(e){O.useContext(Nf).static||O.useLayoutEffect(e)}function Kn(){let{isDataRoute:e}=O.useContext(ec);return e?m9():t9()}function t9(){Sf()||xa(!1);let e=O.useContext(o5),{basename:t,navigator:r}=O.useContext(Nf),{matches:a}=O.useContext(ec),{pathname:s}=Yc(),i=JSON.stringify(s5(a).map(u=>u.pathnameBase)),o=O.useRef(!1);return p8(()=>{o.current=!0}),O.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=i5(u,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:$c([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,s,e])}function r9(){let{matches:e}=O.useContext(ec),t=e[e.length-1];return t?t.params:{}}function g8(e,t){let{relative:r}=t===void 0?{}:t,{matches:a}=O.useContext(ec),{pathname:s}=Yc(),i=JSON.stringify(s5(a).map(o=>o.pathnameBase));return O.useMemo(()=>i5(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function n9(e,t){return a9(e,t)}function a9(e,t,r){Sf()||xa(!1);let{navigator:a}=O.useContext(Nf),{matches:s}=O.useContext(ec),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=Yc(),f;if(t){var h;let v=typeof t=="string"?jf(t):t;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||xa(!1),f=v}else f=u;let m=f.pathname||"/",x=l==="/"?m:m.slice(l.length)||"/",p=LO(e,{pathname:x}),w=c9(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:$c([l,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:$c([l,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r);return t&&w?O.createElement(Xp.Provider,{value:{location:Ym({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ic.Pop}},w):w}function s9(){let e=h9(),t=JO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const i9=O.createElement(s9,null);class o9 extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?O.createElement(ec.Provider,{value:this.props.routeContext},O.createElement(m8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l9(e){let{routeContext:t,match:r,children:a}=e,s=O.useContext(o5);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(ec.Provider,{value:t},a)}function c9(e,t,r){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var s;if((s=r)!=null&&s.errors)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&o?.[u.route.id]);l>=0||xa(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,u,f)=>{let h=u.route.id?o?.[u.route.id]:null,m=null;r&&(m=u.route.errorElement||i9);let x=t.concat(i.slice(0,f+1)),p=()=>{let w;return h?w=m:u.route.Component?w=O.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=l,O.createElement(l9,{match:u,routeContext:{outlet:l,matches:x,isDataRoute:r!=null},children:w})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?O.createElement(o9,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var pb;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(pb||(pb={}));var Fh;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Fh||(Fh={}));function u9(e){let t=O.useContext(o5);return t||xa(!1),t}function d9(e){let t=O.useContext(ZO);return t||xa(!1),t}function f9(e){let t=O.useContext(ec);return t||xa(!1),t}function x8(e){let t=f9(),r=t.matches[t.matches.length-1];return r.route.id||xa(!1),r.route.id}function h9(){var e;let t=O.useContext(m8),r=d9(Fh.UseRouteError),a=x8(Fh.UseRouteError);return t||((e=r.errors)==null?void 0:e[a])}function m9(){let{router:e}=u9(pb.UseNavigateStable),t=x8(Fh.UseNavigateStable),r=O.useRef(!1);return p8(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ym({fromRouteId:t},i)))},[e,t])}function p9(e){let{to:t,replace:r,state:a,relative:s}=e;Sf()||xa(!1);let{matches:i}=O.useContext(ec),{pathname:o}=Yc(),l=Kn(),u=i5(t,s5(i).map(h=>h.pathnameBase),o,s==="path"),f=JSON.stringify(u);return O.useEffect(()=>l(JSON.parse(f),{replace:r,state:a,relative:s}),[l,f,s,r,a]),null}function bn(e){xa(!1)}function g9(e){let{basename:t="/",children:r=null,location:a,navigationType:s=Ic.Pop,navigator:i,static:o=!1}=e;Sf()&&xa(!1);let l=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof a=="string"&&(a=jf(a));let{pathname:f="/",search:h="",hash:m="",state:x=null,key:p="default"}=a,w=O.useMemo(()=>{let v=a5(f,l);return v==null?null:{location:{pathname:v,search:h,hash:m,state:x,key:p},navigationType:s}},[l,f,h,m,x,p,s]);return w==null?null:O.createElement(Nf.Provider,{value:u},O.createElement(Xp.Provider,{children:r,value:w}))}function x9(e){let{children:t,location:r}=e;return n9(gb(t),r)}var T4;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(T4||(T4={}));new Promise(()=>{});function gb(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(a,s)=>{if(!O.isValidElement(a))return;let i=[...t,s];if(a.type===O.Fragment){r.push.apply(r,gb(a.props.children,i));return}a.type!==bn&&xa(!1),!a.props.index||!a.props.children||xa(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=gb(a.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xb.apply(this,arguments)}function v9(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function y9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function b9(e,t){return e.button===0&&(!t||t==="_self")&&!y9(e)}function vb(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(s=>[r,s]):[[r,a]])},[]))}function w9(e,t){let r=vb(e);if(t)for(let a of t.keys())r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)});return r}const j9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],N9="startTransition",M4=jO[N9];function S9(e){let{basename:t,children:r,future:a,window:s}=e,i=O.useRef();i.current==null&&(i.current=CO({window:s,v5Compat:!0}));let o=i.current,[l,u]=O.useState({action:o.action,location:o.location}),{v7_startTransition:f}=a||{},h=O.useCallback(m=>{f&&M4?M4(()=>u(m)):u(m)},[u,f]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.createElement(g9,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o})}const _9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qu=O.forwardRef(function(t,r){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:f,preventScrollReset:h}=t,m=v9(t,j9),{basename:x}=O.useContext(Nf),p,w=!1;if(typeof f=="string"&&k9.test(f)&&(p=f,_9))try{let A=new URL(window.location.href),N=f.startsWith("//")?new URL(A.protocol+f):new URL(f),k=a5(N.pathname,x);N.origin===A.origin&&k!=null?f=k+N.search+N.hash:w=!0}catch{}let v=e9(f,{relative:s}),y=A9(f,{replace:o,state:l,target:u,preventScrollReset:h,relative:s});function S(A){a&&a(A),A.defaultPrevented||y(A)}return O.createElement("a",xb({},m,{href:p||v,onClick:w||i?a:S,ref:r,target:u}))});var I4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(I4||(I4={}));var D4;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(D4||(D4={}));function A9(e,t){let{target:r,replace:a,state:s,preventScrollReset:i,relative:o}=t===void 0?{}:t,l=Kn(),u=Yc(),f=g8(e,{relative:o});return O.useCallback(h=>{if(b9(h,r)){h.preventDefault();let m=a!==void 0?a:Vm(u)===Vm(f);l(e,{replace:m,state:s,preventScrollReset:i,relative:o})}},[u,l,f,a,s,r,e,i,o])}function C9(e){let t=O.useRef(vb(e)),r=O.useRef(!1),a=Yc(),s=O.useMemo(()=>w9(a.search,r.current?null:t.current),[a.search]),i=Kn(),o=O.useCallback((l,u)=>{const f=vb(typeof l=="function"?l(s):l);r.current=!0,i("?"+f,u)},[i,s]);return[s,o]}function sn(e){return e&&e.role==="admin"}function Xd(e){if(!e)return!1;const t=e.role?.toLowerCase();return t==="secretary"||t==="department_head"||t==="instructor"}function Da(e){return sn(e)}function _f(e,t){return e&&Da(e)&&e.permissions?e.permissions[t]===!0:!1}function F4(e){return Da(e)&&_f(e,"userManagement")}function P9(e){return Da(e)&&_f(e,"courseManagement")}function E9(e){return Da(e)&&_f(e,"evaluationManagement")}function L9(e){return Da(e)&&_f(e,"systemConfiguration")}function O9(e){return Da(e)&&_f(e,"dataExport")}function R9(e){return Da(e)&&_f(e,"auditLogs")}function yb(e){if(!e)return"Unknown";switch(e.role?.toLowerCase()){case"admin":return"Administrator";case"secretary":return"Secretary";case"department_head":return"Department Head";case"student":return"Student";default:return e.role||"User"}}function v8(e,t){return function(){return e.apply(t,arguments)}}const{toString:T9}=Object.prototype,{getPrototypeOf:l5}=Object,{iterator:Jp,toStringTag:y8}=Symbol,Qp=(e=>t=>{const r=T9.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ko=e=>(e=e.toLowerCase(),t=>Qp(t)===e),Zp=e=>t=>typeof t===e,{isArray:kf}=Array,Jd=Zp("undefined");function h0(e){return e!==null&&!Jd(e)&&e.constructor!==null&&!Jd(e.constructor)&&mi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const b8=ko("ArrayBuffer");function M9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&b8(e.buffer),t}const I9=Zp("string"),mi=Zp("function"),w8=Zp("number"),m0=e=>e!==null&&typeof e=="object",D9=e=>e===!0||e===!1,Im=e=>{if(Qp(e)!=="object")return!1;const t=l5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(y8 in e)&&!(Jp in e)},F9=e=>{if(!m0(e)||h0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$9=ko("Date"),B9=ko("File"),U9=ko("Blob"),q9=ko("FileList"),z9=e=>m0(e)&&mi(e.pipe),W9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||mi(e.append)&&((t=Qp(e))==="formdata"||t==="object"&&mi(e.toString)&&e.toString()==="[object FormData]"))},H9=ko("URLSearchParams"),[V9,Y9,G9,K9]=["ReadableStream","Request","Response","Headers"].map(ko),X9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function p0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),kf(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(h0(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],t.call(null,e[l],l,e)}}function j8(e,t){if(h0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,s;for(;a-- >0;)if(s=r[a],t===s.toLowerCase())return s;return null}const Fu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,N8=e=>!Jd(e)&&e!==Fu;function bb(){const{caseless:e,skipUndefined:t}=N8(this)&&this||{},r={},a=(s,i)=>{const o=e&&j8(r,i)||i;Im(r[o])&&Im(s)?r[o]=bb(r[o],s):Im(s)?r[o]=bb({},s):kf(s)?r[o]=s.slice():(!t||!Jd(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&p0(arguments[s],a);return r}const J9=(e,t,r,{allOwnKeys:a}={})=>(p0(t,(s,i)=>{r&&mi(s)?e[i]=v8(s,r):e[i]=s},{allOwnKeys:a}),e),Q9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Z9=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},eR=(e,t,r,a)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&l5(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},tR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},rR=e=>{if(!e)return null;if(kf(e))return e;let t=e.length;if(!w8(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},nR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&l5(Uint8Array)),aR=(e,t)=>{const a=(e&&e[Jp]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},sR=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},iR=ko("HTMLFormElement"),oR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),$4=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),lR=ko("RegExp"),S8=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};p0(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},cR=e=>{S8(e,(t,r)=>{if(mi(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(mi(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},uR=(e,t)=>{const r={},a=s=>{s.forEach(i=>{r[i]=!0})};return kf(e)?a(e):a(String(e).split(t)),r},dR=()=>{},fR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function hR(e){return!!(e&&mi(e.append)&&e[y8]==="FormData"&&e[Jp])}const mR=e=>{const t=new Array(10),r=(a,s)=>{if(m0(a)){if(t.indexOf(a)>=0)return;if(h0(a))return a;if(!("toJSON"in a)){t[s]=a;const i=kf(a)?[]:{};return p0(a,(o,l)=>{const u=r(o,s+1);!Jd(u)&&(i[l]=u)}),t[s]=void 0,i}}return a};return r(e,0)},pR=ko("AsyncFunction"),gR=e=>e&&(m0(e)||mi(e))&&mi(e.then)&&mi(e.catch),_8=((e,t)=>e?setImmediate:t?((r,a)=>(Fu.addEventListener("message",({source:s,data:i})=>{s===Fu&&i===r&&a.length&&a.shift()()},!1),s=>{a.push(s),Fu.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",mi(Fu.postMessage)),xR=typeof queueMicrotask<"u"?queueMicrotask.bind(Fu):typeof process<"u"&&process.nextTick||_8,vR=e=>e!=null&&mi(e[Jp]),Ye={isArray:kf,isArrayBuffer:b8,isBuffer:h0,isFormData:W9,isArrayBufferView:M9,isString:I9,isNumber:w8,isBoolean:D9,isObject:m0,isPlainObject:Im,isEmptyObject:F9,isReadableStream:V9,isRequest:Y9,isResponse:G9,isHeaders:K9,isUndefined:Jd,isDate:$9,isFile:B9,isBlob:U9,isRegExp:lR,isFunction:mi,isStream:z9,isURLSearchParams:H9,isTypedArray:nR,isFileList:q9,forEach:p0,merge:bb,extend:J9,trim:X9,stripBOM:Q9,inherits:Z9,toFlatObject:eR,kindOf:Qp,kindOfTest:ko,endsWith:tR,toArray:rR,forEachEntry:aR,matchAll:sR,isHTMLForm:iR,hasOwnProperty:$4,hasOwnProp:$4,reduceDescriptors:S8,freezeMethods:cR,toObjectSet:uR,toCamelCase:oR,noop:dR,toFiniteNumber:fR,findKey:j8,global:Fu,isContextDefined:N8,isSpecCompliantForm:hR,toJSONObject:mR,isAsyncFn:pR,isThenable:gR,setImmediate:_8,asap:xR,isIterable:vR};function kr(e,t,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Ye.inherits(kr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const k8=kr.prototype,A8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{A8[e]={value:e}});Object.defineProperties(kr,A8);Object.defineProperty(k8,"isAxiosError",{value:!0});kr.from=(e,t,r,a,s,i)=>{const o=Object.create(k8);Ye.toFlatObject(e,o,function(h){return h!==Error.prototype},f=>f!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return kr.call(o,l,u,r,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const yR=null;function wb(e){return Ye.isPlainObject(e)||Ye.isArray(e)}function C8(e){return Ye.endsWith(e,"[]")?e.slice(0,-2):e}function B4(e,t,r){return e?e.concat(t).map(function(s,i){return s=C8(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function bR(e){return Ye.isArray(e)&&!e.some(wb)}const wR=Ye.toFlatObject(Ye,{},null,function(t){return/^is[A-Z]/.test(t)});function eg(e,t,r){if(!Ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!Ye.isUndefined(y[v])});const a=r.metaTokens,s=r.visitor||h,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(t);if(!Ye.isFunction(s))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Ye.isDate(w))return w.toISOString();if(Ye.isBoolean(w))return w.toString();if(!u&&Ye.isBlob(w))throw new kr("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(w)||Ye.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,v,y){let S=w;if(w&&!y&&typeof w=="object"){if(Ye.endsWith(v,"{}"))v=a?v:v.slice(0,-2),w=JSON.stringify(w);else if(Ye.isArray(w)&&bR(w)||(Ye.isFileList(w)||Ye.endsWith(v,"[]"))&&(S=Ye.toArray(w)))return v=C8(v),S.forEach(function(N,k){!(Ye.isUndefined(N)||N===null)&&t.append(o===!0?B4([v],k,i):o===null?v:v+"[]",f(N))}),!1}return wb(w)?!0:(t.append(B4(y,v,i),f(w)),!1)}const m=[],x=Object.assign(wR,{defaultVisitor:h,convertValue:f,isVisitable:wb});function p(w,v){if(!Ye.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(w),Ye.forEach(w,function(S,A){(!(Ye.isUndefined(S)||S===null)&&s.call(t,S,Ye.isString(A)?A.trim():A,v,x))===!0&&p(S,v?v.concat(A):[A])}),m.pop()}}if(!Ye.isObject(e))throw new TypeError("data must be an object");return p(e),t}function U4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function c5(e,t){this._pairs=[],e&&eg(e,this,t)}const P8=c5.prototype;P8.append=function(t,r){this._pairs.push([t,r])};P8.toString=function(t){const r=t?function(a){return t.call(this,a,U4)}:U4;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function jR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function E8(e,t,r){if(!t)return e;const a=r&&r.encode||jR;Ye.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=Ye.isURLSearchParams(t)?t.toString():new c5(t,r).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class q4{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ye.forEach(this.handlers,function(a){a!==null&&t(a)})}}const L8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},NR=typeof URLSearchParams<"u"?URLSearchParams:c5,SR=typeof FormData<"u"?FormData:null,_R=typeof Blob<"u"?Blob:null,kR={isBrowser:!0,classes:{URLSearchParams:NR,FormData:SR,Blob:_R},protocols:["http","https","file","blob","url","data"]},u5=typeof window<"u"&&typeof document<"u",jb=typeof navigator=="object"&&navigator||void 0,AR=u5&&(!jb||["ReactNative","NativeScript","NS"].indexOf(jb.product)<0),CR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PR=u5&&window.location.href||"http://localhost",ER=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:u5,hasStandardBrowserEnv:AR,hasStandardBrowserWebWorkerEnv:CR,navigator:jb,origin:PR},Symbol.toStringTag,{value:"Module"})),Ps={...ER,...kR};function LR(e,t){return eg(e,new Ps.classes.URLSearchParams,{visitor:function(r,a,s,i){return Ps.isNode&&Ye.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function OR(e){return Ye.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function RR(e){const t={},r=Object.keys(e);let a;const s=r.length;let i;for(a=0;a<s;a++)i=r[a],t[i]=e[i];return t}function O8(e){function t(r,a,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=r.length;return o=!o&&Ye.isArray(s)?s.length:o,u?(Ye.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!l):((!s[o]||!Ye.isObject(s[o]))&&(s[o]=[]),t(r,a,s[o],i)&&Ye.isArray(s[o])&&(s[o]=RR(s[o])),!l)}if(Ye.isFormData(e)&&Ye.isFunction(e.entries)){const r={};return Ye.forEachEntry(e,(a,s)=>{t(OR(a),s,r,0)}),r}return null}function TR(e,t,r){if(Ye.isString(e))try{return(t||JSON.parse)(e),Ye.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const g0={transitional:L8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",s=a.indexOf("application/json")>-1,i=Ye.isObject(t);if(i&&Ye.isHTMLForm(t)&&(t=new FormData(t)),Ye.isFormData(t))return s?JSON.stringify(O8(t)):t;if(Ye.isArrayBuffer(t)||Ye.isBuffer(t)||Ye.isStream(t)||Ye.isFile(t)||Ye.isBlob(t)||Ye.isReadableStream(t))return t;if(Ye.isArrayBufferView(t))return t.buffer;if(Ye.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return LR(t,this.formSerializer).toString();if((l=Ye.isFileList(t))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return eg(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),TR(t)):t}],transformResponse:[function(t){const r=this.transitional||g0.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ye.isResponse(t)||Ye.isReadableStream(t))return t;if(t&&Ye.isString(t)&&(a&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?kr.from(l,kr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ps.classes.FormData,Blob:Ps.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],e=>{g0.headers[e]={}});const MR=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IR=e=>{const t={};let r,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!r||t[r]&&MR[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},z4=Symbol("internals");function ch(e){return e&&String(e).trim().toLowerCase()}function Dm(e){return e===!1||e==null?e:Ye.isArray(e)?e.map(Dm):String(e)}function DR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const FR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Lx(e,t,r,a,s){if(Ye.isFunction(a))return a.call(this,t,r);if(s&&(t=r),!!Ye.isString(t)){if(Ye.isString(a))return t.indexOf(a)!==-1;if(Ye.isRegExp(a))return a.test(t)}}function $R(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function BR(e,t){const r=Ye.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(s,i,o){return this[a].call(this,t,s,i,o)},configurable:!0})})}let pi=class{constructor(t){t&&this.set(t)}set(t,r,a){const s=this;function i(l,u,f){const h=ch(u);if(!h)throw new Error("header name must be a non-empty string");const m=Ye.findKey(s,h);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||u]=Dm(l))}const o=(l,u)=>Ye.forEach(l,(f,h)=>i(f,h,u));if(Ye.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ye.isString(t)&&(t=t.trim())&&!FR(t))o(IR(t),r);else if(Ye.isObject(t)&&Ye.isIterable(t)){let l={},u,f;for(const h of t){if(!Ye.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[f=h[0]]=(u=l[f])?Ye.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}o(l,r)}else t!=null&&i(r,t,a);return this}get(t,r){if(t=ch(t),t){const a=Ye.findKey(this,t);if(a){const s=this[a];if(!r)return s;if(r===!0)return DR(s);if(Ye.isFunction(r))return r.call(this,s,a);if(Ye.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ch(t),t){const a=Ye.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Lx(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let s=!1;function i(o){if(o=ch(o),o){const l=Ye.findKey(a,o);l&&(!r||Lx(a,a[l],l,r))&&(delete a[l],s=!0)}}return Ye.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let a=r.length,s=!1;for(;a--;){const i=r[a];(!t||Lx(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,a={};return Ye.forEach(this,(s,i)=>{const o=Ye.findKey(a,i);if(o){r[o]=Dm(s),delete r[i];return}const l=t?$R(i):String(i).trim();l!==i&&delete r[i],r[l]=Dm(s),a[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ye.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=t&&Ye.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[z4]=this[z4]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=ch(o);a[l]||(BR(s,o),a[l]=!0)}return Ye.isArray(t)?t.forEach(i):i(t),this}};pi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(pi.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});Ye.freezeMethods(pi);function Ox(e,t){const r=this||g0,a=t||r,s=pi.from(a.headers);let i=a.data;return Ye.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function R8(e){return!!(e&&e.__CANCEL__)}function Af(e,t,r){kr.call(this,e??"canceled",kr.ERR_CANCELED,t,r),this.name="CanceledError"}Ye.inherits(Af,kr,{__CANCEL__:!0});function T8(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new kr("Request failed with status code "+r.status,[kr.ERR_BAD_REQUEST,kr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function UR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qR(e,t){e=e||10;const r=new Array(e),a=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),h=a[i];o||(o=f),r[s]=u,a[s]=f;let m=i,x=0;for(;m!==s;)x+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),f-o<t)return;const p=h&&f-h;return p?Math.round(x*1e3/p):void 0}}function zR(e,t){let r=0,a=1e3/t,s,i;const o=(f,h=Date.now())=>{r=h,s=null,i&&(clearTimeout(i),i=null),e(...f)};return[(...f)=>{const h=Date.now(),m=h-r;m>=a?o(f,h):(s=f,i||(i=setTimeout(()=>{i=null,o(s)},a-m)))},()=>s&&o(s)]}const Gm=(e,t,r=3)=>{let a=0;const s=qR(50,250);return zR(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-a,f=s(u),h=o<=l;a=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&h?(l-o)/f:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},W4=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},H4=e=>(...t)=>Ye.asap(()=>e(...t)),WR=Ps.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ps.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ps.origin),Ps.navigator&&/(msie|trident)/i.test(Ps.navigator.userAgent)):()=>!0,HR=Ps.hasStandardBrowserEnv?{write(e,t,r,a,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Ye.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Ye.isString(a)&&l.push(`path=${a}`),Ye.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),Ye.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function VR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function YR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function M8(e,t,r){let a=!VR(t);return e&&(a||r==!1)?YR(e,t):t}const V4=e=>e instanceof pi?{...e}:e;function Gu(e,t){t=t||{};const r={};function a(f,h,m,x){return Ye.isPlainObject(f)&&Ye.isPlainObject(h)?Ye.merge.call({caseless:x},f,h):Ye.isPlainObject(h)?Ye.merge({},h):Ye.isArray(h)?h.slice():h}function s(f,h,m,x){if(Ye.isUndefined(h)){if(!Ye.isUndefined(f))return a(void 0,f,m,x)}else return a(f,h,m,x)}function i(f,h){if(!Ye.isUndefined(h))return a(void 0,h)}function o(f,h){if(Ye.isUndefined(h)){if(!Ye.isUndefined(f))return a(void 0,f)}else return a(void 0,h)}function l(f,h,m){if(m in t)return a(f,h);if(m in e)return a(void 0,f)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,h,m)=>s(V4(f),V4(h),m,!0)};return Ye.forEach(Object.keys({...e,...t}),function(h){const m=u[h]||s,x=m(e[h],t[h],h);Ye.isUndefined(x)&&m!==l||(r[h]=x)}),r}const I8=e=>{const t=Gu({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=pi.from(o),t.url=E8(M8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ye.isFormData(r)){if(Ps.hasStandardBrowserEnv||Ps.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ye.isFunction(r.getHeaders)){const u=r.getHeaders(),f=["content-type","content-length"];Object.entries(u).forEach(([h,m])=>{f.includes(h.toLowerCase())&&o.set(h,m)})}}if(Ps.hasStandardBrowserEnv&&(a&&Ye.isFunction(a)&&(a=a(t)),a||a!==!1&&WR(t.url))){const u=s&&i&&HR.read(i);u&&o.set(s,u)}return t},GR=typeof XMLHttpRequest<"u",KR=GR&&function(e){return new Promise(function(r,a){const s=I8(e);let i=s.data;const o=pi.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=s,h,m,x,p,w;function v(){p&&p(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function S(){if(!y)return;const N=pi.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:N,config:e,request:y};T8(function(I){r(I),v()},function(I){a(I),v()},C),y=null}"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(a(new kr("Request aborted",kr.ECONNABORTED,e,y)),y=null)},y.onerror=function(k){const C=k&&k.message?k.message:"Network Error",T=new kr(C,kr.ERR_NETWORK,e,y);T.event=k||null,a(T),y=null},y.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||L8;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),a(new kr(k,C.clarifyTimeoutError?kr.ETIMEDOUT:kr.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&Ye.forEach(o.toJSON(),function(k,C){y.setRequestHeader(C,k)}),Ye.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),f&&([x,w]=Gm(f,!0),y.addEventListener("progress",x)),u&&y.upload&&([m,p]=Gm(u),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(h=N=>{y&&(a(!N||N.type?new Af(null,e,y):N),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const A=UR(s.url);if(A&&Ps.protocols.indexOf(A)===-1){a(new kr("Unsupported protocol "+A+":",kr.ERR_BAD_REQUEST,e));return}y.send(i||null)})},XR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,s;const i=function(f){if(!s){s=!0,l();const h=f instanceof Error?f:this.reason;a.abort(h instanceof kr?h:new Af(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new kr(`timeout ${t} of ms exceeded`,kr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>Ye.asap(l),u}},JR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,s;for(;a<r;)s=a+t,yield e.slice(a,s),a=s},QR=async function*(e,t){for await(const r of ZR(e))yield*JR(r,t)},ZR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},Y4=(e,t,r,a)=>{const s=QR(e,t);let i=0,o,l=u=>{o||(o=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:f,value:h}=await s.next();if(f){l(),u.close();return}let m=h.byteLength;if(r){let x=i+=m;r(x)}u.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},G4=64*1024,{isFunction:hm}=Ye,eT=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ye.global),{ReadableStream:K4,TextEncoder:X4}=Ye.global,J4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},tT=e=>{e=Ye.merge.call({skipUndefined:!0},eT,e);const{fetch:t,Request:r,Response:a}=e,s=t?hm(t):typeof fetch=="function",i=hm(r),o=hm(a);if(!s)return!1;const l=s&&hm(K4),u=s&&(typeof X4=="function"?(w=>v=>w.encode(v))(new X4):async w=>new Uint8Array(await new r(w).arrayBuffer())),f=i&&l&&J4(()=>{let w=!1;const v=new r(Ps.origin,{body:new K4,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!v}),h=o&&l&&J4(()=>Ye.isReadableStream(new a("").body)),m={stream:h&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!m[w]&&(m[w]=(v,y)=>{let S=v&&v[w];if(S)return S.call(v);throw new kr(`Response type '${w}' is not supported`,kr.ERR_NOT_SUPPORT,y)})});const x=async w=>{if(w==null)return 0;if(Ye.isBlob(w))return w.size;if(Ye.isSpecCompliantForm(w))return(await new r(Ps.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(w)||Ye.isArrayBuffer(w))return w.byteLength;if(Ye.isURLSearchParams(w)&&(w=w+""),Ye.isString(w))return(await u(w)).byteLength},p=async(w,v)=>{const y=Ye.toFiniteNumber(w.getContentLength());return y??x(v)};return async w=>{let{url:v,method:y,data:S,signal:A,cancelToken:N,timeout:k,onDownloadProgress:C,onUploadProgress:T,responseType:I,headers:F,withCredentials:z="same-origin",fetchOptions:J}=I8(w),R=t||fetch;I=I?(I+"").toLowerCase():"text";let $=XR([A,N&&N.toAbortSignal()],k),H=null;const B=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let ce;try{if(T&&f&&y!=="get"&&y!=="head"&&(ce=await p(F,S))!==0){let oe=new r(v,{method:"POST",body:S,duplex:"half"}),q;if(Ye.isFormData(S)&&(q=oe.headers.get("content-type"))&&F.setContentType(q),oe.body){const[U,V]=W4(ce,Gm(H4(T)));S=Y4(oe.body,G4,U,V)}}Ye.isString(z)||(z=z?"include":"omit");const se=i&&"credentials"in r.prototype,xe={...J,signal:$,method:y.toUpperCase(),headers:F.normalize().toJSON(),body:S,duplex:"half",credentials:se?z:void 0};H=i&&new r(v,xe);let te=await(i?R(H,J):R(v,xe));const ee=h&&(I==="stream"||I==="response");if(h&&(C||ee&&B)){const oe={};["status","statusText","headers"].forEach(ie=>{oe[ie]=te[ie]});const q=Ye.toFiniteNumber(te.headers.get("content-length")),[U,V]=C&&W4(q,Gm(H4(C),!0))||[];te=new a(Y4(te.body,G4,U,()=>{V&&V(),B&&B()}),oe)}I=I||"text";let G=await m[Ye.findKey(m,I)||"text"](te,w);return!ee&&B&&B(),await new Promise((oe,q)=>{T8(oe,q,{data:G,headers:pi.from(te.headers),status:te.status,statusText:te.statusText,config:w,request:H})})}catch(se){throw B&&B(),se&&se.name==="TypeError"&&/Load failed|fetch/i.test(se.message)?Object.assign(new kr("Network Error",kr.ERR_NETWORK,w,H),{cause:se.cause||se}):kr.from(se,se&&se.code,w,H)}}},rT=new Map,D8=e=>{let t=e&&e.env||{};const{fetch:r,Request:a,Response:s}=t,i=[a,s,r];let o=i.length,l=o,u,f,h=rT;for(;l--;)u=i[l],f=h.get(u),f===void 0&&h.set(u,f=l?new Map:tT(t)),h=f;return f};D8();const d5={http:yR,xhr:KR,fetch:{get:D8}};Ye.forEach(d5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Q4=e=>`- ${e}`,nT=e=>Ye.isFunction(e)||e===null||e===!1;function aT(e,t){e=Ye.isArray(e)?e:[e];const{length:r}=e;let a,s;const i={};for(let o=0;o<r;o++){a=e[o];let l;if(s=a,!nT(a)&&(s=d5[(l=String(a)).toLowerCase()],s===void 0))throw new kr(`Unknown adapter '${l}'`);if(s&&(Ye.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Q4).join(`
`):" "+Q4(o[0]):"as no adapter specified";throw new kr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const F8={getAdapter:aT,adapters:d5};function Rx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Af(null,e)}function Z4(e){return Rx(e),e.headers=pi.from(e.headers),e.data=Ox.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),F8.getAdapter(e.adapter||g0.adapter,e)(e).then(function(a){return Rx(e),a.data=Ox.call(e,e.transformResponse,a),a.headers=pi.from(a.headers),a},function(a){return R8(a)||(Rx(e),a&&a.response&&(a.response.data=Ox.call(e,e.transformResponse,a.response),a.response.headers=pi.from(a.response.headers))),Promise.reject(a)})}const $8="1.13.1",tg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tg[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const eN={};tg.transitional=function(t,r,a){function s(i,o){return"[Axios v"+$8+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(t===!1)throw new kr(s(o," has been removed"+(r?" in "+r:"")),kr.ERR_DEPRECATED);return r&&!eN[o]&&(eN[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};tg.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function sT(e,t,r){if(typeof e!="object")throw new kr("options must be an object",kr.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new kr("option "+i+" must be "+u,kr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new kr("Unknown option "+i,kr.ERR_BAD_OPTION)}}const Fm={assertOptions:sT,validators:tg},Ko=Fm.validators;let zu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new q4,response:new q4}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Gu(this.defaults,r);const{transitional:a,paramsSerializer:s,headers:i}=r;a!==void 0&&Fm.assertOptions(a,{silentJSONParsing:Ko.transitional(Ko.boolean),forcedJSONParsing:Ko.transitional(Ko.boolean),clarifyTimeoutError:Ko.transitional(Ko.boolean)},!1),s!=null&&(Ye.isFunction(s)?r.paramsSerializer={serialize:s}:Fm.assertOptions(s,{encode:Ko.function,serialize:Ko.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Fm.assertOptions(r,{baseUrl:Ko.spelling("baseURL"),withXsrfToken:Ko.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Ye.merge(i.common,i[r.method]);i&&Ye.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=pi.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(u=u&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let h,m=0,x;if(!u){const w=[Z4.bind(this),void 0];for(w.unshift(...l),w.push(...f),x=w.length,h=Promise.resolve(r);m<x;)h=h.then(w[m++],w[m++]);return h}x=l.length;let p=r;for(;m<x;){const w=l[m++],v=l[m++];try{p=w(p)}catch(y){v.call(this,y);break}}try{h=Z4.call(this,p)}catch(w){return Promise.reject(w)}for(m=0,x=f.length;m<x;)h=h.then(f[m++],f[m++]);return h}getUri(t){t=Gu(this.defaults,t);const r=M8(t.baseURL,t.url,t.allowAbsoluteUrls);return E8(r,t.params,t.paramsSerializer)}};Ye.forEach(["delete","get","head","options"],function(t){zu.prototype[t]=function(r,a){return this.request(Gu(a||{},{method:t,url:r,data:(a||{}).data}))}});Ye.forEach(["post","put","patch"],function(t){function r(a){return function(i,o,l){return this.request(Gu(l||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}zu.prototype[t]=r(),zu.prototype[t+"Form"]=r(!0)});let iT=class B8{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},t(function(i,o,l){a.reason||(a.reason=new Af(i,o,l),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new B8(function(s){t=s}),cancel:t}}};function oT(e){return function(r){return e.apply(null,r)}}function lT(e){return Ye.isObject(e)&&e.isAxiosError===!0}const Nb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Nb).forEach(([e,t])=>{Nb[t]=e});function U8(e){const t=new zu(e),r=v8(zu.prototype.request,t);return Ye.extend(r,zu.prototype,t,{allOwnKeys:!0}),Ye.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return U8(Gu(e,s))},r}const Gn=U8(g0);Gn.Axios=zu;Gn.CanceledError=Af;Gn.CancelToken=iT;Gn.isCancel=R8;Gn.VERSION=$8;Gn.toFormData=eg;Gn.AxiosError=kr;Gn.Cancel=Gn.CanceledError;Gn.all=function(t){return Promise.all(t)};Gn.spread=oT;Gn.isAxiosError=lT;Gn.mergeConfig=Gu;Gn.AxiosHeaders=pi;Gn.formToJSON=e=>O8(Ye.isHTMLForm(e)?new FormData(e):e);Gn.getAdapter=F8.getAdapter;Gn.HttpStatusCode=Nb;Gn.default=Gn;const{Axios:Iee,AxiosError:Dee,CanceledError:Fee,isCancel:$ee,CancelToken:Bee,VERSION:Uee,all:qee,Cancel:zee,isAxiosError:Wee,spread:Hee,toFormData:Vee,AxiosHeaders:Yee,HttpStatusCode:Gee,formToJSON:Kee,getAdapter:Xee,mergeConfig:Jee}=Gn;class cT{constructor(){this.requestCounts=new Map,this.requestTimestamps=new Map,this.blockedUntil=new Map}checkLimit(t,r={}){const{maxRequests:a=10,timeWindow:s=6e4,blockDuration:i=6e4}=r,o=Date.now(),l=this.blockedUntil.get(t);if(l&&o<l){const m=Math.ceil((l-o)/1e3);return{allowed:!1,reason:`Rate limit exceeded. Please try again in ${m} seconds.`,retryAfter:m}}l&&o>=l&&(this.blockedUntil.delete(t),this.requestCounts.delete(t),this.requestTimestamps.delete(t));const f=(this.requestTimestamps.get(t)||[]).filter(m=>o-m<s);if(f.length>=a){const m=f[0],x=Math.ceil((m+s-o)/1e3);return this.blockedUntil.set(t,o+i),console.warn(`[RateLimiter] Rate limit exceeded for ${t}. Blocked for ${i/1e3}s`),{allowed:!1,reason:`Too many requests. Please wait ${x} seconds before trying again.`,retryAfter:x}}f.push(o),this.requestTimestamps.set(t,f);const h=(this.requestCounts.get(t)||0)+1;return this.requestCounts.set(t,h),{allowed:!0,reason:"Request allowed",remaining:a-f.length}}reset(t){this.requestCounts.delete(t),this.requestTimestamps.delete(t),this.blockedUntil.delete(t)}resetAll(){this.requestCounts.clear(),this.requestTimestamps.clear(),this.blockedUntil.clear()}getStatus(t){const r=Date.now(),a=this.blockedUntil.get(t),s=this.requestTimestamps.get(t)||[],i=this.requestCounts.get(t)||0;return{isBlocked:a&&r<a,blockedUntil:a||null,requestCount:i,recentRequests:s.length}}}const uT=new cT,$m="https://coursefeedback-production.up.railway.app/api",tt=Gn.create({baseURL:$m,headers:{"Content-Type":"application/json"},timeout:3e4});tt.interceptors.request.use(e=>{const t=localStorage.getItem("token");if(t&&(e.headers.Authorization=`Bearer ${t}`),e.method!=="get"){const r=`${e.method}:${e.url}`,a=uT.checkLimit(r,{maxRequests:20,timeWindow:6e4,blockDuration:3e4});if(!a.allowed){const s=new Error(a.reason);return s.code="RATE_LIMIT_EXCEEDED",s.retryAfter=a.retryAfter,Promise.reject(s)}}return e},e=>Promise.reject(e));tt.interceptors.response.use(e=>e.data,e=>{if(e.response){const{status:t,data:r}=e.response;console.error("API Error Response:",{status:t,data:r}),console.error("Full error details:",JSON.stringify(r,null,2)),t===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login");const a=r?.detail||r?.message||`Server error (${t})`,s=new Error(a);return s.response=e.response,Promise.reject(s)}else return e.request?(console.error("No response from server:",e.request),Promise.reject(new Error("No response from server. Please check your connection."))):(console.error("Request error:",e.message),Promise.reject(e))});const St={login:async(e,t)=>{try{const r=await tt.post("/auth/login",{email:e,password:t});return r.success&&r.user&&(r.token&&localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("role",r.user.role)),r}catch(r){throw console.error("Login error:",r),r}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("role"),window.location.href="/login"},getCurrentUser:()=>{try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return console.error("Error getting current user:",e),null}},isAuthenticated:()=>!!localStorage.getItem("token"),forgotPassword:async e=>{try{return await tt.post("/auth/forgot-password",{email:e})}catch(t){throw console.error("Forgot password error:",t),t}},resetPassword:async(e,t)=>{try{return await tt.post("/auth/reset-password",{token:e,new_password:t})}catch(r){throw console.error("Reset password error:",r),r}},changePassword:async(e,t,r)=>{try{return await tt.post("/auth/change-password",{user_id:e,current_password:t,new_password:r})}catch(a){throw console.error("Change password error:",a),a}}},nt={getUsers:async(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page),e.page_size&&t.append("page_size",e.page_size),e.search&&t.append("search",e.search),e.role&&t.append("role",e.role),e.status&&t.append("status",e.status),e.program&&t.append("program",e.program),e.year_level&&t.append("year_level",e.year_level),tt.get(`/admin/users?${t.toString()}`)},createUser:async e=>{const t=St.getCurrentUser();return tt.post(`/admin/users?current_user_id=${t?.id}`,e)},updateUser:async(e,t)=>{const r=St.getCurrentUser();return tt.put(`/admin/users/${e}?current_user_id=${r?.id}`,t)},deleteUser:async(e,t=!1)=>{const r=St.getCurrentUser(),a=t?"&force=true":"";return tt.delete(`/admin/users/${e}?current_user_id=${r?.id}${a}`)},resetPassword:async(e,t)=>{const r=St.getCurrentUser();return tt.post(`/admin/users/${e}/reset-password?current_user_id=${r?.id}`,{new_password:t})},activateUser:async e=>{const t=St.getCurrentUser();return tt.put(`/admin/users/${e}?current_user_id=${t?.id}`,{is_active:!0})},deactivateUser:async e=>{const t=St.getCurrentUser();return tt.put(`/admin/users/${e}?current_user_id=${t?.id}`,{is_active:!1})},getUserStats:async()=>tt.get("/admin/users/stats"),getPeriods:async()=>tt.get("/admin/evaluation-periods"),getEvaluationPeriods:async()=>tt.get("/admin/evaluation-periods"),createPeriod:async e=>{const t=St.getCurrentUser(),r={name:e.name,semester:e.semester,academic_year:e.academicYear||e.academic_year,start_date:e.startDate||e.start_date,end_date:e.endDate||e.end_date};return tt.post(`/admin/evaluation-periods?current_user_id=${t?.id}`,r)},updatePeriodStatus:async(e,t)=>{const r=St.getCurrentUser();return tt.put(`/admin/evaluation-periods/${e}/status?current_user_id=${r?.id}`,{status:t})},updatePeriod:async(e,t)=>{const r=St.getCurrentUser(),a={end_date:t.endDate||t.end_date,start_date:t.startDate||t.start_date,name:t.name,semester:t.semester,academic_year:t.academicYear||t.academic_year};return Object.keys(a).forEach(s=>a[s]===void 0&&delete a[s]),tt.patch(`/admin/evaluation-periods/${e}?current_user_id=${r?.id}`,a)},deletePeriod:async e=>{const t=St.getCurrentUser();return tt.delete(`/admin/evaluation-periods/${e}?current_user_id=${t?.id}`)},getActivePeriod:async()=>tt.get("/admin/evaluation-periods/active"),enrollSectionInPeriod:async(e,t)=>{const r=St.getCurrentUser();return tt.post(`/admin/evaluation-periods/${e}/enroll-section?current_user_id=${r?.id}`,{section_id:t})},getPeriodEnrolledSections:async e=>tt.get(`/admin/evaluation-periods/${e}/enrolled-sections`),removePeriodEnrollment:async(e,t)=>{const r=St.getCurrentUser();return tt.delete(`/admin/evaluation-periods/${e}/enrolled-program-sections/${t}?current_user_id=${r?.id}`)},enrollProgramSectionInPeriod:async(e,t)=>{const r=St.getCurrentUser();return tt.post(`/admin/evaluation-periods/${e}/enroll-program-section?current_user_id=${r?.id}`,{program_section_id:t})},getPeriodEnrolledProgramSections:async e=>tt.get(`/admin/evaluation-periods/${e}/enrolled-program-sections`),getCourses:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.department&&t.append("department",e.department),e.program_id&&t.append("program_id",e.program_id),e.year_level&&t.append("year_level",e.year_level),e.semester&&t.append("semester",e.semester),e.page&&t.append("page",e.page),e.page_size&&t.append("page_size",e.page_size),tt.get(`/admin/courses?${t.toString()}`)},getAuditLogs:async(e={})=>{const t=new URLSearchParams;return e.page&&t.append("page",e.page),e.page_size&&t.append("page_size",e.page_size),e.action&&t.append("action",e.action),e.severity&&t.append("severity",e.severity),e.user_id&&t.append("user_id",e.user_id),e.start_date&&t.append("start_date",e.start_date),e.end_date&&t.append("end_date",e.end_date),tt.get(`/admin/audit-logs?${t.toString()}`)},getAuditLogStats:async()=>tt.get("/admin/audit-logs/stats"),exportUsers:async(e={})=>{const t=new URLSearchParams(e);return(await Gn.get(`${$m}/admin/export/users?${t.toString()}`,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data},exportEvaluations:async(e={})=>{const t=new URLSearchParams(e);return(await Gn.get(`${$m}/admin/export/evaluations?${t.toString()}`,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data},getDashboardStats:async()=>tt.get("/admin/dashboard-stats"),getNonRespondents:async(e={})=>{const t=new URLSearchParams;e.evaluation_period_id&&t.append("evaluation_period_id",e.evaluation_period_id),e.program_id&&t.append("program_id",e.program_id),e.year_level&&t.append("year_level",e.year_level);const r=t.toString();return tt.get(`/admin/non-respondents${r?`?${r}`:""}`)},getDashboard:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams(e);return t?.department&&r.append("department",t.department),tt.get(`/dept-head/dashboard?${r.toString()}`)},getExportHistory:async()=>tt.get("/admin/export/history"),getInstructors:async(e={})=>tt.get("/admin/users?role=instructor"),sendEmailNotification:async e=>{const t=St.getCurrentUser();return tt.post(`/admin/send-notification?current_user_id=${t?.id}`,e)},getEmailConfigStatus:async()=>{const e=St.getCurrentUser();return tt.get(`/admin/email-config-status?current_user_id=${e?.id}`)},createCourse:async e=>{const t=St.getCurrentUser();return tt.post(`/admin/courses?current_user_id=${t?.id}`,e)},updateCourse:async(e,t)=>{const r=St.getCurrentUser();return tt.put(`/admin/courses/${e}?current_user_id=${r?.id}`,t)},deleteCourse:async e=>{const t=St.getCurrentUser();return tt.delete(`/admin/courses/${e}?current_user_id=${t?.id}`)},getPrograms:async()=>tt.get("/admin/programs"),uploadEnrollmentList:async e=>{const t=St.getCurrentUser(),r=new FormData;return r.append("file",e),tt.post(`/admin/enrollment-list/upload?current_user_id=${t?.id}`,r,{headers:{"Content-Type":"multipart/form-data"}})},getSections:async(e={})=>{const t=new URLSearchParams;e.search&&t.append("search",e.search),e.program_id&&t.append("program_id",e.program_id),e.program_code&&t.append("program_code",e.program_code),e.program_section_id&&t.append("program_section_id",e.program_section_id),e.year_level&&t.append("year_level",e.year_level),e.semester&&t.append("semester",e.semester),e.period_id&&t.append("period_id",e.period_id);const r=t.toString();return tt.get(`/admin/sections${r?"?"+r:""}`)},createSection:async(e,t=!1)=>{const r=t?"/admin/sections?auto_enroll=true":"/admin/sections";return tt.post(r,e)},updateSection:async(e,t)=>{const r=St.getCurrentUser();return tt.put(`/admin/sections/${e}?current_user_id=${r?.id}`,t)},deleteSection:async e=>{const t=St.getCurrentUser();return tt.delete(`/admin/sections/${e}?current_user_id=${t?.id}`)},getSectionStudents:async e=>tt.get(`/admin/sections/${e}/students`),getAvailableStudents:async(e,t="")=>{const r=t?`?search=${encodeURIComponent(t)}`:"";return tt.get(`/admin/sections/${e}/available-students${r}`)},enrollStudents:async(e,t)=>{const r=St.getCurrentUser();return tt.post(`/admin/sections/${e}/enroll?current_user_id=${r?.id}`,{student_ids:t})},bulkEnrollStudent:async e=>{const t=St.getCurrentUser();return tt.post(`/admin/sections/bulk-enroll?current_user_id=${t?.id}`,e)},removeStudentFromSection:async(e,t)=>{const r=St.getCurrentUser();return tt.delete(`/admin/sections/${e}/students/${t}?current_user_id=${r?.id}`)},exportUsers:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams;return r.append("format",e.format||"csv"),t?.id&&r.append("user_id",t.id),e.role&&r.append("role",e.role),e.program&&r.append("program",e.program),e.status&&r.append("status",e.status),tt.get(`/admin/export/users?${r.toString()}`)},exportEvaluations:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams;return r.append("format",e.format||"csv"),t?.id&&r.append("user_id",t.id),e.dateRange&&r.append("dateRange",e.dateRange),e.program&&r.append("program",e.program),e.semester&&r.append("semester",e.semester),e.instructor&&r.append("instructor",e.instructor),tt.get(`/admin/export/evaluations?${r.toString()}`)},exportCourses:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams;return r.append("format",e.format||"csv"),t?.id&&r.append("user_id",t.id),e.program&&r.append("program",e.program),e.status&&r.append("status",e.status),e.year_level&&r.append("year_level",e.year_level),tt.get(`/admin/export/courses?${r.toString()}`)},exportAnalytics:async(e={})=>{const t=new URLSearchParams;return t.append("format",e.format||"csv"),e.reportType&&t.append("reportType",e.reportType),e.dateRange&&t.append("dateRange",e.dateRange),tt.get(`/admin/export/analytics?${t.toString()}`)},exportAuditLogs:async(e={})=>{const t=new URLSearchParams;if(t.append("format",e.format||"csv"),e.action&&e.action!=="all"&&t.append("action",e.action),e.category&&e.category!=="all"&&t.append("category",e.category),e.user&&e.user!=="all"&&t.append("user",e.user),e.severity&&e.severity!=="all"&&t.append("severity",e.severity),e.dateRange&&e.dateRange!=="all"){const a=new Date;let s=null;switch(e.dateRange){case"today":s=new Date(a.setHours(0,0,0,0));break;case"last_7_days":s=new Date(a.setDate(a.getDate()-7));break;case"last_30_days":s=new Date(a.setDate(a.getDate()-30));break;case"current_month":s=new Date(a.getFullYear(),a.getMonth(),1);break;case"last_month":s=new Date(a.getFullYear(),a.getMonth()-1,1);const i=new Date(a.getFullYear(),a.getMonth(),0);t.append("end_date",i.toISOString());break}s&&t.append("start_date",s.toISOString())}const r=St.getCurrentUser();return r?.id&&t.append("user_id",r.id),tt.get(`/admin/export/audit-logs?${t.toString()}`)},exportFullSystem:async(e={})=>{const t=e.format||"json";return tt.get(`/admin/export/full-system?format=${t}`)},exportCustom:async(e={})=>{const t=e.format||"json";return tt.post("/admin/export/custom",{format:t,tables:e.tables,fields:e.fields,filters:e.filters,dateRange:e.dateRange})},getCategoriesAverages:async(e,t)=>tt.get(`/admin/courses/${e}/category-averages?user_id=${t}`),getQuestionDistribution:async(e,t)=>tt.get(`/admin/courses/${e}/question-distribution?user_id=${t}`),getCompletionRates:async(e=null)=>{const t=St.getCurrentUser(),r=e?`/admin/completion-rates?user_id=${t?.id}&period_id=${e}`:`/admin/completion-rates?user_id=${t?.id}`;return tt.get(r)},submitSupportRequest:async e=>{const t=St.getCurrentUser();return tt.post(`/admin/support-request?user_id=${t?.id}`,e)},createBackup:async()=>{const e=St.getCurrentUser();return tt.post(`/admin/backup/create?user_id=${e?.id}`)},restoreBackup:async e=>{const t=St.getCurrentUser(),r=new FormData;return r.append("backup_file",e),Gn.post(`${$m}/admin/backup/restore?user_id=${t?.id}`,r,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})},getBackupHistory:async()=>{const e=St.getCurrentUser();return tt.get(`/admin/backup/history?user_id=${e?.id}`)},getProgramSections:async(e={})=>{St.getCurrentUser();const t=new URLSearchParams;e.programId&&t.append("program_id",e.programId),e.yearLevel&&t.append("year_level",e.yearLevel),e.semester&&t.append("semester",e.semester),e.schoolYear&&t.append("school_year",e.schoolYear),e.isActive!==void 0&&t.append("is_active",e.isActive);const r=t.toString();return tt.get(`/admin/program-sections${r?"?"+r:""}`)},createProgramSection:async e=>{const t=St.getCurrentUser();return tt.post(`/admin/program-sections?current_user_id=${t?.id}`,{section_name:e.sectionName,program_id:e.programId,year_level:e.yearLevel,semester:e.semester,school_year:e.schoolYear})},updateProgramSection:async(e,t)=>{const r=St.getCurrentUser(),a={};return t.sectionName!==void 0&&(a.section_name=t.sectionName),t.programId!==void 0&&(a.program_id=t.programId),t.yearLevel!==void 0&&(a.year_level=t.yearLevel),t.semester!==void 0&&(a.semester=t.semester),t.schoolYear!==void 0&&(a.school_year=t.schoolYear),t.isActive!==void 0&&(a.is_active=t.isActive),tt.put(`/admin/program-sections/${e}?current_user_id=${r?.id}`,a)},deleteProgramSection:async e=>{const t=St.getCurrentUser();return tt.delete(`/admin/program-sections/${e}?current_user_id=${t?.id}`)},getSectionStudents:async e=>tt.get(`/admin/program-sections/${e}/students`),getStudentsForAssignment:async(e={})=>{const t=new URLSearchParams;e.programId&&t.append("program_id",e.programId),e.yearLevel&&t.append("year_level",e.yearLevel),e.search&&t.append("search",e.search),e.excludeSectionId&&t.append("exclude_section_id",e.excludeSectionId);const r=t.toString();return tt.get(`/admin/students-for-assignment${r?"?"+r:""}`)},assignStudentsToSection:async(e,t)=>{const r=St.getCurrentUser();return tt.post(`/admin/program-sections/${e}/assign-students?current_user_id=${r?.id}`,{student_ids:t})},removeStudentFromSection:async(e,t)=>{const r=St.getCurrentUser();return tt.delete(`/admin/program-sections/${e}/students/${t}?current_user_id=${r?.id}`)},getAdvancementEligibility:async()=>tt.get("/student-management/advancement/eligibility"),advanceStudents:async(e={})=>tt.post("/student-management/advancement/advance-students",{program_id:e.program_id,current_year_level:e.current_year_level,dry_run:e.dry_run!==void 0?e.dry_run:!0}),transitionEnrollments:async e=>tt.post("/student-management/advancement/transition-enrollments",{from_period_id:e.from_period_id,to_period_id:e.to_period_id,auto_advance_year:e.auto_advance_year||!1,dry_run:e.dry_run!==void 0?e.dry_run:!0}),getStudentsByYearLevel:async(e={})=>{const t=new URLSearchParams;e.year_level&&t.append("year_level",e.year_level),e.program_id&&t.append("program_id",e.program_id);const r=t.toString();return tt.get(`/student-management/advancement/students-by-year${r?"?"+r:""}`)},getAdvancementSnapshots:async(e=10)=>tt.get(`/student-management/advancement/snapshots?limit=${e}`),rollbackAdvancement:async(e={})=>tt.post("/student-management/advancement/rollback",{snapshot_id:e.snapshot_id||null,dry_run:e.dry_run!==void 0?e.dry_run:!0}),createAdvancementSnapshot:async(e="Manual snapshot")=>tt.post(`/student-management/advancement/create-snapshot?description=${encodeURIComponent(e)}`),enrollProgramSectionToClass:async(e,t)=>{const r=St.getCurrentUser();return tt.post(`/admin/sections/${e}/enroll-program-section?current_user_id=${r?.id}`,{program_section_id:t})}},Ah={getCourses:async e=>tt.get(`/student/${e}/courses`),submitEvaluation:async e=>tt.post("/student/evaluations",e),getEvaluations:async e=>tt.get(`/student/${e}/evaluations`),getEvaluationHistory:async(e,t=null)=>{const r=t?`/student/${e}/evaluation-history?period_id=${t}`:`/student/${e}/evaluation-history`;return tt.get(r)},getCourseDetails:async e=>tt.get(`/student/courses/${e}`),getEvaluationForEdit:async e=>tt.get(`/student/evaluations/${e}`),updateEvaluation:async(e,t)=>tt.put(`/student/evaluations/${e}`,t)},zr={getDashboard:async()=>{const e=St.getCurrentUser();return tt.get(`/dept-head/dashboard?department=${e?.department}`)},getEvaluations:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,page:e.page||1,page_size:e.page_size||15,...e});return tt.get(`/dept-head/evaluations?${r.toString()}`)},getSentimentAnalysis:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return tt.get(`/dept-head/sentiment-analysis?${r.toString()}`)},getCourses:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return tt.get(`/dept-head/courses?${r.toString()}`)},getCourseReport:async(e,t={})=>{const r=St.getCurrentUser(),a=new URLSearchParams({user_id:r?.id,...t});return tt.get(`/dept-head/courses/${e}/report?${a.toString()}`)},getInstructors:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return tt.get(`/dept-head/instructors?${r.toString()}`)},getAnomalies:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return tt.get(`/dept-head/anomalies?${r.toString()}`)},getTrends:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return tt.get(`/dept-head/trends?${r.toString()}`)},getQuestions:async()=>Promise.resolve({success:!0,data:{questionSets:[{id:1,category:"Teaching Effectiveness",questions:[{id:1,text:"The instructor demonstrates mastery of the subject matter",type:"rating"},{id:2,text:"The instructor presents the material in an organized manner",type:"rating"},{id:3,text:"The instructor encourages student participation",type:"rating"}]},{id:2,category:"Course Content",questions:[{id:4,text:"The course content is relevant and up-to-date",type:"rating"},{id:5,text:"The learning materials are helpful",type:"rating"}]},{id:3,category:"Feedback",questions:[{id:6,text:"Additional comments or suggestions",type:"text"}]}]}}),getPrograms:async()=>{const e=St.getCurrentUser();return tt.get(`/dept-head/programs?user_id=${e?.id}`)},getYearLevels:async()=>{const e=St.getCurrentUser();return tt.get(`/dept-head/year-levels?user_id=${e?.id}`)},getNonRespondents:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id});return e.evaluation_period_id&&r.append("evaluation_period_id",e.evaluation_period_id),e.program_id&&r.append("program_id",e.program_id),e.year_level&&r.append("year_level",e.year_level),tt.get(`/dept-head/non-respondents?${r.toString()}`)},getCategoryAverages:async(e,t,r=null)=>{const a=r?`/dept-head/courses/${e}/category-averages?user_id=${t}&period_id=${r}`:`/dept-head/courses/${e}/category-averages?user_id=${t}`;return tt.get(a)},getQuestionDistribution:async(e,t,r=null)=>{const a=r?`/dept-head/courses/${e}/question-distribution?user_id=${t}&period_id=${r}`:`/dept-head/courses/${e}/question-distribution?user_id=${t}`;return tt.get(a)},getCompletionRates:async(e=null)=>{const t=St.getCurrentUser(),r=e?`/dept-head/completion-rates?user_id=${t?.id}&period_id=${e}`:`/dept-head/completion-rates?user_id=${t?.id}`;return tt.get(r)},getProgramSections:async(e={})=>{const t=new URLSearchParams;e.program_id&&t.append("program_id",e.program_id),e.year_level&&t.append("year_level",e.year_level),e.semester&&t.append("semester",e.semester),e.is_active!==void 0&&t.append("is_active",e.is_active);const r=t.toString();return tt.get(`/admin/program-sections${r?"?"+r:""}`)},submitSupportRequest:async e=>{const t=St.getCurrentUser();return tt.post(`/dept-head/support-request?user_id=${t?.id}`,e)},getMLAnalysis:async e=>{const t=St.getCurrentUser();return tt.get(`/dept-head/ml-analysis/${e}?user_id=${t?.id}`)},getMLInsightsSummary:async(e=null)=>{const t=St.getCurrentUser(),r=e?`/dept-head/ml-insights-summary?user_id=${t?.id}&period_id=${e}`:`/dept-head/ml-insights-summary?user_id=${t?.id}`;return tt.get(r)},getEvaluationPeriods:async()=>tt.get("/admin/evaluation-periods")},$r={getDashboard:async()=>{const e=St.getCurrentUser();return tt.get(`/secretary/dashboard?user_id=${e?.id}`)},getCourses:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return tt.get(`/secretary/courses?${r.toString()}`)},createCourse:async e=>{const t=St.getCurrentUser();return tt.post(`/secretary/courses?user_id=${t?.id}`,e)},updateCourse:async(e,t)=>{const r=St.getCurrentUser();return tt.put(`/secretary/courses/${e}?user_id=${r?.id}`,t)},deleteCourse:async e=>{const t=St.getCurrentUser();return tt.delete(`/secretary/courses/${e}?user_id=${t?.id}`)},getCourseSections:async e=>{const t=St.getCurrentUser();return tt.get(`/secretary/courses/${e}/sections?user_id=${t?.id}`)},createSection:async e=>{const t=St.getCurrentUser();return tt.post(`/secretary/sections?user_id=${t?.id}`,e)},assignInstructor:async(e,t)=>{const r=St.getCurrentUser();return tt.put(`/secretary/sections/${e}/assign-instructor?user_id=${r?.id}`,{instructor_id:t})},getPrograms:async()=>{const e=St.getCurrentUser();return tt.get(`/secretary/programs?user_id=${e?.id}`)},getYearLevels:async()=>{const e=St.getCurrentUser();return tt.get(`/secretary/year-levels?user_id=${e?.id}`)},getEvaluationPeriods:async()=>tt.get("/admin/evaluation-periods"),getNonRespondents:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id});return e.evaluation_period_id&&r.append("evaluation_period_id",e.evaluation_period_id),e.year_level&&r.append("year_level",e.year_level),tt.get(`/secretary/non-respondents?${r.toString()}`)},getEvaluationsSummary:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return tt.get(`/secretary/reports/evaluations-summary?${r.toString()}`)},getEvaluations:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,page:e.page||1,page_size:e.page_size||15,...e});return tt.get(`/secretary/evaluations?${r.toString()}`)},getSentimentAnalysis:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return tt.get(`/secretary/sentiment-analysis?${r.toString()}`)},getAnomalies:async(e={})=>{const t=St.getCurrentUser(),r=new URLSearchParams({user_id:t?.id,...e});return tt.get(`/secretary/anomalies?${r.toString()}`)},getQuestions:async()=>Promise.resolve({success:!0,data:{questionSets:[]}}),getYearLevels:async()=>{const e=St.getCurrentUser();return tt.get(`/secretary/year-levels?user_id=${e?.id}`)},getCategoryAverages:async(e,t,r=null)=>{const a=r?`/secretary/courses/${e}/category-averages?user_id=${t}&period_id=${r}`:`/secretary/courses/${e}/category-averages?user_id=${t}`;return tt.get(a)},getQuestionDistribution:async(e,t,r=null)=>{const a=r?`/secretary/courses/${e}/question-distribution?user_id=${t}&period_id=${r}`:`/secretary/courses/${e}/question-distribution?user_id=${t}`;return tt.get(a)},getCompletionRates:async(e=null)=>{const t=St.getCurrentUser(),r=e?`/secretary/completion-rates?user_id=${t?.id}&period_id=${e}`:`/secretary/completion-rates?user_id=${t?.id}`;return tt.get(r)},getProgramSections:async(e={})=>{const t=new URLSearchParams;e.program_id&&t.append("program_id",e.program_id),e.year_level&&t.append("year_level",e.year_level),e.semester&&t.append("semester",e.semester),e.is_active!==void 0&&t.append("is_active",e.is_active);const r=t.toString();return tt.get(`/admin/program-sections${r?"?"+r:""}`)},submitSupportRequest:async e=>{const t=St.getCurrentUser();return tt.post(`/secretary/support-request?user_id=${t?.id}`,e)},getMLAnalysis:async e=>{const t=St.getCurrentUser();return tt.get(`/secretary/ml-analysis/${e}?user_id=${t?.id}`)},getMLInsightsSummary:async(e=null)=>{const t=St.getCurrentUser(),r=e?`/secretary/ml-insights-summary?user_id=${t?.id}&period_id=${e}`:`/secretary/ml-insights-summary?user_id=${t?.id}`;return tt.get(r)}},q8=O.createContext(null);function dT({children:e}){const[t,r]=O.useState(null),[a,s]=O.useState(null),[i,o]=O.useState(!0),l=Kn();O.useEffect(()=>{const p=localStorage.getItem("token"),w=localStorage.getItem("currentUser");p&&w&&(s(p),r(JSON.parse(w))),o(!1)},[]),O.useEffect(()=>{if(a)try{const v=JSON.parse(atob(a.split(".")[1])).exp*1e3-Date.now();if(v<=0){f();return}const y=setTimeout(()=>{f(),alert("Your session has expired. Please log in again.")},v);return()=>clearTimeout(y)}catch(p){console.error("Error checking token expiry:",p)}},[a]);const u=(p,w)=>{localStorage.setItem("token",p),localStorage.setItem("currentUser",JSON.stringify(w)),localStorage.setItem("role",w.role),s(p),r(w)},f=()=>{localStorage.removeItem("token"),localStorage.removeItem("currentUser"),localStorage.removeItem("role"),s(null),r(null),l("/login")},x={user:t,token:a,loading:i,login:u,logout:f,isAuthenticated:()=>!!a&&!!t,hasRole:p=>t?Array.isArray(p)?p.includes(t.role):t.role===p:!1};return n.jsx(q8.Provider,{value:x,children:!i&&e})}function ra(){const e=O.useContext(q8);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function fT({children:e}){const t=Yc();Kn();const{user:r,logout:a}=ra(),[s,i]=Re.useState(!1),o=()=>{a()};if(t.pathname==="/"||t.pathname==="/login"||t.pathname==="/forgot"||!r)return e;const l=[{path:"/admin/dashboard",label:"Dashboard",icon:""},{path:"/admin/users",label:"User Management",icon:""},{path:"/admin/enrollment-list",label:"Enrollment List",icon:""},{path:"/admin/student-management",label:"Student Advancement",icon:""},{path:"/admin/periods",label:"Evaluation Periods",icon:""},{path:"/admin/courses",label:"Course Management",icon:""},{path:"/admin/export",label:"Data Export",icon:""},{path:"/admin/audit-logs",label:"Audit Logs",icon:""}],u=[{path:"/dashboard",label:"Dashboard",icon:""},{path:"/sentiment",label:"Sentiment & Anomalies",icon:""},{path:"/courses",label:"Courses",icon:""},{path:"/evaluations",label:"Evaluations",icon:""},{path:"/non-respondents",label:"Non-Respondents",icon:""}],f=[{path:"/student/courses",label:"My Courses",icon:""}],h=()=>sn(r)?l:Xd(r)?u:r.role==="student"?f:[],m=()=>sn(r)?"/admin/dashboard":Xd(r)?"/dashboard":r.role==="student"?"/student-evaluation":"/dashboard",x=p=>t.pathname===p||t.pathname.startsWith(p+"/");return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-40",children:n.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center flex-shrink-0",children:n.jsx(qu,{to:m(),className:"flex items-center",children:n.jsx("div",{className:"text-base sm:text-lg md:text-xl font-bold text-[#7a0000] truncate max-w-[150px] sm:max-w-none",children:"Course Insight Guardian"})})}),n.jsx("div",{className:"hidden lg:flex items-center space-x-2 xl:space-x-4 flex-1 justify-center mx-4",children:h().map(p=>n.jsxs(qu,{to:p.path,className:`flex items-center px-2 xl:px-3 py-2 rounded-md text-xs xl:text-sm font-medium transition-colors whitespace-nowrap ${x(p.path)?"text-[#7a0000] bg-red-50":"text-gray-600 hover:text-[#7a0000] hover:bg-gray-50"}`,children:[n.jsx("span",{className:"mr-1 xl:mr-2",children:p.icon}),n.jsx("span",{className:"hidden xl:inline",children:p.label}),n.jsx("span",{className:"xl:hidden",children:p.label.split(" ")[0]})]},p.path))}),n.jsxs("div",{className:"hidden md:flex items-center space-x-2 lg:space-x-4 flex-shrink-0",children:[n.jsxs("div",{className:"text-right hidden lg:block",children:[n.jsx("div",{className:"text-xs lg:text-sm font-medium text-gray-800 truncate max-w-[120px] xl:max-w-none",children:r.first_name&&r.last_name?`${r.first_name} ${r.last_name}`:r.name||r.email}),n.jsx("div",{className:"text-xs text-gray-500",children:yb(r)})]}),n.jsx("button",{onClick:o,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 lg:px-4 py-2 rounded-lg text-xs lg:text-sm font-medium transition-colors whitespace-nowrap",children:"Logout"})]}),n.jsxs("button",{onClick:()=>i(!s),className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-[#7a0000] hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-[#7a0000]",children:[n.jsx("span",{className:"sr-only",children:"Open main menu"}),s?n.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})]})})}),s&&n.jsx("div",{className:"md:hidden bg-white border-b border-gray-200 fixed top-16 left-0 right-0 z-30 shadow-lg max-h-[calc(100vh-4rem)] overflow-y-auto",children:n.jsxs("div",{className:"px-4 py-3 space-y-1",children:[n.jsxs("div",{className:"pb-3 mb-3 border-b border-gray-200",children:[n.jsx("div",{className:"text-sm font-medium text-gray-800 truncate",children:r.first_name&&r.last_name?`${r.first_name} ${r.last_name}`:r.name||r.email}),n.jsx("div",{className:"text-xs text-gray-500",children:yb(r)})]}),h().map(p=>n.jsxs(qu,{to:p.path,onClick:()=>i(!1),className:`flex items-center px-3 py-3 rounded-md text-sm font-medium transition-colors ${x(p.path)?"text-[#7a0000] bg-red-50":"text-gray-600 hover:text-[#7a0000] hover:bg-gray-50"}`,children:[n.jsx("span",{className:"mr-3 text-lg",children:p.icon}),p.label]},p.path)),n.jsx("button",{onClick:()=>{i(!1),o()},className:"w-full mt-3 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-lg text-sm font-medium transition-colors text-left",children:"Logout"})]})}),n.jsx("main",{className:"pt-16 min-h-screen",children:n.jsx("div",{className:"max-w-full",children:e})}),n.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:n.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsx("div",{className:"text-center text-xs sm:text-sm text-gray-500",children:" 2025 Lyceum of the Philippines University - Batangas. All rights reserved."})})})]})}function Ra({children:e,allowedRoles:t}){const{isAuthenticated:r,hasRole:a,loading:s}=ra();return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):r()?t&&!a(t)?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Access Denied"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"You don't have permission to access this page."}),n.jsx("button",{onClick:()=>window.history.back(),className:"mt-4 px-4 py-2 bg-[#7a0000] text-white rounded-lg hover:bg-[#5a0000] transition-colors",children:"Go Back"})]})}):e:n.jsx(p9,{to:"/login",replace:!0})}function hT(){const e=Kn(),{isAuthenticated:t}=ra();return Re.useEffect(()=>{if(t()){const r=JSON.parse(localStorage.getItem("currentUser"));r&&(r.role==="admin"?e("/admin/dashboard"):r.role==="student"?e("/student/courses"):e("/dashboard"))}},[t,e]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-[#7a0000] text-white p-4",children:n.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Course Insight Guardian"}),n.jsx("p",{className:"text-sm opacity-90",children:"LPUB - College of Computing, Arts, and Sciences"})]}),n.jsx("button",{onClick:()=>e("/login"),className:"bg-white text-[#7a0000] px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Login"})]})}),n.jsx("div",{className:"container mx-auto px-4 py-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-5xl font-bold text-gray-800 mb-4",children:"Course Insight Guardian"}),n.jsx("p",{className:"text-2xl text-gray-600 mb-8",children:"Advanced Course Evaluation System with AI-Powered Analytics"}),n.jsx("button",{onClick:()=>e("/login"),className:"bg-[#7a0000] text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-[#5a0000] transition-colors shadow-lg",children:"Get Started "})]}),n.jsxs("div",{className:"space-y-6 mb-12",children:[n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-2xl font-semibold text-[#7a0000] mb-3",children:" SVM Sentiment Analysis"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Advanced sentiment analysis using Support Vector Machine algorithms to understand student feedback and evaluate course satisfaction levels automatically."})]}),n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-2xl font-semibold text-[#7a0000] mb-3",children:" DBSCAN Anomaly Detection"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Density-based clustering algorithm to identify unusual patterns in evaluation data, helping detect potential issues in course delivery and student satisfaction."})]}),n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-2xl font-semibold text-[#7a0000] mb-3",children:" Real-time Analytics"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Comprehensive dashboards and reporting tools for administrators and department heads to monitor course performance and student feedback trends."})]})]}),n.jsxs("div",{className:"bg-[#7a0000] text-white p-8 rounded-lg shadow-lg",children:[n.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Access Levels"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-2",children:" Students"}),n.jsx("p",{className:"text-sm opacity-90",children:"Course evaluation interface and feedback submission"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-2",children:" Staff"}),n.jsx("p",{className:"text-sm opacity-90",children:"Department analytics, reports, and insights"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-2",children:" Administrators"}),n.jsx("p",{className:"text-sm opacity-90",children:"System-wide access and controls"})]})]})]}),n.jsxs("div",{className:"text-center mt-12 p-8 bg-white rounded-lg shadow-md",children:[n.jsx("h4",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Lyceum of the Philippines University - Batangas"}),n.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"College of Computing, Arts, and Sciences"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Empowering education through technology and innovation"})]})]})}),n.jsx("footer",{className:"bg-gray-800 text-white text-center py-6 mt-12",children:n.jsx("p",{className:"text-sm",children:" 2025 Lyceum of the Philippines University - Batangas. All rights reserved."})})]})}function mT({user:e,onSuccess:t,onCancel:r}){const[a,s]=O.useState(""),[i,o]=O.useState(""),[l,u]=O.useState(""),[f,h]=O.useState(""),[m,x]=O.useState(!1),[p,w]=O.useState(!1),[v,y]=O.useState(!1),[S,A]=O.useState(!1),N=C=>C.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(C)?/[a-z]/.test(C)?/[0-9]/.test(C)?/[!@#$%^&*(),.?":{}|<>]/.test(C)?null:"Password must contain at least one special character":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",k=async C=>{if(C.preventDefault(),h(""),!a||!i||!l){h("All fields are required");return}if(i!==l){h("New passwords do not match");return}if(a===i){h("New password must be different from current password");return}const T=N(i);if(T){h(T);return}x(!0);try{const I=await St.changePassword(e.id,a,i);I.success?t():h(I.message||"Password change failed")}catch(I){console.error("Password change error:",I),h(I.message||"Failed to change password. Please try again.")}finally{x(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#a31111] px-6 py-5",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-white text-xl font-bold",children:"Change Password Required"}),n.jsx("p",{className:"text-[#ffd700] text-sm",children:"First-time login - Please set a new password"})]})]})}),n.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{className:"text-sm text-blue-700",children:[n.jsx("p",{className:"font-semibold mb-1",children:"Welcome to Course Insight Guardian!"}),n.jsx("p",{children:"For security reasons, you must change your temporary password before accessing the system."})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password (Temporary)"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:p?"text":"password",className:"w-full px-4 py-2.5 rounded-lg border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all",placeholder:"Enter your temporary password",value:a,onChange:C=>s(C.target.value),required:!0}),n.jsx("button",{type:"button",onClick:()=>w(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:v?"text":"password",className:"w-full px-4 py-2.5 rounded-lg border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all",placeholder:"Enter your new password",value:i,onChange:C=>o(C.target.value),required:!0}),n.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:S?"text":"password",className:"w-full px-4 py-2.5 rounded-lg border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all",placeholder:"Re-enter your new password",value:l,onChange:C=>u(C.target.value),required:!0}),n.jsx("button",{type:"button",onClick:()=>A(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:S?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Password Requirements:"}),n.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:i.length>=8?"text-green-500":"text-gray-400",children:""}),n.jsx("span",{children:"At least 8 characters"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:/[A-Z]/.test(i)?"text-green-500":"text-gray-400",children:""}),n.jsx("span",{children:"One uppercase letter"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:/[a-z]/.test(i)?"text-green-500":"text-gray-400",children:""}),n.jsx("span",{children:"One lowercase letter"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:/[0-9]/.test(i)?"text-green-500":"text-gray-400",children:""}),n.jsx("span",{children:"One number"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:/[!@#$%^&*(),.?":{}|<>]/.test(i)?"text-green-500":"text-gray-400",children:""}),n.jsx("span",{children:"One special character"})]})]})]}),f&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm",children:f})]}),n.jsx("div",{className:"flex space-x-3 pt-2",children:n.jsx("button",{type:"submit",disabled:m,className:"flex-1 bg-gradient-to-r from-[#7a0000] to-[#a31111] text-white py-3 rounded-lg font-semibold hover:from-[#6a0000] hover:to-[#931010] transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:m?n.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Changing..."})]}):"Change Password"})}),n.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"You must change your password to continue"})]})]})})}function pT(){const[e,t]=O.useState(""),[r,a]=O.useState(""),[s,i]=O.useState(""),[o,l]=O.useState(!1),[u,f]=O.useState(!1),[h,m]=O.useState(null),[x,p]=O.useState(null),[w,v]=O.useState(!1),y=Kn(),{login:S}=ra(),A=()=>{if(h&&x){const k={...h,mustChangePassword:!1};S(x,k);const C=k.role.toLowerCase();C==="admin"?y("/admin/dashboard"):C==="student"?y("/student/courses"):C==="secretary"||C==="department_head"||C==="instructor"?y("/dashboard"):i("Unknown role. Please contact administrator.")}f(!1),m(null),p(null)};async function N(){i(""),l(!0);const k=e.toLowerCase();if(k.endsWith("@lpu.edu.in")){i("Access denied. Use your registered LPU email."),l(!1);return}try{const C=await St.login(k,r);if(C.success&&C.token&&C.user){if(C.user.firstLogin){y("/first-time-login",{state:{user:C.user,tempPassword:r}}),l(!1);return}if(C.user.mustChangePassword){m(C.user),p(C.token),f(!0),l(!1);return}S(C.token,C.user);const T=C.user.role.toLowerCase();T==="admin"?y("/admin/dashboard"):T==="student"?y("/student/courses"):T==="secretary"||T==="department_head"?y("/dashboard"):i("Unknown role. Please contact administrator.")}else i(C.message||"Invalid email or password")}catch(C){console.error("Login error:",C),i(C.message||"Login failed. Please check your connection and try again.")}finally{l(!1)}}return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center relative overflow-hidden p-6 sm:p-8",style:{backgroundImage:"url('/Back.png')",backgroundSize:"cover",backgroundPosition:"center"},children:[n.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/60 via-[#7a0000]/40 to-black/60 z-10"}),n.jsx("div",{className:"fixed inset-0 opacity-10 z-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffd700' fill-opacity='0.3'%3E%3Cpath d='M30 30c0-16.569 13.431-30 30-30v60c-16.569 0-30-13.431-30-30z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),n.jsxs("div",{className:"relative w-full max-w-md z-20",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 lg:w-24 lg:h-24 bg-white rounded-full shadow-card mb-6",children:n.jsx("div",{className:"w-12 h-12 lg:w-14 lg:h-14 bg-gradient-to-br from-[#7a0000] to-[#a31111] rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-xl lg:text-2xl",children:"LPU"})})}),n.jsx("h1",{className:"text-white text-2xl lg:text-3xl font-bold mb-3 tracking-tight",children:"Course Insight Guardian"}),n.jsx("p",{className:"text-[#ffd700] text-sm lg:text-base font-medium",children:"Academic Excellence Through Feedback"})]}),n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-card shadow-card border border-white/20 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#a31111] px-8 lg:px-10 py-6 lg:py-8",children:[n.jsx("h2",{className:"text-white text-xl lg:text-2xl font-bold text-center",children:"Welcome Back"}),n.jsx("p",{className:"text-[#ffd700] text-sm lg:text-base text-center mt-2",children:"Sign in to access your dashboard"})]}),n.jsx("div",{className:"p-8 lg:p-10",children:n.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm lg:text-base font-semibold text-[#1e293b] mb-3",children:"LPU Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{className:"w-full px-4 py-3 text-base rounded-input border-2 border-gray-200 bg-white focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all duration-250 placeholder-gray-400",placeholder:"your.email@lpubatangas.edu.ph",value:e,onChange:k=>t(k.target.value),onKeyPress:k=>k.key==="Enter"&&N()}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm lg:text-base font-semibold text-[#1e293b] mb-3",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:w?"text":"password",className:"w-full px-4 py-3 pr-12 text-base rounded-input border-2 border-gray-200 bg-white focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all duration-250 placeholder-gray-400",placeholder:"Enter your password",value:r,onChange:k=>a(k.target.value),onKeyPress:k=>k.key==="Enter"&&N()}),n.jsx("button",{type:"button",onClick:()=>v(!w),className:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-gray-600 focus:outline-none",tabIndex:-1,children:w?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-input flex items-start space-x-3",children:[n.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm font-medium break-words",children:s})]}),n.jsx("button",{className:"w-full bg-gradient-to-r from-[#7a0000] to-[#a31111] hover:from-[#5a0000] hover:to-[#7a0000] text-white font-semibold py-3 px-5 rounded-button transition-all duration-250 hover:shadow-card-hover focus:outline-none focus:ring-2 focus:ring-[#7a0000]/50 disabled:opacity-50 disabled:cursor-not-allowed text-base",onClick:N,disabled:o,children:n.jsx("span",{className:"flex items-center justify-center space-x-2",children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 sm:h-5 sm:w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Signing In..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Sign In to Dashboard"}),n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})]})})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between pt-6 border-t border-gray-200 gap-4",children:[n.jsx(qu,{to:"/forgot",className:"text-[#7a0000] hover:text-[#a31111] text-sm font-medium transition-colors duration-250",children:"Forgot Password?"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-[#7a0000] rounded-full"}),n.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Secure Login"})]})]})]})}),n.jsx("div",{className:"bg-gray-50 px-8 lg:px-10 py-5 lg:py-6 border-t border-gray-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Lyceum of the Philippines University - Batangas"}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Empowering Academic Excellence Through Technology"})]})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-3 sm:space-y-0 sm:space-x-5 mt-8",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-5 py-2.5",children:[n.jsx("div",{className:"w-2 h-2 bg-[#ffd700] rounded-full"}),n.jsx("span",{className:"text-white text-sm font-medium",children:"Academic Excellence"})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-5 py-2.5",children:[n.jsx("div",{className:"w-2 h-2 bg-[#ffd700] rounded-full"}),n.jsx("span",{className:"text-white text-sm font-medium",children:"Innovation Hub"})]})]})]}),u&&h&&n.jsx(mT,{user:h,onSuccess:A,onCancel:null})]})}function gT(){const[e,t]=O.useState(""),[r,a]=O.useState(""),[s,i]=O.useState(!1),[o,l]=O.useState(""),u=Kn(),f=/^[^@]+@(lpubatangas\.edu\.ph)$/i;async function h(m){if(m.preventDefault(),a(""),l(""),e.toLowerCase().endsWith("@lpu.edu.in")){l("Access denied. Use your registered LPU email.");return}if(!f.test(e)){l("Please use your LPU Batangas email address.");return}i(!0);try{const x=await St.forgotPassword(e);x.success?a("A password reset link has been sent to your email."):l(x.message||"Failed to send reset link. Please try again.")}catch(x){console.error("Forgot password error:",x),l(x.message||"An error occurred. Please try again.")}finally{i(!1)}}return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Forgot Password"}),n.jsxs("form",{onSubmit:h,children:[n.jsx("label",{className:"block mb-2 text-gray-700 font-medium",children:"Enter your email"}),n.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all",placeholder:"your.email@lpubatangas.edu.ph",value:e,onChange:m=>t(m.target.value),disabled:r==="success"}),r&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 p-3 rounded-lg mb-3",children:r}),o&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-lg mb-3",children:o}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"submit",className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-3 rounded-lg font-semibold transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 flex-1",disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"}),n.jsx("button",{type:"button",className:"px-6 py-3 rounded-lg border border-gray-300 hover:bg-gray-50 transition duration-200 font-medium",onClick:()=>u("/login"),disabled:s,children:"Back"})]})]})]})})}function xT(){const[e]=C9(),[t,r]=O.useState(""),[a,s]=O.useState(""),[i,o]=O.useState(""),[l,u]=O.useState(""),[f,h]=O.useState(!1),[m,x]=O.useState(""),[p,w]=O.useState(!1),[v,y]=O.useState(!1),S=Kn();O.useEffect(()=>{const C=e.get("token");C?x(C):u("Invalid or missing reset token")},[e]);const A={minLength:t.length>=8,hasUpper:/[A-Z]/.test(t),hasLower:/[a-z]/.test(t),hasNumber:/\d/.test(t),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(t)},N=Object.values(A).every(Boolean),k=async C=>{if(C.preventDefault(),o(""),u(""),!t||!a){u("Please fill in all fields");return}if(!N){u("Password does not meet all requirements");return}if(t!==a){u("Passwords do not match");return}if(!m){u("Invalid reset token");return}h(!0);try{const T=await St.resetPassword(m,t);T.success?(o("Password reset successful! Redirecting to login..."),setTimeout(()=>{S("/login")},2e3)):u(T.message||"Failed to reset password. Please try again.")}catch(T){console.error("Reset password error:",T),u(T.message||"An error occurred. The reset link may have expired.")}finally{h(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center p-6 sm:p-8",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 lg:p-10",children:[n.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-6 text-gray-800",children:"Reset Password"}),m?n.jsxs("form",{onSubmit:k,children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block mb-3 text-gray-700 font-semibold text-base",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:p?"text":"password",className:"w-full px-4 py-3 pr-12 rounded-input border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all duration-250",placeholder:"Enter new password",value:t,onChange:C=>r(C.target.value),disabled:f||i}),n.jsx("button",{type:"button",onClick:()=>w(!p),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:p?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),t&&n.jsxs("div",{className:"mt-4 space-y-3 bg-gray-50 p-5 rounded-input",children:[n.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3",children:"Password Requirements:"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.minLength?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.minLength&&n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),n.jsx("span",{className:`text-sm ${A.minLength?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 8 characters"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.hasUpper?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.hasUpper&&n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),n.jsx("span",{className:`text-sm ${A.hasUpper?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 1 uppercase letter (A-Z)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.hasLower?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.hasLower&&n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),n.jsx("span",{className:`text-sm ${A.hasLower?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 1 lowercase letter (a-z)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.hasNumber?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.hasNumber&&n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),n.jsx("span",{className:`text-sm ${A.hasNumber?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 1 number (0-9)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${A.hasSpecial?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}`,children:A.hasSpecial&&n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),n.jsx("span",{className:`text-sm ${A.hasSpecial?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 1 special character (!@#$%^&*)"})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block mb-3 text-gray-700 font-semibold text-base",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:v?"text":"password",className:"w-full px-4 py-3 pr-12 rounded-input border-2 border-gray-200 focus:border-[#7a0000] focus:ring-2 focus:ring-[#7a0000]/20 transition-all duration-250",placeholder:"Confirm new password",value:a,onChange:C=>s(C.target.value),disabled:f||i}),n.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:v?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),a&&t!==a&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Passwords do not match"}),a&&t===a&&t.length>=8&&n.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Passwords match"]})]}),i&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 p-4 rounded-input mb-6",children:i}),l&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-5 rounded-input mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-500 mr-4 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-red-800 font-semibold",children:l}),(l.includes("expired")||l.includes("Invalid"))&&n.jsxs("p",{className:"text-xs text-red-700 mt-3",children:["Reset links expire after 1 hour. ",n.jsx("a",{href:"/forgot",className:"font-bold hover:underline",children:"Request a new link"})]})]})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-5 py-3 rounded-button font-semibold transition-all duration-250 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 flex-1",disabled:f||i||!m,children:f?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset Password"}),n.jsx("button",{type:"button",className:"px-5 py-3 rounded-button border border-gray-300 hover:bg-gray-50 transition-all duration-250 font-semibold",onClick:()=>S("/login"),disabled:f,children:"Back to Login"})]})]}):n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-input",children:[n.jsxs("div",{className:"flex items-start mb-6",children:[n.jsx("svg",{className:"w-6 h-6 text-red-500 mr-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-red-800 mb-3",children:"Invalid or Missing Reset Token"}),n.jsx("p",{className:"text-sm text-red-700 mb-4",children:"The password reset link is invalid or has expired."})]})]}),n.jsxs("div",{className:"bg-white p-5 rounded-input border border-red-200",children:[n.jsx("p",{className:"text-sm font-bold text-gray-800 mb-3",children:"What to do:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-sm text-gray-700",children:[n.jsxs("li",{children:["Go back to the ",n.jsx("a",{href:"/forgot",className:"text-[#7a0000] font-medium hover:underline",children:"Forgot Password"})," page"]}),n.jsx("li",{children:"Enter your LPU email address"}),n.jsx("li",{children:'Click "Request Password Reset"'}),n.jsx("li",{children:"Check your email for a new reset link"}),n.jsx("li",{children:"Use the link within 1 hour (links expire after 1 hour)"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>S("/forgot"),className:"w-full bg-[#7a0000] hover:bg-[#8f0000] text-white px-5 py-3 rounded-button font-semibold transition-all duration-250",children:"Request New Reset Link"})})]})]})})})}function vT(){const e=Kn(),t=Yc(),[r,a]=O.useState({newPassword:"",confirmPassword:""}),[s,i]=O.useState(!1),[o,l]=O.useState(""),[u,f]=O.useState({score:0,message:"",color:""}),[h,m]=O.useState(!1),x=t.state?.user,p=t.state?.tempPassword;O.useEffect(()=>{(!x||!p)&&e("/login")},[x,p,e]);const w=y=>{if(!y)return{score:0,message:"",color:""};let S=0,A="",N="";return y.length>=8&&S++,y.length>=12&&S++,/[a-z]/.test(y)&&S++,/[A-Z]/.test(y)&&S++,/[0-9]/.test(y)&&S++,/[^a-zA-Z0-9]/.test(y)&&S++,S<=2?(A="Weak - Add more variety",N="text-red-600"):S<=4?(A="Medium - Good, but could be stronger",N="text-yellow-600"):(A="Strong - Excellent password!",N="text-green-600"),{score:S,message:A,color:N}};O.useEffect(()=>{f(w(r.newPassword))},[r.newPassword]);const v=async y=>{if(y.preventDefault(),l(""),r.newPassword.length<8){l("Password must be at least 8 characters long");return}if(!/[A-Z]/.test(r.newPassword)){l("Password must contain at least one uppercase letter");return}if(!/[a-z]/.test(r.newPassword)){l("Password must contain at least one lowercase letter");return}if(!/[0-9]/.test(r.newPassword)){l("Password must contain at least one number");return}if(!/[^a-zA-Z0-9]/.test(r.newPassword)){l("Password must contain at least one special character");return}if(r.newPassword!==r.confirmPassword){l("Passwords do not match");return}if(r.newPassword===p){l("New password cannot be the same as your temporary password");return}try{i(!0),await St.changePassword(x.id,p,r.newPassword);const S={...x,first_login:!1};localStorage.setItem("user",JSON.stringify(S)),alert(" Password changed successfully! Redirecting to your dashboard...");const N={admin:"/admin/dashboard",system_admin:"/admin/dashboard",department_head:"/depthead/dashboard",secretary:"/secretary/dashboard",student:"/student/courses"}[x.role]||"/dashboard";e(N,{replace:!0})}catch(S){console.error("Password change error:",S),l(S.message||"Failed to change password. Please try again.")}finally{i(!1)}};return x?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center p-6 sm:p-8",style:{backgroundImage:"linear-gradient(135deg, rgba(122, 0, 0, 0.95) 0%, rgba(160, 0, 0, 0.95) 100%)"},children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 lg:p-10",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-gradient-to-br from-[#7a0000] to-[#a00000] rounded-full flex items-center justify-center mx-auto mb-6 shadow-crimson",children:n.jsx("svg",{className:"w-10 h-10 lg:w-12 lg:h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"First Time Login"}),n.jsxs("p",{className:"text-lg text-gray-600 font-medium",children:["Welcome, ",x.first_name,"!"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Please change your temporary password to secure your account"})]}),n.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-5 mb-8 rounded-input",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-500 mr-4 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Account Security"}),n.jsx("p",{className:"text-xs text-blue-800 mt-2",children:"For your security, you must change your temporary password before accessing the system."})]})]})}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-5 rounded-input",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-red-500 mr-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("p",{className:"text-sm text-red-800 font-medium",children:o})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-base font-bold text-gray-700 mb-3",children:"New Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:h?"text":"password",required:!0,value:r.newPassword,onChange:y=>a({...r,newPassword:y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-input focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000] transition-all duration-250",placeholder:"Enter your new password"}),n.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),r.newPassword&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Password Strength:"}),n.jsx("span",{className:`font-bold ${u.color}`,children:u.message})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:`h-2.5 rounded-full transition-all duration-300 ${u.score<=2?"bg-red-500":u.score<=4?"bg-yellow-500":"bg-green-500"}`,style:{width:`${u.score/6*100}%`}})})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Password must be at least 8 characters and include a mix of letters, numbers, and symbols"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-base font-bold text-gray-700 mb-3",children:"Confirm New Password *"}),n.jsx("input",{type:h?"text":"password",required:!0,value:r.confirmPassword,onChange:y=>a({...r,confirmPassword:y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-input focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000] transition-all duration-250",placeholder:"Confirm your new password"}),r.confirmPassword&&r.newPassword!==r.confirmPassword&&n.jsx("p",{className:"text-sm text-red-600 mt-2 font-medium",children:"Passwords do not match"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-input p-5",children:[n.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3",children:"Password Requirements:"}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:`w-5 h-5 mr-3 ${r.newPassword.length>=8?"text-green-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"At least 8 characters long"]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:`w-5 h-5 mr-3 ${/[a-z]/.test(r.newPassword)&&/[A-Z]/.test(r.newPassword)?"text-green-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Mix of uppercase and lowercase letters"]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:`w-5 h-5 mr-3 ${/[0-9]/.test(r.newPassword)?"text-green-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"At least one number"]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:`w-5 h-5 mr-3 ${/[^a-zA-Z0-9]/.test(r.newPassword)?"text-green-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"At least one special character (@, #, $, etc.)"]})]})]}),n.jsx("button",{type:"submit",disabled:s||r.newPassword!==r.confirmPassword||r.newPassword.length<8,className:"w-full bg-gradient-to-r from-[#7a0000] to-[#a00000] hover:from-[#8f0000] hover:to-[#b00000] disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white font-bold py-3 px-5 rounded-button transition-all duration-250 shadow-card hover:shadow-card-hover",children:s?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing Password..."]}):"Change Password & Continue"})]}),n.jsx("div",{className:"mt-8 p-5 bg-yellow-50 border-l-4 border-yellow-400 rounded-input",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-600 mr-4 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-yellow-900",children:"Security Tip"}),n.jsx("p",{className:"text-xs text-yellow-800 mt-2",children:"Never share your password with anyone. LPU staff will never ask for your password."})]})]})})]})})}):null}function tN(){return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-9xl font-bold text-gray-300",children:"404"})}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Sorry, the page you are looking for doesn't exist or has been moved."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{children:n.jsx(qu,{to:"/",className:"inline-block bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-3 rounded-lg font-semibold transition duration-200",children:"Go to Home"})}),n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsx("p",{children:"Or try one of these links:"}),n.jsxs("div",{className:"mt-2 space-x-4",children:[n.jsx(qu,{to:"/dashboard",className:"text-[#7a0000] hover:text-[#8f0000] underline",children:"Dashboard"}),n.jsx(qu,{to:"/student-evaluation",className:"text-[#7a0000] hover:text-[#8f0000] underline",children:"Student Evaluation"})]})]})]}),n.jsx("div",{className:"mt-12 text-xs text-gray-400",children:n.jsx("p",{children:"Course Insight Guardian - LPUB College of Computing, Arts, and Sciences"})})]})})}var Tx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var rN;function yT(){return rN||(rN=1,(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=s(i,a(l)))}return i}function a(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)t.call(i,l)&&i[l]&&(o=s(o,l));return o}function s(i,o){return o?i?i+" "+o:i+o:i}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Tx)),Tx.exports}var bT=yT();const Nn=Jr(bT);var Mx,nN;function Gc(){if(nN)return Mx;nN=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Mx=e,Mx}var wT=Gc();const Cf=Jr(wT);var Ix,aN;function z8(){if(aN)return Ix;aN=1;var e=typeof dm=="object"&&dm&&dm.Object===Object&&dm;return Ix=e,Ix}var Dx,sN;function sl(){if(sN)return Dx;sN=1;var e=z8(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Dx=r,Dx}var Fx,iN;function x0(){if(iN)return Fx;iN=1;var e=sl(),t=e.Symbol;return Fx=t,Fx}var $x,oN;function jT(){if(oN)return $x;oN=1;var e=x0(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),u=o[s];try{o[s]=void 0;var f=!0}catch{}var h=a.call(o);return f&&(l?o[s]=u:delete o[s]),h}return $x=i,$x}var Bx,lN;function NT(){if(lN)return Bx;lN=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return Bx=r,Bx}var Ux,cN;function tc(){if(cN)return Ux;cN=1;var e=x0(),t=jT(),r=NT(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:a:i&&i in Object(l)?t(l):r(l)}return Ux=o,Ux}var qx,uN;function f5(){if(uN)return qx;uN=1;var e=tc(),t=Gc(),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var u=e(l);return u==a||u==s||u==r||u==i}return qx=o,qx}var ST=f5();const sr=Jr(ST);var zx,dN;function Hs(){if(dN)return zx;dN=1;var e=Array.isArray;return zx=e,zx}var Wx,fN;function rc(){if(fN)return Wx;fN=1;function e(t){return t!=null&&typeof t=="object"}return Wx=e,Wx}var Hx,hN;function _T(){if(hN)return Hx;hN=1;var e=tc(),t=Hs(),r=rc(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==a}return Hx=s,Hx}var kT=_T();const v0=Jr(kT);var Vx,mN;function Pf(){if(mN)return Vx;mN=1;var e=tc(),t=rc(),r="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Vx=a,Vx}var Yx,pN;function h5(){if(pN)return Yx;pN=1;var e=Hs(),t=Pf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:a.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Yx=s,Yx}var Gx,gN;function AT(){if(gN)return Gx;gN=1;var e=sl(),t=e["__core-js_shared__"];return Gx=t,Gx}var Kx,xN;function CT(){if(xN)return Kx;xN=1;var e=AT(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!t&&t in a}return Kx=r,Kx}var Xx,vN;function W8(){if(vN)return Xx;vN=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Xx=r,Xx}var Jx,yN;function PT(){if(yN)return Jx;yN=1;var e=f5(),t=CT(),r=Gc(),a=W8(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,f=l.hasOwnProperty,h=RegExp("^"+u.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!r(x)||t(x))return!1;var p=e(x)?h:i;return p.test(a(x))}return Jx=m,Jx}var Qx,bN;function ET(){if(bN)return Qx;bN=1;function e(t,r){return t?.[r]}return Qx=e,Qx}var Zx,wN;function ed(){if(wN)return Zx;wN=1;var e=PT(),t=ET();function r(a,s){var i=t(a,s);return e(i)?i:void 0}return Zx=r,Zx}var ev,jN;function rg(){if(jN)return ev;jN=1;var e=ed(),t=e(Object,"create");return ev=t,ev}var tv,NN;function LT(){if(NN)return tv;NN=1;var e=rg();function t(){this.__data__=e?e(null):{},this.size=0}return tv=t,tv}var rv,SN;function OT(){if(SN)return rv;SN=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return rv=e,rv}var nv,_N;function RT(){if(_N)return nv;_N=1;var e=rg(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return a.call(o,i)?o[i]:void 0}return nv=s,nv}var av,kN;function TT(){if(kN)return av;kN=1;var e=rg(),t=Object.prototype,r=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return av=a,av}var sv,AN;function MT(){if(AN)return sv;AN=1;var e=rg(),t="__lodash_hash_undefined__";function r(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return sv=r,sv}var iv,CN;function IT(){if(CN)return iv;CN=1;var e=LT(),t=OT(),r=RT(),a=TT(),s=MT();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,iv=i,iv}var ov,PN;function DT(){if(PN)return ov;PN=1;function e(){this.__data__=[],this.size=0}return ov=e,ov}var lv,EN;function m5(){if(EN)return lv;EN=1;function e(t,r){return t===r||t!==t&&r!==r}return lv=e,lv}var cv,LN;function ng(){if(LN)return cv;LN=1;var e=m5();function t(r,a){for(var s=r.length;s--;)if(e(r[s][0],a))return s;return-1}return cv=t,cv}var uv,ON;function FT(){if(ON)return uv;ON=1;var e=ng(),t=Array.prototype,r=t.splice;function a(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return uv=a,uv}var dv,RN;function $T(){if(RN)return dv;RN=1;var e=ng();function t(r){var a=this.__data__,s=e(a,r);return s<0?void 0:a[s][1]}return dv=t,dv}var fv,TN;function BT(){if(TN)return fv;TN=1;var e=ng();function t(r){return e(this.__data__,r)>-1}return fv=t,fv}var hv,MN;function UT(){if(MN)return hv;MN=1;var e=ng();function t(r,a){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,a])):s[i][1]=a,this}return hv=t,hv}var mv,IN;function ag(){if(IN)return mv;IN=1;var e=DT(),t=FT(),r=$T(),a=BT(),s=UT();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,mv=i,mv}var pv,DN;function p5(){if(DN)return pv;DN=1;var e=ed(),t=sl(),r=e(t,"Map");return pv=r,pv}var gv,FN;function qT(){if(FN)return gv;FN=1;var e=IT(),t=ag(),r=p5();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return gv=a,gv}var xv,$N;function zT(){if($N)return xv;$N=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return xv=e,xv}var vv,BN;function sg(){if(BN)return vv;BN=1;var e=zT();function t(r,a){var s=r.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return vv=t,vv}var yv,UN;function WT(){if(UN)return yv;UN=1;var e=sg();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return yv=t,yv}var bv,qN;function HT(){if(qN)return bv;qN=1;var e=sg();function t(r){return e(this,r).get(r)}return bv=t,bv}var wv,zN;function VT(){if(zN)return wv;zN=1;var e=sg();function t(r){return e(this,r).has(r)}return wv=t,wv}var jv,WN;function YT(){if(WN)return jv;WN=1;var e=sg();function t(r,a){var s=e(this,r),i=s.size;return s.set(r,a),this.size+=s.size==i?0:1,this}return jv=t,jv}var Nv,HN;function g5(){if(HN)return Nv;HN=1;var e=qT(),t=WT(),r=HT(),a=VT(),s=YT();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var f=o[l];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=s,Nv=i,Nv}var Sv,VN;function GT(){if(VN)return Sv;VN=1;var e=g5(),t="Expected a function";function r(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var f=a.apply(this,o);return i.cache=u.set(l,f)||u,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,Sv=r,Sv}var _v,YN;function KT(){if(YN)return _v;YN=1;var e=GT(),t=500;function r(a){var s=e(a,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return _v=r,_v}var kv,GN;function XT(){if(GN)return kv;GN=1;var e=KT(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,l,u,f){i.push(u?f.replace(r,"$1"):l||o)}),i});return kv=a,kv}var Av,KN;function x5(){if(KN)return Av;KN=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=r(t[a],a,t);return i}return Av=e,Av}var Cv,XN;function JT(){if(XN)return Cv;XN=1;var e=x0(),t=x5(),r=Hs(),a=Pf(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(a(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return Cv=o,Cv}var Pv,JN;function H8(){if(JN)return Pv;JN=1;var e=JT();function t(r){return r==null?"":e(r)}return Pv=t,Pv}var Ev,QN;function V8(){if(QN)return Ev;QN=1;var e=Hs(),t=h5(),r=XT(),a=H8();function s(i,o){return e(i)?i:t(i,o)?[i]:r(a(i))}return Ev=s,Ev}var Lv,ZN;function ig(){if(ZN)return Lv;ZN=1;var e=Pf();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return Lv=t,Lv}var Ov,e3;function v5(){if(e3)return Ov;e3=1;var e=V8(),t=ig();function r(a,s){s=e(s,a);for(var i=0,o=s.length;a!=null&&i<o;)a=a[t(s[i++])];return i&&i==o?a:void 0}return Ov=r,Ov}var Rv,t3;function Y8(){if(t3)return Rv;t3=1;var e=v5();function t(r,a,s){var i=r==null?void 0:e(r,a);return i===void 0?s:i}return Rv=t,Rv}var QT=Y8();const Ri=Jr(QT);var Tv,r3;function ZT(){if(r3)return Tv;r3=1;function e(t){return t==null}return Tv=e,Tv}var eM=ZT();const ar=Jr(eM);var tM=Hs();const fs=Jr(tM);var Mv={exports:{}},an={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function rM(){if(n3)return an;n3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,x=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,A=e?Symbol.for("react.scope"):60119;function N(C){if(typeof C=="object"&&C!==null){var T=C.$$typeof;switch(T){case t:switch(C=C.type,C){case u:case f:case a:case i:case s:case m:return C;default:switch(C=C&&C.$$typeof,C){case l:case h:case w:case p:case o:return C;default:return T}}case r:return T}}}function k(C){return N(C)===f}return an.AsyncMode=u,an.ConcurrentMode=f,an.ContextConsumer=l,an.ContextProvider=o,an.Element=t,an.ForwardRef=h,an.Fragment=a,an.Lazy=w,an.Memo=p,an.Portal=r,an.Profiler=i,an.StrictMode=s,an.Suspense=m,an.isAsyncMode=function(C){return k(C)||N(C)===u},an.isConcurrentMode=k,an.isContextConsumer=function(C){return N(C)===l},an.isContextProvider=function(C){return N(C)===o},an.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},an.isForwardRef=function(C){return N(C)===h},an.isFragment=function(C){return N(C)===a},an.isLazy=function(C){return N(C)===w},an.isMemo=function(C){return N(C)===p},an.isPortal=function(C){return N(C)===r},an.isProfiler=function(C){return N(C)===i},an.isStrictMode=function(C){return N(C)===s},an.isSuspense=function(C){return N(C)===m},an.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===a||C===f||C===i||C===s||C===m||C===x||typeof C=="object"&&C!==null&&(C.$$typeof===w||C.$$typeof===p||C.$$typeof===o||C.$$typeof===l||C.$$typeof===h||C.$$typeof===y||C.$$typeof===S||C.$$typeof===A||C.$$typeof===v)},an.typeOf=N,an}var a3;function nM(){return a3||(a3=1,Mv.exports=rM()),Mv.exports}var aM=nM(),Iv,s3;function G8(){if(s3)return Iv;s3=1;var e=tc(),t=rc(),r="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==r}return Iv=a,Iv}var Dv,i3;function sM(){if(i3)return Dv;i3=1;var e=G8();function t(r){return e(r)&&r!=+r}return Dv=t,Dv}var iM=sM();const y0=Jr(iM);var oM=G8();const lM=Jr(oM);var Ls=function(t){return t===0?0:t>0?1:-1},$u=function(t){return v0(t)&&t.indexOf("%")===t.length-1},yt=function(t){return lM(t)&&!y0(t)},Ma=function(t){return yt(t)||v0(t)},cM=0,b0=function(t){var r=++cM;return"".concat(t||"").concat(r)},di=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(t)&&!v0(t))return a;var i;if($u(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return y0(i)&&(i=a),s&&i>r&&(i=r),i},Oc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},uM=function(t){if(!fs(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},Tc=function(t,r){return yt(t)&&yt(r)?function(a){return t+a*(r-t)}:function(){return r}};function Sb(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Ri(a,t))===r})}function Ud(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function _b(e){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(e)}var dM=["viewBox","children"],fM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],o3=["points","pathLength"],Fv={svg:dM,polygon:o3,polyline:o3},y5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Km=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!Cf(a))return null;var s={};return Object.keys(a).forEach(function(i){y5.includes(i)&&(s[i]=r||function(o){return a[i](a,o)})}),s},hM=function(t,r,a){return function(s){return t(r,a,s),null}},Ku=function(t,r,a){if(!Cf(t)||_b(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];y5.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=hM(o,r,a))}),s},mM=["children"],pM=["children"];function l3(e,t){if(e==null)return{};var r=gM(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gM(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var c3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Bc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},u3=null,$v=null,b5=function e(t){if(t===u3&&fs($v))return $v;var r=[];return O.Children.forEach(t,function(a){ar(a)||(aM.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),$v=r,u3=t,r};function eo(e,t){var r=[],a=[];return fs(t)?a=t.map(function(s){return Bc(s)}):a=[Bc(t)],b5(e).forEach(function(s){var i=Ri(s,"type.displayName")||Ri(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function ql(e,t){var r=eo(e,t);return r&&r[0]}var d3=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!yt(a)||a<=0||!yt(s)||s<=0)},xM=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vM=function(t){return t&&t.type&&v0(t.type)&&xM.indexOf(t.type)>=0},yM=function(t,r,a,s){var i,o=(i=Fv?.[s])!==null&&i!==void 0?i:[];return!sr(t)&&(s&&o.includes(r)||fM.includes(r))||a&&y5.includes(r)},mr=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(O.isValidElement(t)&&(s=t.props),!Cf(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;yM((l=s)===null||l===void 0?void 0:l[o],o,r,a)&&(i[o]=s[o])}),i},K8=function e(t,r){if(t===r)return!0;var a=O.Children.count(t);if(a!==O.Children.count(r))return!1;if(a===0)return!0;if(a===1)return f3(fs(t)?t[0]:t,fs(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],o=r[s];if(fs(i)||fs(o)){if(!e(i,o))return!1}else if(!f3(i,o))return!1}return!0},f3=function(t,r){if(ar(t)&&ar(r))return!0;if(!ar(t)&&!ar(r)){var a=t.props||{},s=a.children,i=l3(a,mM),o=r.props||{},l=o.children,u=l3(o,pM);return s&&l?Ud(i,u)&&K8(s,l):!s&&!l?Ud(i,u):!1}return!1},h3=function(t,r){var a=[],s={};return b5(t).forEach(function(i,o){if(vM(i))a.push(i);else if(i){var l=Bc(i.type),u=r[l]||{},f=u.handler,h=u.once;if(f&&(!h||!s[l])){var m=f(i,l,o);a.push(m),s[l]=!0}}}),a},bM=function(t){var r=t&&t.type;return r&&c3[r]?c3[r]:null},wM=function(t,r){return b5(r).indexOf(t)},jM=["children","width","height","viewBox","className","style"];function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kb.apply(this,arguments)}function NM(e,t){if(e==null)return{};var r=SM(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function SM(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Ab(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,l=NM(e,jM),u=s||{width:r,height:a,x:0,y:0},f=Nn("recharts-surface",i);return Re.createElement("svg",kb({},mr(l,!0,"svg"),{className:f,width:r,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Re.createElement("title",null,e.title),Re.createElement("desc",null,e.desc),t)}var _M=["children","className"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cb.apply(this,arguments)}function kM(e,t){if(e==null)return{};var r=AM(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function AM(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var xn=Re.forwardRef(function(e,t){var r=e.children,a=e.className,s=kM(e,_M),i=Nn("recharts-layer",a);return Re.createElement("g",Cb({className:i},mr(s,!0),{ref:t}),r)}),Bv,m3;function CM(){if(m3)return Bv;m3=1;var e=ag();function t(){this.__data__=new e,this.size=0}return Bv=t,Bv}var Uv,p3;function PM(){if(p3)return Uv;p3=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return Uv=e,Uv}var qv,g3;function EM(){if(g3)return qv;g3=1;function e(t){return this.__data__.get(t)}return qv=e,qv}var zv,x3;function LM(){if(x3)return zv;x3=1;function e(t){return this.__data__.has(t)}return zv=e,zv}var Wv,v3;function OM(){if(v3)return Wv;v3=1;var e=ag(),t=p5(),r=g5(),a=200;function s(i,o){var l=this.__data__;if(l instanceof e){var u=l.__data__;if(!t||u.length<a-1)return u.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(i,o),this.size=l.size,this}return Wv=s,Wv}var Hv,y3;function X8(){if(y3)return Hv;y3=1;var e=ag(),t=CM(),r=PM(),a=EM(),s=LM(),i=OM();function o(l){var u=this.__data__=new e(l);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=a,o.prototype.has=s,o.prototype.set=i,Hv=o,Hv}var Vv,b3;function RM(){if(b3)return Vv;b3=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Vv=t,Vv}var Yv,w3;function TM(){if(w3)return Yv;w3=1;function e(t){return this.__data__.has(t)}return Yv=e,Yv}var Gv,j3;function J8(){if(j3)return Gv;j3=1;var e=g5(),t=RM(),r=TM();function a(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,Gv=a,Gv}var Kv,N3;function Q8(){if(N3)return Kv;N3=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(r(t[a],a,t))return!0;return!1}return Kv=e,Kv}var Xv,S3;function Z8(){if(S3)return Xv;S3=1;function e(t,r){return t.has(r)}return Xv=e,Xv}var Jv,_3;function e7(){if(_3)return Jv;_3=1;var e=J8(),t=Q8(),r=Z8(),a=1,s=2;function i(o,l,u,f,h,m){var x=u&a,p=o.length,w=l.length;if(p!=w&&!(x&&w>p))return!1;var v=m.get(o),y=m.get(l);if(v&&y)return v==l&&y==o;var S=-1,A=!0,N=u&s?new e:void 0;for(m.set(o,l),m.set(l,o);++S<p;){var k=o[S],C=l[S];if(f)var T=x?f(C,k,S,l,o,m):f(k,C,S,o,l,m);if(T!==void 0){if(T)continue;A=!1;break}if(N){if(!t(l,function(I,F){if(!r(N,F)&&(k===I||h(k,I,u,f,m)))return N.push(F)})){A=!1;break}}else if(!(k===C||h(k,C,u,f,m))){A=!1;break}}return m.delete(o),m.delete(l),A}return Jv=i,Jv}var Qv,k3;function MM(){if(k3)return Qv;k3=1;var e=sl(),t=e.Uint8Array;return Qv=t,Qv}var Zv,A3;function IM(){if(A3)return Zv;A3=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s,i){a[++r]=[i,s]}),a}return Zv=e,Zv}var e1,C3;function w5(){if(C3)return e1;C3=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(s){a[++r]=s}),a}return e1=e,e1}var t1,P3;function DM(){if(P3)return t1;P3=1;var e=x0(),t=MM(),r=m5(),a=e7(),s=IM(),i=w5(),o=1,l=2,u="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",x="[object Number]",p="[object RegExp]",w="[object Set]",v="[object String]",y="[object Symbol]",S="[object ArrayBuffer]",A="[object DataView]",N=e?e.prototype:void 0,k=N?N.valueOf:void 0;function C(T,I,F,z,J,R,$){switch(F){case A:if(T.byteLength!=I.byteLength||T.byteOffset!=I.byteOffset)return!1;T=T.buffer,I=I.buffer;case S:return!(T.byteLength!=I.byteLength||!R(new t(T),new t(I)));case u:case f:case x:return r(+T,+I);case h:return T.name==I.name&&T.message==I.message;case p:case v:return T==I+"";case m:var H=s;case w:var B=z&o;if(H||(H=i),T.size!=I.size&&!B)return!1;var ce=$.get(T);if(ce)return ce==I;z|=l,$.set(T,I);var se=a(H(T),H(I),z,J,R,$);return $.delete(T),se;case y:if(k)return k.call(T)==k.call(I)}return!1}return t1=C,t1}var r1,E3;function t7(){if(E3)return r1;E3=1;function e(t,r){for(var a=-1,s=r.length,i=t.length;++a<s;)t[i+a]=r[a];return t}return r1=e,r1}var n1,L3;function FM(){if(L3)return n1;L3=1;var e=t7(),t=Hs();function r(a,s,i){var o=s(a);return t(a)?o:e(o,i(a))}return n1=r,n1}var a1,O3;function $M(){if(O3)return a1;O3=1;function e(t,r){for(var a=-1,s=t==null?0:t.length,i=0,o=[];++a<s;){var l=t[a];r(l,a,t)&&(o[i++]=l)}return o}return a1=e,a1}var s1,R3;function BM(){if(R3)return s1;R3=1;function e(){return[]}return s1=e,s1}var i1,T3;function UM(){if(T3)return i1;T3=1;var e=$M(),t=BM(),r=Object.prototype,a=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return a.call(o,l)}))}:t;return i1=i,i1}var o1,M3;function qM(){if(M3)return o1;M3=1;function e(t,r){for(var a=-1,s=Array(t);++a<t;)s[a]=r(a);return s}return o1=e,o1}var l1,I3;function zM(){if(I3)return l1;I3=1;var e=tc(),t=rc(),r="[object Arguments]";function a(s){return t(s)&&e(s)==r}return l1=a,l1}var c1,D3;function j5(){if(D3)return c1;D3=1;var e=zM(),t=rc(),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&a.call(o,"callee")&&!s.call(o,"callee")};return c1=i,c1}var jh={exports:{}},u1,F3;function WM(){if(F3)return u1;F3=1;function e(){return!1}return u1=e,u1}jh.exports;var $3;function r7(){return $3||($3=1,(function(e,t){var r=sl(),a=WM(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||a;e.exports=f})(jh,jh.exports)),jh.exports}var d1,B3;function N5(){if(B3)return d1;B3=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return d1=r,d1}var f1,U3;function S5(){if(U3)return f1;U3=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return f1=t,f1}var h1,q3;function HM(){if(q3)return h1;q3=1;var e=tc(),t=S5(),r=rc(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",x="[object RegExp]",p="[object Set]",w="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",S="[object DataView]",A="[object Float32Array]",N="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",I="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",J="[object Uint32Array]",R={};R[A]=R[N]=R[k]=R[C]=R[T]=R[I]=R[F]=R[z]=R[J]=!0,R[a]=R[s]=R[y]=R[i]=R[S]=R[o]=R[l]=R[u]=R[f]=R[h]=R[m]=R[x]=R[p]=R[w]=R[v]=!1;function $(H){return r(H)&&t(H.length)&&!!R[e(H)]}return h1=$,h1}var m1,z3;function n7(){if(z3)return m1;z3=1;function e(t){return function(r){return t(r)}}return m1=e,m1}var Nh={exports:{}};Nh.exports;var W3;function VM(){return W3||(W3=1,(function(e,t){var r=z8(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&r.process,l=(function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Nh,Nh.exports)),Nh.exports}var p1,H3;function a7(){if(H3)return p1;H3=1;var e=HM(),t=n7(),r=VM(),a=r&&r.isTypedArray,s=a?t(a):e;return p1=s,p1}var g1,V3;function YM(){if(V3)return g1;V3=1;var e=qM(),t=j5(),r=Hs(),a=r7(),s=N5(),i=a7(),o=Object.prototype,l=o.hasOwnProperty;function u(f,h){var m=r(f),x=!m&&t(f),p=!m&&!x&&a(f),w=!m&&!x&&!p&&i(f),v=m||x||p||w,y=v?e(f.length,String):[],S=y.length;for(var A in f)(h||l.call(f,A))&&!(v&&(A=="length"||p&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||s(A,S)))&&y.push(A);return y}return g1=u,g1}var x1,Y3;function GM(){if(Y3)return x1;Y3=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,s=typeof a=="function"&&a.prototype||e;return r===s}return x1=t,x1}var v1,G3;function s7(){if(G3)return v1;G3=1;function e(t,r){return function(a){return t(r(a))}}return v1=e,v1}var y1,K3;function KM(){if(K3)return y1;K3=1;var e=s7(),t=e(Object.keys,Object);return y1=t,y1}var b1,X3;function XM(){if(X3)return b1;X3=1;var e=GM(),t=KM(),r=Object.prototype,a=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))a.call(i,l)&&l!="constructor"&&o.push(l);return o}return b1=s,b1}var w1,J3;function w0(){if(J3)return w1;J3=1;var e=f5(),t=S5();function r(a){return a!=null&&t(a.length)&&!e(a)}return w1=r,w1}var j1,Q3;function og(){if(Q3)return j1;Q3=1;var e=YM(),t=XM(),r=w0();function a(s){return r(s)?e(s):t(s)}return j1=a,j1}var N1,Z3;function JM(){if(Z3)return N1;Z3=1;var e=FM(),t=UM(),r=og();function a(s){return e(s,r,t)}return N1=a,N1}var S1,eS;function QM(){if(eS)return S1;eS=1;var e=JM(),t=1,r=Object.prototype,a=r.hasOwnProperty;function s(i,o,l,u,f,h){var m=l&t,x=e(i),p=x.length,w=e(o),v=w.length;if(p!=v&&!m)return!1;for(var y=p;y--;){var S=x[y];if(!(m?S in o:a.call(o,S)))return!1}var A=h.get(i),N=h.get(o);if(A&&N)return A==o&&N==i;var k=!0;h.set(i,o),h.set(o,i);for(var C=m;++y<p;){S=x[y];var T=i[S],I=o[S];if(u)var F=m?u(I,T,S,o,i,h):u(T,I,S,i,o,h);if(!(F===void 0?T===I||f(T,I,l,u,h):F)){k=!1;break}C||(C=S=="constructor")}if(k&&!C){var z=i.constructor,J=o.constructor;z!=J&&"constructor"in i&&"constructor"in o&&!(typeof z=="function"&&z instanceof z&&typeof J=="function"&&J instanceof J)&&(k=!1)}return h.delete(i),h.delete(o),k}return S1=s,S1}var _1,tS;function ZM(){if(tS)return _1;tS=1;var e=ed(),t=sl(),r=e(t,"DataView");return _1=r,_1}var k1,rS;function eI(){if(rS)return k1;rS=1;var e=ed(),t=sl(),r=e(t,"Promise");return k1=r,k1}var A1,nS;function i7(){if(nS)return A1;nS=1;var e=ed(),t=sl(),r=e(t,"Set");return A1=r,A1}var C1,aS;function tI(){if(aS)return C1;aS=1;var e=ed(),t=sl(),r=e(t,"WeakMap");return C1=r,C1}var P1,sS;function rI(){if(sS)return P1;sS=1;var e=ZM(),t=p5(),r=eI(),a=i7(),s=tI(),i=tc(),o=W8(),l="[object Map]",u="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",x="[object DataView]",p=o(e),w=o(t),v=o(r),y=o(a),S=o(s),A=i;return(e&&A(new e(new ArrayBuffer(1)))!=x||t&&A(new t)!=l||r&&A(r.resolve())!=f||a&&A(new a)!=h||s&&A(new s)!=m)&&(A=function(N){var k=i(N),C=k==u?N.constructor:void 0,T=C?o(C):"";if(T)switch(T){case p:return x;case w:return l;case v:return f;case y:return h;case S:return m}return k}),P1=A,P1}var E1,iS;function nI(){if(iS)return E1;iS=1;var e=X8(),t=e7(),r=DM(),a=QM(),s=rI(),i=Hs(),o=r7(),l=a7(),u=1,f="[object Arguments]",h="[object Array]",m="[object Object]",x=Object.prototype,p=x.hasOwnProperty;function w(v,y,S,A,N,k){var C=i(v),T=i(y),I=C?h:s(v),F=T?h:s(y);I=I==f?m:I,F=F==f?m:F;var z=I==m,J=F==m,R=I==F;if(R&&o(v)){if(!o(y))return!1;C=!0,z=!1}if(R&&!z)return k||(k=new e),C||l(v)?t(v,y,S,A,N,k):r(v,y,I,S,A,N,k);if(!(S&u)){var $=z&&p.call(v,"__wrapped__"),H=J&&p.call(y,"__wrapped__");if($||H){var B=$?v.value():v,ce=H?y.value():y;return k||(k=new e),N(B,ce,S,A,k)}}return R?(k||(k=new e),a(v,y,S,A,N,k)):!1}return E1=w,E1}var L1,oS;function _5(){if(oS)return L1;oS=1;var e=nI(),t=rc();function r(a,s,i,o,l){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,o,r,l)}return L1=r,L1}var O1,lS;function aI(){if(lS)return O1;lS=1;var e=X8(),t=_5(),r=1,a=2;function s(i,o,l,u){var f=l.length,h=f,m=!u;if(i==null)return!h;for(i=Object(i);f--;){var x=l[f];if(m&&x[2]?x[1]!==i[x[0]]:!(x[0]in i))return!1}for(;++f<h;){x=l[f];var p=x[0],w=i[p],v=x[1];if(m&&x[2]){if(w===void 0&&!(p in i))return!1}else{var y=new e;if(u)var S=u(w,v,p,i,o,y);if(!(S===void 0?t(v,w,r|a,u,y):S))return!1}}return!0}return O1=s,O1}var R1,cS;function o7(){if(cS)return R1;cS=1;var e=Gc();function t(r){return r===r&&!e(r)}return R1=t,R1}var T1,uS;function sI(){if(uS)return T1;uS=1;var e=o7(),t=og();function r(a){for(var s=t(a),i=s.length;i--;){var o=s[i],l=a[o];s[i]=[o,l,e(l)]}return s}return T1=r,T1}var M1,dS;function l7(){if(dS)return M1;dS=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return M1=e,M1}var I1,fS;function iI(){if(fS)return I1;fS=1;var e=aI(),t=sI(),r=l7();function a(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return I1=a,I1}var D1,hS;function oI(){if(hS)return D1;hS=1;function e(t,r){return t!=null&&r in Object(t)}return D1=e,D1}var F1,mS;function lI(){if(mS)return F1;mS=1;var e=V8(),t=j5(),r=Hs(),a=N5(),s=S5(),i=ig();function o(l,u,f){u=e(u,l);for(var h=-1,m=u.length,x=!1;++h<m;){var p=i(u[h]);if(!(x=l!=null&&f(l,p)))break;l=l[p]}return x||++h!=m?x:(m=l==null?0:l.length,!!m&&s(m)&&a(p,m)&&(r(l)||t(l)))}return F1=o,F1}var $1,pS;function cI(){if(pS)return $1;pS=1;var e=oI(),t=lI();function r(a,s){return a!=null&&t(a,s,e)}return $1=r,$1}var B1,gS;function uI(){if(gS)return B1;gS=1;var e=_5(),t=Y8(),r=cI(),a=h5(),s=o7(),i=l7(),o=ig(),l=1,u=2;function f(h,m){return a(h)&&s(m)?i(o(h),m):function(x){var p=t(x,h);return p===void 0&&p===m?r(x,h):e(m,p,l|u)}}return B1=f,B1}var U1,xS;function Ef(){if(xS)return U1;xS=1;function e(t){return t}return U1=e,U1}var q1,vS;function dI(){if(vS)return q1;vS=1;function e(t){return function(r){return r?.[t]}}return q1=e,q1}var z1,yS;function fI(){if(yS)return z1;yS=1;var e=v5();function t(r){return function(a){return e(a,r)}}return z1=t,z1}var W1,bS;function hI(){if(bS)return W1;bS=1;var e=dI(),t=fI(),r=h5(),a=ig();function s(i){return r(i)?e(a(i)):t(i)}return W1=s,W1}var H1,wS;function il(){if(wS)return H1;wS=1;var e=iI(),t=uI(),r=Ef(),a=Hs(),s=hI();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?a(o)?t(o[0],o[1]):e(o):s(o)}return H1=i,H1}var V1,jS;function c7(){if(jS)return V1;jS=1;function e(t,r,a,s){for(var i=t.length,o=a+(s?1:-1);s?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return V1=e,V1}var Y1,NS;function mI(){if(NS)return Y1;NS=1;function e(t){return t!==t}return Y1=e,Y1}var G1,SS;function pI(){if(SS)return G1;SS=1;function e(t,r,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return G1=e,G1}var K1,_S;function gI(){if(_S)return K1;_S=1;var e=c7(),t=mI(),r=pI();function a(s,i,o){return i===i?r(s,i,o):e(s,t,o)}return K1=a,K1}var X1,kS;function xI(){if(kS)return X1;kS=1;var e=gI();function t(r,a){var s=r==null?0:r.length;return!!s&&e(r,a,0)>-1}return X1=t,X1}var J1,AS;function vI(){if(AS)return J1;AS=1;function e(t,r,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(r,t[s]))return!0;return!1}return J1=e,J1}var Q1,CS;function yI(){if(CS)return Q1;CS=1;function e(){}return Q1=e,Q1}var Z1,PS;function bI(){if(PS)return Z1;PS=1;var e=i7(),t=yI(),r=w5(),a=1/0,s=e&&1/r(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return Z1=s,Z1}var ey,ES;function wI(){if(ES)return ey;ES=1;var e=J8(),t=xI(),r=vI(),a=Z8(),s=bI(),i=w5(),o=200;function l(u,f,h){var m=-1,x=t,p=u.length,w=!0,v=[],y=v;if(h)w=!1,x=r;else if(p>=o){var S=f?null:s(u);if(S)return i(S);w=!1,x=a,y=new e}else y=f?[]:v;e:for(;++m<p;){var A=u[m],N=f?f(A):A;if(A=h||A!==0?A:0,w&&N===N){for(var k=y.length;k--;)if(y[k]===N)continue e;f&&y.push(N),v.push(A)}else x(y,N,h)||(y!==v&&y.push(N),v.push(A))}return v}return ey=l,ey}var ty,LS;function jI(){if(LS)return ty;LS=1;var e=il(),t=wI();function r(a,s){return a&&a.length?t(a,e(s,2)):[]}return ty=r,ty}var NI=jI();const Xm=Jr(NI);var ry,OS;function SI(){if(OS)return ry;OS=1;function e(t,r,a){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),a=a>i?i:a,a<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=t[s+r];return o}return ry=e,ry}var ny,RS;function _I(){if(RS)return ny;RS=1;var e=SI();function t(r,a,s){var i=r.length;return s=s===void 0?i:s,!a&&s>=i?r:e(r,a,s)}return ny=t,ny}var ay,TS;function u7(){if(TS)return ay;TS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function u(f){return l.test(f)}return ay=u,ay}var sy,MS;function kI(){if(MS)return sy;MS=1;function e(t){return t.split("")}return sy=e,sy}var iy,IS;function AI(){if(IS)return iy;IS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+r+a,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+u+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",w=f+"?",v="["+i+"]?",y="(?:"+p+"(?:"+[h,m,x].join("|")+")"+v+w+")*",S=v+w+y,A="(?:"+[h+l+"?",l,m,x,o].join("|")+")",N=RegExp(u+"(?="+u+")|"+A+S,"g");function k(C){return C.match(N)||[]}return iy=k,iy}var oy,DS;function CI(){if(DS)return oy;DS=1;var e=kI(),t=u7(),r=AI();function a(s){return t(s)?r(s):e(s)}return oy=a,oy}var ly,FS;function PI(){if(FS)return ly;FS=1;var e=_I(),t=u7(),r=CI(),a=H8();function s(i){return function(o){o=a(o);var l=t(o)?r(o):void 0,u=l?l[0]:o.charAt(0),f=l?e(l,1).join(""):o.slice(1);return u[i]()+f}}return ly=s,ly}var cy,$S;function EI(){if($S)return cy;$S=1;var e=PI(),t=e("toUpperCase");return cy=t,cy}var LI=EI();const lg=Jr(LI);function Ln(e){return function(){return e}}const d7=Math.cos,Jm=Math.sin,Ao=Math.sqrt,Qm=Math.PI,cg=2*Qm,Pb=Math.PI,Eb=2*Pb,Ou=1e-6,OI=Eb-Ou;function f7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function RI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return f7;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class TI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?f7:RI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,o){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=a-t,f=s-r,h=o-t,m=l-r,x=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Ou)if(!(Math.abs(m*u-f*h)>Ou)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=a-o,w=s-l,v=u*u+f*f,y=p*p+w*w,S=Math.sqrt(v),A=Math.sqrt(x),N=i*Math.tan((Pb-Math.acos((v+x-y)/(2*S*A)))/2),k=N/A,C=N/S;Math.abs(k-1)>Ou&&this._append`L${t+k*h},${r+k*m}`,this._append`A${i},${i},0,0,${+(m*p>h*w)},${this._x1=t+C*u},${this._y1=r+C*f}`}}arc(t,r,a,s,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),u=a*Math.sin(s),f=t+l,h=r+u,m=1^o,x=o?s-i:i-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ou||Math.abs(this._y1-h)>Ou)&&this._append`L${f},${h}`,a&&(x<0&&(x=x%Eb+Eb),x>OI?this._append`A${a},${a},0,1,${m},${t-l},${r-u}A${a},${a},0,1,${m},${this._x1=f},${this._y1=h}`:x>Ou&&this._append`A${a},${a},0,${+(x>=Pb)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function k5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new TI(t)}function A5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h7(e){this._context=e}h7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ug(e){return new h7(e)}function m7(e){return e[0]}function p7(e){return e[1]}function g7(e,t){var r=Ln(!0),a=null,s=ug,i=null,o=k5(l);e=typeof e=="function"?e:e===void 0?m7:Ln(e),t=typeof t=="function"?t:t===void 0?p7:Ln(t);function l(u){var f,h=(u=A5(u)).length,m,x=!1,p;for(a==null&&(i=s(p=o())),f=0;f<=h;++f)!(f<h&&r(m=u[f],f,u))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,f,u),+t(m,f,u));if(p)return i=null,p+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ln(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ln(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ln(!!u),l):r},l.curve=function(u){return arguments.length?(s=u,a!=null&&(i=s(a)),l):s},l.context=function(u){return arguments.length?(u==null?a=i=null:i=s(a=u),l):a},l}function mm(e,t,r){var a=null,s=Ln(!0),i=null,o=ug,l=null,u=k5(f);e=typeof e=="function"?e:e===void 0?m7:Ln(+e),t=typeof t=="function"?t:Ln(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?p7:Ln(+r);function f(m){var x,p,w,v=(m=A5(m)).length,y,S=!1,A,N=new Array(v),k=new Array(v);for(i==null&&(l=o(A=u())),x=0;x<=v;++x){if(!(x<v&&s(y=m[x],x,m))===S)if(S=!S)p=x,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=x-1;w>=p;--w)l.point(N[w],k[w]);l.lineEnd(),l.areaEnd()}S&&(N[x]=+e(y,x,m),k[x]=+t(y,x,m),l.point(a?+a(y,x,m):N[x],r?+r(y,x,m):k[x]))}if(A)return l=null,A+""||null}function h(){return g7().defined(s).curve(o).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ln(+m),a=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ln(+m),f):e},f.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Ln(+m),f):a},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ln(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Ln(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ln(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(a).y(t)},f.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Ln(!!m),f):s},f.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),f):o},f.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),f):i},f}const C5={draw(e,t){const r=Ao(t/Qm);e.moveTo(r,0),e.arc(0,0,r,0,cg)}},MI={draw(e,t){const r=Ao(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},x7=Ao(1/3),II=x7*2,DI={draw(e,t){const r=Ao(t/II),a=r*x7;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},FI={draw(e,t){const r=Ao(t),a=-r/2;e.rect(a,a,r,r)}},$I=.8908130915292852,v7=Jm(Qm/10)/Jm(7*Qm/10),BI=Jm(cg/10)*v7,UI=-d7(cg/10)*v7,qI={draw(e,t){const r=Ao(t*$I),a=BI*r,s=UI*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const o=cg*i/5,l=d7(o),u=Jm(o);e.lineTo(u*r,-l*r),e.lineTo(l*a-u*s,u*a+l*s)}e.closePath()}},uy=Ao(3),zI={draw(e,t){const r=-Ao(t/(uy*3));e.moveTo(0,r*2),e.lineTo(-uy*r,-r),e.lineTo(uy*r,-r),e.closePath()}},Yi=-.5,Gi=Ao(3)/2,Lb=1/Ao(12),WI=(Lb/2+1)*3,HI={draw(e,t){const r=Ao(t/WI),a=r/2,s=r*Lb,i=a,o=r*Lb+r,l=-i,u=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(Yi*a-Gi*s,Gi*a+Yi*s),e.lineTo(Yi*i-Gi*o,Gi*i+Yi*o),e.lineTo(Yi*l-Gi*u,Gi*l+Yi*u),e.lineTo(Yi*a+Gi*s,Yi*s-Gi*a),e.lineTo(Yi*i+Gi*o,Yi*o-Gi*i),e.lineTo(Yi*l+Gi*u,Yi*u-Gi*l),e.closePath()}};function VI(e,t){let r=null,a=k5(s);e=typeof e=="function"?e:Ln(e||C5),t=typeof t=="function"?t:Ln(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ln(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ln(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Zm(){}function ep(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function y7(e){this._context=e}y7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ep(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ep(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YI(e){return new y7(e)}function b7(e){this._context=e}b7.prototype={areaStart:Zm,areaEnd:Zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ep(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GI(e){return new b7(e)}function w7(e){this._context=e}w7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:ep(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KI(e){return new w7(e)}function j7(e){this._context=e}j7.prototype={areaStart:Zm,areaEnd:Zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XI(e){return new j7(e)}function BS(e){return e<0?-1:1}function US(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(r-e._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(BS(i)+BS(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function qS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dy(e,t,r){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,s+l*t,i-l,o-l*r,i,o)}function tp(e){this._context=e}tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dy(this,this._t0,qS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dy(this,qS(this,r=US(this,e,t)),r);break;default:dy(this,this._t0,r=US(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function N7(e){this._context=new S7(e)}(N7.prototype=Object.create(tp.prototype)).point=function(e,t){tp.prototype.point.call(this,t,e)};function S7(e){this._context=e}S7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function JI(e){return new tp(e)}function QI(e){return new N7(e)}function _7(e){this._context=e}_7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=zS(e),s=zS(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zS(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function ZI(e){return new _7(e)}function dg(e,t){this._context=e,this._t=t}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function eD(e){return new dg(e,.5)}function tD(e){return new dg(e,0)}function rD(e){return new dg(e,1)}function Qd(e,t){if((o=e.length)>1)for(var r=1,a,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Ob(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function nD(e,t){return e[t]}function aD(e){const t=[];return t.key=e,t}function sD(){var e=Ln([]),t=Ob,r=Qd,a=nD;function s(i){var o=Array.from(e.apply(this,arguments),aD),l,u=o.length,f=-1,h;for(const m of i)for(l=0,++f;l<u;++l)(o[l][f]=[0,+a(m,o[l].key,f,i)]).data=m;for(l=0,h=A5(t(o));l<u;++l)o[h[l]].index=l;return r(o,h),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ln(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Ln(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?Ob:typeof i=="function"?i:Ln(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Qd,s):r},s}function iD(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<a;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<a;++r)e[r][s][1]/=o}Qd(e,t)}}function oD(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}Qd(e,t)}}function lD(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,o;a<i;++a){for(var l=0,u=0,f=0;l<o;++l){for(var h=e[t[l]],m=h[a][1]||0,x=h[a-1][1]||0,p=(m-x)/2,w=0;w<l;++w){var v=e[t[w]],y=v[a][1]||0,S=v[a-1][1]||0;p+=y-S}u+=m,f+=p*m}s[a-1][1]+=s[a-1][0]=r,u&&(r-=f/u)}s[a-1][1]+=s[a-1][0]=r,Qd(e,t)}}function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Rb.apply(this,arguments)}function cD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uD(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,A7(a.key),a)}}function dD(e,t,r){return t&&uD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tb(e,t)}function Tb(e,t){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Tb(e,t)}function hD(e){var t=gD();return function(){var a=rp(e),s;if(t){var i=rp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return mD(this,s)}}function mD(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pD(e)}function pD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(e)}function k7(e,t,r){return t=A7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=xD(e,"string");return Zd(t)==="symbol"?t:String(t)}function xD(e,t){if(Zd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var C7={symbolCircle:C5,symbolCross:MI,symbolDiamond:DI,symbolSquare:FI,symbolStar:qI,symbolTriangle:zI,symbolWye:HI},vD=Math.PI/180,yD=function(t){var r="symbol".concat(lg(t));return C7[r]||C5},bD=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*vD;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},P5=(function(e){fD(r,e);var t=hD(r);function r(){return cD(this,r),t.apply(this,arguments)}return dD(r,[{key:"getPath",value:function(){var s=this.props,i=s.size,o=s.sizeType,l=s.type,u=yD(l),f=VI().type(u).size(bD(i,o,l));return f()}},{key:"render",value:function(){var s=this.props,i=s.className,o=s.cx,l=s.cy,u=s.size,f=mr(this.props,!0);return o===+o&&l===+l&&u===+u?Re.createElement("path",Rb({},f,{className:Nn("recharts-symbols",i),transform:"translate(".concat(o,", ").concat(l,")"),d:this.getPath()})):null}}]),r})(O.PureComponent);k7(P5,"defaultProps",{type:"circle",size:64,sizeType:"area"});k7(P5,"registerSymbol",function(e,t){C7["symbol".concat(lg(e))]=t});function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mb.apply(this,arguments)}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(a){$h(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ND(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,P7(a.key),a)}}function SD(e,t,r){return t&&ND(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _D(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ib(e,t)}function Ib(e,t){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Ib(e,t)}function kD(e){var t=PD();return function(){var a=np(e),s;if(t){var i=np(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return AD(this,s)}}function AD(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CD(e)}function CD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},np(e)}function $h(e,t,r){return t=P7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=ED(e,"string");return ef(t)==="symbol"?t:String(t)}function ED(e,t){if(ef(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ef(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ki=32,E5=(function(e){_D(r,e);var t=kD(r);function r(){return jD(this,r),t.apply(this,arguments)}return SD(r,[{key:"renderIcon",value:function(s){var i=this.props.inactiveColor,o=Ki/2,l=Ki/6,u=Ki/3,f=s.inactive?i:s.color;if(s.type==="plainline")return Re.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:o,x2:Ki,y2:o,className:"recharts-legend-icon"});if(s.type==="line")return Re.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Ki,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(s.type==="rect")return Re.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Ki/8,"h").concat(Ki,"v").concat(Ki*3/4,"h").concat(-Ki,"z"),className:"recharts-legend-icon"});if(Re.isValidElement(s.legendIcon)){var h=wD({},s);return delete h.legendIcon,Re.cloneElement(s.legendIcon,h)}return Re.createElement(P5,{fill:f,cx:o,cy:o,size:Ki,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,f=i.formatter,h=i.inactiveColor,m={x:0,y:0,width:Ki,height:Ki},x={display:u==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(w,v){var y,S=w.formatter||f,A=Nn((y={"recharts-legend-item":!0},$h(y,"legend-item-".concat(v),!0),$h(y,"inactive",w.inactive),y));if(w.type==="none")return null;var N=w.inactive?h:w.color;return Re.createElement("li",Mb({className:A,style:x,key:"legend-item-".concat(v)},Ku(s.props,w,v)),Re.createElement(Ab,{width:l,height:l,viewBox:m,style:p},s.renderIcon(w)),Re.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},S?S(w.value,w,v):w.value))})}},{key:"render",value:function(){var s=this.props,i=s.payload,o=s.layout,l=s.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return Re.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}]),r})(O.PureComponent);$h(E5,"displayName","Legend");$h(E5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}var LD=["ref"];function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(a){fg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VS(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,L7(a.key),a)}}function RD(e,t,r){return t&&VS(e.prototype,t),r&&VS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Db(e,t)}function MD(e){var t=DD();return function(){var a=ap(e),s;if(t){var i=ap(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return ID(this,s)}}function ID(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E7(e)}function E7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ap(e)}function fg(e,t,r){return t=L7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L7(e){var t=FD(e,"string");return tf(t)==="symbol"?t:String(t)}function FD(e,t){if(tf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(tf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $D(e,t){if(e==null)return{};var r=BD(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function BD(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function UD(e){return e.value}function qD(e,t){return e===!0?Xm(t,UD):sr(e)?Xm(t,e):t}function zD(e,t){if(Re.isValidElement(e))return Re.cloneElement(e,t);if(sr(e))return Re.createElement(e,t);t.ref;var r=$D(t,LD);return Re.createElement(E5,r)}var YS=1,zc=(function(e){TD(r,e);var t=MD(r);function r(){var a;OD(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=t.call.apply(t,[this].concat(i)),fg(E7(a),"state",{boxWidth:-1,boxHeight:-1}),a}return RD(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var s=this.state,i=s.boxWidth,o=s.boxHeight;return i>=0&&o>=0?{width:i,height:o}:null}},{key:"getDefaultPosition",value:function(s){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,f=i.margin,h=i.chartWidth,m=i.chartHeight,x,p;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(l==="center"&&o==="vertical"){var w=this.getBBoxSnapshot()||{width:0};x={left:((h||0)-w.width)/2}}else x=l==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(u==="middle"){var v=this.getBBoxSnapshot()||{height:0};p={top:((m||0)-v.height)/2}}else p=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return kd(kd({},x),p)}},{key:"updateBBox",value:function(){var s=this.state,i=s.boxWidth,o=s.boxHeight,l=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var u=this.wrapperNode.getBoundingClientRect();(Math.abs(u.width-i)>YS||Math.abs(u.height-o)>YS)&&this.setState({boxWidth:u.width,boxHeight:u.height},function(){l&&l(u)})}else(i!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){l&&l(null)})}},{key:"render",value:function(){var s=this,i=this.props,o=i.content,l=i.width,u=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,m=i.payload,x=kd(kd({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return Re.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(w){s.wrapperNode=w}},zD(o,kd(kd({},this.props),{},{payload:qD(h,m)})))}}],[{key:"getWithHeight",value:function(s,i){var o=s.props.layout;return o==="vertical"&&yt(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||i}:null}}]),r})(O.PureComponent);fg(zc,"displayName","Legend");fg(zc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fy={exports:{}},hy,GS;function WD(){if(GS)return hy;GS=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hy=e,hy}var my,KS;function HD(){if(KS)return my;KS=1;var e=WD();function t(){}function r(){}return r.resetWarningCache=t,my=function(){function a(o,l,u,f,h,m){if(m!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},my}var XS;function VD(){return XS||(XS=1,fy.exports=HD()()),fy.exports}var YD=VD();const Ar=Jr(YD);var GD=Object.getOwnPropertyNames,KD=Object.getOwnPropertySymbols,XD=Object.prototype.hasOwnProperty;function JS(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function pm(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,o=i.get(r),l=i.get(a);if(o&&l)return o===a&&l===r;i.set(r,a),i.set(a,r);var u=e(r,a,s);return i.delete(r),i.delete(a),u}}function QS(e){return GD(e).concat(KD(e))}var JD=Object.hasOwn||(function(e,t){return XD.call(e,t)});function td(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var QD="__v",ZD="__o",eF="_owner",ZS=Object.getOwnPropertyDescriptor,e_=Object.keys;function tF(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function rF(e,t){return td(e.getTime(),t.getTime())}function nF(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function aF(e,t){return e===t}function t_(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,l,u=0;(o=i.next())&&!o.done;){for(var f=t.entries(),h=!1,m=0;(l=f.next())&&!l.done;){if(s[m]){m++;continue}var x=o.value,p=l.value;if(r.equals(x[0],p[0],u,m,e,t,r)&&r.equals(x[1],p[1],x[0],p[0],e,t,r)){h=s[m]=!0;break}m++}if(!h)return!1;u++}return!0}var sF=td;function iF(e,t,r){var a=e_(e),s=a.length;if(e_(t).length!==s)return!1;for(;s-- >0;)if(!O7(e,t,r,a[s]))return!1;return!0}function uh(e,t,r){var a=QS(e),s=a.length;if(QS(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=a[s],!O7(e,t,r,i)||(o=ZS(e,i),l=ZS(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function oF(e,t){return td(e.valueOf(),t.valueOf())}function lF(e,t){return e.source===t.source&&e.flags===t.flags}function r_(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var u=t.values(),f=!1,h=0;(l=u.next())&&!l.done;){if(!s[h]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){f=s[h]=!0;break}h++}if(!f)return!1}return!0}function cF(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function uF(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function O7(e,t,r,a){return(a===eF||a===ZD||a===QD)&&(e.$$typeof||t.$$typeof)?!0:JD(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var dF="[object Arguments]",fF="[object Boolean]",hF="[object Date]",mF="[object Error]",pF="[object Map]",gF="[object Number]",xF="[object Object]",vF="[object RegExp]",yF="[object Set]",bF="[object String]",wF="[object URL]",jF=Array.isArray,n_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,a_=Object.assign,NF=Object.prototype.toString.call.bind(Object.prototype.toString);function SF(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,h=e.areSetsEqual,m=e.areTypedArraysEqual,x=e.areUrlsEqual;return function(w,v,y){if(w===v)return!0;if(w==null||v==null)return!1;var S=typeof w;if(S!==typeof v)return!1;if(S!=="object")return S==="number"?o(w,v,y):S==="function"?s(w,v,y):!1;var A=w.constructor;if(A!==v.constructor)return!1;if(A===Object)return l(w,v,y);if(jF(w))return t(w,v,y);if(n_!=null&&n_(w))return m(w,v,y);if(A===Date)return r(w,v,y);if(A===RegExp)return f(w,v,y);if(A===Map)return i(w,v,y);if(A===Set)return h(w,v,y);var N=NF(w);return N===hF?r(w,v,y):N===vF?f(w,v,y):N===pF?i(w,v,y):N===yF?h(w,v,y):N===xF?typeof w.then!="function"&&typeof v.then!="function"&&l(w,v,y):N===wF?x(w,v,y):N===mF?a(w,v,y):N===dF?l(w,v,y):N===fF||N===gF||N===bF?u(w,v,y):!1}}function _F(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?uh:tF,areDatesEqual:rF,areErrorsEqual:nF,areFunctionsEqual:aF,areMapsEqual:a?JS(t_,uh):t_,areNumbersEqual:sF,areObjectsEqual:a?uh:iF,arePrimitiveWrappersEqual:oF,areRegExpsEqual:lF,areSetsEqual:a?JS(r_,uh):r_,areTypedArraysEqual:a?uh:cF,areUrlsEqual:uF};if(r&&(s=a_({},s,r(s))),t){var i=pm(s.areArraysEqual),o=pm(s.areMapsEqual),l=pm(s.areObjectsEqual),u=pm(s.areSetsEqual);s=a_({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return s}function kF(e){return function(t,r,a,s,i,o,l){return e(t,r,l)}}function AF(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(u,f){var h=a(),m=h.cache,x=m===void 0?t?new WeakMap:void 0:m,p=h.meta;return r(u,f,{cache:x,equals:s,meta:p,strict:i})};if(t)return function(u,f){return r(u,f,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(u,f){return r(u,f,o)}}var CF=Kc();Kc({strict:!0});Kc({circular:!0});Kc({circular:!0,strict:!0});Kc({createInternalComparator:function(){return td}});Kc({strict:!0,createInternalComparator:function(){return td}});Kc({circular:!0,createInternalComparator:function(){return td}});Kc({circular:!0,createInternalComparator:function(){return td},strict:!0});function Kc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=_F(e),u=SF(l),f=a?a(u):kF(u);return AF({circular:r,comparator:u,createState:s,equals:f,strict:o})}function PF(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function s_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):PF(s)};requestAnimationFrame(a)}function Fb(e){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fb(e)}function EF(e){return TF(e)||RF(e)||OF(e)||LF()}function LF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OF(e,t){if(e){if(typeof e=="string")return i_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i_(e,t)}}function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function RF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TF(e){if(Array.isArray(e))return e}function MF(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=EF(o),u=l[0],f=l.slice(1);if(typeof u=="number"){s_(s.bind(null,f),u);return}s(u),s_(s.bind(null,f));return}Fb(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(a){sp(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sp(e,t,r){return t=IF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=DF(e,"string");return Bh(t)==="symbol"?t:String(t)}function DF(e,t){if(Bh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Bh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FF=["Webkit","Moz","O","ms"],$F=["-webkit-","-moz-","-o-","-ms-"],BF=["transform","transformOrigin","transition"],UF=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},qF=function(t){return t},zF=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},WF=function(t,r){if(BF.indexOf(t)===-1)return sp({},t,Number.isNaN(r)?0:r);var a=t==="transition",s=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=r;return FF.reduce(function(o,l,u){return a&&(i=r.replace(/(transform|transform-origin)/gim,"".concat($F[u],"$1"))),rf(rf({},o),{},sp({},l+s,i))},{})},Ch=function(t,r){return Object.keys(r).reduce(function(a,s){return rf(rf({},a),{},sp({},s,t(s,r[s])))},{})},$b=function(t){return Object.keys(t).reduce(function(r,a){return rf(rf({},r),WF(a,r[a]))},t)},l_=function(t,r,a){return t.map(function(s){return"".concat(zF(s)," ").concat(r,"ms ").concat(a)}).join(",")};function HF(e,t){return GF(e)||YF(e,t)||R7(e,t)||VF()}function VF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function GF(e){if(Array.isArray(e))return e}function KF(e){return QF(e)||JF(e)||R7(e)||XF()}function XF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(e,t){if(e){if(typeof e=="string")return Bb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bb(e,t)}}function JF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QF(e){if(Array.isArray(e))return Bb(e)}function Bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var ip=1e-4,T7=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},M7=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},c_=function(t,r){return function(a){var s=T7(t,r);return M7(s,a)}},ZF=function(t,r){return function(a){var s=T7(t,r),i=[].concat(KF(s.map(function(o,l){return o*l}).slice(1)),[0]);return M7(i,a)}},u_=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),h=HF(f,4);s=h[0],i=h[1],o=h[2],l=h[3]}}}var m=c_(s,o),x=c_(i,l),p=ZF(s,o),w=function(S){return S>1?1:S<0?0:S},v=function(S){for(var A=S>1?1:S,N=A,k=0;k<8;++k){var C=m(N)-A,T=p(N);if(Math.abs(C-A)<ip||T<ip)return x(N);N=w(N-C/T)}return x(N)};return v.isStepper=!1,v},e$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,u=function(h,m,x){var p=-(h-m)*a,w=x*i,v=x+(p-w)*l/1e3,y=x*l/1e3+h;return Math.abs(y-m)<ip&&Math.abs(v)<ip?[m,0]:[y,v]};return u.isStepper=!0,u.dt=l,u},t$=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u_(s);case"spring":return e$();default:if(s.split("(")[0]==="cubic-bezier")return u_(s)}return typeof s=="function"?s:null};function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function d_(e){return a$(e)||n$(e)||I7(e)||r$()}function r$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a$(e){if(Array.isArray(e))return qb(e)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(a){Ub(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ub(e,t,r){return t=s$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$(e){var t=i$(e,"string");return Uh(t)==="symbol"?t:String(t)}function i$(e,t){if(Uh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Uh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o$(e,t){return u$(e)||c$(e,t)||I7(e,t)||l$()}function l$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7(e,t){if(e){if(typeof e=="string")return qb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qb(e,t)}}function qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function c$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function u$(e){if(Array.isArray(e))return e}var op=function(t,r,a){return t+(r-t)*a},zb=function(t){var r=t.from,a=t.to;return r!==a},d$=function e(t,r,a){var s=Ch(function(i,o){if(zb(o)){var l=t(o.from,o.to,o.velocity),u=o$(l,2),f=u[0],h=u[1];return ds(ds({},o),{},{from:f,velocity:h})}return o},r);return a<1?Ch(function(i,o){return zb(o)?ds(ds({},o),{},{velocity:op(o.velocity,s[i].velocity,a),from:op(o.from,s[i].from,a)}):o},r):e(t,s,a-1)};const f$=(function(e,t,r,a,s){var i=UF(e,t),o=i.reduce(function(y,S){return ds(ds({},y),{},Ub({},S,[e[S],t[S]]))},{}),l=i.reduce(function(y,S){return ds(ds({},y),{},Ub({},S,{from:e[S],velocity:0,to:t[S]}))},{}),u=-1,f,h,m=function(){return null},x=function(){return Ch(function(S,A){return A.from},l)},p=function(){return!Object.values(l).filter(zb).length},w=function(S){f||(f=S);var A=S-f,N=A/r.dt;l=d$(r,l,N),s(ds(ds(ds({},e),t),x())),f=S,p()||(u=requestAnimationFrame(m))},v=function(S){h||(h=S);var A=(S-h)/a,N=Ch(function(C,T){return op.apply(void 0,d_(T).concat([r(A)]))},o);if(s(ds(ds(ds({},e),t),N)),A<1)u=requestAnimationFrame(m);else{var k=Ch(function(C,T){return op.apply(void 0,d_(T).concat([r(1)]))},o);s(ds(ds(ds({},e),t),k))}};return m=r.isStepper?w:v,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}});function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}var h$=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function m$(e,t){if(e==null)return{};var r=p$(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function p$(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function py(e){return y$(e)||v$(e)||x$(e)||g$()}function g$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x$(e,t){if(e){if(typeof e=="string")return Wb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wb(e,t)}}function v$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y$(e){if(Array.isArray(e))return Wb(e)}function Wb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(a){Sh(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sh(e,t,r){return t=D7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w$(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,D7(a.key),a)}}function j$(e,t,r){return t&&w$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D7(e){var t=N$(e,"string");return nf(t)==="symbol"?t:String(t)}function N$(e,t){if(nf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hb(e,t)}function Hb(e,t){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Hb(e,t)}function _$(e){var t=k$();return function(){var a=lp(e),s;if(t){var i=lp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return Vb(this,s)}}function Vb(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yb(e)}function Yb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lp(e)}var Xu=(function(e){S$(r,e);var t=_$(r);function r(a,s){var i;b$(this,r),i=t.call(this,a,s);var o=i.props,l=o.isActive,u=o.attributeName,f=o.from,h=o.to,m=o.steps,x=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Yb(i)),i.changeStyle=i.changeStyle.bind(Yb(i)),!l||p<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:h}),Vb(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof x=="function")return i.state={style:f},Vb(i);i.state={style:u?Sh({},u,f):f}}else i.state={style:{}};return i}return j$(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,u=i.attributeName,f=i.shouldReAnimate,h=i.to,m=i.from,x=this.state.style;if(l){if(!o){var p={style:u?Sh({},u,h):h};this.state&&x&&(u&&x[u]!==h||!u&&x!==h)&&this.setState(p);return}if(!(CF(s.to,h)&&s.canBegin&&s.isActive)){var w=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=w||f?m:s.to;if(this.state&&x){var y={style:u?Sh({},u,v):v};(u&&[u]!==v||!u&&x!==v)&&this.setState(y)}this.runAnimation(bo(bo({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,u=s.duration,f=s.easing,h=s.begin,m=s.onAnimationEnd,x=s.onAnimationStart,p=f$(o,l,t$(f),u,this.changeStyle),w=function(){i.stopJSAnimation=p()};this.manager.start([x,h,w,u,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,u=s.onAnimationStart,f=o[0],h=f.style,m=f.duration,x=m===void 0?0:m,p=function(v,y,S){if(S===0)return v;var A=y.duration,N=y.easing,k=N===void 0?"ease":N,C=y.style,T=y.properties,I=y.onAnimationEnd,F=S>0?o[S-1]:y,z=T||Object.keys(C);if(typeof k=="function"||k==="spring")return[].concat(py(v),[i.runJSAnimation.bind(i,{from:F.style,to:C,duration:A,easing:k}),A]);var J=l_(z,A,k),R=bo(bo(bo({},F.style),C),{},{transition:J});return[].concat(py(v),[R,A,I]).filter(qF)};return this.manager.start([u].concat(py(o.reduce(p,[h,Math.max(x,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=MF());var i=s.begin,o=s.duration,l=s.attributeName,u=s.to,f=s.easing,h=s.onAnimationStart,m=s.onAnimationEnd,x=s.steps,p=s.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof p=="function"||f==="spring"){this.runJSAnimation(s);return}if(x.length>1){this.runStepAnimation(s);return}var v=l?Sh({},l,u):u,y=l_(Object.keys(v),o,f);w.start([h,i,bo(bo({},v),{},{transition:y}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=m$(s,h$),f=O.Children.count(i),h=$b(this.state.style);if(typeof i=="function")return i(h);if(!l||f===0||o<=0)return i;var m=function(p){var w=p.props,v=w.style,y=v===void 0?{}:v,S=w.className,A=O.cloneElement(p,bo(bo({},u),{},{style:bo(bo({},y),h),className:S}));return A};return f===1?m(O.Children.only(i)):Re.createElement("div",null,O.Children.map(i,function(x){return m(x)}))}}]),r})(O.PureComponent);Xu.displayName="Animate";Xu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xu.propTypes={from:Ar.oneOfType([Ar.object,Ar.string]),to:Ar.oneOfType([Ar.object,Ar.string]),attributeName:Ar.string,duration:Ar.number,begin:Ar.number,easing:Ar.oneOfType([Ar.string,Ar.func]),steps:Ar.arrayOf(Ar.shape({duration:Ar.number.isRequired,style:Ar.object.isRequired,easing:Ar.oneOfType([Ar.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ar.func]),properties:Ar.arrayOf("string"),onAnimationEnd:Ar.func})),children:Ar.oneOfType([Ar.node,Ar.func]),isActive:Ar.bool,canBegin:Ar.bool,onAnimationEnd:Ar.func,shouldReAnimate:Ar.bool,onAnimationStart:Ar.func,onAnimationReStart:Ar.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});Ar.object,Ar.object,Ar.object,Ar.element;Ar.object,Ar.object,Ar.object,Ar.oneOfType([Ar.array,Ar.element]),Ar.any;var gy,m_;function A$(){if(m_)return gy;m_=1;var e=x0(),t=j5(),r=Hs(),a=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(a&&i&&i[a])}return gy=s,gy}var xy,p_;function F7(){if(p_)return xy;p_=1;var e=t7(),t=A$();function r(a,s,i,o,l){var u=-1,f=a.length;for(i||(i=t),l||(l=[]);++u<f;){var h=a[u];s>0&&i(h)?s>1?r(h,s-1,i,o,l):e(l,h):o||(l[l.length]=h)}return l}return xy=r,xy}var vy,g_;function C$(){if(g_)return vy;g_=1;function e(t){return function(r,a,s){for(var i=-1,o=Object(r),l=s(r),u=l.length;u--;){var f=l[t?u:++i];if(a(o[f],f,o)===!1)break}return r}}return vy=e,vy}var yy,x_;function P$(){if(x_)return yy;x_=1;var e=C$(),t=e();return yy=t,yy}var by,v_;function $7(){if(v_)return by;v_=1;var e=P$(),t=og();function r(a,s){return a&&e(a,s,t)}return by=r,by}var wy,y_;function E$(){if(y_)return wy;y_=1;var e=w0();function t(r,a){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var o=s.length,l=a?o:-1,u=Object(s);(a?l--:++l<o)&&i(u[l],l,u)!==!1;);return s}}return wy=t,wy}var jy,b_;function L5(){if(b_)return jy;b_=1;var e=$7(),t=E$(),r=t(e);return jy=r,jy}var Ny,w_;function B7(){if(w_)return Ny;w_=1;var e=L5(),t=w0();function r(a,s){var i=-1,o=t(a)?Array(a.length):[];return e(a,function(l,u,f){o[++i]=s(l,u,f)}),o}return Ny=r,Ny}var Sy,j_;function L$(){if(j_)return Sy;j_=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return Sy=e,Sy}var _y,N_;function O$(){if(N_)return _y;N_=1;var e=Pf();function t(r,a){if(r!==a){var s=r!==void 0,i=r===null,o=r===r,l=e(r),u=a!==void 0,f=a===null,h=a===a,m=e(a);if(!f&&!m&&!l&&r>a||l&&u&&h&&!f&&!m||i&&u&&h||!s&&h||!o)return 1;if(!i&&!l&&!m&&r<a||m&&s&&o&&!i&&!l||f&&s&&o||!u&&o||!h)return-1}return 0}return _y=t,_y}var ky,S_;function R$(){if(S_)return ky;S_=1;var e=O$();function t(r,a,s){for(var i=-1,o=r.criteria,l=a.criteria,u=o.length,f=s.length;++i<u;){var h=e(o[i],l[i]);if(h){if(i>=f)return h;var m=s[i];return h*(m=="desc"?-1:1)}}return r.index-a.index}return ky=t,ky}var Ay,__;function T$(){if(__)return Ay;__=1;var e=x5(),t=v5(),r=il(),a=B7(),s=L$(),i=n7(),o=R$(),l=Ef(),u=Hs();function f(h,m,x){m.length?m=e(m,function(v){return u(v)?function(y){return t(y,v.length===1?v[0]:v)}:v}):m=[l];var p=-1;m=e(m,i(r));var w=a(h,function(v,y,S){var A=e(m,function(N){return N(v)});return{criteria:A,index:++p,value:v}});return s(w,function(v,y){return o(v,y,x)})}return Ay=f,Ay}var Cy,k_;function M$(){if(k_)return Cy;k_=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return Cy=e,Cy}var Py,A_;function I$(){if(A_)return Py;A_=1;var e=M$(),t=Math.max;function r(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var o=arguments,l=-1,u=t(o.length-s,0),f=Array(u);++l<u;)f[l]=o[s+l];l=-1;for(var h=Array(s+1);++l<s;)h[l]=o[l];return h[s]=i(f),e(a,this,h)}}return Py=r,Py}var Ey,C_;function D$(){if(C_)return Ey;C_=1;function e(t){return function(){return t}}return Ey=e,Ey}var Ly,P_;function U7(){if(P_)return Ly;P_=1;var e=ed(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Ly=t,Ly}var Oy,E_;function F$(){if(E_)return Oy;E_=1;var e=D$(),t=U7(),r=Ef(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return Oy=a,Oy}var Ry,L_;function $$(){if(L_)return Ry;L_=1;var e=800,t=16,r=Date.now;function a(s){var i=0,o=0;return function(){var l=r(),u=t-(l-o);if(o=l,u>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return Ry=a,Ry}var Ty,O_;function B$(){if(O_)return Ty;O_=1;var e=F$(),t=$$(),r=t(e);return Ty=r,Ty}var My,R_;function U$(){if(R_)return My;R_=1;var e=Ef(),t=I$(),r=B$();function a(s,i){return r(t(s,i,e),s+"")}return My=a,My}var Iy,T_;function hg(){if(T_)return Iy;T_=1;var e=m5(),t=w0(),r=N5(),a=Gc();function s(i,o,l){if(!a(l))return!1;var u=typeof o;return(u=="number"?t(l)&&r(o,l.length):u=="string"&&o in l)?e(l[o],i):!1}return Iy=s,Iy}var Dy,M_;function q$(){if(M_)return Dy;M_=1;var e=F7(),t=T$(),r=U$(),a=hg(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&a(i,o[0],o[1])?o=[]:l>2&&a(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return Dy=s,Dy}var z$=q$();const O5=Jr(z$);function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function W$(e,t){return G$(e)||Y$(e,t)||V$(e,t)||H$()}function H$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V$(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Y$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function G$(e){if(Array.isArray(e))return e}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(a){R5(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function K$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X$(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,q7(a.key),a)}}function J$(e,t,r){return t&&X$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gb(e,t)}function Gb(e,t){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Gb(e,t)}function Z$(e){var t=rB();return function(){var a=cp(e),s;if(t){var i=cp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return eB(this,s)}}function eB(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tB(e)}function tB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cp(e){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cp(e)}function R5(e,t,r){return t=q7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q7(e){var t=nB(e,"string");return af(t)==="symbol"?t:String(t)}function nB(e,t){if(af(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(af(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aB(e){return fs(e)&&Ma(e[0])&&Ma(e[1])?e.join(" ~ "):e}var T5=(function(e){Q$(r,e);var t=Z$(r);function r(){return K$(this,r),t.apply(this,arguments)}return J$(r,[{key:"renderContent",value:function(){var s=this.props,i=s.payload,o=s.separator,l=s.formatter,u=s.itemStyle,f=s.itemSorter;if(i&&i.length){var h={padding:0,margin:0},m=(f?O5(i,f):i).map(function(x,p){if(x.type==="none")return null;var w=Fy({display:"block",paddingTop:4,paddingBottom:4,color:x.color||"#000"},u),v=x.formatter||l||aB,y=x.value,S=x.name;if(v&&y!=null&&S!=null){var A=v(y,S,x,p,i);if(Array.isArray(A)){var N=A,k=W$(N,2);y=k[0],S=k[1]}else y=A}return Re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(p),style:w},Ma(S)?Re.createElement("span",{className:"recharts-tooltip-item-name"},S):null,Ma(S)?Re.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,Re.createElement("span",{className:"recharts-tooltip-item-value"},y),Re.createElement("span",{className:"recharts-tooltip-item-unit"},x.unit||""))});return Re.createElement("ul",{className:"recharts-tooltip-item-list",style:h},m)}return null}},{key:"render",value:function(){var s=this.props,i=s.wrapperClassName,o=s.contentStyle,l=s.labelClassName,u=s.labelStyle,f=s.label,h=s.labelFormatter,m=s.payload,x=Fy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),p=Fy({margin:0},u),w=!ar(f),v=w?f:"",y=Nn("recharts-default-tooltip",i),S=Nn("recharts-tooltip-label",l);return w&&h&&m!==void 0&&m!==null&&(v=h(f,m)),Re.createElement("div",{className:y,style:x},Re.createElement("p",{className:S,style:p},Re.isValidElement(v)?v:"".concat(v)),this.renderContent())}}]),r})(O.PureComponent);R5(T5,"displayName","DefaultTooltipContent");R5(T5,"defaultProps",{separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}});var sB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Lf={isSsr:sB()};function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(a){_h(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _h(e,t,r){return t=iB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=oB(e,"string");return qh(t)==="symbol"?t:String(t)}function oB(e,t){if(qh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(qh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gm(e,t){return dB(e)||uB(e,t)||cB(e,t)||lB()}function lB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cB(e,t){if(e){if(typeof e=="string")return $_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $_(e,t)}}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function uB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function dB(e){if(Array.isArray(e))return e}var dh="recharts-tooltip-wrapper",B_=1;function fB(e){return e.dataKey}function hB(e,t){return e===!0?Xm(t,fB):sr(e)?Xm(t,e):t}function mB(e,t){return Re.isValidElement(e)?Re.cloneElement(e,t):sr(e)?Re.createElement(e,t):Re.createElement(T5,t)}var pB={active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x:0,y:0,height:0,width:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Lf.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1},fi=function(t){var r,a=O.useState(-1),s=gm(a,2),i=s[0],o=s[1],l=O.useState(-1),u=gm(l,2),f=u[0],h=u[1],m=O.useState(!1),x=gm(m,2),p=x[0],w=x[1],v=O.useState({x:0,y:0}),y=gm(v,2),S=y[0],A=y[1],N=O.useRef(),k=t.allowEscapeViewBox,C=t.reverseDirection,T=t.coordinate,I=t.offset,F=t.position,z=t.viewBox,J=O.useCallback(function(de){de.key==="Escape"&&(w(!0),A(function(re){return Dl(Dl({},re),{},{x:T.x,y:T.y})}))},[T.x,T.y]);O.useEffect(function(){var de=function(){if(p?(document.removeEventListener("keydown",J),(T.x!==S.x||T.y!==S.y)&&w(!1)):document.addEventListener("keydown",J),N.current&&N.current.getBoundingClientRect){var Q=N.current.getBoundingClientRect();(Math.abs(Q.width-i)>B_||Math.abs(Q.height-f)>B_)&&(o(Q.width),h(Q.height))}else(i!==-1||f!==-1)&&(o(-1),h(-1))};return de(),function(){document.removeEventListener("keydown",J)}},[f,i,T.x,T.y,p,S.x,S.y,J]);var R=function(re){var Q=re.key,Ne=re.tooltipDimension,he=re.viewBoxDimension;if(F&&yt(F[Q]))return F[Q];var we=T[Q]-Ne-I,be=T[Q]+I;if(k!=null&&k[Q])return C[Q]?we:be;if(C!=null&&C[Q]){var Z=we,Xe=z[Q];return Z<Xe?Math.max(be,z[Q]):Math.max(we,z[Q])}var Je=be+Ne,Qe=z[Q]+he;return Je>Qe?Math.max(we,z[Q]):Math.max(be,z[Q])},$=t.payload,H=t.payloadUniqBy,B=t.filterNull,ce=t.active,se=t.wrapperStyle,xe=t.useTranslate3d,te=t.isAnimationActive,ee=t.animationDuration,G=t.animationEasing,oe=hB(H,B&&$&&$.length?$.filter(function(de){return!ar(de.value)}):$),q=oe&&oe.length,U=t.content,V=Dl({pointerEvents:"none",visibility:!p&&ce&&q?"visible":"hidden",position:"absolute",top:0,left:0},se),ie,me;F&&yt(F.x)&&yt(F.y)?(ie=F.x,me=F.y):i>0&&f>0&&T?(ie=R({key:"x",tooltipDimension:i,viewBoxDimension:z.width}),me=R({key:"y",tooltipDimension:f,viewBoxDimension:z.height})):V.visibility="hidden",V=Dl(Dl({},$b({transform:xe?"translate3d(".concat(ie,"px, ").concat(me,"px, 0)"):"translate(".concat(ie,"px, ").concat(me,"px)")})),V),te&&ce&&(V=Dl(Dl({},$b({transition:"transform ".concat(ee,"ms ").concat(G)})),V));var W=Nn(dh,(r={},_h(r,"".concat(dh,"-right"),yt(ie)&&T&&yt(T.x)&&ie>=T.x),_h(r,"".concat(dh,"-left"),yt(ie)&&T&&yt(T.x)&&ie<T.x),_h(r,"".concat(dh,"-bottom"),yt(me)&&T&&yt(T.y)&&me>=T.y),_h(r,"".concat(dh,"-top"),yt(me)&&T&&yt(T.y)&&me<T.y),r));return Re.createElement("div",{tabIndex:-1,role:"dialog",className:W,style:V,ref:N},mB(U,Dl(Dl({},t),{},{payload:oe})))};fi.displayName="Tooltip";fi.defaultProps=pB;var gB=u8(),$y,U_;function xB(){if(U_)return $y;U_=1;var e=sl(),t=function(){return e.Date.now()};return $y=t,$y}var By,q_;function vB(){if(q_)return By;q_=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return By=t,By}var Uy,z_;function yB(){if(z_)return Uy;z_=1;var e=vB(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return Uy=r,Uy}var qy,W_;function z7(){if(W_)return qy;W_=1;var e=yB(),t=Gc(),r=Pf(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return a;if(t(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=t(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=i.test(f);return m||o.test(f)?l(f.slice(2),m?2:8):s.test(f)?a:+f}return qy=u,qy}var zy,H_;function W7(){if(H_)return zy;H_=1;var e=Gc(),t=xB(),r=z7(),a="Expected a function",s=Math.max,i=Math.min;function o(l,u,f){var h,m,x,p,w,v,y=0,S=!1,A=!1,N=!0;if(typeof l!="function")throw new TypeError(a);u=r(u)||0,e(f)&&(S=!!f.leading,A="maxWait"in f,x=A?s(r(f.maxWait)||0,u):x,N="trailing"in f?!!f.trailing:N);function k(H){var B=h,ce=m;return h=m=void 0,y=H,p=l.apply(ce,B),p}function C(H){return y=H,w=setTimeout(F,u),S?k(H):p}function T(H){var B=H-v,ce=H-y,se=u-B;return A?i(se,x-ce):se}function I(H){var B=H-v,ce=H-y;return v===void 0||B>=u||B<0||A&&ce>=x}function F(){var H=t();if(I(H))return z(H);w=setTimeout(F,T(H))}function z(H){return w=void 0,N&&h?k(H):(h=m=void 0,p)}function J(){w!==void 0&&clearTimeout(w),y=0,h=v=m=w=void 0}function R(){return w===void 0?p:z(t())}function $(){var H=t(),B=I(H);if(h=arguments,m=this,v=H,B){if(w===void 0)return C(v);if(A)return clearTimeout(w),w=setTimeout(F,u),k(v)}return w===void 0&&(w=setTimeout(F,u)),p}return $.cancel=J,$.flush=R,$}return zy=o,zy}var bB=W7();const wB=Jr(bB);var Wy,V_;function jB(){if(V_)return Wy;V_=1;var e=W7(),t=Gc(),r="Expected a function";function a(s,i,o){var l=!0,u=!0;if(typeof s!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),e(s,i,{leading:l,maxWait:i,trailing:u})}return Wy=a,Wy}var NB=jB();const H7=Jr(NB);var Kb=function(e,t){return Kb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)a.hasOwnProperty(s)&&(r[s]=a[s])},Kb(e,t)};function SB(e,t){Kb(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function _B(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}var kB=function(e,t,r,a){switch(t){case"debounce":return wB(e,r,a);case"throttle":return H7(e,r,a);default:return e}},Y_=function(e){return typeof e=="function"},fh=function(){return typeof window>"u"},G_=function(e){return e instanceof Element||e instanceof HTMLDocument},AB=function(e,t,r){return function(a){var s=a.width,i=a.height;e(function(o){return o.width===s&&o.height===i||o.width===s&&!r||o.height===i&&!t?o:{width:s,height:i}})}},CB=(function(e){SB(t,e);function t(r){var a=e.call(this,r)||this;a.cancelHandler=function(){a.resizeHandler&&a.resizeHandler.cancel&&(a.resizeHandler.cancel(),a.resizeHandler=null)},a.attachObserver=function(){var f=a.props,h=f.targetRef,m=f.observerOptions;if(!fh()){h&&h.current&&(a.targetRef.current=h.current);var x=a.getElement();x&&(a.observableElement&&a.observableElement===x||(a.observableElement=x,a.resizeObserver.observe(x,m)))}},a.getElement=function(){var f=a.props,h=f.querySelector,m=f.targetDomEl;if(fh())return null;if(h)return document.querySelector(h);if(m&&G_(m))return m;if(a.targetRef&&G_(a.targetRef.current))return a.targetRef.current;var x=gB.findDOMNode(a);if(!x)return null;var p=a.getRenderType();switch(p){case"renderProp":return x;case"childFunction":return x;case"child":return x;case"childArray":return x;default:return x.parentElement}},a.createResizeHandler=function(f){var h=a.props,m=h.handleWidth,x=m===void 0?!0:m,p=h.handleHeight,w=p===void 0?!0:p,v=h.onResize;if(!(!x&&!w)){var y=AB(function(S){return a.setState(S,function(){return v?.(a.state.width,a.state.height)})},x,w);f.forEach(function(S){var A=S&&S.contentRect||{},N=A.width,k=A.height,C=!a.skipOnMount&&!fh();C&&y({width:N,height:k}),a.skipOnMount=!1})}},a.getRenderType=function(){var f=a.props,h=f.render,m=f.children;return Y_(h)?"renderProp":Y_(m)?"childFunction":O.isValidElement(m)?"child":Array.isArray(m)?"childArray":"parent"};var s=r.skipOnMount,i=r.refreshMode,o=r.refreshRate,l=o===void 0?1e3:o,u=r.refreshOptions;return a.state={width:void 0,height:void 0},a.skipOnMount=s,a.targetRef=O.createRef(),a.observableElement=null,fh()||(a.resizeHandler=kB(a.createResizeHandler,i,l,u),a.resizeObserver=new window.ResizeObserver(a.resizeHandler)),a}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){fh()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var r=this.props,a=r.render,s=r.children,i=r.nodeType,o=i===void 0?"div":i,l=this.state,u=l.width,f=l.height,h={width:u,height:f,targetRef:this.targetRef},m=this.getRenderType();switch(m){case"renderProp":return a?.(h);case"childFunction":{var x=s;return x?.(h)}case"child":{var p=s;if(p.type&&typeof p.type=="string"){h.targetRef;var w=_B(h,["targetRef"]);return O.cloneElement(p,w)}return O.cloneElement(p,h)}case"childArray":{var v=s;return v.map(function(y){return!!y&&O.cloneElement(y,h)})}default:return Re.createElement(o,null)}},t})(O.PureComponent),Uc=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xb.apply(this,arguments)}function PB(e,t){return RB(e)||OB(e,t)||LB(e,t)||EB()}function EB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LB(e,t){if(e){if(typeof e=="string")return K_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K_(e,t)}}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function OB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function RB(e){if(Array.isArray(e))return e}var Wc=O.forwardRef(function(e,t){var r=e.aspect,a=e.width,s=a===void 0?"100%":a,i=e.height,o=i===void 0?"100%":i,l=e.minWidth,u=l===void 0?0:l,f=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,p=x===void 0?0:x,w=e.id,v=e.className,y=e.onResize,S=O.useState({containerWidth:-1,containerHeight:-1}),A=PB(S,2),N=A[0],k=A[1],C=O.useRef(null);O.useImperativeHandle(t,function(){return C},[C]);var T=O.useCallback(function(){return C.current?{containerWidth:C.current.clientWidth,containerHeight:C.current.clientHeight}:null},[]),I=O.useCallback(function(){var J=T();if(J){var R=J.containerWidth,$=J.containerHeight;y&&y(R,$),k(function(H){var B=H.containerWidth,ce=H.containerHeight;return R!==B||$!==ce?{containerWidth:R,containerHeight:$}:H})}},[T,y]),F=O.useMemo(function(){var J=N.containerWidth,R=N.containerHeight;if(J<0||R<0)return null;Uc($u(s)||$u(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,o),Uc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=$u(s)?J:s,H=$u(o)?R:o;return r&&r>0&&($?H=$/r:H&&($=H*r),h&&H>h&&(H=h)),Uc($>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,H,s,o,u,f,r),O.cloneElement(m,{width:$,height:H})},[r,m,o,h,f,u,N,s]);O.useEffect(function(){var J=T();J&&k(J)},[T]);var z={width:s,height:o,minWidth:u,minHeight:f,maxHeight:h};return Re.createElement(CB,{handleWidth:!0,handleHeight:!0,onResize:I,targetRef:C,refreshMode:p>0?"debounce":void 0,refreshRate:p},Re.createElement("div",Xb({},w!=null?{id:"".concat(w)}:{},{className:Nn("recharts-responsive-container",v),style:z,ref:C}),F))}),j0=function(t){return null};j0.displayName="Cell";var xm={exports:{}},Hy,X_;function TB(){if(X_)return Hy;X_=1;var e=40,t=41,r=39,a=34,s=92,i=47,o=44,l=58,u=42;return Hy=function(f){for(var h=[],m=f,x,p,w,v,y,S,A,N=0,k=m.charCodeAt(N),C=m.length,T=[{nodes:h}],I=0,F,z="",J="",R="";N<C;)if(k<=32){x=N;do x+=1,k=m.charCodeAt(x);while(k<=32);v=m.slice(N,x),w=h[h.length-1],k===t&&I?R=v:w&&w.type==="div"?w.after=v:k===o||k===l||k===i&&m.charCodeAt(x+1)!==u?J=v:h.push({type:"space",sourceIndex:N,value:v}),N=x}else if(k===r||k===a){x=N,p=k===r?"'":'"',v={type:"string",sourceIndex:N,quote:p};do if(y=!1,x=m.indexOf(p,x+1),~x)for(S=x;m.charCodeAt(S-1)===s;)S-=1,y=!y;else m+=p,x=m.length-1,v.unclosed=!0;while(y);v.value=m.slice(N+1,x),h.push(v),N=x+1,k=m.charCodeAt(N)}else if(k===i&&m.charCodeAt(N+1)===u)v={type:"comment",sourceIndex:N},x=m.indexOf("*/",N),x===-1&&(v.unclosed=!0,x=m.length),v.value=m.slice(N+2,x),h.push(v),N=x+2,k=m.charCodeAt(N);else if(k===i||k===o||k===l)v=m[N],h.push({type:"div",sourceIndex:N-J.length,value:v,before:J,after:""}),J="",N+=1,k=m.charCodeAt(N);else if(e===k){x=N;do x+=1,k=m.charCodeAt(x);while(k<=32);if(v={type:"function",sourceIndex:N-z.length,value:z,before:m.slice(N+1,x)},N=x,z==="url"&&k!==r&&k!==a){x-=1;do if(y=!1,x=m.indexOf(")",x+1),~x)for(S=x;m.charCodeAt(S-1)===s;)S-=1,y=!y;else m+=")",x=m.length-1,v.unclosed=!0;while(y);A=x;do A-=1,k=m.charCodeAt(A);while(k<=32);N!==A+1?v.nodes=[{type:"word",sourceIndex:N,value:m.slice(N,A+1)}]:v.nodes=[],v.unclosed&&A+1!==x?(v.after="",v.nodes.push({type:"space",sourceIndex:A+1,value:m.slice(A+1,x)})):v.after=m.slice(A+1,x),N=x+1,k=m.charCodeAt(N),h.push(v)}else I+=1,v.after="",h.push(v),T.push(v),h=v.nodes=[],F=v;z=""}else if(t===k&&I)N+=1,k=m.charCodeAt(N),F.after=R,R="",I-=1,T.pop(),F=T[I],h=F.nodes;else{x=N;do k===s&&(x+=1),x+=1,k=m.charCodeAt(x);while(x<C&&!(k<=32||k===r||k===a||k===o||k===l||k===i||k===e||k===t&&I));v=m.slice(N,x),e===k?z=v:h.push({type:"word",sourceIndex:N,value:v}),N=x}for(N=T.length-1;N;N-=1)T[N].unclosed=!0;return T[0].nodes},Hy}var Vy,J_;function MB(){return J_||(J_=1,Vy=function e(t,r,a){var s,i,o,l;for(s=0,i=t.length;s<i;s+=1)o=t[s],a||(l=r(o,s,t)),l!==!1&&o.type==="function"&&Array.isArray(o.nodes)&&e(o.nodes,r,a),a&&r(o,s,t)}),Vy}var Yy,Q_;function IB(){if(Q_)return Yy;Q_=1;function e(r,a){var s=r.type,i=r.value,o,l;return a&&(l=a(r))!==void 0?l:s==="word"||s==="space"?i:s==="string"?(o=r.quote||"",o+i+(r.unclosed?"":o)):s==="comment"?"/*"+i+(r.unclosed?"":"*/"):s==="div"?(r.before||"")+i+(r.after||""):Array.isArray(r.nodes)?(o=t(r.nodes),s!=="function"?o:i+"("+(r.before||"")+o+(r.after||"")+(r.unclosed?"":")")):i}function t(r,a){var s,i;if(Array.isArray(r)){for(s="",i=r.length-1;~i;i-=1)s=e(r[i],a)+s;return s}return e(r,a)}return Yy=t,Yy}var Gy,Z_;function DB(){if(Z_)return Gy;Z_=1;var e=45,t=43,r=46,a=101,s=69;return Gy=function(i){for(var o=0,l=i.length,u=!1,f=-1,h=!1,m;o<l;){if(m=i.charCodeAt(o),m>=48&&m<=57)h=!0;else if(m===a||m===s){if(f>-1)break;f=o}else if(m===r){if(u)break;u=!0}else if(m===t||m===e){if(o!==0)break}else break;o+=1}return f+1===o&&o--,h?{number:i.slice(0,o),unit:i.slice(o)}:!1},Gy}var Ky,e6;function FB(){if(e6)return Ky;e6=1;var e=TB(),t=MB(),r=IB();function a(s){return this instanceof a?(this.nodes=e(s),this):new a(s)}return a.prototype.toString=function(){return Array.isArray(this.nodes)?r(this.nodes):""},a.prototype.walk=function(s,i){return t(this.nodes,s,i),this},a.unit=DB(),a.walk=t,a.stringify=r,Ky=a,Ky}function $B(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xy={},t6;function BB(){return t6||(t6=1,(function(e){var t=(function(){function r(x,p){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),x==null&&(x="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:x}),this.hash=p;var w;if(p&&p.exception instanceof Error){var v=p.exception;this.message=v.message||x,w=v.stack}w||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):w=new Error(x).stack),w&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:w})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(r.prototype,Error.prototype):r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.name="JisonParserError";function a(x){for(var p=[],w=x.pop,v=x.rule,y=0,S=w.length;y<S;y++)p.push([w[y],v[y]]);return p}function s(x){for(var p={},w=x.idx,v=x.goto,y=0,S=w.length;y<S;y++){var A=w[y];p[A]=v[y]}return p}function i(x){for(var p=[],w=x.len,v=x.symbol,y=x.type,S=x.state,A=x.mode,N=x.goto,k=0,C=w.length;k<C;k++){for(var T=w[k],I={},F=0;F<T;F++){var z=v.shift();switch(y.shift()){case 2:I[z]=[A.shift(),N.shift()];break;case 0:I[z]=S.shift();break;default:I[z]=[3]}}p.push(I)}return p}function o(x,p,w){w=w||0;for(var v=0;v<p;v++)this.push(x),x+=w}function l(x,p){for(x=this.length-x,p+=x;x<p;x++)this.push(this[x])}function u(x){for(var p=[],w=0,v=x.length;w<v;w++){var y=x[w];typeof y=="function"?(w++,y.apply(p,x[w])):p.push(y)}return p}var f={trace:function(){},JisonParserError:r,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(p){return'"'+p+'"'},getSymbolName:function(p){if(this.terminals_[p])return this.terminals_[p];var w=this.symbols_;for(var v in w)if(w[v]===p)return v;return null},describeSymbol:function(p){if(p!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[p])return this.terminal_descriptions_[p];if(p===this.EOF)return"end of input";var w=this.getSymbolName(p);return w?this.quoteName(w):null},collect_expected_token_set:function(p,w){var v=this.TERROR,y=[],S={};if(!w&&this.state_descriptions_&&this.state_descriptions_[p])return[this.state_descriptions_[p]];for(var A in this.table[p])if(A=+A,A!==v){var N=w?A:this.describeSymbol(A);N&&!S[N]&&(y.push(N),S[N]=!0)}return y},productions_:a({pop:u([29,o,[30,10],31,31,32,32,o,[33,15]]),rule:u([2,o,[3,5],4,7,o,[1,4],2,4,6,o,[1,14],2])}),performAction:function(p,w,v){var y=this.yy;switch(y.parser,y.lexer,p){case 0:this.$=v[w-1];break;case 1:return this.$=v[w-1],v[w-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:v[w-1],left:v[w-2],right:v[w]};break;case 6:this.$=v[w-1];break;case 7:this.$={type:"Calc",value:v[w-1]};break;case 8:this.$={type:"Calc",value:v[w-1],prefix:v[w-5]};break;case 9:case 10:case 11:this.$=v[w];break;case 12:this.$={type:"Value",value:parseFloat(v[w])};break;case 13:this.$={type:"Value",value:parseFloat(v[w])*-1};break;case 14:this.$={type:"CssVariable",value:v[w-1]};break;case 15:this.$={type:"CssVariable",value:v[w-3],fallback:v[w-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(v[w]),unit:/[a-z]+/.exec(v[w])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(v[w]),unit:/[a-z]+/.exec(v[w])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(v[w]),unit:/[a-z]+/.exec(v[w])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(v[w]),unit:/[a-z]+/.exec(v[w])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(v[w]),unit:/[a-z]+/.exec(v[w])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(v[w]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(v[w]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(v[w]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(v[w]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(v[w]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(v[w]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(v[w]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(v[w]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(v[w]),unit:"%"};break;case 30:var S=v[w];S.value*=-1,this.$=S;break}},table:i({len:u([24,1,5,23,1,18,o,[0,3],1,o,[0,16],o,[23,4],l,[28,3],0,0,16,1,6,6,o,[0,3],5,1,2,l,[37,3],l,[20,3],5,0,0]),symbol:u([4,7,9,11,12,o,[15,19,1],1,1,o,[3,4,1],l,[30,19],l,[29,4],7,4,10,11,l,[22,14],l,[19,3],l,[43,22],l,[23,69],l,[139,4],8,l,[51,24],4,l,[138,15],13,l,[186,5],8,l,[6,6],l,[5,5],9,8,14,l,[159,47],l,[60,10]]),type:u([o,[2,19],o,[0,5],1,o,[2,24],o,[0,4],l,[22,19],l,[43,42],l,[23,70],l,[28,25],l,[45,25],l,[113,54]]),state:u([1,2,8,6,7,30,l,[4,3],33,37,l,[5,3],38,l,[4,3],39,l,[4,3],40,l,[4,3],42,l,[21,4],50,l,[5,3],51,l,[4,3]]),mode:u([o,[1,179],o,[2,3],l,[5,5],l,[6,4],o,[1,57]]),goto:u([5,3,4,24,o,[9,15,1],o,[25,5,1],l,[24,19],31,35,32,34,l,[18,14],36,l,[38,19],l,[19,57],l,[118,4],41,l,[24,19],43,35,l,[16,14],44,o,[2,3],28,29,2,o,[3,3],28,29,3,l,[53,4],o,[45,5,1],l,[100,42],52,l,[5,4],53])}),defaultActions:s({idx:u([6,7,8,o,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:u([9,10,11,o,[16,14,1],12,1,30,13,o,[4,4,1],14,15,8])}),parseError:function(p,w,v){if(w.recoverable)typeof this.trace=="function"&&this.trace(p),w.destroy();else throw typeof this.trace=="function"&&this.trace(p),v||(v=this.JisonParserError),new v(p,w)},parse:function(p){var w=this,v=new Array(128),y=new Array(128),S=new Array(128),A=this.table,N=0,k=0;this.TERROR;var C=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var T=[0,54],I;this.__lexer__?I=this.__lexer__:I=this.__lexer__=Object.create(this.lexer);var F={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return F};function z(de,re){for(var Q in re)typeof de[Q]>"u"&&Object.prototype.hasOwnProperty.call(re,Q)&&(de[Q]=re[Q])}z(F,this.yy),F.lexer=I,F.parser=this,typeof F.parseError=="function"?this.parseError=function(re,Q,Ne){return Ne||(Ne=this.JisonParserError),F.parseError.call(this,re,Q,Ne)}:this.parseError=this.originalParseError,typeof F.quoteName=="function"?this.quoteName=function(re){return F.quoteName.call(this,re)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(re,Q,Ne){var he;if(Q){var we;(F.post_parse||this.post_parse)&&(we=this.constructParseErrorInfo(null,null,null,!1)),F.post_parse&&(he=F.post_parse.call(this,F,re,we),typeof he<"u"&&(re=he)),this.post_parse&&(he=this.post_parse.call(this,F,re,we),typeof he<"u"&&(re=he)),we&&we.destroy&&we.destroy()}if(this.__reentrant_call_depth>1)return re;if(I.cleanupAfterLex&&I.cleanupAfterLex(Ne),F&&(F.lexer=void 0,F.parser=void 0,I.yy===F&&(I.yy=void 0)),F=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,v.length=0,y.length=0,S.length=0,N=0,!Ne){for(var be=this.__error_infos.length-1;be>=0;be--){var Z=this.__error_infos[be];Z&&typeof Z.destroy=="function"&&Z.destroy()}this.__error_infos.length=0}return re},this.constructParseErrorInfo=function(re,Q,Ne,he){var we={errStr:re,exception:Q,text:I.match,value:I.yytext,token:this.describeSymbol(k)||k,token_id:k,line:I.yylineno,expected:Ne,recoverable:he,state:H,action:B,new_state:oe,symbol_stack:v,state_stack:y,value_stack:S,stack_pointer:N,yy:F,lexer:I,parser:this,destroy:function(){var Z=!!this.recoverable;for(var Xe in this)this.hasOwnProperty(Xe)&&typeof Xe=="object"&&(this[Xe]=void 0);this.recoverable=Z}};return this.__error_infos.push(we),we};function J(){var de=I.lex();return typeof de!="number"&&(de=w.symbols_[de]||de),de||C}function R(){var de=I.fastLex();return typeof de!="number"&&(de=w.symbols_[de]||de),de||C}var $=J,H,B,ce,se,xe={$:!0,_$:void 0,yy:F},te,ee,G,oe,q=!1;try{if(this.__reentrant_call_depth++,I.setInput(p,F),typeof I.canIUse=="function"){var U=I.canIUse();U.fastLex&&typeof R=="function"&&($=R)}for(S[N]=null,y[N]=0,v[N]=0,++N,this.pre_parse&&this.pre_parse.call(this,F),F.pre_parse&&F.pre_parse.call(this,F),oe=y[N-1];;){if(H=oe,this.defaultActions[H])B=2,oe=this.defaultActions[H];else if(k||(k=$()),se=A[H]&&A[H][k]||T,oe=se[1],B=se[0],!B){var V,ie=this.describeSymbol(k)||k,me=this.collect_expected_token_set(H);typeof I.yylineno=="number"?V="Parse error on line "+(I.yylineno+1)+": ":V="Parse error: ",typeof I.showPosition=="function"&&(V+=`
`+I.showPosition(69,10)+`
`),me.length?V+="Expecting "+me.join(", ")+", got unexpected "+ie:V+="Unexpected "+ie,te=this.constructParseErrorInfo(V,null,me,!1),ce=this.parseError(te.errStr,te,this.JisonParserError),typeof ce<"u"&&(q=ce);break}switch(B){default:if(B instanceof Array){te=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+H+", token: "+k,null,null,!1),ce=this.parseError(te.errStr,te,this.JisonParserError),typeof ce<"u"&&(q=ce);break}te=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),ce=this.parseError(te.errStr,te,this.JisonParserError),typeof ce<"u"&&(q=ce);break;case 1:v[N]=k,S[N]=I.yytext,y[N]=oe,++N,k=0;continue;case 2:if(G=this.productions_[oe-1],ee=G[1],ce=this.performAction.call(xe,oe,N-1,S),typeof ce<"u"){q=ce;break}N-=ee;var W=G[0];v[N]=W,S[N]=xe.$,oe=A[y[N-1]][W],y[N]=oe,++N;continue;case 3:N!==-2&&(q=!0,N--,typeof S[N]<"u"&&(q=S[N]));break}break}}catch(de){if(de instanceof this.JisonParserError)throw de;if(I&&typeof I.JisonLexerError=="function"&&de instanceof I.JisonLexerError)throw de;te=this.constructParseErrorInfo("Parsing aborted due to exception.",de,null,!1),q=!1,ce=this.parseError(te.errStr,te,this.JisonParserError),typeof ce<"u"&&(q=ce)}finally{q=this.cleanupAfterParse(q,!0,!0),this.__reentrant_call_depth--}return q}};f.originalParseError=f.parseError,f.originalQuoteName=f.quoteName;var h=(function(){function x(w,v){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),w==null&&(w="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:w}),this.hash=v;var y;if(v&&v.exception instanceof Error){var S=v.exception;this.message=S.message||w,y=S.stack}y||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):y=new Error(w).stack),y&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:y})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(x.prototype,Error.prototype):x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x.prototype.name="JisonLexerError";var p={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(v,y,S){if(v=""+v,S==null&&(S=!(v.indexOf(`
`)>0&&v.indexOf("^")>0)),this.yylloc&&S){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(v)||(v+=`
`),v+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var A=this.showPosition();A&&(v.length&&v[v.length-1]!==`
`&&A[0]!==`
`?v+=`
`+A:v+=A)}}var N={errStr:v,recoverable:!!y,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var C=!!this.recoverable;for(var T in this)this.hasOwnProperty(T)&&typeof T=="object"&&(this[T]=void 0);this.recoverable=C}};return this.__error_infos.push(N),N},parseError:function(v,y,S){if(S||(S=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,v,y,S)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,v,y,S)||this.ERROR}throw new S(v,y)},yyerror:function(v){var y="";this.yylloc&&(y=" on line "+(this.yylineno+1));var S=this.constructLexErrorInfo("Lexical error"+y+": "+v,this.options.lexerErrorsAreRecoverable),A=Array.prototype.slice.call(arguments,1);return A.length&&(S.extra_error_attributes=A),this.parseError(S.errStr,S,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(v){if(this.setInput("",{}),!v){for(var y=this.__error_infos.length-1;y>=0;y--){var S=this.__error_infos[y];S&&typeof S.destroy=="function"&&S.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var v=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:v,last_line:this.yylineno+1,last_column:v,range:[this.offset,this.offset]}},setInput:function(v,y){if(this.yy=y||this.yy||{},!this.__decompressed){for(var S=this.rules,A=0,N=S.length;A<N;A++){var k=S[A];typeof k=="number"&&(S[A]=S[k])}var C=this.conditions;for(var T in C){for(var I=C[T],F=I.rules,N=F.length,z=new Array(N+1),J=new Array(N+1),A=0;A<N;A++){var R=F[A],k=S[R];z[A+1]=k,J[A+1]=R}I.rules=J,I.__rule_regexes=z,I.__rule_count=N}this.__decompressed=!0}return this._input=v||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(v,y){var S=v.call(this,this._input,y);return typeof S!="string"?S&&(this._input=""+S):this._input=S,this},input:function(){if(!this._input)return null;var v=this._input[0];this.yytext+=v,this.yyleng++,this.offset++,this.match+=v,this.matched+=v;var y=1,S=!1;if(v===`
`)S=!0;else if(v==="\r"){S=!0;var A=this._input[1];A===`
`&&(y++,v+=A,this.yytext+=A,this.yyleng++,this.offset++,this.match+=A,this.matched+=A,this.yylloc.range[1]++)}return S?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(y),v},unput:function(v){var y=v.length,S=v.split(/(?:\r\n?|\n)/g);if(this._input=v+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-y),this.yyleng=this.yytext.length,this.offset-=y,this.match=this.match.substr(0,this.match.length-y),this.matched=this.matched.substr(0,this.matched.length-y),S.length>1){this.yylineno-=S.length-1,this.yylloc.last_line=this.yylineno+1;var A=this.match,N=A.split(/(?:\r\n?|\n)/g);N.length===1&&(A=this.matched,N=A.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=N[N.length-1].length}else this.yylloc.last_column-=y;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var v="";this.yylloc&&(v=" on line "+(this.yylineno+1));var y=this.constructLexErrorInfo("Lexical error"+v+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(y.errStr,y,this.JisonLexerError)||this.ERROR}return this},less:function(v){return this.unput(this.match.slice(v))},pastInput:function(v,y){var S=this.matched.substring(0,this.matched.length-this.match.length);v<0?v=S.length:v||(v=20),y<0?y=S.length:y||(y=1),S=S.substr(-v*2-2);var A=S.replace(/\r\n|\r/g,`
`).split(`
`);return A=A.slice(-y),S=A.join(`
`),S.length>v&&(S="..."+S.substr(-v)),S},upcomingInput:function(v,y){var S=this.match;v<0?v=S.length+this._input.length:v||(v=20),y<0?y=v:y||(y=1),S.length<v*2+2&&(S+=this._input.substring(0,v*2+2));var A=S.replace(/\r\n|\r/g,`
`).split(`
`);return A=A.slice(0,y),S=A.join(`
`),S.length>v&&(S=S.substring(0,v)+"..."),S},showPosition:function(v,y){var S=this.pastInput(v).replace(/\s/g," "),A=new Array(S.length+1).join("-");return S+this.upcomingInput(y).replace(/\s/g," ")+`
`+A+"^"},deriveLocationInfo:function(v,y,S,A){var N={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return v&&(N.first_line=v.first_line|0,N.last_line=v.last_line|0,N.first_column=v.first_column|0,N.last_column=v.last_column|0,v.range&&(N.range[0]=v.range[0]|0,N.range[1]=v.range[1]|0)),(N.first_line<=0||N.last_line<N.first_line)&&(N.first_line<=0&&y&&(N.first_line=y.last_line|0,N.first_column=y.last_column|0,y.range&&(N.range[0]=v.range[1]|0)),(N.last_line<=0||N.last_line<N.first_line)&&S&&(N.last_line=S.first_line|0,N.last_column=S.first_column|0,S.range&&(N.range[1]=v.range[0]|0)),N.first_line<=0&&A&&(N.last_line<=0||A.last_line<=N.last_line)&&(N.first_line=A.first_line|0,N.first_column=A.first_column|0,A.range&&(N.range[0]=A.range[0]|0)),N.last_line<=0&&A&&(N.first_line<=0||A.first_line>=N.first_line)&&(N.last_line=A.last_line|0,N.last_column=A.last_column|0,A.range&&(N.range[1]=A.range[1]|0))),N.last_line<=0&&(N.first_line<=0?(N.first_line=this.yylloc.first_line,N.last_line=this.yylloc.last_line,N.first_column=this.yylloc.first_column,N.last_column=this.yylloc.last_column,N.range[0]=this.yylloc.range[0],N.range[1]=this.yylloc.range[1]):(N.last_line=this.yylloc.last_line,N.last_column=this.yylloc.last_column,N.range[1]=this.yylloc.range[1])),N.first_line<=0&&(N.first_line=N.last_line,N.first_column=0,N.range[1]=N.range[0]),N.first_column<0&&(N.first_column=0),N.last_column<0&&(N.last_column=N.first_column>0?N.first_column:80),N},prettyPrintRange:function(v,y,S){v=this.deriveLocationInfo(v,y,S);const A=3,N=1,k=2;var C=this.matched+this._input,T=C.split(`
`),I=Math.max(1,y?y.first_line:v.first_line-A),F=Math.max(1,S?S.last_line:v.last_line+N),z=1+Math.log10(F|1)|0,J=new Array(z).join(" "),R=[],$=T.slice(I-1,F+1).map(function(xe,te){var ee=te+I,G=(J+ee).substr(-z),oe=G+": "+xe,q=new Array(z+1).join("^"),U=3,V=0;if(ee===v.first_line?(U+=v.first_column,V=Math.max(2,(ee===v.last_line?v.last_column:xe.length)-v.first_column+1)):ee===v.last_line?V=Math.max(2,v.last_column+1):ee>v.first_line&&ee<v.last_line&&(V=Math.max(2,xe.length+1)),V){var ie=new Array(U).join("."),me=new Array(V).join("^");oe+=`
`+q+ie+me,xe.trim().length>0&&R.push(te)}return oe=oe.replace(/\t/g," "),oe});if(R.length>2*k){var H=R[k-1]+1,B=R[R.length-k]-1,ce=new Array(z+1).join(" ")+"  (...continued...)";ce+=`
`+new Array(z+1).join("-")+"  (---------------)",$.splice(H,B-H+1,ce)}return $.join(`
`)},describeYYLLOC:function(v,y){var S=v.first_line,A=v.last_line,N=v.first_column,k=v.last_column,C=A-S,T=k-N,I;if(C===0?(I="line "+S+", ",T<=1?I+="column "+N:I+="columns "+N+" .. "+k):I="lines "+S+"(column "+N+") .. "+A+"(column "+k+")",v.range&&y){var F=v.range[0],z=v.range[1]-1;z<=F?I+=" {String Offset: "+F+"}":I+=" {String Offset range: "+F+" .. "+z+"}"}return I},test_match:function(v,y){var S,A,N,k,C;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),k=v[0],C=k.length,A=k.split(/(?:\r\n?|\n)/g),A.length>1?(this.yylineno+=A.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=A[A.length-1].length):this.yylloc.last_column+=C,this.yytext+=k,this.match+=k,this.matched+=k,this.matches=v,this.yyleng=this.yytext.length,this.yylloc.range[1]+=C,this.offset+=C,this._more=!1,this._backtrack=!1,this._input=this._input.slice(C),S=this.performAction.call(this,this.yy,y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),S)return S;if(this._backtrack){for(var T in N)this[T]=N[T];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return S=this._signaled_error_token,this._signaled_error_token=!1,S;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var v,y,S,A;this._more||this.clear();var N=this.__currentRuleSet__;if(!N&&(N=this.__currentRuleSet__=this._currentRules(),!N||!N.rules)){var k="";this.options.trackPosition&&(k=" on line "+(this.yylineno+1));var C=this.constructLexErrorInfo("Internal lexer engine error"+k+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(C.errStr,C,this.JisonLexerError)||this.ERROR}for(var T=N.rules,I=N.__rule_regexes,F=N.__rule_count,z=1;z<=F;z++)if(S=this._input.match(I[z]),S&&(!y||S[0].length>y[0].length)){if(y=S,A=z,this.options.backtrack_lexer){if(v=this.test_match(S,T[z]),v!==!1)return v;if(this._backtrack){y=void 0;continue}else return!1}else if(!this.options.flex)break}if(y)return v=this.test_match(y,T[A]),v!==!1?v:!1;if(this._input){var k="";this.options.trackPosition&&(k=" on line "+(this.yylineno+1));var C=this.constructLexErrorInfo("Lexical error"+k+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),J=this._input,R=this.topState(),$=this.conditionStack.length;return v=this.parseError(C.errStr,C,this.JisonLexerError)||this.ERROR,v===this.ERROR&&!this.matches&&J===this._input&&R===this.topState()&&$===this.conditionStack.length&&this.input(),v}else return this.done=!0,this.clear(),this.EOF},lex:function(){var v;for(typeof this.pre_lex=="function"&&(v=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(v=this.options.pre_lex.call(this,v)||v),this.yy&&typeof this.yy.pre_lex=="function"&&(v=this.yy.pre_lex.call(this,v)||v);!v;)v=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(v=this.yy.post_lex.call(this,v)||v),typeof this.options.post_lex=="function"&&(v=this.options.post_lex.call(this,v)||v),typeof this.post_lex=="function"&&(v=this.post_lex.call(this,v)||v),v},fastLex:function(){for(var v;!v;)v=this.next();return v},canIUse:function(){var v={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return v},begin:function(v){return this.pushState(v)},pushState:function(v){return this.conditionStack.push(v),this.__currentRuleSet__=null,this},popState:function(){var v=this.conditionStack.length-1;return v>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(v){return v=this.conditionStack.length-1-Math.abs(v||0),v>=0?this.conditionStack[v]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:x,performAction:function(v,y,S){switch(y){case 1:break;default:return this.simpleCaseActionClusters[y]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return p})();f.lexer=h;function m(){this.yy={}}return m.prototype=f,f.Parser=m,new m})();typeof $B<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(Xy)),Xy}var hh={},vm={exports:{}},Jy,r6;function UB(){if(r6)return Jy;r6=1;var e={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};return Jy=function(t,r,a,s){if(!e.hasOwnProperty(a))throw new Error("Cannot convert to "+a);if(!e[a].hasOwnProperty(r))throw new Error("Cannot convert from "+r+" to "+a);var i=e[a][r]*t;return s!==!1?(s=Math.pow(10,parseInt(s)||5),Math.round(i*s)/s):i},Jy}var n6;function qB(){return n6||(n6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=UB(),a=s(r);function s(l){return l&&l.__esModule?l:{default:l}}function i(l,u,f){switch(l.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return o(l,u,f);default:return{left:l,right:u}}}function o(l,u,f){return u.type===l.type&&(u={type:l.type,value:(0,a.default)(u.value,u.unit,l.unit,f),unit:l.unit}),{left:l,right:u}}t.default=i,e.exports=t.default})(vm,vm.exports)),vm.exports}var a6;function V7(){if(a6)return hh;a6=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.flip=l;var e=qB(),t=r(e);function r(p){return p&&p.__esModule?p:{default:p}}function a(p,w){return p.type==="MathExpression"?x(p,w):p.type==="Calc"?a(p.value,w):p}function s(p,w){return p.type===w.type&&p.value===w.value}function i(p){switch(p){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function o(p,w){var v=(0,t.default)(p.left,p.right,w),y=a(v.left,w),S=a(v.right,w);return y.type==="MathExpression"&&S.type==="MathExpression"&&(y.operator==="/"&&S.operator==="*"||y.operator==="-"&&S.operator==="+"||y.operator==="*"&&S.operator==="/"||y.operator==="+"&&S.operator==="-")&&(s(y.right,S.right)?v=(0,t.default)(y.left,S.left,w):s(y.right,S.left)&&(v=(0,t.default)(y.left,S.right,w)),y=a(v.left,w),S=a(v.right,w)),p.left=y,p.right=S,p}function l(p){return p==="+"?"-":"+"}function u(p){return i(p.type)?p.value=-p.value:p.type=="MathExpression"&&(p.left=u(p.left),p.right=u(p.right)),p}function f(p,w){var v=p,y=v.left,S=v.right,A=v.operator;if(y.type==="CssVariable"||S.type==="CssVariable")return p;if(S.value===0)return y;if(y.value===0&&A==="+")return S;if(y.value===0&&A==="-")return u(S);if(y.type===S.type&&i(y.type)&&(p=Object.assign({},y),A==="+"?p.value=y.value+S.value:p.value=y.value-S.value),i(y.type)&&(S.operator==="+"||S.operator==="-")&&S.type==="MathExpression"){if(y.type===S.left.type)return p=Object.assign({},p),p.left=a({type:"MathExpression",operator:A,left:y,right:S.left},w),p.right=S.right,p.operator=A==="-"?l(S.operator):S.operator,a(p,w);if(y.type===S.right.type)return p=Object.assign({},p),p.left=a({type:"MathExpression",operator:A==="-"?l(S.operator):S.operator,left:y,right:S.right},w),p.right=S.left,a(p,w)}if(y.type==="MathExpression"&&(y.operator==="+"||y.operator==="-")&&i(S.type)){if(S.type===y.left.type)return p=Object.assign({},y),p.left=a({type:"MathExpression",operator:A,left:y.left,right:S},w),a(p,w);if(S.type===y.right.type)return p=Object.assign({},y),y.operator==="-"?(p.right=a({type:"MathExpression",operator:A==="-"?"+":"-",left:S,right:y.right},w),p.operator=A==="-"?"-":"+"):p.right=a({type:"MathExpression",operator:A,left:y.right,right:S},w),p.right.value<0&&(p.right.value*=-1,p.operator=p.operator==="-"?"+":"-"),a(p,w)}return p}function h(p,w){if(!i(p.right.type))return p;if(p.right.type!=="Value")throw new Error('Cannot divide by "'+p.right.unit+'", number expected');if(p.right.value===0)throw new Error("Cannot divide by zero");return p.left.type==="MathExpression"?i(p.left.left.type)&&i(p.left.right.type)?(p.left.left.value/=p.right.value,p.left.right.value/=p.right.value,a(p.left,w)):p:i(p.left.type)?(p.left.value/=p.right.value,p.left):p}function m(p){if(p.left.type==="MathExpression"&&p.right.type==="Value"){if(i(p.left.left.type)&&i(p.left.right.type))return p.left.left.value*=p.right.value,p.left.right.value*=p.right.value,p.left}else{if(i(p.left.type)&&p.right.type==="Value")return p.left.value*=p.right.value,p.left;if(p.left.type==="Value"&&p.right.type==="MathExpression"){if(i(p.right.left.type)&&i(p.right.right.type))return p.right.left.value*=p.left.value,p.right.right.value*=p.left.value,p.right}else if(p.left.type==="Value"&&i(p.right.type))return p.right.value*=p.left.value,p.right}return p}function x(p,w){switch(p=o(p,w),p.operator){case"+":case"-":return f(p,w);case"/":return h(p,w);case"*":return m(p)}return p}return hh.default=a,hh}var ym={exports:{}},s6;function zB(){return s6||(s6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o,l,u){var f=i(l,u);return l.type==="MathExpression"&&(f=o+"("+f+")"),f};var r=V7(),a={"*":0,"/":0,"+":1,"-":1};function s(o,l){if(l!==!1){var u=Math.pow(10,l);return Math.round(o*u)/u}return o}function i(o,l){switch(o.type){case"MathExpression":{var u=o.left,f=o.right,h=o.operator,m="";return u.type==="MathExpression"&&a[h]<a[u.operator]?m+="("+i(u,l)+")":m+=i(u,l),m+=" "+o.operator+" ",f.type==="MathExpression"&&a[h]<a[f.operator]?m+="("+i(f,l)+")":(f.type==="MathExpression"&&h==="-"&&["+","-"].includes(f.operator)&&(f.operator=(0,r.flip)(f.operator)),m+=i(f,l)),m}case"Value":return s(o.value,l);case"CssVariable":return o.fallback?"var("+o.value+", "+i(o.fallback,l)+")":"var("+o.value+")";case"Calc":return o.prefix?"-"+o.prefix+"-calc("+i(o.value,l)+")":"calc("+i(o.value,l)+")";default:return s(o.value,l)+o.unit}}e.exports=t.default})(ym,ym.exports)),ym.exports}var i6;function WB(){return i6||(i6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=FB(),a=f(r),s=BB(),i=V7(),o=f(i),l=zB(),u=f(l);function f(m){return m&&m.__esModule?m:{default:m}}var h=/((?:\-[a-z]+\-)?calc)/;t.default=function(m){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,a.default)(m).walk(function(p){if(!(p.type!=="function"||!h.test(p.value))){var w=a.default.stringify(p.nodes);if(!(w.indexOf("constant")>=0||w.indexOf("env")>=0)){var v=s.parser.parse(w),y=(0,o.default)(v,x);p.type="word",p.value=(0,u.default)(p.value,y,x)}}},!0).toString()},e.exports=t.default})(xm,xm.exports)),xm.exports}var HB=WB();const Qy=Jr(HB);function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function l6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(a){VB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VB(e,t,r){return t=YB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=GB(e,"string");return zh(t)==="symbol"?t:String(t)}function GB(e,t){if(zh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(zh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c6(e){return QB(e)||JB(e)||XB(e)||KB()}function KB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XB(e,t){if(e){if(typeof e=="string")return Jb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jb(e,t)}}function JB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QB(e){if(Array.isArray(e))return Jb(e)}function Jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Ad={widthCache:{},cacheCount:0},ZB=2e3,eU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tU=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],u6="recharts_measurement_span";function rU(e,t){return tU.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function nU(e){var t=e.split(""),r=t.reduce(function(a,s){return s===s.toUpperCase()?[].concat(c6(a),["-",s.toLowerCase()]):[].concat(c6(a),[s])},[]);return r.join("")}var aU=function(t){return Object.keys(t).reduce(function(r,a){return"".concat(r).concat(nU(a),":").concat(rU(a,t[a]),";")},"")},Wu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Lf.isSsr)return{width:0,height:0};var a="".concat(t),s=aU(r),i="".concat(a,"-").concat(s);if(Ad.widthCache[i])return Ad.widthCache[i];try{var o=document.getElementById(u6);o||(o=document.createElement("span"),o.setAttribute("id",u6),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=l6(l6({},eU),r);Object.keys(l).map(function(h){return o.style[h]=l[h],h}),o.textContent=a;var u=o.getBoundingClientRect(),f={width:u.width,height:u.height};return Ad.widthCache[i]=f,++Ad.cacheCount>ZB&&(Ad.cacheCount=0,Ad.widthCache={}),f}catch{return{width:0,height:0}}},sU=function(t){var r=t.ownerDocument.documentElement,a={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(a=t.getBoundingClientRect()),{top:a.top+window.pageYOffset-r.clientTop,left:a.left+window.pageXOffset-r.clientLeft}},iU=function(t,r){return{chartX:Math.round(t.pageX-r.left),chartY:Math.round(t.pageY-r.top)}},oU=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qb.apply(this,arguments)}function lU(e,t){if(e==null)return{};var r=cU(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function cU(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function d6(e,t){return hU(e)||fU(e,t)||dU(e,t)||uU()}function uU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(e,t){if(e){if(typeof e=="string")return f6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f6(e,t)}}function f6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function fU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function hU(e){if(Array.isArray(e))return e}var Y7=/[ \f\n\r\t\v\u2028\u2029]+/,G7=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];ar(r)||(a?i=r.toString().split(""):i=r.toString().split(Y7));var o=i.map(function(u){return{word:u,width:Wu(u,s).width}}),l=a?0:Wu("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},mU=function(t,r,a,s,i){var o=t.maxLines,l=t.children,u=t.style,f=t.breakAll,h=yt(o),m=l,x=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ce.reduce(function(se,xe){var te=xe.word,ee=xe.width,G=se[se.length-1];if(G&&(s==null||i||G.width+ee+a<Number(s)))G.words.push(te),G.width+=ee+a;else{var oe={words:[te],width:ee};se.push(oe)}return se},[])},p=x(r),w=function(ce){return ce.reduce(function(se,xe){return se.width>xe.width?se:xe})};if(!h)return p;for(var v="",y=function(ce){var se=m.slice(0,ce),xe=G7({breakAll:f,style:u,children:se+v}).wordsWithComputedWidth,te=x(xe),ee=te.length>o||w(te).width>Number(s);return[ee,te]},S=0,A=m.length-1,N=0,k;S<=A&&N<=m.length-1;){var C=Math.floor((S+A)/2),T=C-1,I=y(T),F=d6(I,2),z=F[0],J=F[1],R=y(C),$=d6(R,1),H=$[0];if(!z&&!H&&(S=C+1),z&&H&&(A=C-1),!z&&H){k=J;break}N++}return k||p},h6=function(t){var r=ar(t)?[]:t.toString().split(Y7);return[{words:r}]},pU=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||a)&&!Lf.isSsr){var u,f,h=G7({breakAll:o,children:s,style:i});if(h){var m=h.wordsWithComputedWidth,x=h.spaceWidth;u=m,f=x}else return h6(s);return mU({breakAll:o,children:s,maxLines:l,style:i},u,f,r,a)}return h6(s)},K7={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"},Hc=function(t){var r=O.useMemo(function(){return pU({breakAll:t.breakAll,children:t.children,maxLines:t.maxLines,scaleToFit:t.scaleToFit,style:t.style,width:t.width})},[t.breakAll,t.children,t.maxLines,t.scaleToFit,t.style,t.width]),a=t.dx,s=t.dy,i=t.textAnchor,o=t.verticalAnchor,l=t.scaleToFit,u=t.angle,f=t.lineHeight,h=t.capHeight,m=t.className,x=t.breakAll,p=lU(t,oU);if(!Ma(p.x)||!Ma(p.y))return null;var w=p.x+(yt(a)?a:0),v=p.y+(yt(s)?s:0),y;switch(o){case"start":y=Qy("calc(".concat(h,")"));break;case"middle":y=Qy("calc(".concat((r.length-1)/2," * -").concat(f," + (").concat(h," / 2))"));break;default:y=Qy("calc(".concat(r.length-1," * -").concat(f,")"));break}var S=[];if(l){var A=r[0].width,N=t.width;S.push("scale(".concat((yt(N)?N/A:1)/A,")"))}return u&&S.push("rotate(".concat(u,", ").concat(w,", ").concat(v,")")),S.length&&(p.transform=S.join(" ")),Re.createElement("text",Qb({},mr(p,!0),{x:w,y:v,className:Nn("recharts-text",m),textAnchor:i,fill:p.fill.includes("url")?K7.fill:p.fill}),r.map(function(k,C){return Re.createElement("tspan",{x:w,dy:C===0?y:f,key:C},k.words.join(x?"":" "))}))};Hc.defaultProps=K7;var Zy,m6;function gU(){if(m6)return Zy;m6=1;var e=_5();function t(r,a){return e(r,a)}return Zy=t,Zy}var xU=gU();const M5=Jr(xU);var e2,p6;function mg(){if(p6)return e2;p6=1;var e=Pf();function t(r,a,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],u=a(l);if(u!=null&&(f===void 0?u===u&&!e(u):s(u,f)))var f=u,h=l}return h}return e2=t,e2}var t2,g6;function X7(){if(g6)return t2;g6=1;function e(t,r){return t>r}return t2=e,t2}var r2,x6;function vU(){if(x6)return r2;x6=1;var e=mg(),t=X7(),r=Ef();function a(s){return s&&s.length?e(s,r,t):void 0}return r2=a,r2}var yU=vU();const pg=Jr(yU);var n2,v6;function J7(){if(v6)return n2;v6=1;function e(t,r){return t<r}return n2=e,n2}var a2,y6;function bU(){if(y6)return a2;y6=1;var e=mg(),t=J7(),r=Ef();function a(s){return s&&s.length?e(s,r,t):void 0}return a2=a,a2}var wU=bU();const gg=Jr(wU);var s2,b6;function jU(){if(b6)return s2;b6=1;var e=x5(),t=il(),r=B7(),a=Hs();function s(i,o){var l=a(i)?e:r;return l(i,t(o,3))}return s2=s,s2}var i2,w6;function NU(){if(w6)return i2;w6=1;var e=F7(),t=jU();function r(a,s){return e(t(a,s),1)}return i2=r,i2}var SU=NU();const _U=Jr(SU);function qc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function I5(e){let t,r,a;e.length!==2?(t=qc,r=(l,u)=>qc(e(l),u),a=(l,u)=>e(l)-u):(t=e===qc||e===kU?e:AU,r=e,a=e);function s(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(l[m],u)<0?f=m+1:h=m}while(f<h)}return f}function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(l[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function o(l,u,f=0,h=l.length){const m=s(l,u,f,h-1);return m>f&&a(l[m-1],u)>-a(l[m],u)?m-1:m}return{left:s,center:o,right:i}}function AU(){return 0}function Q7(e){return e===null?NaN:+e}function*CU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const PU=I5(qc),N0=PU.right;I5(Q7).center;class j6 extends Map{constructor(t,r=OU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(N6(this,t))}has(t){return super.has(N6(this,t))}set(t,r){return super.set(EU(this,t),r)}delete(t){return super.delete(LU(this,t))}}function N6({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function EU({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function LU({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function OU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RU(e=qc){if(e===qc)return Z7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function Z7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TU=Math.sqrt(50),MU=Math.sqrt(10),IU=Math.sqrt(2);function up(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=TU?10:i>=MU?5:i>=IU?2:1;let l,u,f;return s<0?(f=Math.pow(10,-s)/o,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,s)*o,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=r&&r<2?up(e,t,r*2):[l,u,f]}function Zb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?up(t,e,r):up(e,t,r);if(!(i>=s))return[];const l=i-s+1,u=new Array(l);if(a)if(o<0)for(let f=0;f<l;++f)u[f]=(i-f)/-o;else for(let f=0;f<l;++f)u[f]=(i-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(s+f)/-o;else for(let f=0;f<l;++f)u[f]=(s+f)*o;return u}function ew(e,t,r){return t=+t,e=+e,r=+r,up(e,t,r)[2]}function tw(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?ew(t,e,r):ew(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function S6(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function _6(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function eP(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?Z7:RU(s);a>r;){if(a-r>600){const u=a-r+1,f=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*m*(u-m)/u)*(f-u/2<0?-1:1),p=Math.max(r,Math.floor(t-f*m/u+x)),w=Math.min(a,Math.floor(t+(u-f)*m/u+x));eP(e,t,p,w,s)}const i=e[t];let o=r,l=a;for(mh(e,r,t),s(e[a],i)>0&&mh(e,r,a);o<l;){for(mh(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?mh(e,r,l):(++l,mh(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function mh(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function DU(e,t,r){if(e=Float64Array.from(CU(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return _6(e);if(t>=1)return S6(e);var a,s=(a-1)*t,i=Math.floor(s),o=S6(eP(e,i).subarray(0,i+1)),l=_6(e.subarray(i+1));return o+(l-o)*(s-i)}}function FU(e,t,r=Q7){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function $U(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function no(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rw=Symbol("implicit");function D5(){var e=new j6,t=[],r=[],a=rw;function s(i){let o=e.get(i);if(o===void 0){if(a!==rw)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new j6;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return D5(t,r).unknown(a)},no.apply(s,arguments),s}function Wh(){var e=D5().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,o,l=!1,u=0,f=0,h=.5;delete e.unknown;function m(){var x=t().length,p=s<a,w=p?s:a,v=p?a:s;i=(v-w)/Math.max(1,x-u+f*2),l&&(i=Math.floor(i)),w+=(v-w-i*(x-u))*h,o=i*(1-u),l&&(w=Math.round(w),o=Math.round(o));var y=$U(x).map(function(S){return w+i*S});return r(p?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([a,s]=x,a=+a,s=+s,m()):[a,s]},e.rangeRound=function(x){return[a,s]=x,a=+a,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(x){return arguments.length?(l=!!x,m()):l},e.padding=function(x){return arguments.length?(u=Math.min(1,f=+x),m()):u},e.paddingInner=function(x){return arguments.length?(u=Math.min(1,x),m()):u},e.paddingOuter=function(x){return arguments.length?(f=+x,m()):f},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),m()):h},e.copy=function(){return Wh(t(),[a,s]).round(l).paddingInner(u).paddingOuter(f).align(h)},no.apply(m(),arguments)}function tP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tP(t())},e}function Ph(){return tP(Wh.apply(null,arguments).paddingInner(1))}function F5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function rP(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function S0(){}var Hh=.7,dp=1/Hh,qd="\\s*([+-]?\\d+)\\s*",Vh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BU=/^#([0-9a-f]{3,8})$/,UU=new RegExp(`^rgb\\(${qd},${qd},${qd}\\)$`),qU=new RegExp(`^rgb\\(${rl},${rl},${rl}\\)$`),zU=new RegExp(`^rgba\\(${qd},${qd},${qd},${Vh}\\)$`),WU=new RegExp(`^rgba\\(${rl},${rl},${rl},${Vh}\\)$`),HU=new RegExp(`^hsl\\(${Vh},${rl},${rl}\\)$`),VU=new RegExp(`^hsla\\(${Vh},${rl},${rl},${Vh}\\)$`),k6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F5(S0,Yh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:A6,formatHex:A6,formatHex8:YU,formatHsl:GU,formatRgb:C6,toString:C6});function A6(){return this.rgb().formatHex()}function YU(){return this.rgb().formatHex8()}function GU(){return nP(this).formatHsl()}function C6(){return this.rgb().formatRgb()}function Yh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=BU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?P6(t):r===3?new hi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UU.exec(e))?new hi(t[1],t[2],t[3],1):(t=qU.exec(e))?new hi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zU.exec(e))?bm(t[1],t[2],t[3],t[4]):(t=WU.exec(e))?bm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HU.exec(e))?O6(t[1],t[2]/100,t[3]/100,1):(t=VU.exec(e))?O6(t[1],t[2]/100,t[3]/100,t[4]):k6.hasOwnProperty(e)?P6(k6[e]):e==="transparent"?new hi(NaN,NaN,NaN,0):null}function P6(e){return new hi(e>>16&255,e>>8&255,e&255,1)}function bm(e,t,r,a){return a<=0&&(e=t=r=NaN),new hi(e,t,r,a)}function KU(e){return e instanceof S0||(e=Yh(e)),e?(e=e.rgb(),new hi(e.r,e.g,e.b,e.opacity)):new hi}function nw(e,t,r,a){return arguments.length===1?KU(e):new hi(e,t,r,a??1)}function hi(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}F5(hi,nw,rP(S0,{brighter(e){return e=e==null?dp:Math.pow(dp,e),new hi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hh:Math.pow(Hh,e),new hi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hi(Hu(this.r),Hu(this.g),Hu(this.b),fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E6,formatHex:E6,formatHex8:XU,formatRgb:L6,toString:L6}));function E6(){return`#${Bu(this.r)}${Bu(this.g)}${Bu(this.b)}`}function XU(){return`#${Bu(this.r)}${Bu(this.g)}${Bu(this.b)}${Bu((isNaN(this.opacity)?1:this.opacity)*255)}`}function L6(){const e=fp(this.opacity);return`${e===1?"rgb(":"rgba("}${Hu(this.r)}, ${Hu(this.g)}, ${Hu(this.b)}${e===1?")":`, ${e})`}`}function fp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bu(e){return e=Hu(e),(e<16?"0":"")+e.toString(16)}function O6(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new No(e,t,r,a)}function nP(e){if(e instanceof No)return new No(e.h,e.s,e.l,e.opacity);if(e instanceof S0||(e=Yh(e)),!e)return new No;if(e instanceof No)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,l=i-s,u=(i+s)/2;return l?(t===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+s:2-i-s,o*=60):l=u>0&&u<1?0:o,new No(o,l,u,e.opacity)}function JU(e,t,r,a){return arguments.length===1?nP(e):new No(e,t,r,a??1)}function No(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}F5(No,JU,rP(S0,{brighter(e){return e=e==null?dp:Math.pow(dp,e),new No(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hh:Math.pow(Hh,e),new No(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new hi(o2(e>=240?e-240:e+120,s,a),o2(e,s,a),o2(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new No(R6(this.h),wm(this.s),wm(this.l),fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fp(this.opacity);return`${e===1?"hsl(":"hsla("}${R6(this.h)}, ${wm(this.s)*100}%, ${wm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R6(e){return e=(e||0)%360,e<0?e+360:e}function wm(e){return Math.max(0,Math.min(1,e||0))}function o2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $5=e=>()=>e;function QU(e,t){return function(r){return e+r*t}}function ZU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function eq(e){return(e=+e)==1?aP:function(t,r){return r-t?ZU(t,r,e):$5(isNaN(t)?r:t)}}function aP(e,t){var r=t-e;return r?QU(e,r):$5(isNaN(e)?t:e)}const T6=(function e(t){var r=eq(t);function a(s,i){var o=r((s=nw(s)).r,(i=nw(i)).r),l=r(s.g,i.g),u=r(s.b,i.b),f=aP(s.opacity,i.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=u(h),s.opacity=f(h),s+""}}return a.gamma=e,a})(1);function tq(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function rq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nq(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)s[o]=Of(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function aq(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function hp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sq(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Of(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var aw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l2=new RegExp(aw.source,"g");function iq(e){return function(){return e}}function oq(e){return function(t){return e(t)+""}}function lq(e,t){var r=aw.lastIndex=l2.lastIndex=0,a,s,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(a=aw.exec(e))&&(s=l2.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:hp(a,s)})),r=l2.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?oq(u[0].x):iq(t):(t=u.length,function(f){for(var h=0,m;h<t;++h)l[(m=u[h]).i]=m.x(f);return l.join("")})}function Of(e,t){var r=typeof t,a;return t==null||r==="boolean"?$5(t):(r==="number"?hp:r==="string"?(a=Yh(t))?(t=a,T6):lq:t instanceof Yh?T6:t instanceof Date?aq:rq(t)?tq:Array.isArray(t)?nq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sq:hp)(e,t)}function B5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cq(e,t){t===void 0&&(t=e,e=Of);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function uq(e){return function(){return e}}function mp(e){return+e}var M6=[0,1];function Ws(e){return e}function sw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uq(isNaN(t)?NaN:.5)}function dq(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function fq(e,t,r){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=sw(s,a),i=r(o,i)):(a=sw(a,s),i=r(i,o)),function(l){return i(a(l))}}function hq(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=sw(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=N0(e,l,1,a)-1;return i[u](s[u](l))}}function _0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xg(){var e=M6,t=M6,r=Of,a,s,i,o=Ws,l,u,f;function h(){var x=Math.min(e.length,t.length);return o!==Ws&&(o=dq(e[0],e[x-1])),l=x>2?hq:fq,u=f=null,m}function m(x){return x==null||isNaN(x=+x)?i:(u||(u=l(e.map(a),t,r)))(a(o(x)))}return m.invert=function(x){return o(s((f||(f=l(t,e.map(a),hp)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,mp),h()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=B5,h()},m.clamp=function(x){return arguments.length?(o=x?!0:Ws,h()):o!==Ws},m.interpolate=function(x){return arguments.length?(r=x,h()):r},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,p){return a=x,s=p,h()}}function U5(){return xg()(Ws,Ws)}function mq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function sf(e){return e=pp(Math.abs(e)),e?e[1]:NaN}function pq(e,t){return function(r,a){for(var s=r.length,i=[],o=0,l=e[0],u=0;s>0&&l>0&&(u+l+1>a&&(l=Math.max(1,a-u)),i.push(r.substring(s-=l,s+l)),!((u+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function gq(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gh(e){if(!(t=xq.exec(e)))throw new Error("invalid format: "+e);var t;return new q5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gh.prototype=q5.prototype;function q5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}q5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vq(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var sP;function yq(e,t){var r=pp(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(sP=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+pp(e,Math.max(0,t+i-1))[0]}function I6(e,t){var r=pp(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const D6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I6(e*100,t),r:I6,s:yq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F6(e){return e}var $6=Array.prototype.map,B6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bq(e){var t=e.grouping===void 0||e.thousands===void 0?F6:pq($6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?F6:gq($6.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Gh(m);var x=m.fill,p=m.align,w=m.sign,v=m.symbol,y=m.zero,S=m.width,A=m.comma,N=m.precision,k=m.trim,C=m.type;C==="n"?(A=!0,C="g"):D6[C]||(N===void 0&&(N=12),k=!0,C="g"),(y||x==="0"&&p==="=")&&(y=!0,x="0",p="=");var T=v==="$"?r:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=v==="$"?a:/[%p]/.test(C)?o:"",F=D6[C],z=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function J(R){var $=T,H=I,B,ce,se;if(C==="c")H=F(R)+H,R="";else{R=+R;var xe=R<0||1/R<0;if(R=isNaN(R)?u:F(Math.abs(R),N),k&&(R=vq(R)),xe&&+R==0&&w!=="+"&&(xe=!1),$=(xe?w==="("?w:l:w==="-"||w==="("?"":w)+$,H=(C==="s"?B6[8+sP/3]:"")+H+(xe&&w==="("?")":""),z){for(B=-1,ce=R.length;++B<ce;)if(se=R.charCodeAt(B),48>se||se>57){H=(se===46?s+R.slice(B+1):R.slice(B))+H,R=R.slice(0,B);break}}}A&&!y&&(R=t(R,1/0));var te=$.length+R.length+H.length,ee=te<S?new Array(S-te+1).join(x):"";switch(A&&y&&(R=t(ee+R,ee.length?S-H.length:1/0),ee=""),p){case"<":R=$+R+H+ee;break;case"=":R=$+ee+R+H;break;case"^":R=ee.slice(0,te=ee.length>>1)+$+R+H+ee.slice(te);break;default:R=ee+$+R+H;break}return i(R)}return J.toString=function(){return m+""},J}function h(m,x){var p=f((m=Gh(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(sf(x)/3)))*3,v=Math.pow(10,-w),y=B6[8+w/3];return function(S){return p(v*S)+y}}return{format:f,formatPrefix:h}}var jm,z5,iP;wq({thousands:",",grouping:[3],currency:["$",""]});function wq(e){return jm=bq(e),z5=jm.format,iP=jm.formatPrefix,jm}function jq(e){return Math.max(0,-sf(Math.abs(e)))}function Nq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sf(t)/3)))*3-sf(Math.abs(e)))}function Sq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sf(t)-sf(e))+1}function oP(e,t,r,a){var s=tw(e,t,r),i;switch(a=Gh(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=Nq(s,o))&&(a.precision=i),iP(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Sq(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=jq(s))&&(a.precision=i-(a.type==="%")*2);break}}return z5(a)}function Xc(e){var t=e.domain;return e.ticks=function(r){var a=t();return Zb(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return oP(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,o=a[s],l=a[i],u,f,h=10;for(l<o&&(f=o,o=l,l=f,f=s,s=i,i=f);h-- >0;){if(f=ew(o,l,r),f===u)return a[s]=o,a[i]=l,t(a);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function gp(){var e=U5();return e.copy=function(){return _0(e,gp())},no.apply(e,arguments),Xc(e)}function lP(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,mp),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return lP(e).unknown(t)},e=arguments.length?Array.from(e,mp):[0,1],Xc(r)}function cP(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],o;return i<s&&(o=r,r=a,a=o,o=s,s=i,i=o),e[r]=t.floor(s),e[a]=t.ceil(i),e}function U6(e){return Math.log(e)}function q6(e){return Math.exp(e)}function _q(e){return-Math.log(-e)}function kq(e){return-Math.exp(-e)}function Aq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Cq(e){return e===10?Aq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Pq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function z6(e){return(t,r)=>-e(-t,r)}function W5(e){const t=e(U6,q6),r=t.domain;let a=10,s,i;function o(){return s=Pq(a),i=Cq(a),r()[0]<0?(s=z6(s),i=z6(i),e(_q,kq)):e(U6,q6),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let x=s(f),p=s(h),w,v;const y=l==null?10:+l;let S=[];if(!(a%1)&&p-x<y){if(x=Math.floor(x),p=Math.ceil(p),f>0){for(;x<=p;++x)for(w=1;w<a;++w)if(v=x<0?w/i(-x):w*i(x),!(v<f)){if(v>h)break;S.push(v)}}else for(;x<=p;++x)for(w=a-1;w>=1;--w)if(v=x>0?w/i(-x):w*i(x),!(v<f)){if(v>h)break;S.push(v)}S.length*2<y&&(S=Zb(f,h,y))}else S=Zb(x,p,Math.min(p-x,y)).map(i);return m?S.reverse():S},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Gh(u)).precision==null&&(u.trim=!0),u=z5(u)),l===1/0)return u;const f=Math.max(1,a*l/t.ticks().length);return h=>{let m=h/i(Math.round(s(h)));return m*a<a-.5&&(m*=a),m<=f?u(h):""}},t.nice=()=>r(cP(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function uP(){const e=W5(xg()).domain([1,10]);return e.copy=()=>_0(e,uP()).base(e.base()),no.apply(e,arguments),e}function W6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function H5(e){var t=1,r=e(W6(t),H6(t));return r.constant=function(a){return arguments.length?e(W6(t=+a),H6(t)):t},Xc(r)}function dP(){var e=H5(xg());return e.copy=function(){return _0(e,dP()).constant(e.constant())},no.apply(e,arguments)}function V6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Eq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Lq(e){return e<0?-e*e:e*e}function V5(e){var t=e(Ws,Ws),r=1;function a(){return r===1?e(Ws,Ws):r===.5?e(Eq,Lq):e(V6(r),V6(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},Xc(t)}function Y5(){var e=V5(xg());return e.copy=function(){return _0(e,Y5()).exponent(e.exponent())},no.apply(e,arguments),e}function Oq(){return Y5.apply(null,arguments).exponent(.5)}function Y6(e){return Math.sign(e)*e*e}function Rq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fP(){var e=U5(),t=[0,1],r=!1,a;function s(i){var o=Rq(e(i));return isNaN(o)?a:r?Math.round(o):o}return s.invert=function(i){return e.invert(Y6(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,mp)).map(Y6)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return fP(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},no.apply(s,arguments),Xc(s)}function hP(){var e=[],t=[],r=[],a;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=FU(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[N0(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(qc),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return hP().domain(e).range(t).unknown(a)},no.apply(i,arguments)}function mP(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[N0(a,u,0,r)]:i}function l(){var u=-1;for(a=new Array(r);++u<r;)a[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,l()):s.slice()},o.invertExtent=function(u){var f=s.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return a.slice()},o.copy=function(){return mP().domain([e,t]).range(s).unknown(i)},no.apply(Xc(o),arguments)}function pP(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[N0(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return pP().domain(e).range(t).unknown(r)},no.apply(s,arguments)}const c2=new Date,u2=new Date;function Fa(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const u=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let f;do u.push(f=new Date(+i)),t(i,l),e(i);while(f<i&&i<o);return u},s.filter=i=>Fa(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(c2.setTime(+i),u2.setTime(+o),e(c2),e(u2),Math.floor(r(c2,u2))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const xp=Fa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xp);xp.range;const zl=1e3,Qi=zl*60,Wl=Qi*60,Gl=Wl*24,G5=Gl*7,G6=Gl*30,d2=Gl*365,Uu=Fa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zl)},(e,t)=>(t-e)/zl,e=>e.getUTCSeconds());Uu.range;const K5=Fa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zl)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getMinutes());K5.range;const X5=Fa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCMinutes());X5.range;const J5=Fa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zl-e.getMinutes()*Qi)},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getHours());J5.range;const Q5=Fa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getUTCHours());Q5.range;const k0=Fa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qi)/Gl,e=>e.getDate()-1);k0.range;const vg=Fa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gl,e=>e.getUTCDate()-1);vg.range;const gP=Fa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gl,e=>Math.floor(e/Gl));gP.range;function rd(e){return Fa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Qi)/G5)}const yg=rd(0),vp=rd(1),Tq=rd(2),Mq=rd(3),of=rd(4),Iq=rd(5),Dq=rd(6);yg.range;vp.range;Tq.range;Mq.range;of.range;Iq.range;Dq.range;function nd(e){return Fa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/G5)}const bg=nd(0),yp=nd(1),Fq=nd(2),$q=nd(3),lf=nd(4),Bq=nd(5),Uq=nd(6);bg.range;yp.range;Fq.range;$q.range;lf.range;Bq.range;Uq.range;const Z5=Fa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Z5.range;const ej=Fa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ej.range;const Kl=Fa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Kl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Kl.range;const Xl=Fa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xl.range;function xP(e,t,r,a,s,i){const o=[[Uu,1,zl],[Uu,5,5*zl],[Uu,15,15*zl],[Uu,30,30*zl],[i,1,Qi],[i,5,5*Qi],[i,15,15*Qi],[i,30,30*Qi],[s,1,Wl],[s,3,3*Wl],[s,6,6*Wl],[s,12,12*Wl],[a,1,Gl],[a,2,2*Gl],[r,1,G5],[t,1,G6],[t,3,3*G6],[e,1,d2]];function l(f,h,m){const x=h<f;x&&([f,h]=[h,f]);const p=m&&typeof m.range=="function"?m:u(f,h,m),w=p?p.range(f,+h+1):[];return x?w.reverse():w}function u(f,h,m){const x=Math.abs(h-f)/m,p=I5(([,,y])=>y).right(o,x);if(p===o.length)return e.every(tw(f/d2,h/d2,m));if(p===0)return xp.every(Math.max(tw(f,h,m),1));const[w,v]=o[x/o[p-1][2]<o[p][2]/x?p-1:p];return w.every(v)}return[l,u]}const[qq,zq]=xP(Xl,ej,bg,gP,Q5,X5),[Wq,Hq]=xP(Kl,Z5,yg,k0,J5,K5);function f2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function h2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ph(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Vq(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=gh(s),h=xh(s),m=gh(i),x=xh(i),p=gh(o),w=xh(o),v=gh(l),y=xh(l),S=gh(u),A=xh(u),N={a:xe,A:te,b:ee,B:G,c:null,d:ek,e:ek,f:pz,g:_z,G:Az,H:fz,I:hz,j:mz,L:vP,m:gz,M:xz,p:oe,q,Q:nk,s:ak,S:vz,u:yz,U:bz,V:wz,w:jz,W:Nz,x:null,X:null,y:Sz,Y:kz,Z:Cz,"%":rk},k={a:U,A:V,b:ie,B:me,c:null,d:tk,e:tk,f:Oz,g:qz,G:Wz,H:Pz,I:Ez,j:Lz,L:bP,m:Rz,M:Tz,p:W,q:de,Q:nk,s:ak,S:Mz,u:Iz,U:Dz,V:Fz,w:$z,W:Bz,x:null,X:null,y:Uz,Y:zz,Z:Hz,"%":rk},C={a:J,A:R,b:$,B:H,c:B,d:Q6,e:Q6,f:lz,g:J6,G:X6,H:Z6,I:Z6,j:az,L:oz,m:nz,M:sz,p:z,q:rz,Q:uz,s:dz,S:iz,u:Jq,U:Qq,V:Zq,w:Xq,W:ez,x:ce,X:se,y:J6,Y:X6,Z:tz,"%":cz};N.x=T(r,N),N.X=T(a,N),N.c=T(t,N),k.x=T(r,k),k.X=T(a,k),k.c=T(t,k);function T(re,Q){return function(Ne){var he=[],we=-1,be=0,Z=re.length,Xe,Je,Qe;for(Ne instanceof Date||(Ne=new Date(+Ne));++we<Z;)re.charCodeAt(we)===37&&(he.push(re.slice(be,we)),(Je=K6[Xe=re.charAt(++we)])!=null?Xe=re.charAt(++we):Je=Xe==="e"?" ":"0",(Qe=Q[Xe])&&(Xe=Qe(Ne,Je)),he.push(Xe),be=we+1);return he.push(re.slice(be,we)),he.join("")}}function I(re,Q){return function(Ne){var he=ph(1900,void 0,1),we=F(he,re,Ne+="",0),be,Z;if(we!=Ne.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Q&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(be=h2(ph(he.y,0,1)),Z=be.getUTCDay(),be=Z>4||Z===0?yp.ceil(be):yp(be),be=vg.offset(be,(he.V-1)*7),he.y=be.getUTCFullYear(),he.m=be.getUTCMonth(),he.d=be.getUTCDate()+(he.w+6)%7):(be=f2(ph(he.y,0,1)),Z=be.getDay(),be=Z>4||Z===0?vp.ceil(be):vp(be),be=k0.offset(be,(he.V-1)*7),he.y=be.getFullYear(),he.m=be.getMonth(),he.d=be.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Z="Z"in he?h2(ph(he.y,0,1)).getUTCDay():f2(ph(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Z+5)%7:he.w+he.U*7-(Z+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,h2(he)):f2(he)}}function F(re,Q,Ne,he){for(var we=0,be=Q.length,Z=Ne.length,Xe,Je;we<be;){if(he>=Z)return-1;if(Xe=Q.charCodeAt(we++),Xe===37){if(Xe=Q.charAt(we++),Je=C[Xe in K6?Q.charAt(we++):Xe],!Je||(he=Je(re,Ne,he))<0)return-1}else if(Xe!=Ne.charCodeAt(he++))return-1}return he}function z(re,Q,Ne){var he=f.exec(Q.slice(Ne));return he?(re.p=h.get(he[0].toLowerCase()),Ne+he[0].length):-1}function J(re,Q,Ne){var he=p.exec(Q.slice(Ne));return he?(re.w=w.get(he[0].toLowerCase()),Ne+he[0].length):-1}function R(re,Q,Ne){var he=m.exec(Q.slice(Ne));return he?(re.w=x.get(he[0].toLowerCase()),Ne+he[0].length):-1}function $(re,Q,Ne){var he=S.exec(Q.slice(Ne));return he?(re.m=A.get(he[0].toLowerCase()),Ne+he[0].length):-1}function H(re,Q,Ne){var he=v.exec(Q.slice(Ne));return he?(re.m=y.get(he[0].toLowerCase()),Ne+he[0].length):-1}function B(re,Q,Ne){return F(re,t,Q,Ne)}function ce(re,Q,Ne){return F(re,r,Q,Ne)}function se(re,Q,Ne){return F(re,a,Q,Ne)}function xe(re){return o[re.getDay()]}function te(re){return i[re.getDay()]}function ee(re){return u[re.getMonth()]}function G(re){return l[re.getMonth()]}function oe(re){return s[+(re.getHours()>=12)]}function q(re){return 1+~~(re.getMonth()/3)}function U(re){return o[re.getUTCDay()]}function V(re){return i[re.getUTCDay()]}function ie(re){return u[re.getUTCMonth()]}function me(re){return l[re.getUTCMonth()]}function W(re){return s[+(re.getUTCHours()>=12)]}function de(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Q=T(re+="",N);return Q.toString=function(){return re},Q},parse:function(re){var Q=I(re+="",!1);return Q.toString=function(){return re},Q},utcFormat:function(re){var Q=T(re+="",k);return Q.toString=function(){return re},Q},utcParse:function(re){var Q=I(re+="",!0);return Q.toString=function(){return re},Q}}}var K6={"-":"",_:" ",0:"0"},Za=/^\s*\d+/,Yq=/^%/,Gq=/[\\^$*+?|[\]().{}]/g;function Xr(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function Kq(e){return e.replace(Gq,"\\$&")}function gh(e){return new RegExp("^(?:"+e.map(Kq).join("|")+")","i")}function xh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Xq(e,t,r){var a=Za.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Jq(e,t,r){var a=Za.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function Qq(e,t,r){var a=Za.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Zq(e,t,r){var a=Za.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function ez(e,t,r){var a=Za.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function X6(e,t,r){var a=Za.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function J6(e,t,r){var a=Za.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function tz(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function rz(e,t,r){var a=Za.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function nz(e,t,r){var a=Za.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function Q6(e,t,r){var a=Za.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function az(e,t,r){var a=Za.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function Z6(e,t,r){var a=Za.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function sz(e,t,r){var a=Za.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function iz(e,t,r){var a=Za.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function oz(e,t,r){var a=Za.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function lz(e,t,r){var a=Za.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function cz(e,t,r){var a=Yq.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function uz(e,t,r){var a=Za.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function dz(e,t,r){var a=Za.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function ek(e,t){return Xr(e.getDate(),t,2)}function fz(e,t){return Xr(e.getHours(),t,2)}function hz(e,t){return Xr(e.getHours()%12||12,t,2)}function mz(e,t){return Xr(1+k0.count(Kl(e),e),t,3)}function vP(e,t){return Xr(e.getMilliseconds(),t,3)}function pz(e,t){return vP(e,t)+"000"}function gz(e,t){return Xr(e.getMonth()+1,t,2)}function xz(e,t){return Xr(e.getMinutes(),t,2)}function vz(e,t){return Xr(e.getSeconds(),t,2)}function yz(e){var t=e.getDay();return t===0?7:t}function bz(e,t){return Xr(yg.count(Kl(e)-1,e),t,2)}function yP(e){var t=e.getDay();return t>=4||t===0?of(e):of.ceil(e)}function wz(e,t){return e=yP(e),Xr(of.count(Kl(e),e)+(Kl(e).getDay()===4),t,2)}function jz(e){return e.getDay()}function Nz(e,t){return Xr(vp.count(Kl(e)-1,e),t,2)}function Sz(e,t){return Xr(e.getFullYear()%100,t,2)}function _z(e,t){return e=yP(e),Xr(e.getFullYear()%100,t,2)}function kz(e,t){return Xr(e.getFullYear()%1e4,t,4)}function Az(e,t){var r=e.getDay();return e=r>=4||r===0?of(e):of.ceil(e),Xr(e.getFullYear()%1e4,t,4)}function Cz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xr(t/60|0,"0",2)+Xr(t%60,"0",2)}function tk(e,t){return Xr(e.getUTCDate(),t,2)}function Pz(e,t){return Xr(e.getUTCHours(),t,2)}function Ez(e,t){return Xr(e.getUTCHours()%12||12,t,2)}function Lz(e,t){return Xr(1+vg.count(Xl(e),e),t,3)}function bP(e,t){return Xr(e.getUTCMilliseconds(),t,3)}function Oz(e,t){return bP(e,t)+"000"}function Rz(e,t){return Xr(e.getUTCMonth()+1,t,2)}function Tz(e,t){return Xr(e.getUTCMinutes(),t,2)}function Mz(e,t){return Xr(e.getUTCSeconds(),t,2)}function Iz(e){var t=e.getUTCDay();return t===0?7:t}function Dz(e,t){return Xr(bg.count(Xl(e)-1,e),t,2)}function wP(e){var t=e.getUTCDay();return t>=4||t===0?lf(e):lf.ceil(e)}function Fz(e,t){return e=wP(e),Xr(lf.count(Xl(e),e)+(Xl(e).getUTCDay()===4),t,2)}function $z(e){return e.getUTCDay()}function Bz(e,t){return Xr(yp.count(Xl(e)-1,e),t,2)}function Uz(e,t){return Xr(e.getUTCFullYear()%100,t,2)}function qz(e,t){return e=wP(e),Xr(e.getUTCFullYear()%100,t,2)}function zz(e,t){return Xr(e.getUTCFullYear()%1e4,t,4)}function Wz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?lf(e):lf.ceil(e),Xr(e.getUTCFullYear()%1e4,t,4)}function Hz(){return"+0000"}function rk(){return"%"}function nk(e){return+e}function ak(e){return Math.floor(+e/1e3)}var Cd,jP,NP;Vz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vz(e){return Cd=Vq(e),jP=Cd.format,Cd.parse,NP=Cd.utcFormat,Cd.utcParse,Cd}function Yz(e){return new Date(e)}function Gz(e){return e instanceof Date?+e:+new Date(+e)}function tj(e,t,r,a,s,i,o,l,u,f){var h=U5(),m=h.invert,x=h.domain,p=f(".%L"),w=f(":%S"),v=f("%I:%M"),y=f("%I %p"),S=f("%a %d"),A=f("%b %d"),N=f("%B"),k=f("%Y");function C(T){return(u(T)<T?p:l(T)<T?w:o(T)<T?v:i(T)<T?y:a(T)<T?s(T)<T?S:A:r(T)<T?N:k)(T)}return h.invert=function(T){return new Date(m(T))},h.domain=function(T){return arguments.length?x(Array.from(T,Gz)):x().map(Yz)},h.ticks=function(T){var I=x();return e(I[0],I[I.length-1],T??10)},h.tickFormat=function(T,I){return I==null?C:f(I)},h.nice=function(T){var I=x();return(!T||typeof T.range!="function")&&(T=t(I[0],I[I.length-1],T??10)),T?x(cP(I,T)):h},h.copy=function(){return _0(h,tj(e,t,r,a,s,i,o,l,u,f))},h}function Kz(){return no.apply(tj(Wq,Hq,Kl,Z5,yg,k0,J5,K5,Uu,jP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xz(){return no.apply(tj(qq,zq,Xl,ej,bg,vg,Q5,X5,Uu,NP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wg(){var e=0,t=1,r,a,s,i,o=Ws,l=!1,u;function f(m){return m==null||isNaN(m=+m)?u:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(o=m,f):o};function h(m){return function(x){var p,w;return arguments.length?([p,w]=x,o=m(p,w),f):[o(0),o(1)]}}return f.range=h(Of),f.rangeRound=h(B5),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return i=m,r=m(e),a=m(t),s=r===a?0:1/(a-r),f}}function Jc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SP(){var e=Xc(wg()(Ws));return e.copy=function(){return Jc(e,SP())},nc.apply(e,arguments)}function _P(){var e=W5(wg()).domain([1,10]);return e.copy=function(){return Jc(e,_P()).base(e.base())},nc.apply(e,arguments)}function kP(){var e=H5(wg());return e.copy=function(){return Jc(e,kP()).constant(e.constant())},nc.apply(e,arguments)}function rj(){var e=V5(wg());return e.copy=function(){return Jc(e,rj()).exponent(e.exponent())},nc.apply(e,arguments)}function Jz(){return rj.apply(null,arguments).exponent(.5)}function AP(){var e=[],t=Ws;function r(a){if(a!=null&&!isNaN(a=+a))return t((N0(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(qc),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>DU(e,i/a))},r.copy=function(){return AP(t).domain(e)},nc.apply(r,arguments)}function jg(){var e=0,t=.5,r=1,a=1,s,i,o,l,u,f=Ws,h,m=!1,x;function p(v){return isNaN(v=+v)?x:(v=.5+((v=+h(v))-i)*(a*v<a*i?l:u),f(m?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,s=h(e=+e),i=h(t=+t),o=h(r=+r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(m=!!v,p):m},p.interpolator=function(v){return arguments.length?(f=v,p):f};function w(v){return function(y){var S,A,N;return arguments.length?([S,A,N]=y,f=cq(v,[S,A,N]),p):[f(0),f(.5),f(1)]}}return p.range=w(Of),p.rangeRound=w(B5),p.unknown=function(v){return arguments.length?(x=v,p):x},function(v){return h=v,s=v(e),i=v(t),o=v(r),l=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p}}function CP(){var e=Xc(jg()(Ws));return e.copy=function(){return Jc(e,CP())},nc.apply(e,arguments)}function PP(){var e=W5(jg()).domain([.1,1,10]);return e.copy=function(){return Jc(e,PP()).base(e.base())},nc.apply(e,arguments)}function EP(){var e=H5(jg());return e.copy=function(){return Jc(e,EP()).constant(e.constant())},nc.apply(e,arguments)}function nj(){var e=V5(jg());return e.copy=function(){return Jc(e,nj()).exponent(e.exponent())},nc.apply(e,arguments)}function Qz(){return nj.apply(null,arguments).exponent(.5)}const sk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wh,scaleDiverging:CP,scaleDivergingLog:PP,scaleDivergingPow:nj,scaleDivergingSqrt:Qz,scaleDivergingSymlog:EP,scaleIdentity:lP,scaleImplicit:rw,scaleLinear:gp,scaleLog:uP,scaleOrdinal:D5,scalePoint:Ph,scalePow:Y5,scaleQuantile:hP,scaleQuantize:mP,scaleRadial:fP,scaleSequential:SP,scaleSequentialLog:_P,scaleSequentialPow:rj,scaleSequentialQuantile:AP,scaleSequentialSqrt:Jz,scaleSequentialSymlog:kP,scaleSqrt:Oq,scaleSymlog:dP,scaleThreshold:pP,scaleTime:Kz,scaleUtc:Xz,tickFormat:oP},Symbol.toStringTag,{value:"Module"}));var Rf=1e9,Zz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sj,Yn=!0,to="[DecimalError] ",Vu=to+"Invalid argument: ",aj=to+"Exponent out of range: ",Tf=Math.floor,Ru=Math.pow,eW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Li,Ja=1e7,In=7,LP=9007199254740991,bp=Tf(LP/In),It={};It.absoluteValue=It.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};It.comparedTo=It.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};It.decimalPlaces=It.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*In;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};It.dividedBy=It.div=function(e){return Vl(this,new this.constructor(e))};It.dividedToIntegerBy=It.idiv=function(e){var t=this,r=t.constructor;return jn(Vl(t,new r(e),0,1),r.precision)};It.equals=It.eq=function(e){return!this.cmp(e)};It.exponent=function(){return Na(this)};It.greaterThan=It.gt=function(e){return this.cmp(e)>0};It.greaterThanOrEqualTo=It.gte=function(e){return this.cmp(e)>=0};It.isInteger=It.isint=function(){return this.e>this.d.length-2};It.isNegative=It.isneg=function(){return this.s<0};It.isPositive=It.ispos=function(){return this.s>0};It.isZero=function(){return this.s===0};It.lessThan=It.lt=function(e){return this.cmp(e)<0};It.lessThanOrEqualTo=It.lte=function(e){return this.cmp(e)<1};It.logarithm=It.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Li))throw Error(to+"NaN");if(r.s<1)throw Error(to+(r.s?"NaN":"-Infinity"));return r.eq(Li)?new a(0):(Yn=!1,t=Vl(Kh(r,i),Kh(e,i),i),Yn=!0,jn(t,s))};It.minus=It.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TP(t,e):OP(t,(e.s=-e.s,e))};It.modulo=It.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(to+"NaN");return r.s?(Yn=!1,t=Vl(r,e,0,1).times(e),Yn=!0,r.minus(t)):jn(new a(r),s)};It.naturalExponential=It.exp=function(){return RP(this)};It.naturalLogarithm=It.ln=function(){return Kh(this)};It.negated=It.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};It.plus=It.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OP(t,e):TP(t,(e.s=-e.s,e))};It.precision=It.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vu+e);if(t=Na(s)+1,a=s.d.length-1,r=a*In+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};It.squareRoot=It.sqrt=function(){var e,t,r,a,s,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(to+"NaN")}for(e=Na(l),Yn=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=el(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Tf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(s.toString()),r=u.precision,s=o=r+3;;)if(i=a,a=i.plus(Vl(l,i,o+2)).times(.5),el(i.d).slice(0,o)===(t=el(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(jn(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return Yn=!0,jn(a,r)};It.times=It.mul=function(e){var t,r,a,s,i,o,l,u,f,h=this,m=h.constructor,x=h.d,p=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=x.length,f=p.length,u<f&&(i=x,x=p,p=i,o=u,u=f,f=o),i=[],o=u+f,a=o;a--;)i.push(0);for(a=f;--a>=0;){for(t=0,s=u+a;s>a;)l=i[s]+p[a]*x[s-a-1]+t,i[s--]=l%Ja|0,t=l/Ja|0;i[s]=(i[s]+t)%Ja|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Yn?jn(e,m.precision):e};It.toDecimalPlaces=It.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(al(e,0,Rf),t===void 0?t=a.rounding:al(t,0,8),jn(r,e+Na(r)+1,t))};It.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Ju(a,!0):(al(e,0,Rf),t===void 0?t=s.rounding:al(t,0,8),a=jn(new s(a),e+1,t),r=Ju(a,!0,e+1)),r};It.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Ju(s):(al(e,0,Rf),t===void 0?t=i.rounding:al(t,0,8),a=jn(new i(s),e+Na(s)+1,t),r=Ju(a.abs(),!1,e+Na(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};It.toInteger=It.toint=function(){var e=this,t=e.constructor;return jn(new t(e),Na(e)+1,t.rounding)};It.toNumber=function(){return+this};It.toPower=It.pow=function(e){var t,r,a,s,i,o,l=this,u=l.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Li);if(l=new u(l),!l.s){if(e.s<1)throw Error(to+"Infinity");return l}if(l.eq(Li))return l;if(a=u.precision,e.eq(Li))return jn(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=h<0?-h:h)<=LP){for(s=new u(Li),t=Math.ceil(a/In+4),Yn=!1;r%2&&(s=s.times(l),ok(s.d,t)),r=Tf(r/2),r!==0;)l=l.times(l),ok(l.d,t);return Yn=!0,e.s<0?new u(Li).div(s):jn(s,a)}}else if(i<0)throw Error(to+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Yn=!1,s=e.times(Kh(l,a+f)),Yn=!0,s=RP(s),s.s=i,s};It.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=Na(s),a=Ju(s,r<=i.toExpNeg||r>=i.toExpPos)):(al(e,1,Rf),t===void 0?t=i.rounding:al(t,0,8),s=jn(new i(s),e,t),r=Na(s),a=Ju(s,e<=r||r<=i.toExpNeg,e)),a};It.toSignificantDigits=It.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(al(e,1,Rf),t===void 0?t=a.rounding:al(t,0,8)),jn(new a(r),e,t)};It.toString=It.valueOf=It.val=It.toJSON=It[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Na(e),r=e.constructor;return Ju(e,t<=r.toExpNeg||t>=r.toExpPos)};function OP(e,t){var r,a,s,i,o,l,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Yn?jn(t,m):t;if(u=e.d,f=t.d,o=e.e,s=t.e,u=u.slice(),i=o-s,i){for(i<0?(a=u,i=-i,l=f.length):(a=f,s=o,l=u.length),o=Math.ceil(m/In),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=u.length,i=f.length,l-i<0&&(i=l,a=f,f=u,u=a),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/Ja|0,u[i]%=Ja;for(r&&(u.unshift(r),++s),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=s,Yn?jn(t,m):t}function al(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vu+e)}function el(e){var t,r,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",r=In-a.length,r&&(i+=Mc(r)),i+=a;o=e[t],a=o+"",r=In-a.length,r&&(i+=Mc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Vl=(function(){function e(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%Ja|0,o=i/Ja|0;return o&&a.unshift(o),a}function t(a,s,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(a[l]!=s[l]){u=a[l]>s[l]?1:-1;break}return u}function r(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*Ja+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,u,f,h,m,x,p,w,v,y,S,A,N,k,C,T,I,F,z=a.constructor,J=a.s==s.s?1:-1,R=a.d,$=s.d;if(!a.s)return new z(a);if(!s.s)throw Error(to+"Division by zero");for(u=a.e-s.e,I=$.length,C=R.length,p=new z(J),w=p.d=[],f=0;$[f]==(R[f]||0);)++f;if($[f]>(R[f]||0)&&--u,i==null?A=i=z.precision:o?A=i+(Na(a)-Na(s))+1:A=i,A<0)return new z(0);if(A=A/In+2|0,f=0,I==1)for(h=0,$=$[0],A++;(f<C||h)&&A--;f++)N=h*Ja+(R[f]||0),w[f]=N/$|0,h=N%$|0;else{for(h=Ja/($[0]+1)|0,h>1&&($=e($,h),R=e(R,h),I=$.length,C=R.length),k=I,v=R.slice(0,I),y=v.length;y<I;)v[y++]=0;F=$.slice(),F.unshift(0),T=$[0],$[1]>=Ja/2&&++T;do h=0,l=t($,v,I,y),l<0?(S=v[0],I!=y&&(S=S*Ja+(v[1]||0)),h=S/T|0,h>1?(h>=Ja&&(h=Ja-1),m=e($,h),x=m.length,y=v.length,l=t(m,v,x,y),l==1&&(h--,r(m,I<x?F:$,x))):(h==0&&(l=h=1),m=$.slice()),x=m.length,x<y&&m.unshift(0),r(v,m,y),l==-1&&(y=v.length,l=t($,v,I,y),l<1&&(h++,r(v,I<y?F:$,y))),y=v.length):l===0&&(h++,v=[0]),w[f++]=h,l&&v[0]?v[y++]=R[k]||0:(v=[R[k]],y=1);while((k++<C||v[0]!==void 0)&&A--)}return w[0]||w.shift(),p.e=u,jn(p,o?i+Na(p)+1:i)}})();function RP(e,t){var r,a,s,i,o,l,u=0,f=0,h=e.constructor,m=h.precision;if(Na(e)>16)throw Error(aj+Na(e));if(!e.s)return new h(Li);for(Yn=!1,l=m,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(a=Math.log(Ru(2,f))/Math.LN10*2+5|0,l+=a,r=s=i=new h(Li),h.precision=l;;){if(s=jn(s.times(e),l),r=r.times(++u),o=i.plus(Vl(s,r,l)),el(o.d).slice(0,l)===el(i.d).slice(0,l)){for(;f--;)i=jn(i.times(i),l);return h.precision=m,t==null?(Yn=!0,jn(i,m)):i}i=o}}function Na(e){for(var t=e.e*In,r=e.d[0];r>=10;r/=10)t++;return t}function m2(e,t,r){if(t>e.LN10.sd())throw Yn=!0,r&&(e.precision=r),Error(to+"LN10 precision limit exceeded");return jn(new e(e.LN10),t)}function Mc(e){for(var t="";e--;)t+="0";return t}function Kh(e,t){var r,a,s,i,o,l,u,f,h,m=1,x=10,p=e,w=p.d,v=p.constructor,y=v.precision;if(p.s<1)throw Error(to+(p.s?"NaN":"-Infinity"));if(p.eq(Li))return new v(0);if(t==null?(Yn=!1,f=y):f=t,p.eq(10))return t==null&&(Yn=!0),m2(v,f);if(f+=x,v.precision=f,r=el(w),a=r.charAt(0),i=Na(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)p=p.times(e),r=el(p.d),a=r.charAt(0),m++;i=Na(p),a>1?(p=new v("0."+r),i++):p=new v(a+"."+r.slice(1))}else return u=m2(v,f+2,y).times(i+""),p=Kh(new v(a+"."+r.slice(1)),f-x).plus(u),v.precision=y,t==null?(Yn=!0,jn(p,y)):p;for(l=o=p=Vl(p.minus(Li),p.plus(Li),f),h=jn(p.times(p),f),s=3;;){if(o=jn(o.times(h),f),u=l.plus(Vl(o,new v(s),f)),el(u.d).slice(0,f)===el(l.d).slice(0,f))return l=l.times(2),i!==0&&(l=l.plus(m2(v,f+2,y).times(i+""))),l=Vl(l,new v(m),f),v.precision=y,t==null?(Yn=!0,jn(l,y)):l;l=u,s+=2}}function ik(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Tf(r/In),e.d=[],a=(r+1)%In,r<0&&(a+=In),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=In;a<s;)e.d.push(+t.slice(a,a+=In));t=t.slice(a),a=In-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Yn&&(e.e>bp||e.e<-bp))throw Error(aj+r)}else e.s=0,e.e=0,e.d=[0];return e}function jn(e,t,r){var a,s,i,o,l,u,f,h,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=In,s=t,f=m[h=0];else{if(h=Math.ceil((a+1)/In),i=m.length,h>=i)return e;for(f=i=m[h],o=1;i>=10;i/=10)o++;a%=In,s=a-In+o}if(r!==void 0&&(i=Ru(10,o-s-1),l=f/i%10|0,u=t<0||m[h+1]!==void 0||f%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(a>0?s>0?f/Ru(10,o-s):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=Na(e),m.length=1,t=t-i-1,m[0]=Ru(10,(In-t%In)%In),e.e=Tf(-t/In)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=h,i=1,h--):(m.length=h+1,i=Ru(10,In-a),m[h]=s>0?(f/Ru(10,o-s)%Ru(10,s)|0)*i:0),u)for(;;)if(h==0){(m[0]+=i)==Ja&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=Ja)break;m[h--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(Yn&&(e.e>bp||e.e<-bp))throw Error(aj+Na(e));return e}function TP(e,t){var r,a,s,i,o,l,u,f,h,m,x=e.constructor,p=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Yn?jn(t,p):t;if(u=e.d,m=t.d,a=t.e,f=e.e,u=u.slice(),o=f-a,o){for(h=o<0,h?(r=u,o=-o,l=m.length):(r=m,a=f,l=u.length),s=Math.max(Math.ceil(p/In),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=u.length,l=m.length,h=s<l,h&&(l=s),s=0;s<l;s++)if(u[s]!=m[s]){h=u[s]<m[s];break}o=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,s=m.length-l;s>0;--s)u[l++]=0;for(s=m.length;s>o;){if(u[--s]<m[s]){for(i=s;i&&u[--i]===0;)u[i]=Ja-1;--u[i],u[s]+=Ja}u[s]-=m[s]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,Yn?jn(t,p):t):new x(0)}function Ju(e,t,r){var a,s=Na(e),i=el(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Mc(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Mc(-s-1)+i,r&&(a=r-o)>0&&(i+=Mc(a))):s>=o?(i+=Mc(s+1-o),r&&(a=r-s-1)>0&&(i=i+"."+Mc(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(s+1===o&&(i+="."),i+=Mc(a))),e.s<0?"-"+i:i}function ok(e,t){if(e.length>t)return e.length=t,!0}function MP(e){var t,r,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Vu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ik(o,i.toString())}else if(typeof i!="string")throw Error(Vu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,eW.test(i))ik(o,i);else throw Error(Vu+i)}if(s.prototype=It,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=MP,s.config=s.set=tW,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function tW(e){if(!e||typeof e!="object")throw Error(to+"Object expected");var t,r,a,s=["precision",1,Rf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Tf(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Vu+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Vu+r+": "+a);return this}var sj=MP(Zz);Li=new sj(1);const gn=sj;function rW(e){return iW(e)||sW(e)||aW(e)||nW()}function nW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aW(e,t){if(e){if(typeof e=="string")return iw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iw(e,t)}}function sW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function iW(e){if(Array.isArray(e))return iw(e)}function iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var oW=function(t){return t},IP={},DP=function(t){return t===IP},lk=function(t){return function r(){return arguments.length===0||arguments.length===1&&DP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},lW=function e(t,r){return t===1?r:lk(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==IP}).length;return o>=t?r.apply(void 0,s):e(t-o,lk(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=s.map(function(m){return DP(m)?u.shift():m});return r.apply(void 0,rW(h).concat(u))}))})},Ng=function(t){return lW(t.length,t)},ow=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},cW=Ng(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),uW=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return oW;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,u){return u(l)},i.apply(void 0,arguments))}},lw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},FP=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,u){return l===r[u]})||(r=i,a=t.apply(void 0,i)),a}};function dW(e){var t;return e===0?t=1:t=Math.floor(new gn(e).abs().log(10).toNumber())+1,t}function fW(e,t,r){for(var a=new gn(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var hW=Ng(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),mW=Ng(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),pW=Ng(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const Sg={rangeStep:fW,getDigitCount:dW,interpolateNumber:hW,uninterpolateNumber:mW,uninterpolateTruncation:pW};function cw(e){return vW(e)||xW(e)||$P(e)||gW()}function gW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vW(e){if(Array.isArray(e))return uw(e)}function Xh(e,t){return wW(e)||bW(e,t)||$P(e,t)||yW()}function yW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $P(e,t){if(e){if(typeof e=="string")return uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(e,t)}}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function bW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(u){s=!0,i=u}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function wW(e){if(Array.isArray(e))return e}function BP(e){var t=Xh(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function UP(e,t,r){if(e.lte(0))return new gn(0);var a=Sg.getDigitCount(e.toNumber()),s=new gn(10).pow(a),i=e.div(s),o=a!==1?.05:.1,l=new gn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(s);return t?u:new gn(Math.ceil(u))}function jW(e,t,r){var a=1,s=new gn(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new gn(10).pow(Sg.getDigitCount(e)-1),s=new gn(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new gn(Math.floor(e)))}else e===0?s=new gn(Math.floor((t-1)/2)):r||(s=new gn(Math.floor(e)));var o=Math.floor((t-1)/2),l=uW(cW(function(u){return s.add(new gn(u-o).mul(a)).toNumber()}),ow);return l(0,t)}function qP(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gn(0),tickMin:new gn(0),tickMax:new gn(0)};var i=UP(new gn(t).sub(e).div(r-1),a,s),o;e<=0&&t>=0?o=new gn(0):(o=new gn(e).add(t).div(2),o=o.sub(new gn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),u=Math.ceil(new gn(t).sub(o).div(i).toNumber()),f=l+u+1;return f>r?qP(e,t,r,a,s+1):(f<r&&(u=t>0?u+(r-f):u,l=t>0?l:l+(r-f)),{step:i,tickMin:o.sub(new gn(l).mul(i)),tickMax:o.add(new gn(u).mul(i))})}function NW(e){var t=Xh(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=BP([r,a]),u=Xh(l,2),f=u[0],h=u[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(cw(ow(0,s-1).map(function(){return 1/0}))):[].concat(cw(ow(0,s-1).map(function(){return-1/0})),[h]);return r>a?lw(m):m}if(f===h)return jW(f,s,i);var x=qP(f,h,o,i),p=x.step,w=x.tickMin,v=x.tickMax,y=Sg.rangeStep(w,v.add(new gn(.1).mul(p)),p);return r>a?lw(y):y}function SW(e,t){var r=Xh(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=BP([a,s]),l=Xh(o,2),u=l[0],f=l[1];if(u===-1/0||f===1/0)return[a,s];if(u===f)return[u];var h=Math.max(t,2),m=UP(new gn(f).sub(u).div(h-1),i,0),x=[].concat(cw(Sg.rangeStep(new gn(u),new gn(f).sub(new gn(.99).mul(m)),m)),[f]);return a>s?lw(x):x}var _W=FP(NW),kW=FP(SW),AW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wp.apply(this,arguments)}function CW(e,t){return OW(e)||LW(e,t)||EW(e,t)||PW()}function PW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EW(e,t){if(e){if(typeof e=="string")return ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ck(e,t)}}function ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function LW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function OW(e){if(Array.isArray(e))return e}function RW(e,t){if(e==null)return{};var r=TW(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function TW(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function _g(e){var t=e.offset,r=e.layout,a=e.width,s=e.dataKey,i=e.data,o=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,f=RW(e,AW),h=mr(f),m=i.map(function(x,p){var w=o(x,s),v=w.x,y=w.y,S=w.value,A=w.errorVal;if(!A)return null;var N=[],k,C;if(Array.isArray(A)){var T=CW(A,2);k=T[0],C=T[1]}else k=C=A;if(r==="vertical"){var I=l.scale,F=y+t,z=F+a,J=F-a,R=I(S-k),$=I(S+C);N.push({x1:$,y1:z,x2:$,y2:J}),N.push({x1:R,y1:F,x2:$,y2:F}),N.push({x1:R,y1:z,x2:R,y2:J})}else if(r==="horizontal"){var H=u.scale,B=v+t,ce=B-a,se=B+a,xe=H(S-k),te=H(S+C);N.push({x1:ce,y1:te,x2:se,y2:te}),N.push({x1:B,y1:xe,x2:B,y2:te}),N.push({x1:ce,y1:xe,x2:se,y2:xe})}return Re.createElement(xn,wp({className:"recharts-errorBar",key:"bar-".concat(p)},h),N.map(function(ee,G){return Re.createElement("line",wp({},ee,{key:"line-".concat(G)}))}))});return Re.createElement(xn,{className:"recharts-errorBars"},m)}_g.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};_g.displayName="ErrorBar";function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function uk(e){return FW(e)||DW(e)||IW(e)||MW()}function MW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(e,t){if(e){if(typeof e=="string")return dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dw(e,t)}}function DW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FW(e){if(Array.isArray(e))return dw(e)}function dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(a){zd(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zd(e,t,r){return t=$W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e){var t=BW(e,"string");return Jh(t)==="symbol"?t:String(t)}function BW(e,t){if(Jh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Jh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(e,t,r){return ar(e)||ar(t)?r:Ma(t)?Ri(e,t,r):sr(t)?t(e):r}function Eh(e,t,r,a){var s=_U(e,function(l){return Es(l,t)});if(r==="number"){var i=s.filter(function(l){return yt(l)||parseFloat(l)});return i.length?[gg(i),pg(i)]:[1/0,-1/0]}var o=a?s.filter(function(l){return!ar(l)}):s;return o.map(function(l){return Ma(l)||l instanceof Date?l:""})}var UW=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=a?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,f=0;f<l;f++){var h=f>0?s[f-1].coordinate:s[l-1].coordinate,m=s[f].coordinate,x=f>=l-1?s[0].coordinate:s[f+1].coordinate,p=void 0;if(Ls(m-h)!==Ls(x-m)){var w=[];if(Ls(x-m)===Ls(u[1]-u[0])){p=x;var v=m+u[1]-u[0];w[0]=Math.min(v,(v+h)/2),w[1]=Math.max(v,(v+h)/2)}else{p=h;var y=x+u[1]-u[0];w[0]=Math.min(m,(y+m)/2),w[1]=Math.max(m,(y+m)/2)}var S=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){o=s[f].index;break}}else{var A=Math.min(h,x),N=Math.max(h,x);if(t>(A+m)/2&&t<=(N+m)/2){o=s[f].index;break}}}else for(var k=0;k<l;k++)if(k===0&&t<=(a[k].coordinate+a[k+1].coordinate)/2||k>0&&k<l-1&&t>(a[k].coordinate+a[k-1].coordinate)/2&&t<=(a[k].coordinate+a[k+1].coordinate)/2||k===l-1&&t>(a[k].coordinate+a[k-1].coordinate)/2){o=a[k].index;break}return o},ij=function(t){var r=t,a=r.type.displayName,s=t.props,i=s.stroke,o=s.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:o;break;default:l=o;break}return l},zP=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=ql(r,zc);if(!o)return null;var l;return o.props&&o.props.payload?l=o.props&&o.props.payload:i==="children"?l=(a||[]).reduce(function(u,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):l=(a||[]).map(function(u){var f=u.item,h=f.props,m=h.dataKey,x=h.name,p=h.legendType,w=h.hide;return{inactive:w,dataKey:m,type:o.props.iconType||p||"square",color:ij(f),value:x||m,payload:f.props}}),zs(zs(zs({},o.props),zc.getWithHeight(o,s)),{},{payload:l,item:o})},qW=function(t){var r=t.barSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},o=Object.keys(s),l=0,u=o.length;l<u;l++)for(var f=s[o[l]].stackGroups,h=Object.keys(f),m=0,x=h.length;m<x;m++){var p=f[h[m]],w=p.items,v=p.cateAxisId,y=w.filter(function(N){return Bc(N.type).indexOf("Bar")>=0});if(y&&y.length){var S=y[0].props.barSize,A=y[0].props[v];i[A]||(i[A]=[]),i[A].push({item:y[0],stackList:y.slice(1),barSize:ar(S)?r:S})}}return i},zW=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,u=o.length;if(u<1)return null;var f=di(r,s,0,!0),h;if(o[0].barSize===+o[0].barSize){var m=!1,x=s/u,p=o.reduce(function(N,k){return N+k.barSize||0},0);p+=(u-1)*f,p>=s&&(p-=(u-1)*f,f=0),p>=s&&x>0&&(m=!0,x*=.9,p=u*x);var w=(s-p)/2>>0,v={offset:w-f,size:0};h=o.reduce(function(N,k){var C=[].concat(uk(N),[{item:k.item,position:{offset:v.offset+v.size+f,size:m?x:k.barSize}}]);return v=C[C.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){C.push({item:T,position:v})}),C},[])}else{var y=di(a,s,0,!0);s-2*y-(u-1)*f<=0&&(f=0);var S=(s-2*y-(u-1)*f)/u;S>1&&(S>>=0);var A=l===+l?Math.min(S,l):S;h=o.reduce(function(N,k,C){var T=[].concat(uk(N),[{item:k.item,position:{offset:y+(S+f)*C+(S-A)/2,size:A}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){T.push({item:I,position:T[T.length-1].position})}),T},[])}return h},WW=function(t,r,a,s){var i=a.children,o=a.width,l=a.margin,u=o-(l.left||0)-(l.right||0),f=zP({children:i,legendWidth:u}),h=t;if(f){var m=s||{},x=f.align,p=f.verticalAlign,w=f.layout;(w==="vertical"||w==="horizontal"&&p==="middle")&&yt(t[x])&&(h=zs(zs({},t),{},zd({},x,h[x]+(m.width||0)))),(w==="horizontal"||w==="vertical"&&x==="center")&&yt(t[p])&&(h=zs(zs({},t),{},zd({},p,h[p]+(m.height||0))))}return h},HW=function(t,r,a){return ar(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},WP=function(t,r,a,s,i){var o=r.props.children,l=eo(o,_g).filter(function(f){return HW(s,i,f.props.direction)});if(l&&l.length){var u=l.map(function(f){return f.props.dataKey});return t.reduce(function(f,h){var m=Es(h,a,0),x=fs(m)?[gg(m),pg(m)]:[m,m],p=u.reduce(function(w,v){var y=Es(h,v,0),S=x[0]-Math.abs(fs(y)?y[0]:y),A=x[1]+Math.abs(fs(y)?y[1]:y);return[Math.min(S,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(p[0],f[0]),Math.max(p[1],f[1])]},[1/0,-1/0])}return null},VW=function(t,r,a,s,i){var o=r.map(function(l){return WP(t,l,a,i,s)}).filter(function(l){return!ar(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},HP=function(t,r,a,s,i){var o=r.map(function(u){var f=u.props.dataKey;return a==="number"&&f&&WP(t,u,f,s)||Eh(t,f,a,i)});if(a==="number")return o.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,u.push(f[h]));return u},[])},VP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},fk=function(t,r,a){var s,i,o=t.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===a&&(i=!0),l.coordinate});return s||o.push(r),i||o.push(a),o},Rc=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,u=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(r||a)&&o==="category"&&s.bandwidth?s.bandwidth()/u:0;if(f=t.axisType==="angleAxis"&&l?.length>=2?Ls(l[0]-l[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var x=i?i.indexOf(m):m;return{coordinate:s(x)+f,value:m,offset:f}});return h.filter(function(m){return!y0(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,x){return{coordinate:s(m)+f,value:m,index:x,offset:f}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+f,value:m,offset:f}}):s.domain().map(function(m,x){return{coordinate:s(m)+f,value:i?i[m]:m,index:x,offset:f}})},Nm=function(t,r,a){var s;return sr(a)?s=a:sr(r)&&(s=r),sr(t)||s?function(i,o,l,u){sr(t)&&t(i,o,l,u),sr(s)&&s(i,o,l,u)}:null},YP=function(t,r,a){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Wh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:gp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Ph(),realScaleType:"point"}:i==="category"?{scale:Wh(),realScaleType:"band"}:{scale:gp(),realScaleType:"linear"};if(v0(s)){var u="scale".concat(lg(s));return{scale:(sk[u]||Ph)(),realScaleType:sk[u]?u:"point"}}return sr(s)?{scale:s}:{scale:Ph(),realScaleType:"point"}},hk=1e-4,GP=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-hk,o=Math.max(s[0],s[1])+hk,l=t(r[0]),u=t(r[a-1]);(l<i||l>o||u<i||u>o)&&t.domain([r[0],r[a-1]])}},YW=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},GW=function(t,r){if(!r||r.length!==2||!yt(r[0])||!yt(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!yt(t[0])||t[0]<a)&&(i[0]=a),(!yt(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},KW=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0,l=0;l<r;++l){var u=y0(t[l][a][1])?t[l][a][0]:t[l][a][1];u>=0?(t[l][a][0]=i,t[l][a][1]=i+u,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+u,o=t[l][a][1])}},XW=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0;o<r;++o){var l=y0(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},JW={sign:KW,expand:iD,none:Qd,silhouette:oD,wiggle:lD,positive:XW},QW=function(t,r,a){var s=r.map(function(o){return o.props.dataKey}),i=sD().keys(s).value(function(o,l){return+Es(o,l,0)}).order(Ob).offset(JW[a]);return i(t)},ZW=function(t,r,a,s,i,o){if(!t)return null;var l=o?r.reverse():r,u=l.reduce(function(f,h){var m=h.props,x=m.stackId,p=m.hide;if(p)return f;var w=h.props[a],v=f[w]||{hasStack:!1,stackGroups:{}};if(Ma(x)){var y=v.stackGroups[x]||{numericAxisId:a,cateAxisId:s,items:[]};y.items.push(h),v.hasStack=!0,v.stackGroups[x]=y}else v.stackGroups[b0("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[h]};return zs(zs({},f),{},zd({},w,v))},{});return Object.keys(u).reduce(function(f,h){var m=u[h];return m.hasStack&&(m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,p){var w=m.stackGroups[p];return zs(zs({},x),{},zd({},p,{numericAxisId:a,cateAxisId:s,items:w.items,stackedData:QW(t,w.items,i)}))},{})),zs(zs({},f),{},zd({},h,m))},{})},KP=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=a||r.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=t.domain();if(!f.length)return null;var h=_W(f,i,l);return t.domain([gg(h),pg(h)]),{niceTicks:h}}if(i&&s==="number"){var m=t.domain(),x=kW(m,i,l);return{niceTicks:x}}return null},mk=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return a[l]?a[l].coordinate+s:null;var u=Es(o,r.dataKey,r.domain[l]);return ar(u)?null:r.scale(u)-i/2+s},eH=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},tH=function(t,r){var a=t.props.stackId;if(Ma(a)){var s=r[a];if(s&&s.items.length){for(var i=-1,o=0,l=s.items.length;o<l;o++)if(s.items[o]===t){i=o;break}return i>=0?s.stackedData[i]:null}}return null},rH=function(t){return t.reduce(function(r,a){return[gg(a.concat([r[0]]).filter(yt)),pg(a.concat([r[1]]).filter(yt))]},[1/0,-1/0])},XP=function(t,r,a){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,u=l.reduce(function(f,h){var m=rH(h.slice(r,a+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},pk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fw=function(t,r,a){if(sr(t))return t(r,a);if(!fs(t))return r;var s=[];if(yt(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(pk.test(t[0])){var i=+pk.exec(t[0])[1];s[0]=r[0]-i}else sr(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(yt(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(gk.test(t[1])){var o=+gk.exec(t[1])[1];s[1]=r[1]+o}else sr(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},jp=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=O5(r,function(m){return m.coordinate}),o=1/0,l=1,u=i.length;l<u;l++){var f=i[l],h=i[l-1];o=Math.min((f.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},xk=function(t,r,a){return!t||!t.length||M5(t,Ri(a,"type.defaultProps.domain"))?r:t},JP=function(t,r){var a=t.props,s=a.dataKey,i=a.name,o=a.unit,l=a.formatter,u=a.tooltipType,f=a.chartType;return zs(zs({},mr(t)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:ij(t),value:Es(r,s),type:u,payload:r,chartType:f})};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(a){QP(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function QP(e,t,r){return t=nH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nH(e){var t=aH(e,"string");return Qh(t)==="symbol"?t:String(t)}function aH(e,t){if(Qh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Qh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sH(e,t){return cH(e)||lH(e,t)||oH(e,t)||iH()}function iH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(e,t){if(e){if(typeof e=="string")return yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yk(e,t)}}function yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function lH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function cH(e){if(Array.isArray(e))return e}var Np=Math.PI/180,uH=function(t){return t*180/Math.PI},On=function(t,r,a,s){return{x:t+Math.cos(-Np*s)*a,y:r+Math.sin(-Np*s)*a}},ZP=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},dH=function(t,r,a,s,i){var o=t.width,l=t.height,u=t.startAngle,f=t.endAngle,h=di(t.cx,o,o/2),m=di(t.cy,l,l/2),x=ZP(o,l,a),p=di(t.innerRadius,x,0),w=di(t.outerRadius,x,x*.8),v=Object.keys(r);return v.reduce(function(y,S){var A=r[S],N=A.domain,k=A.reversed,C;if(ar(A.range))s==="angleAxis"?C=[u,f]:s==="radiusAxis"&&(C=[p,w]),k&&(C=[C[1],C[0]]);else{C=A.range;var T=C,I=sH(T,2);u=I[0],f=I[1]}var F=YP(A,i),z=F.realScaleType,J=F.scale;J.domain(N).range(C),GP(J);var R=KP(J,Bl(Bl({},A),{},{realScaleType:z})),$=Bl(Bl(Bl({},A),R),{},{range:C,radius:w,realScaleType:z,scale:J,cx:h,cy:m,innerRadius:p,outerRadius:w,startAngle:u,endAngle:f});return Bl(Bl({},y),{},QP({},S,$))},{})},fH=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},hH=function(t,r){var a=t.x,s=t.y,i=r.cx,o=r.cy,l=fH({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l};var u=(a-i)/l,f=Math.acos(u);return s>o&&(f=2*Math.PI-f),{radius:l,angle:uH(f),angleInRadian:f}},mH=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:a-o*360}},pH=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},bk=function(t,r){var a=t.x,s=t.y,i=hH({x:a,y:s},r),o=i.radius,l=i.angle,u=r.innerRadius,f=r.outerRadius;if(o<u||o>f)return!1;if(o===0)return!0;var h=mH(r),m=h.startAngle,x=h.endAngle,p=l,w;if(m<=x){for(;p>x;)p-=360;for(;p<m;)p+=360;w=p>=m&&p<=x}else{for(;p>m;)p-=360;for(;p<x;)p+=360;w=p>=x&&p<=m}return w?Bl(Bl({},r),{},{radius:o,angle:pH(p,r)}):null};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function gH(e){return bH(e)||yH(e)||vH(e)||xH()}function xH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(e,t){if(e){if(typeof e=="string")return hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hw(e,t)}}function yH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bH(e){if(Array.isArray(e))return hw(e)}function hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(a){wH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wH(e,t,r){return t=jH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=NH(e,"string");return Zh(t)==="symbol"?t:String(t)}function NH(e,t){if(Zh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},e0.apply(this,arguments)}var SH=function(t){var r=t.value,a=t.formatter,s=ar(t.children)?r:t.children;return sr(a)?a(s):s},_H=function(t,r){var a=Ls(r-t),s=Math.min(Math.abs(r-t),360);return a*s},kH=function(t,r,a){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,u=i,f=u.cx,h=u.cy,m=u.innerRadius,x=u.outerRadius,p=u.startAngle,w=u.endAngle,v=u.clockWise,y=(m+x)/2,S=_H(p,w),A=S>=0?1:-1,N,k;s==="insideStart"?(N=p+A*o,k=v):s==="insideEnd"?(N=w-A*o,k=!v):s==="end"&&(N=w+A*o,k=v),k=S<=0?k:!k;var C=On(f,h,y,N),T=On(f,h,y,N+(k?1:-1)*359),I="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(T.x,",").concat(T.y),F=ar(t.id)?b0("recharts-radial-line-"):t.id;return Re.createElement("text",e0({},a,{dominantBaseline:"central",className:Nn("recharts-radial-bar-label",l)}),Re.createElement("defs",null,Re.createElement("path",{id:F,d:I})),Re.createElement("textPath",{xlinkHref:"#".concat(F)},r))},AH=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,u=i.innerRadius,f=i.outerRadius,h=i.startAngle,m=i.endAngle,x=(h+m)/2;if(s==="outside"){var p=On(o,l,f+a,x),w=p.x,v=p.y;return{x:w,y:v,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(u+f)/2,S=On(o,l,y,x),A=S.x,N=S.y;return{x:A,y:N,textAnchor:"middle",verticalAnchor:"middle"}},CH=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,u=o.y,f=o.width,h=o.height,m=h>=0?1:-1,x=m*s,p=m>0?"end":"start",w=m>0?"start":"end",v=f>=0?1:-1,y=v*s,S=v>0?"end":"start",A=v>0?"start":"end";if(i==="top"){var N={x:l+f/2,y:u-m*s,textAnchor:"middle",verticalAnchor:p};return Ka(Ka({},N),a?{height:Math.max(u-a.y,0),width:f}:{})}if(i==="bottom"){var k={x:l+f/2,y:u+h+x,textAnchor:"middle",verticalAnchor:w};return Ka(Ka({},k),a?{height:Math.max(a.y+a.height-(u+h),0),width:f}:{})}if(i==="left"){var C={x:l-y,y:u+h/2,textAnchor:S,verticalAnchor:"middle"};return Ka(Ka({},C),a?{width:Math.max(C.x-a.x,0),height:h}:{})}if(i==="right"){var T={x:l+f+y,y:u+h/2,textAnchor:A,verticalAnchor:"middle"};return Ka(Ka({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:h}:{})}var I=a?{width:f,height:h}:{};return i==="insideLeft"?Ka({x:l+y,y:u+h/2,textAnchor:A,verticalAnchor:"middle"},I):i==="insideRight"?Ka({x:l+f-y,y:u+h/2,textAnchor:S,verticalAnchor:"middle"},I):i==="insideTop"?Ka({x:l+f/2,y:u+x,textAnchor:"middle",verticalAnchor:w},I):i==="insideBottom"?Ka({x:l+f/2,y:u+h-x,textAnchor:"middle",verticalAnchor:p},I):i==="insideTopLeft"?Ka({x:l+y,y:u+x,textAnchor:A,verticalAnchor:w},I):i==="insideTopRight"?Ka({x:l+f-y,y:u+x,textAnchor:S,verticalAnchor:w},I):i==="insideBottomLeft"?Ka({x:l+y,y:u+h-x,textAnchor:A,verticalAnchor:p},I):i==="insideBottomRight"?Ka({x:l+f-y,y:u+h-x,textAnchor:S,verticalAnchor:p},I):Cf(i)&&(yt(i.x)||$u(i.x))&&(yt(i.y)||$u(i.y))?Ka({x:l+di(i.x,f),y:u+di(i.y,h),textAnchor:"end",verticalAnchor:"end"},I):Ka({x:l+f/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},I)},PH=function(t){return"cx"in t&&yt(t.cx)};function Ta(e){var t=e.viewBox,r=e.position,a=e.value,s=e.children,i=e.content,o=e.className,l=o===void 0?"":o,u=e.textBreakAll;if(!t||ar(a)&&ar(s)&&!O.isValidElement(i)&&!sr(i))return null;if(O.isValidElement(i))return O.cloneElement(i,e);var f;if(sr(i)){if(f=O.createElement(i,e),O.isValidElement(f))return f}else f=SH(e);var h=PH(t),m=mr(e,!0);if(h&&(r==="insideStart"||r==="insideEnd"||r==="end"))return kH(e,f,m);var x=h?AH(e):CH(e);return Re.createElement(Hc,e0({className:Nn("recharts-label",l)},m,x,{breakAll:u}),f)}Ta.displayName="Label";Ta.defaultProps={offset:5};var eE=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,u=t.radius,f=t.innerRadius,h=t.outerRadius,m=t.x,x=t.y,p=t.top,w=t.left,v=t.width,y=t.height,S=t.clockWise,A=t.labelViewBox;if(A)return A;if(yt(v)&&yt(y)){if(yt(m)&&yt(x))return{x:m,y:x,width:v,height:y};if(yt(p)&&yt(w))return{x:p,y:w,width:v,height:y}}return yt(m)&&yt(x)?{x:m,y:x,width:0,height:0}:yt(r)&&yt(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:f||0,outerRadius:h||u||l||0,clockWise:S}:t.viewBox?t.viewBox:{}},EH=function(t,r){return t?t===!0?Re.createElement(Ta,{key:"label-implicit",viewBox:r}):Ma(t)?Re.createElement(Ta,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Ta?O.cloneElement(t,{key:"label-implicit",viewBox:r}):Re.createElement(Ta,{key:"label-implicit",content:t,viewBox:r}):sr(t)?Re.createElement(Ta,{key:"label-implicit",content:t,viewBox:r}):Cf(t)?Re.createElement(Ta,e0({viewBox:r},t,{key:"label-implicit"})):null:null},LH=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=eE(t),o=eo(s,Ta).map(function(u,f){return O.cloneElement(u,{viewBox:r||i,key:"label-".concat(f)})});if(!a)return o;var l=EH(t.label,r||i);return[l].concat(gH(o))};Ta.parseViewBox=eE;Ta.renderCallByParent=LH;var p2,jk;function OH(){if(jk)return p2;jk=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return p2=e,p2}var RH=OH();const TH=Jr(RH);function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}var MH=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function IH(e){return BH(e)||$H(e)||FH(e)||DH()}function DH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FH(e,t){if(e){if(typeof e=="string")return mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mw(e,t)}}function $H(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BH(e){if(Array.isArray(e))return mw(e)}function mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sp.apply(this,arguments)}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(a){UH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UH(e,t,r){return t=qH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=zH(e,"string");return t0(t)==="symbol"?t:String(t)}function zH(e,t){if(t0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(t0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WH(e,t){if(e==null)return{};var r=HH(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function HH(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var VH={valueAccessor:function(t){return fs(t.value)?TH(t.value):t.value}};function Yl(e){var t=e.data,r=e.valueAccessor,a=e.dataKey,s=e.clockWise,i=e.id,o=e.textBreakAll,l=WH(e,MH);return!t||!t.length?null:Re.createElement(xn,{className:"recharts-label-list"},t.map(function(u,f){var h=ar(a)?r(u,f):Es(u&&u.payload,a),m=ar(i)?{}:{id:"".concat(i,"-").concat(f)};return Re.createElement(Ta,Sp({},mr(u,!0),l,m,{parentViewBox:u.parentViewBox,index:f,value:h,textBreakAll:o,viewBox:Ta.parseViewBox(ar(s)?u:Sk(Sk({},u),{},{clockWise:s})),key:"label-".concat(f)}))}))}Yl.displayName="LabelList";function YH(e,t){return e?e===!0?Re.createElement(Yl,{key:"labelList-implicit",data:t}):Re.isValidElement(e)||sr(e)?Re.createElement(Yl,{key:"labelList-implicit",data:t,content:e}):Cf(e)?Re.createElement(Yl,Sp({data:t},e,{key:"labelList-implicit"})):null:null}function GH(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=eo(a,Yl).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=YH(e.label,t);return[i].concat(IH(s))}Yl.renderCallByParent=GH;Yl.defaultProps=VH;function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pw.apply(this,arguments)}function KH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XH(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,tE(a.key),a)}}function JH(e,t,r){return t&&XH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gw(e,t)}function gw(e,t){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},gw(e,t)}function ZH(e){var t=rV();return function(){var a=_p(e),s;if(t){var i=_p(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return eV(this,s)}}function eV(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tV(e)}function tV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _p(e){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(e)}function nV(e,t,r){return t=tE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tE(e){var t=aV(e,"string");return cf(t)==="symbol"?t:String(t)}function aV(e,t){if(cf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(cf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sV=function(t,r){var a=Ls(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},Sm=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,u=t.cornerRadius,f=t.cornerIsExternal,h=u*(l?1:-1)+s,m=Math.asin(u/h)/Np,x=f?i:i+o*m,p=On(r,a,h,x),w=On(r,a,s,x),v=f?i-o*m:i,y=On(r,a,h*Math.cos(m*Np),v);return{center:p,circleTangency:w,lineTangency:y,theta:m}},rE=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,u=sV(o,l),f=o+u,h=On(r,a,i,o),m=On(r,a,i,f),x="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var p=On(r,a,s,o),w=On(r,a,s,f);x+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(p.x,",").concat(p.y," Z")}else x+="L ".concat(r,",").concat(a," Z");return x},iV=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,f=t.startAngle,h=t.endAngle,m=Ls(h-f),x=Sm({cx:r,cy:a,radius:i,angle:f,sign:m,cornerRadius:o,cornerIsExternal:u}),p=x.circleTangency,w=x.lineTangency,v=x.theta,y=Sm({cx:r,cy:a,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:u}),S=y.circleTangency,A=y.lineTangency,N=y.theta,k=u?Math.abs(f-h):Math.abs(f-h)-v-N;if(k<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rE({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:f,endAngle:h});var C="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(s>0){var T=Sm({cx:r,cy:a,radius:s,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),I=T.circleTangency,F=T.lineTangency,z=T.theta,J=Sm({cx:r,cy:a,radius:s,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),R=J.circleTangency,$=J.lineTangency,H=J.theta,B=u?Math.abs(f-h):Math.abs(f-h)-z-H;if(B<0&&o===0)return"".concat(C,"L").concat(r,",").concat(a,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(B>180),",").concat(+(m>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,"Z")}else C+="L".concat(r,",").concat(a,"Z");return C},kp=(function(e){QH(r,e);var t=ZH(r);function r(){return KH(this,r),t.apply(this,arguments)}return JH(r,[{key:"render",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.innerRadius,u=s.outerRadius,f=s.cornerRadius,h=s.forceCornerRadius,m=s.cornerIsExternal,x=s.startAngle,p=s.endAngle,w=s.className;if(u<l||x===p)return null;var v=Nn("recharts-sector",w),y=u-l,S=di(f,y,0,!0),A;return S>0&&Math.abs(x-p)<360?A=iV({cx:i,cy:o,innerRadius:l,outerRadius:u,cornerRadius:Math.min(S,y/2),forceCornerRadius:h,cornerIsExternal:m,startAngle:x,endAngle:p}):A=rE({cx:i,cy:o,innerRadius:l,outerRadius:u,startAngle:x,endAngle:p}),Re.createElement("path",pw({},mr(this.props,!0),{className:v,d:A,role:"img"}))}}]),r})(O.PureComponent);nV(kp,"defaultProps",{cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1});function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xw.apply(this,arguments)}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(a){oV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oV(e,t,r){return t=lV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=cV(e,"string");return r0(t)==="symbol"?t:String(t)}function cV(e,t){if(r0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(r0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ak={curveBasisClosed:GI,curveBasisOpen:KI,curveBasis:YI,curveLinearClosed:XI,curveLinear:ug,curveMonotoneX:JI,curveMonotoneY:QI,curveNatural:ZI,curveStep:eD,curveStepAfter:rD,curveStepBefore:tD},_m=function(t){return t.x===+t.x&&t.y===+t.y},vh=function(t){return t.x},yh=function(t){return t.y},uV=function(t,r){if(sr(t))return t;var a="curve".concat(lg(t));return a==="curveMonotone"&&r?Ak["".concat(a).concat(r==="vertical"?"Y":"X")]:Ak[a]||ug},dV=function(t){var r=t.type,a=t.points,s=t.baseLine,i=t.layout,o=t.connectNulls,l=uV(r,i),u=o?a.filter(function(x){return _m(x)}):a,f;if(fs(s)){var h=o?s.filter(function(x){return _m(x)}):s,m=u.map(function(x,p){return kk(kk({},x),{},{base:h[p]})});return i==="vertical"?f=mm().y(yh).x1(vh).x0(function(x){return x.base.x}):f=mm().x(vh).y1(yh).y0(function(x){return x.base.y}),f.defined(_m).curve(l),f(m)}return i==="vertical"&&yt(s)?f=mm().y(yh).x1(vh).x0(s):yt(s)?f=mm().x(vh).y1(yh).y0(s):f=g7().x(vh).y(yh),f.defined(_m).curve(l),f(u)},Ap=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?dV(t):s;return Re.createElement("path",xw({},mr(t),Km(t),{className:Nn("recharts-curve",r),d:o,ref:i}))};Ap.defaultProps={type:"linear",points:[],connectNulls:!1};function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cp.apply(this,arguments)}function fV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hV(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sE(a.key),a)}}function mV(e,t,r){return t&&hV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vw(e,t)}function vw(e,t){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},vw(e,t)}function gV(e){var t=vV();return function(){var a=Pp(e),s;if(t){var i=Pp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return xV(this,s)}}function xV(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nE(e)}function nE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function aE(e,t,r){return t=sE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sE(e){var t=yV(e,"string");return uf(t)==="symbol"?t:String(t)}function yV(e,t){if(uf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ck=function(t,r,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,f=s>=0&&a>=0||s<0&&a<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],x=0,p=4;x<p;x++)m[x]=i[x]>o?o:i[x];h="M".concat(t,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+u*m[0],",").concat(r)),h+="L ".concat(t+a-u*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+a,",").concat(r+l*m[1])),h+="L ".concat(t+a,",").concat(r+s-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+a-u*m[2],",").concat(r+s)),h+="L ".concat(t+u*m[3],",").concat(r+s),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+s-l*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);h="M ".concat(t,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+u*w,",").concat(r,`
            L `).concat(t+a-u*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+a,",").concat(r+l*w,`
            L `).concat(t+a,",").concat(r+s-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+a-u*w,",").concat(r+s,`
            L `).concat(t+u*w,",").concat(r+s,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+s-l*w," Z")}else h="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return h},bV=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var f=Math.min(i,i+l),h=Math.max(i,i+l),m=Math.min(o,o+u),x=Math.max(o,o+u);return a>=f&&a<=h&&s>=m&&s<=x}return!1},kg=(function(e){pV(r,e);var t=gV(r);function r(){var a;fV(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=t.call.apply(t,[this].concat(i)),aE(nE(a),"state",{totalLength:-1}),a}return mV(r,[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var s=this.node.getTotalLength();s&&this.setState({totalLength:s})}catch{}}},{key:"render",value:function(){var s=this,i=this.props,o=i.x,l=i.y,u=i.width,f=i.height,h=i.radius,m=i.className,x=this.state.totalLength,p=this.props,w=p.animationEasing,v=p.animationDuration,y=p.animationBegin,S=p.isAnimationActive,A=p.isUpdateAnimationActive;if(o!==+o||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var N=Nn("recharts-rectangle",m);return A?Re.createElement(Xu,{canBegin:x>0,from:{width:u,height:f,x:o,y:l},to:{width:u,height:f,x:o,y:l},duration:v,animationEasing:w,isActive:A},function(k){var C=k.width,T=k.height,I=k.x,F=k.y;return Re.createElement(Xu,{canBegin:x>0,from:"0px ".concat(x===-1?1:x,"px"),to:"".concat(x,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:S,easing:w},Re.createElement("path",Cp({},mr(s.props,!0),{className:N,d:Ck(I,F,C,T,h),ref:function(J){s.node=J}})))}):Re.createElement("path",Cp({},mr(this.props,!0),{className:N,d:Ck(o,l,u,f,h)}))}}]),r})(O.PureComponent);aE(kg,"defaultProps",{x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"});function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}var wV=["points","className","baseLinePoints","connectNulls"];function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Id.apply(this,arguments)}function jV(e,t){if(e==null)return{};var r=NV(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function NV(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function SV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _V(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AV(a.key),a)}}function kV(e,t,r){return t&&_V(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AV(e){var t=CV(e,"string");return df(t)==="symbol"?t:String(t)}function CV(e,t){if(df(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(df(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function PV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yw(e,t)}function yw(e,t){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},yw(e,t)}function EV(e){var t=RV();return function(){var a=Ep(e),s;if(t){var i=Ep(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return LV(this,s)}}function LV(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OV(e)}function OV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function Pk(e){return DV(e)||IV(e)||MV(e)||TV()}function TV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MV(e,t){if(e){if(typeof e=="string")return bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bw(e,t)}}function IV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DV(e){if(Array.isArray(e))return bw(e)}function bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Ek=function(t){return t&&t.x===+t.x&&t.y===+t.y},FV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(a){Ek(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),Ek(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Lh=function(t,r){var a=FV(t);r&&(a=[a.reduce(function(i,o){return[].concat(Pk(i),Pk(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,l,u){return"".concat(o).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},$V=function(t,r,a){var s=Lh(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Lh(r.reverse(),a).slice(1))},BV=(function(e){PV(r,e);var t=EV(r);function r(){return SV(this,r),t.apply(this,arguments)}return kV(r,[{key:"render",value:function(){var s=this.props,i=s.points,o=s.className,l=s.baseLinePoints,u=s.connectNulls,f=jV(s,wV);if(!i||!i.length)return null;var h=Nn("recharts-polygon",o);if(l&&l.length){var m=f.stroke&&f.stroke!=="none",x=$V(i,l,u);return Re.createElement("g",{className:h},Re.createElement("path",Id({},mr(f,!0),{fill:x.slice(-1)==="Z"?f.fill:"none",stroke:"none",d:x})),m?Re.createElement("path",Id({},mr(f,!0),{fill:"none",d:Lh(i,u)})):null,m?Re.createElement("path",Id({},mr(f,!0),{fill:"none",d:Lh(l,u)})):null)}var p=Lh(i,u);return Re.createElement("path",Id({},mr(f,!0),{fill:p.slice(-1)==="Z"?f.fill:"none",className:h,d:p}))}}]),r})(O.PureComponent);function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ww.apply(this,arguments)}function UV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qV(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WV(a.key),a)}}function zV(e,t,r){return t&&qV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WV(e){var t=HV(e,"string");return ff(t)==="symbol"?t:String(t)}function HV(e,t){if(ff(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ff(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jw(e,t)}function jw(e,t){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},jw(e,t)}function YV(e){var t=XV();return function(){var a=Lp(e),s;if(t){var i=Lp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return GV(this,s)}}function GV(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KV(e)}function KV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}var oj=(function(e){VV(r,e);var t=YV(r);function r(){return UV(this,r),t.apply(this,arguments)}return zV(r,[{key:"render",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.r,u=s.className,f=Nn("recharts-dot",u);return i===+i&&o===+o&&l===+l?Re.createElement("circle",ww({},mr(this.props),Km(this.props),{className:f,cx:i,cy:o,r:l})):null}}]),r})(O.PureComponent);function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nw.apply(this,arguments)}var JV=function(t,r,a,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(a)},iE=function(t){var r=t.x,a=t.y,s=t.width,i=t.height,o=t.top,l=t.left,u=t.className;return!yt(r)||!yt(a)||!yt(s)||!yt(i)||!yt(o)||!yt(l)?null:Re.createElement("path",Nw({},mr(t,!0),{className:Nn("recharts-cross",u),d:JV(r,a,s,i,o,l)}))};iE.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var g2,Lk;function QV(){if(Lk)return g2;Lk=1;var e=mg(),t=il(),r=J7();function a(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return g2=a,g2}var ZV=QV();const eY=Jr(ZV);var x2,Ok;function tY(){if(Ok)return x2;Ok=1;var e=mg(),t=X7(),r=il();function a(s,i){return s&&s.length?e(s,r(i,2),t):void 0}return x2=a,x2}var rY=tY();const nY=Jr(rY);var aY=["cx","cy","angle","ticks","axisLine"],sY=["ticks","tick","angle","tickFormatter","stroke"];function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Oh.apply(this,arguments)}function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(a){Ag(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tk(e,t){if(e==null)return{};var r=iY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function iY(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function oY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oE(a.key),a)}}function lY(e,t,r){return t&&Mk(e.prototype,t),r&&Mk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Sw(e,t)}function uY(e){var t=hY();return function(){var a=Op(e),s;if(t){var i=Op(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return dY(this,s)}}function dY(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(e)}function fY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}function Ag(e,t,r){return t=oE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oE(e){var t=mY(e,"string");return hf(t)==="symbol"?t:String(t)}function mY(e,t){if(hf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cg=(function(e){cY(r,e);var t=uY(r);function r(){return oY(this,r),t.apply(this,arguments)}return lY(r,[{key:"getTickValueCoord",value:function(s){var i=s.coordinate,o=this.props,l=o.angle,u=o.cx,f=o.cy;return On(u,f,i,l)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,i;switch(s){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.angle,u=s.ticks,f=nY(u,function(m){return m.coordinate||0}),h=eY(u,function(m){return m.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.angle,u=s.ticks,f=s.axisLine,h=Tk(s,aY),m=u.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),x=On(i,o,m[0],l),p=On(i,o,m[1],l),w=Eu(Eu(Eu({},mr(h)),{},{fill:"none"},mr(f)),{},{x1:x.x,y1:x.y,x2:p.x,y2:p.y});return Re.createElement("line",Oh({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var s=this,i=this.props,o=i.ticks,l=i.tick,u=i.angle,f=i.tickFormatter,h=i.stroke,m=Tk(i,sY),x=this.getTickTextAnchor(),p=mr(m),w=mr(l),v=o.map(function(y,S){var A=s.getTickValueCoord(y),N=Eu(Eu(Eu(Eu({textAnchor:x,transform:"rotate(".concat(90-u,", ").concat(A.x,", ").concat(A.y,")")},p),{},{stroke:"none",fill:h},w),{},{index:S},A),{},{payload:y});return Re.createElement(xn,Oh({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(S)},Ku(s.props,y,S)),r.renderTickItem(l,N,f?f(y.value,S):y.value))});return Re.createElement(xn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var s=this.props,i=s.ticks,o=s.axisLine,l=s.tick;return!i||!i.length?null:Re.createElement(xn,{className:"recharts-polar-radius-axis"},o&&this.renderAxisLine(),l&&this.renderTicks(),Ta.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,i,o){var l;return Re.isValidElement(s)?l=Re.cloneElement(s,i):sr(s)?l=s(i):l=Re.createElement(Hc,Oh({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}]),r})(O.PureComponent);Ag(Cg,"displayName","PolarRadiusAxis");Ag(Cg,"axisType","radiusAxis");Ag(Cg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mu.apply(this,arguments)}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(a){Pg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lE(a.key),a)}}function gY(e,t,r){return t&&Dk(e.prototype,t),r&&Dk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_w(e,t)}function vY(e){var t=wY();return function(){var a=Rp(e),s;if(t){var i=Rp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return yY(this,s)}}function yY(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bY(e)}function bY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function Pg(e,t,r){return t=lE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lE(e){var t=jY(e,"string");return mf(t)==="symbol"?t:String(t)}function jY(e,t){if(mf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(mf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NY=Math.PI/180,Fk=1e-5,Eg=(function(e){xY(r,e);var t=vY(r);function r(){return pY(this,r),t.apply(this,arguments)}return gY(r,[{key:"getTickLineCoord",value:function(s){var i=this.props,o=i.cx,l=i.cy,u=i.radius,f=i.orientation,h=i.tickSize,m=h||8,x=On(o,l,u,s.coordinate),p=On(o,l,u+(f==="inner"?-1:1)*m,s.coordinate);return{x1:x.x,y1:x.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(s){var i=this.props.orientation,o=Math.cos(-s.coordinate*NY),l;return o>Fk?l=i==="outer"?"start":"end":o<-Fk?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.cx,o=s.cy,l=s.radius,u=s.axisLine,f=s.axisLineType,h=Lu(Lu({},mr(this.props)),{},{fill:"none"},mr(u));if(f==="circle")return Re.createElement(oj,Mu({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:o,r:l}));var m=this.props.ticks,x=m.map(function(p){return On(i,o,l,p.coordinate)});return Re.createElement(BV,Mu({className:"recharts-polar-angle-axis-line"},h,{points:x}))}},{key:"renderTicks",value:function(){var s=this,i=this.props,o=i.ticks,l=i.tick,u=i.tickLine,f=i.tickFormatter,h=i.stroke,m=mr(this.props),x=mr(l),p=Lu(Lu({},m),{},{fill:"none"},mr(u)),w=o.map(function(v,y){var S=s.getTickLineCoord(v),A=s.getTickTextAnchor(v),N=Lu(Lu(Lu({textAnchor:A},m),{},{stroke:"none",fill:h},x),{},{index:y,payload:v,x:S.x2,y:S.y2});return Re.createElement(xn,Mu({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(y)},Ku(s.props,v,y)),u&&Re.createElement("line",Mu({className:"recharts-polar-angle-axis-tick-line"},p,S)),l&&r.renderTickItem(l,N,f?f(v.value,y):v.value))});return Re.createElement(xn,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var s=this.props,i=s.ticks,o=s.radius,l=s.axisLine;return o<=0||!i||!i.length?null:Re.createElement(xn,{className:"recharts-polar-angle-axis"},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,i,o){var l;return Re.isValidElement(s)?l=Re.cloneElement(s,i):sr(s)?l=s(i):l=Re.createElement(Hc,Mu({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}]),r})(O.PureComponent);Pg(Eg,"displayName","PolarAngleAxis");Pg(Eg,"axisType","angleAxis");Pg(Eg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var v2,$k;function SY(){if($k)return v2;$k=1;var e=s7(),t=e(Object.getPrototypeOf,Object);return v2=t,v2}var y2,Bk;function _Y(){if(Bk)return y2;Bk=1;var e=tc(),t=SY(),r=rc(),a="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,u=o.call(Object);function f(h){if(!r(h)||e(h)!=a)return!1;var m=t(h);if(m===null)return!0;var x=l.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&o.call(x)==u}return y2=f,y2}var kY=_Y();const AY=Jr(kY);function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Iu.apply(this,arguments)}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(a){Ji(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function CY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cE(a.key),a)}}function PY(e,t,r){return t&&qk(e.prototype,t),r&&qk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},kw(e,t)}function LY(e){var t=RY();return function(){var a=Tp(e),s;if(t){var i=Tp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return OY(this,s)}}function OY(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Od(e)}function Od(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function Ji(e,t,r){return t=cE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cE(e){var t=TY(e,"string");return pf(t)==="symbol"?t:String(t)}function TY(e,t){if(pf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(pf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zi=(function(e){EY(r,e);var t=LY(r);function r(a){var s;return CY(this,r),s=t.call(this,a),Ji(Od(s),"pieRef",null),Ji(Od(s),"sectorRefs",[]),Ji(Od(s),"id",b0("recharts-pie-")),Ji(Od(s),"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),sr(i)&&i()}),Ji(Od(s),"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),sr(i)&&i()}),s.state={isAnimationFinished:!a.isAnimationActive,prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,sectorToFocus:0},s}return PY(r,[{key:"isActiveIndex",value:function(s){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(s)!==-1:s===i}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,f=o.dataKey,h=o.valueKey,m=mr(this.props),x=mr(l),p=mr(u),w=l&&l.offsetRadius||20,v=s.map(function(y,S){var A=(y.startAngle+y.endAngle)/2,N=On(y.cx,y.cy,y.outerRadius+w,A),k=Vn(Vn(Vn(Vn({},m),y),{},{stroke:"none"},x),{},{index:S,textAnchor:r.getTextAnchor(N.x,y.cx)},N),C=Vn(Vn(Vn(Vn({},m),y),{},{fill:"none",stroke:y.fill},p),{},{index:S,points:[On(y.cx,y.cy,y.outerRadius,A),N],key:"line"}),T=f;return ar(f)&&ar(h)?T="value":ar(f)&&(T=h),Re.createElement(xn,{key:"label-".concat(S)},u&&r.renderLabelLineItem(u,C),r.renderLabelItem(l,k,Es(y,T)))});return Re.createElement(xn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(s){var i=this,o=this.props,l=o.activeShape,u=o.blendStroke,f=o.inactiveShape;return s.map(function(h,m){var x=f&&i.hasActiveIndex()?f:null,p=i.isActiveIndex(m)?l:x,w=Vn(Vn({},h),{},{stroke:u?h.fill:h.stroke});return Re.createElement(xn,Iu({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ku(i.props,h,m),{key:"sector-".concat(m)}),r.renderSectorItem(p,w))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,i=this.props,o=i.sectors,l=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,x=this.state,p=x.prevSectors,w=x.prevIsAnimationActive;return Re.createElement(Xu,{begin:u,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(w),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,S=[],A=o&&o[0],N=A.startAngle;return o.forEach(function(k,C){var T=p&&p[C],I=C>0?Ri(k,"paddingAngle",0):0;if(T){var F=Tc(T.endAngle-T.startAngle,k.endAngle-k.startAngle),z=Vn(Vn({},k),{},{startAngle:N+I,endAngle:N+F(y)+I});S.push(z),N=z.endAngle}else{var J=k.endAngle,R=k.startAngle,$=Tc(0,J-R),H=$(y),B=Vn(Vn({},k),{},{startAngle:N+I,endAngle:N+H+I});S.push(B),N=B.endAngle}}),Re.createElement(xn,null,s.renderSectorsStatically(S))})}},{key:"attachKeyboardHandlers",value:function(s){var i=this;s.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,i=s.sectors,o=s.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!M5(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,i=this.props,o=i.hide,l=i.sectors,u=i.className,f=i.label,h=i.cx,m=i.cy,x=i.innerRadius,p=i.outerRadius,w=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!l||!l.length||!yt(h)||!yt(m)||!yt(x)||!yt(p))return null;var y=Nn("recharts-pie",u);return Re.createElement(xn,{tabIndex:0,className:y,ref:function(A){s.pieRef=A}},this.renderSectors(),f&&this.renderLabels(l),Ta.renderCallByParent(this.props,null,!1),(!w||v)&&Yl.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return i.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:s.sectors!==i.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,i){return s>i?"start":s<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,i){return Re.isValidElement(s)?Re.cloneElement(s,i):sr(s)?s(i):Re.createElement(Ap,Iu({},i,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(s,i,o){if(Re.isValidElement(s))return Re.cloneElement(s,i);var l=o;return sr(s)&&(l=s(i),Re.isValidElement(l))?l:Re.createElement(Hc,Iu({},i,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),l)}},{key:"renderSectorItem",value:function(s,i){return Re.isValidElement(s)?Re.cloneElement(s,i):sr(s)?s(i):AY(s)?Re.createElement(kp,Iu({tabIndex:-1},i,s)):Re.createElement(kp,Iu({tabIndex:-1},i))}}]),r})(O.PureComponent);Ji(Zi,"displayName","Pie");Ji(Zi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Lf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1});Ji(Zi,"parseDeltaAngle",function(e,t){var r=Ls(t-e),a=Math.min(Math.abs(t-e),360);return r*a});Ji(Zi,"getRealPieData",function(e){var t=e.props,r=t.data,a=t.children,s=mr(e.props),i=eo(a,j0);return r&&r.length?r.map(function(o,l){return Vn(Vn(Vn({payload:o},s),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return Vn(Vn({},s),o.props)}):[]});Ji(Zi,"parseCoordinateOfPie",function(e,t){var r=t.top,a=t.left,s=t.width,i=t.height,o=ZP(s,i),l=a+di(e.props.cx,s,s/2),u=r+di(e.props.cy,i,i/2),f=di(e.props.innerRadius,o,0),h=di(e.props.outerRadius,o,o*.8),m=e.props.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:u,innerRadius:f,outerRadius:h,maxRadius:m}});Ji(Zi,"getComposedData",function(e){var t=e.item,r=e.offset,a=Zi.getRealPieData(t);if(!a||!a.length)return null;var s=t.props,i=s.cornerRadius,o=s.startAngle,l=s.endAngle,u=s.paddingAngle,f=s.dataKey,h=s.nameKey,m=s.valueKey,x=s.tooltipType,p=Math.abs(t.props.minAngle),w=Zi.parseCoordinateOfPie(t,r),v=Zi.parseDeltaAngle(o,l),y=Math.abs(v),S=f;ar(f)&&ar(m)?(Uc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):ar(f)&&(Uc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=m);var A=a.filter(function(F){return Es(F,S,0)!==0}).length,N=(y>=360?A:A-1)*u,k=y-A*p-N,C=a.reduce(function(F,z){var J=Es(z,S,0);return F+(yt(J)?J:0)},0),T;if(C>0){var I;T=a.map(function(F,z){var J=Es(F,S,0),R=Es(F,h,z),$=(yt(J)?J:0)/C,H;z?H=I.endAngle+Ls(v)*u*(J!==0?1:0):H=o;var B=H+Ls(v)*((J!==0?p:0)+$*k),ce=(H+B)/2,se=(w.innerRadius+w.outerRadius)/2,xe=[{name:R,value:J,payload:F,dataKey:S,type:x}],te=On(w.cx,w.cy,se,ce);return I=Vn(Vn(Vn({percent:$,cornerRadius:i,name:R,tooltipPayload:xe,midAngle:ce,middleRadius:se,tooltipPosition:te},F),w),{},{value:Es(F,S),startAngle:H,endAngle:B,payload:F,paddingAngle:Ls(v)*u}),I})}return Vn(Vn({},w),{},{sectors:T,data:a})});var b2,zk;function MY(){if(zk)return b2;zk=1;var e=Math.ceil,t=Math.max;function r(a,s,i,o){for(var l=-1,u=t(e((s-a)/(i||1)),0),f=Array(u);u--;)f[o?u:++l]=a,a+=i;return f}return b2=r,b2}var w2,Wk;function uE(){if(Wk)return w2;Wk=1;var e=z7(),t=1/0,r=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return w2=a,w2}var j2,Hk;function IY(){if(Hk)return j2;Hk=1;var e=MY(),t=hg(),r=uE();function a(s){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,s)}}return j2=a,j2}var N2,Vk;function DY(){if(Vk)return N2;Vk=1;var e=IY(),t=e();return N2=t,N2}var FY=DY();const Mp=Jr(FY);function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(a){dE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dE(e,t,r){return t=$Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=BY(e,"string");return n0(t)==="symbol"?t:String(t)}function BY(e,t){if(n0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(n0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UY=["Webkit","Moz","O","ms"],qY=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=UY.reduce(function(i,o){return Gk(Gk({},i),{},dE({},o+a,r))},{});return s[t]=r,s};function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ip.apply(this,arguments)}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(a){Xi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fE(a.key),a)}}function WY(e,t,r){return t&&Xk(e.prototype,t),r&&Xk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Aw(e,t)}function VY(e){var t=GY();return function(){var a=Dp(e),s;if(t){var i=Dp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return YY(this,s)}}function YY(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(e)}function Qo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function Xi(e,t,r){return t=fE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fE(e){var t=KY(e,"string");return gf(t)==="symbol"?t:String(t)}function KY(e,t){if(gf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XY=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=Ph().domain(Mp(0,u)).range([i,i+o-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:f(a),endX:f(s),scale:f,scaleValues:h}},Jk=function(t){return t.changedTouches&&!!t.changedTouches.length},a0=(function(e){HY(r,e);var t=VY(r);function r(a){var s;return zY(this,r),s=t.call(this,a),Xi(Qo(s),"handleDrag",function(i){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(i):s.state.isSlideMoving&&s.handleSlideDrag(i)}),Xi(Qo(s),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&s.handleDrag(i.changedTouches[0])}),Xi(Qo(s),"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1}),s.detachDragEndListener()}),Xi(Qo(s),"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Xi(Qo(s),"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Xi(Qo(s),"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Xi(Qo(s),"handleSlideDragStart",function(i){var o=Jk(i)?i.changedTouches[0]:i;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(Qo(s),"startX"),endX:s.handleTravellerDragStart.bind(Qo(s),"endX")},s.state={},s}return WY(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var i=s.startX,o=s.endX,l=this.state.scaleValues,u=this.props,f=u.gap,h=u.data,m=h.length-1,x=Math.min(i,o),p=Math.max(i,o),w=r.getIndexInRange(l,x),v=r.getIndexInRange(l,p);return{startIndex:w-w%f,endIndex:v===m?m:v-v%f}}},{key:"getTextOfTick",value:function(s){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,f=Es(o[s],u,s);return sr(l)?l(f,s):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,f=this.props,h=f.x,m=f.width,x=f.travellerWidth,p=f.startIndex,w=f.endIndex,v=f.onChange,y=s.pageX-o;y>0?y=Math.min(y,h+m-x-u,h+m-x-l):y<0&&(y=Math.max(y,h-l,h-u));var S=this.getIndex({startX:l+y,endX:u+y});(S.startIndex!==p||S.endIndex!==w)&&v&&v(S),this.setState({startX:l+y,endX:u+y,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,i){var o=Jk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var i,o=this.state,l=o.brushMoveStartX,u=o.movingTravellerId,f=o.endX,h=o.startX,m=this.state[u],x=this.props,p=x.x,w=x.width,v=x.travellerWidth,y=x.onChange,S=x.gap,A=x.data,N={startX:this.state.startX,endX:this.state.endX},k=s.pageX-l;k>0?k=Math.min(k,p+w-v-m):k<0&&(k=Math.max(k,p-m)),N[u]=m+k;var C=this.getIndex(N),T=C.startIndex,I=C.endIndex,F=function(){var J=A.length-1;return u==="startX"&&(f>h?T%S===0:I%S===0)||f<h&&I===J||u==="endX"&&(f>h?I%S===0:T%S===0)||f>h&&I===J};this.setState((i={},Xi(i,u,m+k),Xi(i,"brushMoveStartX",s.pageX),i),function(){y&&F()&&y(C)})}},{key:"renderBackground",value:function(){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,f=s.fill,h=s.stroke;return Re.createElement("rect",{stroke:h,fill:f,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,f=s.data,h=s.children,m=s.padding,x=O.Children.only(h);return x?Re.cloneElement(x,{x:i,y:o,width:l,height:u,margin:m,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(s,i){var o=this.props,l=o.y,u=o.travellerWidth,f=o.height,h=o.traveller,m=Math.max(s,this.props.x),x=S2(S2({},mr(this.props)),{},{x:m,y:l,width:u,height:f});return Re.createElement(xn,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],style:{cursor:"col-resize"}},r.renderTraveller(h,x))}},{key:"renderSlide",value:function(s,i){var o=this.props,l=o.y,u=o.height,f=o.stroke,h=o.travellerWidth,m=Math.min(s,i)+h,x=Math.max(Math.abs(i-s)-h,0);return Re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:m,y:l,width:x,height:u})}},{key:"renderText",value:function(){var s=this.props,i=s.startIndex,o=s.endIndex,l=s.y,u=s.height,f=s.travellerWidth,h=s.stroke,m=this.state,x=m.startX,p=m.endX,w=5,v={pointerEvents:"none",fill:h};return Re.createElement(xn,{className:"recharts-brush-texts"},Re.createElement(Hc,Ip({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,p)-w,y:l+u/2},v),this.getTextOfTick(i)),Re.createElement(Hc,Ip({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,p)+f+w,y:l+u/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var s=this.props,i=s.data,o=s.className,l=s.children,u=s.x,f=s.y,h=s.width,m=s.height,x=s.alwaysShowText,p=this.state,w=p.startX,v=p.endX,y=p.isTextActive,S=p.isSlideMoving,A=p.isTravellerMoving;if(!i||!i.length||!yt(u)||!yt(f)||!yt(h)||!yt(m)||h<=0||m<=0)return null;var N=Nn("recharts-brush",o),k=Re.Children.count(l)===1,C=qY("userSelect","none");return Re.createElement(xn,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(w,v),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(v,"endX"),(y||S||A||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var i=s.x,o=s.y,l=s.width,u=s.height,f=s.stroke,h=Math.floor(o+u/2)-1;return Re.createElement(Re.Fragment,null,Re.createElement("rect",{x:i,y:o,width:l,height:u,fill:f,stroke:"none"}),Re.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),Re.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,i){var o;return Re.isValidElement(s)?o=Re.cloneElement(s,i):sr(s)?o=s(i):o=r.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(s,i){var o=s.data,l=s.width,u=s.x,f=s.travellerWidth,h=s.updateId,m=s.startIndex,x=s.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return S2({prevData:o,prevTravellerWidth:f,prevUpdateId:h,prevX:u,prevWidth:l},o&&o.length?XY({data:o,width:l,x:u,travellerWidth:f,startIndex:m,endIndex:x}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([u,u+l-f]);var p=i.scale.domain().map(function(w){return i.scale(w)});return{prevData:o,prevTravellerWidth:f,prevUpdateId:h,prevX:u,prevWidth:l,startX:i.scale(s.startIndex),endX:i.scale(s.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(s,i){for(var o=s.length,l=0,u=o-1;u-l>1;){var f=Math.floor((l+u)/2);s[f]>i?u=f:l=f}return i>=s[u]?u:l}}]),r})(O.PureComponent);Xi(a0,"displayName","Brush");Xi(a0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _2,Qk;function JY(){if(Qk)return _2;Qk=1;var e=L5();function t(r,a){var s;return e(r,function(i,o,l){return s=a(i,o,l),!s}),!!s}return _2=t,_2}var k2,Zk;function QY(){if(Zk)return k2;Zk=1;var e=Q8(),t=il(),r=JY(),a=Hs(),s=hg();function i(o,l,u){var f=a(o)?e:r;return u&&s(o,l,u)&&(l=void 0),f(o,t(l,3))}return k2=i,k2}var ZY=QY();const eG=Jr(ZY);var nl=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},A2,eA;function tG(){if(eA)return A2;eA=1;function e(t,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!r(t[a],a,t))return!1;return!0}return A2=e,A2}var C2,tA;function rG(){if(tA)return C2;tA=1;var e=L5();function t(r,a){var s=!0;return e(r,function(i,o,l){return s=!!a(i,o,l),s}),s}return C2=t,C2}var P2,rA;function nG(){if(rA)return P2;rA=1;var e=tG(),t=rG(),r=il(),a=Hs(),s=hg();function i(o,l,u){var f=a(o)?e:t;return u&&s(o,l,u)&&(l=void 0),f(o,r(l,3))}return P2=i,P2}var aG=nG();const hE=Jr(aG);var E2,nA;function sG(){if(nA)return E2;nA=1;var e=U7();function t(r,a,s){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[a]=s}return E2=t,E2}var L2,aA;function iG(){if(aA)return L2;aA=1;var e=sG(),t=$7(),r=il();function a(s,i){var o={};return i=r(i,3),t(s,function(l,u,f){e(o,u,i(l,u,f))}),o}return L2=a,L2}var oG=iG();const lG=Jr(oG);var cG=["value","background"];function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function uG(e,t){if(e==null)return{};var r=dG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function dG(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cw.apply(this,arguments)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(a){Dc(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,mE(a.key),a)}}function hG(e,t,r){return t&&iA(e.prototype,t),r&&iA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pw(e,t)}function Pw(e,t){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Pw(e,t)}function pG(e){var t=xG();return function(){var a=Fp(e),s;if(t){var i=Fp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return gG(this,s)}}function gG(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kh(e)}function kh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function Dc(e,t,r){return t=mE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mE(e){var t=vG(e,"string");return xf(t)==="symbol"?t:String(t)}function vG(e,t){if(xf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(xf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ia=(function(e){mG(r,e);var t=pG(r);function r(){var a;fG(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=t.call.apply(t,[this].concat(i)),Dc(kh(a),"state",{isAnimationFinished:!1}),Dc(kh(a),"id",b0("recharts-bar-")),Dc(kh(a),"handleAnimationEnd",function(){var l=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),l&&l()}),Dc(kh(a),"handleAnimationStart",function(){var l=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),l&&l()}),a}return hG(r,[{key:"renderRectanglesStatically",value:function(s){var i=this,o=this.props.shape,l=mr(this.props);return s&&s.map(function(u,f){var h=Xa(Xa(Xa({},l),u),{},{index:f});return Re.createElement(xn,Cw({className:"recharts-bar-rectangle"},Ku(i.props,u,f),{key:"rectangle-".concat(f),role:"img"}),r.renderRectangle(o,h))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,m=i.animationEasing,x=i.animationId,p=this.state.prevData;return Re.createElement(Xu,{begin:f,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var v=w.t,y=o.map(function(S,A){var N=p&&p[A];if(N){var k=Tc(N.x,S.x),C=Tc(N.y,S.y),T=Tc(N.width,S.width),I=Tc(N.height,S.height);return Xa(Xa({},S),{},{x:k(v),y:C(v),width:T(v),height:I(v)})}if(l==="horizontal"){var F=Tc(0,S.height),z=F(v);return Xa(Xa({},S),{},{y:S.y+S.height-z,height:z})}var J=Tc(0,S.width),R=J(v);return Xa(Xa({},S),{},{width:R})});return Re.createElement(xn,null,s.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var s=this.props,i=s.data,o=s.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!M5(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var s=this,i=this.props.data,o=mr(this.props.background);return i.map(function(l,u){l.value;var f=l.background,h=uG(l,cG);if(!f)return null;var m=Xa(Xa(Xa(Xa(Xa({},h),{},{fill:"#eee"},f),o),Ku(s.props,l,u)),{},{index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return r.renderRectangle(s.props.background,m)})}},{key:"renderErrorBar",value:function(s,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,f=o.yAxis,h=o.layout,m=o.children,x=eo(m,_g);if(!x)return null;var p=h==="vertical"?l[0].height/2:l[0].width/2;function w(y,S){return{x:y.x,y:y.y,value:y.value,errorVal:Es(y,S)}}var v={clipPath:s?"url(#clipPath-".concat(i,")"):null};return Re.createElement(xn,v,x.map(function(y,S){return Re.cloneElement(y,{key:"error-bar-".concat(S),data:l,xAxis:u,yAxis:f,layout:h,offset:p,dataPointFormatter:w})}))}},{key:"render",value:function(){var s=this.props,i=s.hide,o=s.data,l=s.className,u=s.xAxis,f=s.yAxis,h=s.left,m=s.top,x=s.width,p=s.height,w=s.isAnimationActive,v=s.background,y=s.id;if(i||!o||!o.length)return null;var S=this.state.isAnimationFinished,A=Nn("recharts-bar",l),N=u&&u.allowDataOverflow||f&&f.allowDataOverflow,k=ar(y)?this.id:y;return Re.createElement(xn,{className:A},N?Re.createElement("defs",null,Re.createElement("clipPath",{id:"clipPath-".concat(k)},Re.createElement("rect",{x:h,y:m,width:x,height:p}))):null,Re.createElement(xn,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(k,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,k),(!w||S)&&Yl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:i.curData}:s.data!==i.curData?{curData:s.data}:null}},{key:"renderRectangle",value:function(s,i){var o;return Re.isValidElement(s)?o=Re.cloneElement(s,i):sr(s)?o=s(i):o=Re.createElement(kg,i),o}}]),r})(O.PureComponent);Dc(Ia,"displayName","Bar");Dc(Ia,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!Lf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Dc(Ia,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,f=e.stackedData,h=e.dataStartIndex,m=e.displayedData,x=e.offset,p=YW(a,r);if(!p)return null;var w=t.layout,v=r.props,y=v.dataKey,S=v.children,A=v.minPointSize,N=w==="horizontal"?o:i,k=f?N.scale.domain():null,C=eH({numericAxis:N}),T=eo(S,j0),I=m.map(function(F,z){var J,R,$,H,B,ce;if(f?J=GW(f[h+z],k):(J=Es(F,y),fs(J)||(J=[C,J])),w==="horizontal"){var se,xe=[o.scale(J[0]),o.scale(J[1])],te=xe[0],ee=xe[1];R=mk({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:F,index:z}),$=(se=ee??te)!==null&&se!==void 0?se:void 0,H=p.size;var G=te-ee;if(B=Number.isNaN(G)?0:G,ce={x:R,y:o.y,width:H,height:o.height},Math.abs(A)>0&&Math.abs(B)<Math.abs(A)){var oe=Ls(B||A)*(Math.abs(A)-Math.abs(B));$-=oe,B+=oe}}else{var q=[i.scale(J[0]),i.scale(J[1])],U=q[0],V=q[1];if(R=U,$=mk({axis:o,ticks:u,bandSize:s,offset:p.offset,entry:F,index:z}),H=V-U,B=p.size,ce={x:i.x,y:$,width:i.width,height:B},Math.abs(A)>0&&Math.abs(H)<Math.abs(A)){var ie=Ls(H||A)*(Math.abs(A)-Math.abs(H));H+=ie}}return Xa(Xa(Xa({},F),{},{x:R,y:$,width:H,height:B,value:f?J:J[1],payload:F,background:ce},T&&T[z]&&T[z].props),{},{tooltipPayload:[JP(r,F)],tooltipPosition:{x:R+H/2,y:$+B/2}})});return Xa({data:I,layout:w},x)});function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function yG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,pE(a.key),a)}}function bG(e,t,r){return t&&oA(e.prototype,t),r&&oA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(a){Lg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lg(e,t,r){return t=pE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pE(e){var t=wG(e,"string");return s0(t)==="symbol"?t:String(t)}function wG(e,t){if(s0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(s0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jG=function(t,r,a,s,i){var o=t.width,l=t.height,u=t.layout,f=t.children,h=Object.keys(r),m={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},x=!!ql(f,Ia);return h.reduce(function(p,w){var v=r[w],y=v.orientation,S=v.domain,A=v.padding,N=A===void 0?{}:A,k=v.mirror,C=v.reversed,T="".concat(y).concat(k?"Mirror":""),I,F,z,J,R;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var $=S[1]-S[0],H=1/0,B=v.categoricalDomain.sort();B.forEach(function(V,ie){ie>0&&(H=Math.min((V||0)-(B[ie-1]||0),H))});var ce=H/$,se=v.layout==="vertical"?a.height:a.width;if(v.padding==="gap"&&(I=ce*se/2),v.padding==="no-gap"){var xe=di(t.barCategoryGap,ce*se),te=ce*se/2;I=te-xe-(te-xe)/se*xe}}s==="xAxis"?F=[a.left+(N.left||0)+(I||0),a.left+a.width-(N.right||0)-(I||0)]:s==="yAxis"?F=u==="horizontal"?[a.top+a.height-(N.bottom||0),a.top+(N.top||0)]:[a.top+(N.top||0)+(I||0),a.top+a.height-(N.bottom||0)-(I||0)]:F=v.range,C&&(F=[F[1],F[0]]);var ee=YP(v,i,x),G=ee.scale,oe=ee.realScaleType;G.domain(S).range(F),GP(G);var q=KP(G,jo(jo({},v),{},{realScaleType:oe}));s==="xAxis"?(R=y==="top"&&!k||y==="bottom"&&k,z=a.left,J=m[T]-R*v.height):s==="yAxis"&&(R=y==="left"&&!k||y==="right"&&k,z=m[T]-R*v.width,J=a.top);var U=jo(jo(jo({},v),q),{},{realScaleType:oe,x:z,y:J,scale:G,width:s==="xAxis"?a.width:v.width,height:s==="yAxis"?a.height:v.height});return U.bandSize=jp(U,q),!v.hide&&s==="xAxis"?m[T]+=(R?-1:1)*U.height:v.hide||(m[T]+=(R?-1:1)*U.width),jo(jo({},p),{},Lg({},w,U))},{})},gE=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},NG=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return gE({x:r,y:a},{x:s,y:i})},xE=(function(){function e(t){yG(this,e),this.scale=t}return bG(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}]),e})();Lg(xE,"EPS",1e-4);var lj=function(t){var r=Object.keys(t).reduce(function(a,s){return jo(jo({},a),{},Lg({},s,xE.create(t[s])))},{});return jo(jo({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return lG(s,function(u,f){return r[f].apply(u,{bandAware:o,position:l})})},isInRange:function(s){return hE(s,function(i,o){return r[o].isInRange(i)})}})};function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(a){SG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SG(e,t,r){return t=_G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=kG(e,"string");return i0(t)==="symbol"?t:String(t)}function kG(e,t){if(i0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(i0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AG(e,t){return LG(e)||EG(e,t)||PG(e,t)||CG()}function CG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PG(e,t){if(e){if(typeof e=="string")return dA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dA(e,t)}}function dA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function EG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function LG(e){if(Array.isArray(e))return e}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ew.apply(this,arguments)}var OG=function(t,r){var a;return Re.isValidElement(t)?a=Re.cloneElement(t,r):sr(t)?a=t(r):a=Re.createElement("line",Ew({},r,{className:"recharts-reference-line-line"})),a},RG=function(t,r,a,s,i){var o=i.viewBox,l=o.x,u=o.y,f=o.width,h=o.height,m=i.position;if(a){var x=i.y,p=i.yAxis.orientation,w=t.y.apply(x,{position:m});if(nl(i,"discard")&&!t.y.isInRange(w))return null;var v=[{x:l+f,y:w},{x:l,y:w}];return p==="left"?v.reverse():v}if(r){var y=i.x,S=i.xAxis.orientation,A=t.x.apply(y,{position:m});if(nl(i,"discard")&&!t.x.isInRange(A))return null;var N=[{x:A,y:u+h},{x:A,y:u}];return S==="top"?N.reverse():N}if(s){var k=i.segment,C=k.map(function(T){return t.apply(T,{position:m})});return nl(i,"discard")&&eG(C,function(T){return!t.isInRange(T)})?null:C}return null};function cj(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxis,i=e.yAxis,o=e.shape,l=e.className,u=e.alwaysShow,f=e.clipPathId;Uc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=lj({x:s.scale,y:i.scale}),m=Ma(t),x=Ma(r),p=a&&a.length===2,w=RG(h,m,x,p,e);if(!w)return null;var v=AG(w,2),y=v[0],S=y.x,A=y.y,N=v[1],k=N.x,C=N.y,T=nl(e,"hidden")?"url(#".concat(f,")"):void 0,I=uA(uA({clipPath:T},mr(e,!0)),{},{x1:S,y1:A,x2:k,y2:C});return Re.createElement(xn,{className:Nn("recharts-reference-line",l)},OG(o,I),Ta.renderCallByParent(e,NG({x1:S,y1:A,x2:k,y2:C})))}cj.displayName="ReferenceLine";cj.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lw.apply(this,arguments)}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(a){TG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function TG(e,t,r){return t=MG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=IG(e,"string");return o0(t)==="symbol"?t:String(t)}function IG(e,t){if(o0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(o0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DG=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,o=lj({x:s.scale,y:i.scale}),l=o.apply({x:r,y:a},{bandAware:!0});return nl(t,"discard")&&!o.isInRange(l)?null:l};function A0(e){var t=e.x,r=e.y,a=e.r,s=e.alwaysShow,i=e.clipPathId,o=Ma(t),l=Ma(r);if(Uc(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var u=DG(e);if(!u)return null;var f=u.x,h=u.y,m=e.shape,x=e.className,p=nl(e,"hidden")?"url(#".concat(i,")"):void 0,w=hA(hA({clipPath:p},mr(e,!0)),{},{cx:f,cy:h});return Re.createElement(xn,{className:Nn("recharts-reference-dot",x)},A0.renderDot(m,w),Ta.renderCallByParent(e,{x:f-a,y:h-a,width:2*a,height:2*a}))}A0.displayName="ReferenceDot";A0.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};A0.renderDot=function(e,t){var r;return Re.isValidElement(e)?r=Re.cloneElement(e,t):sr(e)?r=e(t):r=Re.createElement(oj,Lw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r};function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ow.apply(this,arguments)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(a){FG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FG(e,t,r){return t=$G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=BG(e,"string");return l0(t)==="symbol"?t:String(t)}function BG(e,t){if(l0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(l0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UG=function(t,r,a,s,i){var o=i.x1,l=i.x2,u=i.y1,f=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var x=lj({x:h.scale,y:m.scale}),p={x:t?x.x.apply(o,{position:"start"}):x.x.rangeMin,y:a?x.y.apply(u,{position:"start"}):x.y.rangeMin},w={x:r?x.x.apply(l,{position:"end"}):x.x.rangeMax,y:s?x.y.apply(f,{position:"end"}):x.y.rangeMax};return nl(i,"discard")&&(!x.isInRange(p)||!x.isInRange(w))?null:gE(p,w)};function C0(e){var t=e.x1,r=e.x2,a=e.y1,s=e.y2,i=e.className,o=e.alwaysShow,l=e.clipPathId;Uc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Ma(t),f=Ma(r),h=Ma(a),m=Ma(s),x=e.shape;if(!u&&!f&&!h&&!m&&!x)return null;var p=UG(u,f,h,m,e);if(!p&&!x)return null;var w=nl(e,"hidden")?"url(#".concat(l,")"):void 0;return Re.createElement(xn,{className:Nn("recharts-reference-area",i)},C0.renderRect(x,pA(pA({clipPath:w},mr(e,!0)),p)),Ta.renderCallByParent(e,p))}C0.displayName="ReferenceArea";C0.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};C0.renderRect=function(e,t){var r;return Re.isValidElement(e)?r=Re.cloneElement(e,t):sr(e)?r=e(t):r=Re.createElement(kg,Ow({},t,{className:"recharts-reference-area-rect"})),r};function Rw(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)if(r===void 0||r(e[s])===!0)a.push(e[s]);else return;return a}function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(a){qG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qG(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=WG(e,"string");return c0(t)==="symbol"?t:String(t)}function WG(e,t){if(c0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(c0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HG(e){for(var t=1,r=Rw(e,t,function(a){return a.isShow});t<=e.length;){if(r!==void 0)return r;t++,r=Rw(e,t,function(a){return a.isShow})}return e.slice(0,1)}function VG(e,t){return Rw(e,t+1)}function YG(e){var t=e.ticks,r=e.tickFormatter,a=e.viewBox,s=e.orientation,i=e.minTickGap,o=e.unit,l=e.fontSize,u=e.letterSpacing,f=a.x,h=a.y,m=a.width,x=a.height,p=s==="top"||s==="bottom"?"width":"height",w=o&&p==="width"?Wu(o,{fontSize:l,letterSpacing:u})[p]:0,v=(t||[]).slice(),y=v.length,S=y>=2?Ls(v[1].coordinate-v[0].coordinate):1,A,N;S===1?(A=p==="width"?f:h,N=p==="width"?f+m:h+x):(A=p==="width"?f+m:h+x,N=p==="width"?f:h);for(var k=y-1;k>=0;k--){var C=v[k],T=sr(r)?r(C.value,y-k-1):C.value,I=Wu(T,{fontSize:l,letterSpacing:u})[p]+w;if(k===y-1){var F=S*(C.coordinate+S*I/2-N);v[k]=C=Cs(Cs({},C),{},{tickCoord:F>0?C.coordinate-F*S:C.coordinate})}else v[k]=C=Cs(Cs({},C),{},{tickCoord:C.coordinate});var z=S*(C.tickCoord-S*I/2-A)>=0&&S*(C.tickCoord+S*I/2-N)<=0;z&&(N=C.tickCoord-S*(I/2+i),v[k]=Cs(Cs({},C),{},{isShow:!0}))}return v}function xA(e,t){var r=e.ticks,a=e.tickFormatter,s=e.viewBox,i=e.orientation,o=e.minTickGap,l=e.unit,u=e.fontSize,f=e.letterSpacing,h=s.x,m=s.y,x=s.width,p=s.height,w=i==="top"||i==="bottom"?"width":"height",v=(r||[]).slice(),y=l&&w==="width"?Wu(l,{fontSize:u,letterSpacing:f})[w]:0,S=v.length,A=S>=2?Ls(v[1].coordinate-v[0].coordinate):1,N,k;if(A===1?(N=w==="width"?h:m,k=w==="width"?h+x:m+p):(N=w==="width"?h+x:m+p,k=w==="width"?h:m),t){var C=r[S-1],T=sr(a)?a(C.value,S-1):C.value,I=Wu(T,{fontSize:u,letterSpacing:f})[w]+y,F=A*(C.coordinate+A*I/2-k);v[S-1]=C=Cs(Cs({},C),{},{tickCoord:F>0?C.coordinate-F*A:C.coordinate});var z=A*(C.tickCoord-A*I/2-N)>=0&&A*(C.tickCoord+A*I/2-k)<=0;z&&(k=C.tickCoord-A*(I/2+o),v[S-1]=Cs(Cs({},C),{},{isShow:!0}))}for(var J=t?S-1:S,R=0;R<J;R++){var $=v[R],H=sr(a)?a($.value,R):$.value,B=Wu(H,{fontSize:u,letterSpacing:f})[w]+y;if(R===0){var ce=A*($.coordinate-A*B/2-N);v[R]=$=Cs(Cs({},$),{},{tickCoord:ce<0?$.coordinate-ce*A:$.coordinate})}else v[R]=$=Cs(Cs({},$),{},{tickCoord:$.coordinate});var se=A*($.tickCoord-A*B/2-N)>=0&&A*($.tickCoord+A*B/2-k)<=0;se&&(N=$.tickCoord+A*(B/2+o),v[R]=Cs(Cs({},$),{},{isShow:!0}))}return v}function Tw(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,u=e.interval,f=e.tickFormatter,h=e.unit;if(!s||!s.length||!a)return[];if(yt(u)||Lf.isSsr)return VG(s,typeof u=="number"&&yt(u)?u:0);var m=[];return u==="equidistantPreserveStart"?(m=xA({ticks:s,tickFormatter:f,viewBox:i,orientation:l,minTickGap:o,unit:h,fontSize:t,letterSpacing:r}),HG(m)):(u==="preserveStart"||u==="preserveStartEnd"?m=xA({ticks:s,tickFormatter:f,viewBox:i,orientation:l,minTickGap:o,unit:h,fontSize:t,letterSpacing:r},u==="preserveStartEnd"):m=YG({ticks:s,tickFormatter:f,viewBox:i,orientation:l,minTickGap:o,unit:h,fontSize:t,letterSpacing:r}),m.filter(function(x){return x.isShow}))}var GG=["viewBox"],KG=["viewBox"],XG=["ticks"];function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dd.apply(this,arguments)}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(a){uj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function O2(e,t){if(e==null)return{};var r=JG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function JG(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function QG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,vE(a.key),a)}}function ZG(e,t,r){return t&&yA(e.prototype,t),r&&yA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Mw(e,t)}function tK(e){var t=aK();return function(){var a=$p(e),s;if(t){var i=$p(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return rK(this,s)}}function rK(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nK(e)}function nK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function uj(e,t,r){return t=vE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vE(e){var t=sK(e,"string");return vf(t)==="symbol"?t:String(t)}function sK(e,t){if(vf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(vf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rh=(function(e){eK(r,e);var t=tK(r);function r(a){var s;return QG(this,r),s=t.call(this,a),s.state={fontSize:"",letterSpacing:""},s}return ZG(r,[{key:"shouldComponentUpdate",value:function(s,i){var o=s.viewBox,l=O2(s,GG),u=this.props,f=u.viewBox,h=O2(u,KG);return!Ud(o,f)||!Ud(l,h)||!Ud(i,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var i=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var i=this.props,o=i.x,l=i.y,u=i.width,f=i.height,h=i.orientation,m=i.tickSize,x=i.mirror,p=i.tickMargin,w,v,y,S,A,N,k=x?-1:1,C=s.tickSize||m,T=yt(s.tickCoord)?s.tickCoord:s.coordinate;switch(h){case"top":w=v=s.coordinate,S=l+ +!x*f,y=S-k*C,N=y-k*p,A=T;break;case"left":y=S=s.coordinate,v=o+ +!x*u,w=v-k*C,A=w-k*p,N=T;break;case"right":y=S=s.coordinate,v=o+ +x*u,w=v+k*C,A=w+k*p,N=T;break;default:w=v=s.coordinate,S=l+ +x*f,y=S+k*C,N=y+k*p,A=T;break}return{line:{x1:w,y1:y,x2:v,y2:S},tick:{x:A,y:N}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,i=s.orientation,o=s.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,i=s.orientation,o=s.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,f=s.orientation,h=s.mirror,m=s.axisLine,x=qs(qs(qs({},mr(this.props)),mr(m)),{},{fill:"none"});if(f==="top"||f==="bottom"){var p=+(f==="top"&&!h||f==="bottom"&&h);x=qs(qs({},x),{},{x1:i,y1:o+p*u,x2:i+l,y2:o+p*u})}else{var w=+(f==="left"&&!h||f==="right"&&h);x=qs(qs({},x),{},{x1:i+w*l,y1:o,x2:i+w*l,y2:o+u})}return Re.createElement("line",Dd({},x,{className:Nn("recharts-cartesian-axis-line",Ri(m,"className"))}))}},{key:"renderTicks",value:function(s,i,o){var l=this,u=this.props,f=u.tickLine,h=u.stroke,m=u.tick,x=u.tickFormatter,p=u.unit,w=Tw(qs(qs({},this.props),{},{ticks:s}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),S=mr(this.props),A=mr(m),N=qs(qs({},S),{},{fill:"none"},mr(f)),k=w.map(function(C,T){var I=l.getTickLineCoord(C),F=I.line,z=I.tick,J=qs(qs(qs(qs({textAnchor:v,verticalAnchor:y},S),{},{stroke:"none",fill:h},A),z),{},{index:T,payload:C,visibleTicksCount:w.length,tickFormatter:x});return Re.createElement(xn,Dd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T)},Ku(l.props,C,T)),f&&Re.createElement("line",Dd({},N,F,{className:Nn("recharts-cartesian-axis-tick-line",Ri(f,"className"))})),m&&r.renderTickItem(m,J,"".concat(sr(x)?x(C.value,T):C.value).concat(p||"")))});return Re.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var s=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,f=i.ticksGenerator,h=i.className,m=i.hide;if(m)return null;var x=this.props,p=x.ticks,w=O2(x,XG),v=p;return sr(f)&&(v=p&&p.length>0?f(this.props):f(w)),l<=0||u<=0||!v||!v.length?null:Re.createElement(xn,{className:Nn("recharts-cartesian-axis",h),ref:function(S){s.layerReference=S}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ta.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,i,o){var l;return Re.isValidElement(s)?l=Re.cloneElement(s,i):sr(s)?l=s(i):l=Re.createElement(Hc,Dd({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}]),r})(O.Component);uj(Rh,"displayName","CartesianAxis");uj(Rh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iK=["x1","y1","x2","y2","key"];function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Iw.apply(this,arguments)}function oK(e,t){if(e==null)return{};var r=lK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function lK(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(a){dj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yE(a.key),a)}}function uK(e,t,r){return t&&wA(e.prototype,t),r&&wA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dw(e,t)}function Dw(e,t){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Dw(e,t)}function fK(e){var t=pK();return function(){var a=Bp(e),s;if(t){var i=Bp(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return hK(this,s)}}function hK(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mK(e)}function mK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(e)}function dj(e,t,r){return t=yE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yE(e){var t=gK(e,"string");return yf(t)==="symbol"?t:String(t)}function gK(e,t){if(yf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(yf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P0=(function(e){dK(r,e);var t=fK(r);function r(){return cK(this,r),t.apply(this,arguments)}return uK(r,[{key:"renderHorizontal",value:function(s){var i=this,o=this.props,l=o.x,u=o.width,f=o.horizontal;if(!s||!s.length)return null;var h=s.map(function(m,x){var p=km(km({},i.props),{},{x1:l,y1:m,x2:l+u,y2:m,key:"line-".concat(x),index:x});return r.renderLineItem(f,p)});return Re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}},{key:"renderVertical",value:function(s){var i=this,o=this.props,l=o.y,u=o.height,f=o.vertical;if(!s||!s.length)return null;var h=s.map(function(m,x){var p=km(km({},i.props),{},{x1:m,y1:l,x2:m,y2:l+u,key:"line-".concat(x),index:x});return r.renderLineItem(f,p)});return Re.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}},{key:"renderVerticalStripes",value:function(s){var i=this.props.verticalFill;if(!i||!i.length)return null;var o=this.props,l=o.fillOpacity,u=o.x,f=o.y,h=o.width,m=o.height,x=s.map(function(w){return Math.round(w+u-u)}).sort(function(w,v){return w-v});u!==x[0]&&x.unshift(0);var p=x.map(function(w,v){var y=!x[v+1],S=y?u+h-w:x[v+1]-w;if(S<=0)return null;var A=v%i.length;return Re.createElement("rect",{key:"react-".concat(v),x:w,y:f,width:S,height:m,stroke:"none",fill:i[A],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return Re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}},{key:"renderHorizontalStripes",value:function(s){var i=this.props.horizontalFill;if(!i||!i.length)return null;var o=this.props,l=o.fillOpacity,u=o.x,f=o.y,h=o.width,m=o.height,x=s.map(function(w){return Math.round(w+f-f)}).sort(function(w,v){return w-v});f!==x[0]&&x.unshift(0);var p=x.map(function(w,v){var y=!x[v+1],S=y?f+m-w:x[v+1]-w;if(S<=0)return null;var A=v%i.length;return Re.createElement("rect",{key:"react-".concat(v),y:w,x:u,height:S,width:h,stroke:"none",fill:i[A],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return Re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}},{key:"renderBackground",value:function(){var s=this.props.fill;if(!s||s==="none")return null;var i=this.props,o=i.fillOpacity,l=i.x,u=i.y,f=i.width,h=i.height;return Re.createElement("rect",{x:l,y:u,width:f,height:h,stroke:"none",fill:s,fillOpacity:o,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var s=this.props,i=s.x,o=s.y,l=s.width,u=s.height,f=s.horizontal,h=s.vertical,m=s.horizontalCoordinatesGenerator,x=s.verticalCoordinatesGenerator,p=s.xAxis,w=s.yAxis,v=s.offset,y=s.chartWidth,S=s.chartHeight;if(!yt(l)||l<=0||!yt(u)||u<=0||!yt(i)||i!==+i||!yt(o)||o!==+o)return null;var A=this.props,N=A.horizontalPoints,k=A.verticalPoints;return(!N||!N.length)&&sr(m)&&(N=m({yAxis:w,width:y,height:S,offset:v})),(!k||!k.length)&&sr(x)&&(k=x({xAxis:p,width:y,height:S,offset:v})),Re.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),f&&this.renderHorizontal(N),h&&this.renderVertical(k),f&&this.renderHorizontalStripes(N),h&&this.renderVerticalStripes(k))}}],[{key:"renderLineItem",value:function(s,i){var o;if(Re.isValidElement(s))o=Re.cloneElement(s,i);else if(sr(s))o=s(i);else{var l=i.x1,u=i.y1,f=i.x2,h=i.y2,m=i.key,x=oK(i,iK);o=Re.createElement("line",Iw({},mr(x),{x1:l,y1:u,x2:f,y2:h,fill:"none",key:m}))}return o}}]),r})(O.PureComponent);dj(P0,"displayName","CartesianGrid");dj(P0,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var ac=function(){return null};ac.displayName="XAxis";ac.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var sc=function(){return null};sc.displayName="YAxis";sc.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var R2,jA;function xK(){if(jA)return R2;jA=1;var e=il(),t=w0(),r=og();function a(s){return function(i,o,l){var u=Object(i);if(!t(i)){var f=e(o,3);i=r(i),o=function(m){return f(u[m],m,u)}}var h=s(i,o,l);return h>-1?u[f?i[h]:h]:void 0}}return R2=a,R2}var T2,NA;function vK(){if(NA)return T2;NA=1;var e=uE();function t(r){var a=e(r),s=a%1;return a===a?s?a-s:a:0}return T2=t,T2}var M2,SA;function yK(){if(SA)return M2;SA=1;var e=c7(),t=il(),r=vK(),a=Math.max;function s(i,o,l){var u=i==null?0:i.length;if(!u)return-1;var f=l==null?0:r(l);return f<0&&(f=a(u+f,0)),e(i,t(o,3),f)}return M2=s,M2}var I2,_A;function bK(){if(_A)return I2;_A=1;var e=xK(),t=yK(),r=e(t);return I2=r,I2}var wK=bK();const jK=Jr(wK);var D2,kA;function NK(){if(kA)return D2;kA=1;var e=tc(),t=rc(),r="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==r}return D2=a,D2}var SK=NK();const _K=Jr(SK);function AA(e){return PK(e)||CK(e)||AK(e)||kK()}function kK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AK(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function CK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PK(e){if(Array.isArray(e))return Fw(e)}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var $w=function(t,r,a,s,i){var o=eo(t,cj),l=eo(t,A0),u=[].concat(AA(o),AA(l)),f=eo(t,C0),h="".concat(s,"Id"),m=s[0],x=r;if(u.length&&(x=u.reduce(function(v,y){if(y.props[h]===a&&nl(y.props,"extendDomain")&&yt(y.props[m])){var S=y.props[m];return[Math.min(v[0],S),Math.max(v[1],S)]}return v},x)),f.length){var p="".concat(m,"1"),w="".concat(m,"2");x=f.reduce(function(v,y){if(y.props[h]===a&&nl(y.props,"extendDomain")&&yt(y.props[p])&&yt(y.props[w])){var S=y.props[p],A=y.props[w];return[Math.min(v[0],S,A),Math.max(v[1],S,A)]}return v},x)}return i&&i.length&&(x=i.reduce(function(v,y){return yt(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},x)),x},F2={exports:{}},CA;function EK(){return CA||(CA=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,m,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new s(h,m||u,x),w=r?r+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],p]:u._events[w].push(p):(u._events[w]=p,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new a:delete u._events[f]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,p=m.length,w=new Array(p);x<p;x++)w[x]=m[x].fn;return w},l.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,x,p,w){var v=r?r+f:f;if(!this._events[v])return!1;var y=this._events[v],S=arguments.length,A,N;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),S){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,m),!0;case 4:return y.fn.call(y.context,h,m,x),!0;case 5:return y.fn.call(y.context,h,m,x,p),!0;case 6:return y.fn.call(y.context,h,m,x,p,w),!0}for(N=1,A=new Array(S-1);N<S;N++)A[N-1]=arguments[N];y.fn.apply(y.context,A)}else{var k=y.length,C;for(N=0;N<k;N++)switch(y[N].once&&this.removeListener(f,y[N].fn,void 0,!0),S){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,h);break;case 3:y[N].fn.call(y[N].context,h,m);break;case 4:y[N].fn.call(y[N].context,h,m,x);break;default:if(!A)for(C=1,A=new Array(S-1);C<S;C++)A[C-1]=arguments[C];y[N].fn.apply(y[N].context,A)}}return!0},l.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,x){var p=r?r+f:f;if(!this._events[p])return this;if(!h)return o(this,p),this;var w=this._events[p];if(w.fn)w.fn===h&&(!x||w.once)&&(!m||w.context===m)&&o(this,p);else{for(var v=0,y=[],S=w.length;v<S;v++)(w[v].fn!==h||x&&!w[v].once||m&&w[v].context!==m)&&y.push(w[v]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&o(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(F2)),F2.exports}var LK=EK();const OK=Jr(LK);var Ei=new OK;Ei.setMaxListeners&&Ei.setMaxListeners(10);var $2="recharts.syncMouseEvents";function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}function RK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TK(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bE(a.key),a)}}function MK(e,t,r){return t&&TK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B2(e,t,r){return t=bE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bE(e){var t=IK(e,"string");return u0(t)==="symbol"?t:String(t)}function IK(e,t){if(u0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(u0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DK=(function(){function e(){RK(this,e),B2(this,"activeIndex",0),B2(this,"coordinateList",[]),B2(this,"layout","horizontal")}return MK(e,[{key:"setDetails",value:function(r){var a=r.coordinateList,s=a===void 0?[]:a,i=r.container,o=i===void 0?null:i,l=r.layout,u=l===void 0?null:l,f=r.offset,h=f===void 0?null:f,m=r.mouseHandlerCallback,x=m===void 0?null:m;this.coordinateList=s??this.coordinateList,this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex>=this.coordinateList.length&&(this.activeIndex=this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){if(this.layout==="horizontal"){var r=this.container.getBoundingClientRect(),a=r.x,s=r.y,i=this.coordinateList[this.activeIndex].coordinate,o=a+i,l=s+this.offset.top;this.mouseHandlerCallback({pageX:o,pageY:l})}}}]),e})(),FK=["item"],$K=["children","className","width","height","style","compact","title","desc"];function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function PA(e,t){return qK(e)||UK(e,t)||wE(e,t)||BK()}function BK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function qK(e){if(Array.isArray(e))return e}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fd.apply(this,arguments)}function EA(e,t){if(e==null)return{};var r=zK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function zK(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function WK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HK(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jE(a.key),a)}}function VK(e,t,r){return t&&HK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Bw(e,t)}function GK(e){var t=XK();return function(){var a=Up(e),s;if(t){var i=Up(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return KK(this,s)}}function KK(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dr(e)}function Dr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function wf(e){return ZK(e)||QK(e)||wE(e)||JK()}function JK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wE(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function QK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZK(e){if(Array.isArray(e))return Uw(e)}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(a){or(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function or(e,t,r){return t=jE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jE(e){var t=eX(e,"string");return bf(t)==="symbol"?t:String(t)}function eX(e,t){if(bf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(bf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tX={xAxis:["bottom","top"],yAxis:["left","right"]},NE={x:0,y:0},rX=Number.isFinite?Number.isFinite:isFinite,OA=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,RA=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,nX=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},aX=function(t,r,a,s){var i=r.find(function(h){return h&&h.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ct(ct(ct({},s),On(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,f=s.angle;return ct(ct(ct({},s),On(s.cx,s.cy,u,f)),{},{angle:f,radius:u})}return NE},Og=function(t,r,a){var s=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(s||[]).reduce(function(u,f){var h=f.props.data;return h&&h.length?[].concat(wf(u),wf(h)):u},[]);return l&&l.length>0?l:a&&a.props&&a.props.data&&a.props.data.length>0?a.props.data:t&&t.length&&yt(i)&&yt(o)?t.slice(i,o+1):[]};function sX(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e?.[0],s=e?.[1];if(a&&s&&yt(a)&&yt(s))return!0}return!1}function SE(e){return e==="number"?[0,"auto"]:void 0}var _E=function(t,r,a,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Og(r,t);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(u,f){var h=f.props.hide;if(h)return u;var m=f.props.data,x;if(o.dataKey&&!o.allowDuplicatedCategory){var p=m===void 0?l:m;x=Sb(p,o.dataKey,s)}else x=m&&m[a]||l[a];return x?[].concat(wf(u),[JP(f,x)]):u},[])},TA=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},o=nX(i,a),l=t.orderedTooltipTicks,u=t.tooltipAxis,f=t.tooltipTicks,h=UW(o,l,f,u);if(h>=0&&f){var m=f[h]&&f[h].value,x=_E(t,r,h,m),p=aX(a,l,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:x,activeCoordinate:p}}return null},iX=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,x=t.stackOffset,p=VP(h,i),w=a.reduce(function(v,y){var S,A=y.props,N=A.type,k=A.dataKey,C=A.allowDataOverflow,T=A.allowDuplicatedCategory,I=A.scale,F=A.ticks,z=A.includeHidden,J=y.props[o];if(v[J])return v;var R=Og(t.data,{graphicalItems:s.filter(function(U){return U.props[o]===J}),dataStartIndex:u,dataEndIndex:f}),$=R.length,H,B,ce;sX(y.props.domain,C,N)&&(H=fw(y.props.domain,null,C),p&&(N==="number"||I!=="auto")&&(ce=Eh(R,k,"category")));var se=SE(N);if(!H||H.length===0){var xe,te=(xe=y.props.domain)!==null&&xe!==void 0?xe:se;if(k){if(H=Eh(R,k,N),N==="category"&&p){var ee=uM(H);T&&ee?(B=H,H=Mp(0,$)):T||(H=xk(te,H,y).reduce(function(U,V){return U.indexOf(V)>=0?U:[].concat(wf(U),[V])},[]))}else if(N==="category")T?H=H.filter(function(U){return U!==""&&!ar(U)}):H=xk(te,H,y).reduce(function(U,V){return U.indexOf(V)>=0||V===""||ar(V)?U:[].concat(wf(U),[V])},[]);else if(N==="number"){var G=VW(R,s.filter(function(U){return U.props[o]===J&&(z||!U.props.hide)}),k,i,h);G&&(H=G)}p&&(N==="number"||I!=="auto")&&(ce=Eh(R,k,"category"))}else p?H=Mp(0,$):l&&l[J]&&l[J].hasStack&&N==="number"?H=x==="expand"?[0,1]:XP(l[J].stackGroups,u,f):H=HP(R,s.filter(function(U){return U.props[o]===J&&(z||!U.props.hide)}),N,h,!0);if(N==="number")H=$w(m,H,J,i,F),te&&(H=fw(te,H,C));else if(N==="category"&&te){var oe=te,q=H.every(function(U){return oe.indexOf(U)>=0});q&&(H=oe)}}return ct(ct({},v),{},or({},J,ct(ct({},y.props),{},{axisType:i,domain:H,categoricalDomain:ce,duplicateDomain:B,originalDomain:(S=y.props.domain)!==null&&S!==void 0?S:se,isCategorical:p,layout:h})))},{});return w},oX=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,x=Og(t.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:f}),p=x.length,w=VP(h,i),v=-1,y=a.reduce(function(S,A){var N=A.props[o],k=SE("number");if(!S[N]){v++;var C;return w?C=Mp(0,p):l&&l[N]&&l[N].hasStack?(C=XP(l[N].stackGroups,u,f),C=$w(m,C,N,i)):(C=fw(k,HP(x,a.filter(function(T){return T.props[o]===N&&!T.props.hide}),"number",h),s.defaultProps.allowDataOverflow),C=$w(m,C,N,i)),ct(ct({},S),{},or({},N,ct(ct({axisType:i},s.defaultProps),{},{hide:!0,orientation:Ri(tX,"".concat(i,".").concat(v%2),null),domain:C,originalDomain:k,isCategorical:w,layout:h})))}return S},{});return y},lX=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,h=t.children,m="".concat(s,"Id"),x=eo(h,i),p={};return x&&x.length?p=iX(t,{axes:x,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:f}):o&&o.length&&(p=oX(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:u,dataEndIndex:f})),p},cX=function(t){var r=Oc(t),a=Rc(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:O5(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jp(r,a)}},MA=function(t){var r,a,s=t.children,i=t.defaultShowTooltip,o=ql(s,a0),l=o&&o.props&&o.props.startIndex||0,u=(o==null||(r=o.props)===null||r===void 0?void 0:r.endIndex)!==void 0?o==null||(a=o.props)===null||a===void 0?void 0:a.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:l,dataEndIndex:u,activeTooltipIndex:-1,isTooltipActive:ar(i)?!1:i}},uX=function(t){return!t||!t.length?!1:t.some(function(r){var a=Bc(r&&r.type);return a&&a.indexOf("Bar")>=0})},IA=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dX=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,u=l===void 0?{}:l,f=a.width,h=a.height,m=a.children,x=a.margin||{},p=ql(m,a0),w=ql(m,zc),v=Object.keys(u).reduce(function(N,k){var C=u[k],T=C.orientation;return!C.mirror&&!C.hide?ct(ct({},N),{},or({},T,N[T]+C.width)):N},{left:x.left||0,right:x.right||0}),y=Object.keys(o).reduce(function(N,k){var C=o[k],T=C.orientation;return!C.mirror&&!C.hide?ct(ct({},N),{},or({},T,Ri(N,"".concat(T))+C.height)):N},{top:x.top||0,bottom:x.bottom||0}),S=ct(ct({},y),v),A=S.bottom;return p&&(S.bottom+=p.props.height||a0.defaultProps.height),w&&r&&(S=WW(S,s,a,r)),ct(ct({brushBottom:A},S),{},{width:f-S.left-S.right,height:h-S.top-S.bottom})},kE=function(t){var r,a=t.chartName,s=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,f=t.axisComponents,h=t.legendContent,m=t.formatAxisMap,x=t.defaultProps,p=function(y,S){var A=S.graphicalItems,N=S.stackGroups,k=S.offset,C=S.updateId,T=S.dataStartIndex,I=S.dataEndIndex,F=y.barSize,z=y.layout,J=y.barGap,R=y.barCategoryGap,$=y.maxBarSize,H=IA(z),B=H.numericAxisName,ce=H.cateAxisName,se=uX(A),xe=se&&qW({barSize:F,stackGroups:N}),te=[];return A.forEach(function(ee,G){var oe=Og(y.data,{dataStartIndex:T,dataEndIndex:I},ee),q=ee.props,U=q.dataKey,V=q.maxBarSize,ie=ee.props["".concat(B,"Id")],me=ee.props["".concat(ce,"Id")],W=f.reduce(function(ye,qe){var wt,Ee=S["".concat(qe.axisType,"Map")],xt=ee.props["".concat(qe.axisType,"Id")],gt=Ee&&Ee[xt];return ct(ct({},ye),{},(wt={},or(wt,qe.axisType,gt),or(wt,"".concat(qe.axisType,"Ticks"),Rc(gt)),wt))},{}),de=W[ce],re=W["".concat(ce,"Ticks")],Q=N&&N[ie]&&N[ie].hasStack&&tH(ee,N[ie].stackGroups),Ne=Bc(ee.type).indexOf("Bar")>=0,he=jp(de,re),we=[];if(Ne){var be,Z,Xe=ar(V)?$:V,Je=(be=(Z=jp(de,re,!0))!==null&&Z!==void 0?Z:Xe)!==null&&be!==void 0?be:0;we=zW({barGap:J,barCategoryGap:R,bandSize:Je!==he?Je:he,sizeList:xe[me],maxBarSize:Xe}),Je!==he&&(we=we.map(function(ye){return ct(ct({},ye),{},{position:ct(ct({},ye.position),{},{offset:ye.position.offset-Je/2})})}))}var Qe=ee&&ee.type&&ee.type.getComposedData;if(Qe){var Te;te.push({props:ct(ct({},Qe(ct(ct({},W),{},{displayedData:oe,props:y,dataKey:U,item:ee,bandSize:he,barPosition:we,offset:k,stackedData:Q,layout:z,dataStartIndex:T,dataEndIndex:I}))),{},(Te={key:ee.key||"item-".concat(G)},or(Te,B,W[B]),or(Te,ce,W[ce]),or(Te,"animationId",C),Te)),childIndex:wM(ee,y.children),item:ee})}}),te},w=function(y,S){var A=y.props,N=y.dataStartIndex,k=y.dataEndIndex,C=y.updateId;if(!d3({props:A}))return null;var T=A.children,I=A.layout,F=A.stackOffset,z=A.data,J=A.reverseStackOrder,R=IA(I),$=R.numericAxisName,H=R.cateAxisName,B=eo(T,s),ce=ZW(z,B,"".concat($,"Id"),"".concat(H,"Id"),F,J),se=f.reduce(function(oe,q){var U="".concat(q.axisType,"Map");return ct(ct({},oe),{},or({},U,lX(A,ct(ct({},q),{},{graphicalItems:B,stackGroups:q.axisType===$&&ce,dataStartIndex:N,dataEndIndex:k}))))},{}),xe=dX(ct(ct({},se),{},{props:A,graphicalItems:B}),S?.legendBBox);Object.keys(se).forEach(function(oe){se[oe]=m(A,se[oe],xe,oe.replace("Map",""),a)});var te=se["".concat(H,"Map")],ee=cX(te),G=p(A,ct(ct({},se),{},{dataStartIndex:N,dataEndIndex:k,updateId:C,graphicalItems:B,stackGroups:ce,offset:xe}));return ct(ct({formattedGraphicalItems:G,graphicalItems:B,offset:xe,stackGroups:ce},ee),se)};return r=(function(v){YK(S,v);var y=GK(S);function S(A){var N;return WK(this,S),N=y.call(this,A),or(Dr(N),"accessibilityManager",new DK),or(Dr(N),"clearDeferId",function(){!ar(N.deferId)&&RA&&RA(N.deferId),N.deferId=null}),or(Dr(N),"handleLegendBBoxUpdate",function(k){if(k){var C=N.state,T=C.dataStartIndex,I=C.dataEndIndex,F=C.updateId;N.setState(ct({legendBBox:k},w({props:N.props,dataStartIndex:T,dataEndIndex:I,updateId:F},ct(ct({},N.state),{},{legendBBox:k}))))}}),or(Dr(N),"handleReceiveSyncEvent",function(k,C,T){var I=N.props.syncId;I===k&&C!==N.uniqueChartId&&(N.clearDeferId(),N.deferId=OA&&OA(N.applySyncEvent.bind(Dr(N),T)))}),or(Dr(N),"handleBrushChange",function(k){var C=k.startIndex,T=k.endIndex;if(C!==N.state.dataStartIndex||T!==N.state.dataEndIndex){var I=N.state.updateId;N.setState(function(){return ct({dataStartIndex:C,dataEndIndex:T},w({props:N.props,dataStartIndex:C,dataEndIndex:T,updateId:I},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:T})}}),or(Dr(N),"handleMouseEnter",function(k){var C=N.props.onMouseEnter,T=N.getMouseInfo(k);if(T){var I=ct(ct({},T),{},{isTooltipActive:!0});N.setState(I),N.triggerSyncEvent(I),sr(C)&&C(I,k)}}),or(Dr(N),"triggeredAfterMouseMove",function(k){var C=N.props.onMouseMove,T=N.getMouseInfo(k),I=T?ct(ct({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(I),N.triggerSyncEvent(I),sr(C)&&C(I,k)}),or(Dr(N),"handleItemMouseEnter",function(k){N.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),or(Dr(N),"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),or(Dr(N),"handleMouseMove",function(k){k&&sr(k.persist)&&k.persist(),N.triggeredAfterMouseMove(k)}),or(Dr(N),"handleMouseLeave",function(k){var C=N.props.onMouseLeave,T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T),sr(C)&&C(T,k),N.cancelThrottledTriggerAfterMouseMove()}),or(Dr(N),"handleOuterEvent",function(k){var C=bM(k),T=Ri(N.props,"".concat(C));if(C&&sr(T)){var I;/.*touch.*/i.test(C)?I=N.getMouseInfo(k.changedTouches[0]):I=N.getMouseInfo(k);var F=T;F(I,k)}}),or(Dr(N),"handleClick",function(k){var C=N.props.onClick,T=N.getMouseInfo(k);if(T){var I=ct(ct({},T),{},{isTooltipActive:!0});N.setState(I),N.triggerSyncEvent(I),sr(C)&&C(I,k)}}),or(Dr(N),"handleMouseDown",function(k){var C=N.props.onMouseDown;if(sr(C)){var T=N.getMouseInfo(k);C(T,k)}}),or(Dr(N),"handleMouseUp",function(k){var C=N.props.onMouseUp;if(sr(C)){var T=N.getMouseInfo(k);C(T,k)}}),or(Dr(N),"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseMove(k.changedTouches[0])}),or(Dr(N),"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseDown(k.changedTouches[0])}),or(Dr(N),"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseUp(k.changedTouches[0])}),or(Dr(N),"verticalCoordinatesGenerator",function(k){var C=k.xAxis,T=k.width,I=k.height,F=k.offset;return fk(Tw(ct(ct(ct({},Rh.defaultProps),C),{},{ticks:Rc(C,!0),viewBox:{x:0,y:0,width:T,height:I}})),F.left,F.left+F.width)}),or(Dr(N),"horizontalCoordinatesGenerator",function(k){var C=k.yAxis,T=k.width,I=k.height,F=k.offset;return fk(Tw(ct(ct(ct({},Rh.defaultProps),C),{},{ticks:Rc(C,!0),viewBox:{x:0,y:0,width:T,height:I}})),F.top,F.top+F.height)}),or(Dr(N),"axesTicksGenerator",function(k){return Rc(k,!0)}),or(Dr(N),"renderCursor",function(k){var C=N.state,T=C.isTooltipActive,I=C.activeCoordinate,F=C.activePayload,z=C.offset,J=C.activeTooltipIndex,R=N.getTooltipEventType();if(!k||!k.props.cursor||!T||!I||a!=="ScatterChart"&&R!=="axis")return null;var $=N.props.layout,H,B=Ap;if(a==="ScatterChart")H=I,B=iE;else if(a==="BarChart")H=N.getCursorRectangle(),B=kg;else if($==="radial"){var ce=N.getCursorPoints(),se=ce.cx,xe=ce.cy,te=ce.radius,ee=ce.startAngle,G=ce.endAngle;H={cx:se,cy:xe,startAngle:ee,endAngle:G,innerRadius:te,outerRadius:te},B=kp}else H={points:N.getCursorPoints()},B=Ap;var oe=k.key||"_recharts-cursor",q=ct(ct(ct(ct({stroke:"#ccc",pointerEvents:"none"},z),H),mr(k.props.cursor)),{},{payload:F,payloadIndex:J,key:oe,className:"recharts-tooltip-cursor"});return O.isValidElement(k.props.cursor)?O.cloneElement(k.props.cursor,q):O.createElement(B,q)}),or(Dr(N),"renderPolarAxis",function(k,C,T){var I=Ri(k,"type.axisType"),F=Ri(N.state,"".concat(I,"Map")),z=F&&F[k.props["".concat(I,"Id")]];return O.cloneElement(k,ct(ct({},z),{},{className:I,key:k.key||"".concat(C,"-").concat(T),ticks:Rc(z,!0)}))}),or(Dr(N),"renderXAxis",function(k,C,T){var I=N.state.xAxisMap,F=I[k.props.xAxisId];return N.renderAxis(F,k,C,T)}),or(Dr(N),"renderYAxis",function(k,C,T){var I=N.state.yAxisMap,F=I[k.props.yAxisId];return N.renderAxis(F,k,C,T)}),or(Dr(N),"renderGrid",function(k){var C=N.state,T=C.xAxisMap,I=C.yAxisMap,F=C.offset,z=N.props,J=z.width,R=z.height,$=Oc(T),H=jK(I,function(se){return hE(se.domain,rX)}),B=H||Oc(I),ce=k.props||{};return O.cloneElement(k,{key:k.key||"grid",x:yt(ce.x)?ce.x:F.left,y:yt(ce.y)?ce.y:F.top,width:yt(ce.width)?ce.width:F.width,height:yt(ce.height)?ce.height:F.height,xAxis:$,yAxis:B,offset:F,chartWidth:J,chartHeight:R,verticalCoordinatesGenerator:ce.verticalCoordinatesGenerator||N.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:ce.horizontalCoordinatesGenerator||N.horizontalCoordinatesGenerator})}),or(Dr(N),"renderPolarGrid",function(k){var C=k.props,T=C.radialLines,I=C.polarAngles,F=C.polarRadius,z=N.state,J=z.radiusAxisMap,R=z.angleAxisMap,$=Oc(J),H=Oc(R),B=H.cx,ce=H.cy,se=H.innerRadius,xe=H.outerRadius;return O.cloneElement(k,{polarAngles:fs(I)?I:Rc(H,!0).map(function(te){return te.coordinate}),polarRadius:fs(F)?F:Rc($,!0).map(function(te){return te.coordinate}),cx:B,cy:ce,innerRadius:se,outerRadius:xe,key:k.key||"polar-grid",radialLines:T})}),or(Dr(N),"renderLegend",function(){var k=N.state.formattedGraphicalItems,C=N.props,T=C.children,I=C.width,F=C.height,z=N.props.margin||{},J=I-(z.left||0)-(z.right||0),R=zP({children:T,formattedGraphicalItems:k,legendWidth:J,legendContent:h});if(!R)return null;var $=R.item,H=EA(R,FK);return O.cloneElement($,ct(ct({},H),{},{chartWidth:I,chartHeight:F,margin:z,ref:function(ce){N.legendInstance=ce},onBBoxUpdate:N.handleLegendBBoxUpdate}))}),or(Dr(N),"renderTooltip",function(){var k=N.props.children,C=ql(k,fi);if(!C)return null;var T=N.state,I=T.isTooltipActive,F=T.activeCoordinate,z=T.activePayload,J=T.activeLabel,R=T.offset;return O.cloneElement(C,{viewBox:ct(ct({},R),{},{x:R.left,y:R.top}),active:I,label:J,payload:I?z:[],coordinate:F})}),or(Dr(N),"renderBrush",function(k){var C=N.props,T=C.margin,I=C.data,F=N.state,z=F.offset,J=F.dataStartIndex,R=F.dataEndIndex,$=F.updateId;return O.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Nm(N.handleBrushChange,null,k.props.onChange),data:I,x:yt(k.props.x)?k.props.x:z.left,y:yt(k.props.y)?k.props.y:z.top+z.height+z.brushBottom-(T.bottom||0),width:yt(k.props.width)?k.props.width:z.width,startIndex:J,endIndex:R,updateId:"brush-".concat($)})}),or(Dr(N),"renderReferenceElement",function(k,C,T){if(!k)return null;var I=Dr(N),F=I.clipPathId,z=N.state,J=z.xAxisMap,R=z.yAxisMap,$=z.offset,H=k.props,B=H.xAxisId,ce=H.yAxisId;return O.cloneElement(k,{key:k.key||"".concat(C,"-").concat(T),xAxis:J[B],yAxis:R[ce],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:F})}),or(Dr(N),"renderActivePoints",function(k){var C=k.item,T=k.activePoint,I=k.basePoint,F=k.childIndex,z=k.isRange,J=[],R=C.props.key,$=C.item.props,H=$.activeDot,B=$.dataKey,ce=ct(ct({index:F,dataKey:B,cx:T.x,cy:T.y,r:4,fill:ij(C.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value,key:"".concat(R,"-activePoint-").concat(F)},mr(H)),Km(H));return J.push(S.renderActiveDot(H,ce)),I?J.push(S.renderActiveDot(H,ct(ct({},ce),{},{cx:I.x,cy:I.y,key:"".concat(R,"-basePoint-").concat(F)}))):z&&J.push(null),J}),or(Dr(N),"renderGraphicChild",function(k,C,T){var I=N.filterFormatItem(k,C,T);if(!I)return null;var F=N.getTooltipEventType(),z=N.state,J=z.isTooltipActive,R=z.tooltipAxis,$=z.activeTooltipIndex,H=z.activeLabel,B=N.props.children,ce=ql(B,fi),se=I.props,xe=se.points,te=se.isRange,ee=se.baseLine,G=I.item.props,oe=G.activeDot,q=G.hide,U=!q&&J&&ce&&oe&&$>=0,V={};F!=="axis"&&ce&&ce.props.trigger==="click"?V={onClick:Nm(N.handleItemMouseEnter,null,k.props.onCLick)}:F!=="axis"&&(V={onMouseLeave:Nm(N.handleItemMouseLeave,null,k.props.onMouseLeave),onMouseEnter:Nm(N.handleItemMouseEnter,null,k.props.onMouseEnter)});var ie=O.cloneElement(k,ct(ct({},I.props),V));function me(Q){return typeof R.dataKey=="function"?R.dataKey(Q.payload):null}if(U){var W,de;if(R.dataKey&&!R.allowDuplicatedCategory){var re=typeof R.dataKey=="function"?me:"payload.".concat(R.dataKey.toString());W=Sb(xe,re,H),de=te&&ee&&Sb(ee,re,H)}else W=xe[$],de=te&&ee&&ee[$];if(!ar(W))return[ie].concat(wf(N.renderActivePoints({item:I,activePoint:W,basePoint:de,childIndex:$,isRange:te})))}return te?[ie,null,null]:[ie,null]}),or(Dr(N),"renderCustomized",function(k,C,T){return O.cloneElement(k,ct(ct({key:"recharts-customized-".concat(T)},N.props),N.state))}),N.uniqueChartId=ar(A.id)?b0("recharts"):A.id,N.clipPathId="".concat(N.uniqueChartId,"-clip"),A.throttleDelay&&(N.triggeredAfterMouseMove=H7(N.triggeredAfterMouseMove,A.throttleDelay)),N.state={},N}return VK(S,[{key:"componentDidMount",value:function(){var N,k;ar(this.props.syncId)||this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.handleMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(N,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var C,T;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(N){ar(N.syncId)&&!ar(this.props.syncId)&&this.addListener(),!ar(N.syncId)&&ar(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),ar(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=ql(this.props.children,fi);if(N&&_K(N.props.shared)){var k=N.props.shared?"axis":"item";return u.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var k=sU(this.container),C=iU(N,k),T=this.inRange(C.chartX,C.chartY);if(!T)return null;var I=this.state,F=I.xAxisMap,z=I.yAxisMap,J=this.getTooltipEventType();if(J!=="axis"&&F&&z){var R=Oc(F).scale,$=Oc(z).scale,H=R&&R.invert?R.invert(C.chartX):null,B=$&&$.invert?$.invert(C.chartY):null;return ct(ct({},C),{},{xValue:H,yValue:B})}var ce=TA(this.state,this.props.data,this.props.layout,T);return ce?ct(ct({},C),ce):null}},{key:"getCursorRectangle",value:function(){var N=this.props.layout,k=this.state,C=k.activeCoordinate,T=k.offset,I=k.tooltipAxisBandSize,F=I/2;return{stroke:"none",fill:"#ccc",x:N==="horizontal"?C.x-F:T.left+.5,y:N==="horizontal"?T.top+.5:C.y-F,width:N==="horizontal"?I:T.width-1,height:N==="horizontal"?T.height-1:I}}},{key:"getCursorPoints",value:function(){var N=this.props.layout,k=this.state,C=k.activeCoordinate,T=k.offset,I,F,z,J;if(N==="horizontal")I=C.x,z=I,F=T.top,J=T.top+T.height;else if(N==="vertical")F=C.y,J=F,I=T.left,z=T.left+T.width;else if(!ar(C.cx)||!ar(C.cy))if(N==="centric"){var R=C.cx,$=C.cy,H=C.innerRadius,B=C.outerRadius,ce=C.angle,se=On(R,$,H,ce),xe=On(R,$,B,ce);I=se.x,F=se.y,z=xe.x,J=xe.y}else{var te=C.cx,ee=C.cy,G=C.radius,oe=C.startAngle,q=C.endAngle,U=On(te,ee,G,oe),V=On(te,ee,G,q);return{points:[U,V],cx:te,cy:ee,radius:G,startAngle:oe,endAngle:q}}return[{x:I,y:F},{x:z,y:J}]}},{key:"inRange",value:function(N,k){var C=this.props.layout;if(C==="horizontal"||C==="vertical"){var T=this.state.offset,I=N>=T.left&&N<=T.left+T.width&&k>=T.top&&k<=T.top+T.height;return I?{x:N,y:k}:null}var F=this.state,z=F.angleAxisMap,J=F.radiusAxisMap;if(z&&J){var R=Oc(z);return bk({x:N,y:k},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,k=this.getTooltipEventType(),C=ql(N,fi),T={};C&&k==="axis"&&(C.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var I=Km(this.props,this.handleOuterEvent);return ct(ct({},I),T)}},{key:"addListener",value:function(){Ei.on($2,this.handleReceiveSyncEvent),Ei.setMaxListeners&&Ei._maxListeners&&Ei.setMaxListeners(Ei._maxListeners+1)}},{key:"removeListener",value:function(){Ei.removeListener($2,this.handleReceiveSyncEvent),Ei.setMaxListeners&&Ei._maxListeners&&Ei.setMaxListeners(Ei._maxListeners-1)}},{key:"triggerSyncEvent",value:function(N){var k=this.props.syncId;ar(k)||Ei.emit($2,k,this.uniqueChartId,N)}},{key:"applySyncEvent",value:function(N){var k=this.props,C=k.layout,T=k.syncMethod,I=this.state.updateId,F=N.dataStartIndex,z=N.dataEndIndex;if(!ar(N.dataStartIndex)||!ar(N.dataEndIndex))this.setState(ct({dataStartIndex:F,dataEndIndex:z},w({props:this.props,dataStartIndex:F,dataEndIndex:z,updateId:I},this.state)));else if(ar(N.activeTooltipIndex))this.setState(N);else{var J=N.chartX,R=N.chartY,$=N.activeTooltipIndex,H=this.state,B=H.offset,ce=H.tooltipTicks;if(!B)return;if(typeof T=="function")$=T(ce,N);else if(T==="value"){$=-1;for(var se=0;se<ce.length;se++)if(ce[se].value===N.activeLabel){$=se;break}}var xe=ct(ct({},B),{},{x:B.left,y:B.top}),te=Math.min(J,xe.x+xe.width),ee=Math.min(R,xe.y+xe.height),G=ce[$]&&ce[$].value,oe=_E(this.state,this.props.data,$),q=ce[$]?{x:C==="horizontal"?ce[$].coordinate:te,y:C==="horizontal"?ee:ce[$].coordinate}:NE;this.setState(ct(ct({},N),{},{activeLabel:G,activeCoordinate:q,activePayload:oe,activeTooltipIndex:$}))}}},{key:"filterFormatItem",value:function(N,k,C){for(var T=this.state.formattedGraphicalItems,I=0,F=T.length;I<F;I++){var z=T[I];if(z.item===N||z.props.key===N.key||k===Bc(z.item.type)&&C===z.childIndex)return z}return null}},{key:"renderAxis",value:function(N,k,C,T){var I=this.props,F=I.width,z=I.height;return Re.createElement(Rh,Fd({},N,{className:"recharts-".concat(N.axisType," ").concat(N.axisType),key:k.key||"".concat(C,"-").concat(T),viewBox:{x:0,y:0,width:F,height:z},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var N=this.clipPathId,k=this.state.offset,C=k.left,T=k.top,I=k.height,F=k.width;return Re.createElement("defs",null,Re.createElement("clipPath",{id:N},Re.createElement("rect",{x:C,y:T,height:I,width:F})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(k,C){var T=PA(C,2),I=T[0],F=T[1];return ct(ct({},k),{},or({},I,F.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(k,C){var T=PA(C,2),I=T[0],F=T[1];return ct(ct({},k),{},or({},I,F.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var k,C;return(k=this.state.xAxisMap)===null||k===void 0||(C=k[N])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(N){var k,C;return(k=this.state.yAxisMap)===null||k===void 0||(C=k[N])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(N){var k=this.state.formattedGraphicalItems;if(k&&k.length)for(var C=0,T=k.length;C<T;C++){var I=k[C],F=I.props,z=I.item,J=Bc(z.type);if(J==="Bar"){var R=(F.data||[]).find(function(H){return bV(N,H)});if(R)return{graphicalItem:I,payload:R}}else if(J==="RadialBar"){var $=(F.data||[]).find(function(H){return bk(N,H)});if($)return{graphicalItem:I,payload:$}}}return null}},{key:"render",value:function(){var N=this;if(!d3(this))return null;var k=this.props,C=k.children,T=k.className,I=k.width,F=k.height,z=k.style,J=k.compact,R=k.title,$=k.desc,H=EA(k,$K),B=mr(H),ce={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(J)return Re.createElement(Ab,Fd({},B,{width:I,height:F,title:R,desc:$}),this.renderClipPath(),h3(C,ce));if(this.props.accessibilityLayer){var se,xe;B.tabIndex=(se=0)!==null&&se!==void 0?se:this.props.tabIndex,B.role=(xe="img")!==null&&xe!==void 0?xe:this.props.role,B.onKeyDown=function(ee){N.accessibilityManager.keyboardEvent(ee)},B.onFocus=function(){N.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return Re.createElement("div",Fd({className:Nn("recharts-wrapper",T),style:ct({position:"relative",cursor:"default",width:I,height:F},z)},te,{ref:function(G){N.container=G},role:"region"}),Re.createElement(Ab,Fd({},B,{width:I,height:F,title:R,desc:$}),this.renderClipPath(),h3(C,ce)),this.renderLegend(),this.renderTooltip())}}]),S})(O.Component),or(r,"displayName",a),or(r,"defaultProps",ct({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),or(r,"getDerivedStateFromProps",function(v,y){var S=v.data,A=v.children,N=v.width,k=v.height,C=v.layout,T=v.stackOffset,I=v.margin;if(ar(y.updateId)){var F=MA(v);return ct(ct(ct({},F),{},{updateId:0},w(ct(ct({props:v},F),{},{updateId:0}),y)),{},{prevData:S,prevWidth:N,prevHeight:k,prevLayout:C,prevStackOffset:T,prevMargin:I,prevChildren:A})}if(S!==y.prevData||N!==y.prevWidth||k!==y.prevHeight||C!==y.prevLayout||T!==y.prevStackOffset||!Ud(I,y.prevMargin)){var z=MA(v),J={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},R=ct(ct({},TA(y,S,C)),{},{updateId:y.updateId+1}),$=ct(ct(ct({},z),J),R);return ct(ct(ct({},$),w(ct({props:v},$),y)),{},{prevData:S,prevWidth:N,prevHeight:k,prevLayout:C,prevStackOffset:T,prevMargin:I,prevChildren:A})}if(!K8(A,y.prevChildren)){var H=!ar(S),B=H?y.updateId:y.updateId+1;return ct(ct({updateId:B},w(ct(ct({props:v},y),{},{updateId:B}),y)),{},{prevChildren:A})}return null}),or(r,"renderActiveDot",function(v,y){var S;return O.isValidElement(v)?S=O.cloneElement(v,y):sr(v)?S=v(y):S=Re.createElement(oj,y),Re.createElement(xn,{className:"recharts-active-dot",key:y.key},S)}),r},Mf=kE({chartName:"BarChart",GraphicalChild:Ia,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ac},{axisType:"yAxis",AxisComp:sc}],formatAxisMap:jG}),AE=kE({chartName:"PieChart",GraphicalChild:Zi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Eg},{axisType:"radiusAxis",AxisComp:Cg}],formatAxisMap:dH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Qc(e,t=[],r=3e4){const[a,s]=O.useState(null),[i,o]=O.useState(!0),[l,u]=O.useState(null),[f,h]=O.useState(0),m=()=>{h(x=>x+1),u(null),o(!0)};return O.useEffect(()=>{let x=!0,p;return(async()=>{try{o(!0),u(null);const v=new Promise((S,A)=>{p=setTimeout(()=>{A(new Error("Request timed out. Please check your connection and try again."))},r)}),y=await Promise.race([e(),v]);x&&(clearTimeout(p),s(y),o(!1))}catch(v){x&&(clearTimeout(p),console.error("API Error:",v),u(v.message||"An unexpected error occurred"),o(!1))}})(),()=>{x=!1,p&&clearTimeout(p)}},[...t,f]),{data:a,loading:i,error:l,retry:m}}function So({message:e="Loading..."}){return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#7a0000] mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:e})]})})}function Zc({error:e,onRetry:t}){return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center bg-white p-8 rounded-xl shadow-lg max-w-md w-full",children:[n.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Oops! Something went wrong"}),n.jsx("p",{className:"mt-2 text-gray-600",children:e}),n.jsxs("div",{className:"mt-6 space-y-3",children:[t&&n.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-[#7a0000] text-white rounded-lg hover:bg-[#5a0000] transition-colors font-medium",children:"Try Again"}),n.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Go to Home"})]})]})})}function fX(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState("overview"),{data:s,loading:i,error:o,retry:l}=Qc(async()=>{const m=await nt.getDashboardStats();return m.data||m},[t?.id,t?.role]),u=O.useMemo(()=>s?s.totalUsers!==void 0?s:s.data?s.data:s:null,[s]);O.useEffect(()=>{if(!t){e("/");return}if(!sn(t)){e("/dashboard");return}},[t?.role,t?.id,e]);const f=O.useMemo(()=>u?.programStats?Object.entries(u.programStats).map(([m,x])=>({name:m,courses:x.courses||0,students:x.students||0,evaluations:x.evaluations||0})):[],[u]),h=O.useMemo(()=>u?.userRoles?[{name:"Students",value:u.userRoles.students||0,color:"#10b981"},{name:"Dept. Heads",value:u.userRoles.departmentHeads||0,color:"#3b82f6"},{name:"Secretaries",value:u.userRoles.secretaries||0,color:"#f59e0b"},{name:"Admins",value:u.userRoles.admins||0,color:"#7a0000"}]:[],[u]);return!t||!sn(t)?null:i?n.jsx(So,{message:"Loading admin dashboard..."}):o?n.jsx(Zc,{error:o,onRetry:l}):u?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-5",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Course Insight Guardian"}),n.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:"System Administration Panel"})]})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 lg:px-8 py-4 lg:py-5 text-left lg:text-right w-full lg:w-auto",children:[n.jsx("p",{className:"text-[#ffd700] text-sm font-medium",children:"Welcome back,"}),n.jsxs("p",{className:"text-white font-bold text-lg lg:text-xl mt-1",children:[t?.first_name||t?.name||"Admin"," ",t?.last_name||""]})]})]})})}),n.jsxs("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/admin/users"),children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Users"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white mb-2",children:u.totalUsers}),n.jsx("p",{className:"text-sm text-white/90 font-medium",children:"System-wide"})]}),n.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:n.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/admin/courses"),children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Courses"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white mb-2",children:u.totalCourses}),n.jsxs("p",{className:"text-sm text-white/90 font-medium",children:[u.totalPrograms," Programs"]})]}),n.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:n.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#9D1535] to-[#7D1028] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/admin/periods"),children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Evaluations"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white mb-2",children:u.totalEvaluations}),n.jsxs("p",{className:"text-sm text-white/90 font-medium",children:[u.participationRate,"% Participation"]})]}),n.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:n.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 mb-12",children:[F4(t)&&n.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 hover:shadow-card-hover transition-all duration-250 cursor-pointer border-2 border-transparent hover:border-[#9D1535] group",onClick:()=>e("/admin/users"),children:[n.jsxs("div",{className:"flex items-start mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-red-100 rounded-xl flex items-center justify-center mr-5 group-hover:bg-red-200 transition-colors duration-250 flex-shrink-0",children:n.jsx("svg",{className:"w-7 h-7 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"User Management"}),n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Manage all user accounts"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-6 leading-relaxed",children:"Create, edit, and delete user accounts. Assign roles and manage permissions."}),n.jsxs("button",{className:"w-full bg-red-500 hover:bg-red-700 text-white font-semibold py-3 px-5 rounded-button transition-colors duration-250 flex items-center justify-center",children:["Manage Users",n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]}),P9(t)&&n.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 hover:shadow-card-hover transition-all duration-250 cursor-pointer border-2 border-transparent hover:border-[#9D1535] group",onClick:()=>e("/admin/courses"),children:[n.jsxs("div",{className:"flex items-start mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-red-100 rounded-xl flex items-center justify-center mr-5 group-hover:bg-red-200 transition-colors duration-250 flex-shrink-0",children:n.jsx("svg",{className:"w-7 h-7 text-[#9D1535]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Course Management"}),n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Manage all courses"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-6 leading-relaxed",children:"Create, edit, and delete courses. Assign instructors and manage schedules."}),n.jsxs("button",{className:"w-full bg-gradient-to-r from-[#9D1535] to-[#7D1028] hover:from-[#7D1028] hover:to-[#5D0C1F] text-white font-semibold py-3 px-5 rounded-button transition-colors duration-250 flex items-center justify-center",children:["Manage Courses",n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]}),E9(t)&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer border-2 border-transparent hover:border-yellow-500",onClick:()=>e("/admin/periods"),children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center mr-4",children:n.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Evaluation Periods"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Control evaluation schedules"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Open/close evaluation periods, monitor participation."}),n.jsx("button",{className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Manage Periods "})]}),F4(t)&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer border-2 border-transparent hover:border-green-500",onClick:()=>e("/admin/student-management"),children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mr-4",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Student Management"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Year advancement & transitions"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Advance students to next year level and transition enrollments."}),n.jsx("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Manage Students "})]}),L9(t)&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer border-2 border-transparent hover:border-red-500",onClick:()=>e("/admin/emails"),children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center mr-4",children:n.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Send automated emails"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Send period notifications and system alerts to students."}),n.jsx("button",{className:"w-full bg-red-500 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Manage Emails "})]}),O9(t)&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer border-2 border-transparent hover:border-red-500",onClick:()=>e("/admin/export"),children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center mr-4",children:n.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Data Export"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Export system data"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export all system data in various formats (CSV, PDF, Excel)."}),n.jsx("button",{className:"w-full bg-red-500 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Export Data "})]}),R9(t)&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer border-2 border-transparent hover:border-red-500",onClick:()=>e("/admin/audit-logs"),children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center mr-4",children:n.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Audit Logs"}),n.jsx("p",{className:"text-sm text-gray-500",children:"View system activity"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Monitor system activity, user actions, and security events."}),n.jsx("button",{className:"w-full bg-red-500 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"View Logs "})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 mb-12",children:[n.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 lg:p-10",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Program Distribution"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Courses, students, and evaluations by program"})]}),n.jsx(Wc,{width:"100%",height:320,children:n.jsxs(Mf,{data:f,children:[n.jsx(P0,{strokeDasharray:"3 3"}),n.jsx(ac,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),n.jsx(sc,{}),n.jsx(fi,{}),n.jsx(zc,{}),n.jsx(Ia,{dataKey:"courses",fill:"#7a0000",name:"Courses"}),n.jsx(Ia,{dataKey:"students",fill:"#10b981",name:"Students"}),n.jsx(Ia,{dataKey:"evaluations",fill:"#3b82f6",name:"Evaluations"})]})})]}),n.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 lg:p-10",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"User Roles Distribution"}),n.jsx("p",{className:"text-sm text-gray-600",children:"System users by role type"})]}),n.jsx(Wc,{width:"100%",height:320,children:n.jsxs(AE,{children:[n.jsx(Zi,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:m,percent:x})=>`${m}: ${(x*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:h.map((m,x)=>n.jsx(j0,{fill:m.color},`cell-${x}`))}),n.jsx(fi,{})]})})]})]})]})]}):null}/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),DA=e=>{const t=mX(e);return t.charAt(0).toUpperCase()+t.slice(1)},CE=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),pX=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},u)=>O.createElement("svg",{ref:u,...gX,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:CE("lucide",s),...!i&&!pX(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,h])=>O.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=(e,t)=>{const r=O.forwardRef(({className:a,...s},i)=>O.createElement(xX,{ref:i,iconNode:t,className:CE(`lucide-${hX(DA(e))}`,`lucide-${e}`,a),...s}));return r.displayName=DA(e),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jl=Vs("circle-alert",vX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$d=Vs("circle-check-big",yX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],PE=Vs("download",bX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jX=Vs("eye",wX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FA=Vs("file-text",NX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$A=Vs("funnel",SX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rg=Vs("info",_X);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qp=Vs("search",kX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],BA=Vs("trash-2",AX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],PX=Vs("trending-up",CX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],EE=Vs("triangle-alert",EX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],U2=Vs("upload",LX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],LE=Vs("user-x",OX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zp=Vs("users",RX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rd=Vs("x",TX),Tg=({isOpen:e,onClose:t,children:r,size:a="md"})=>{if(!e)return null;const s={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return n.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm transition-opacity duration-300 ease-out",onClick:t,"aria-hidden":"true"}),n.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:n.jsx("div",{className:`relative w-full ${s[a]} transform overflow-hidden rounded-lg bg-white text-left shadow-2xl transition-all duration-300 ease-out sm:my-8 animate-modal-appear`,onClick:i=>i.stopPropagation(),role:"document",children:r})}),n.jsx("style",{jsx:!0,children:`
        @keyframes modalAppear {
          from {
            opacity: 0;
            transform: scale(0.95) translateY(-20px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }
        .animate-modal-appear {
          animation: modalAppear 0.2s ease-out;
        }
      `})]})},Mg=({children:e,onClose:t,icon:r,iconColor:a="text-blue-600"})=>n.jsxs("div",{className:"relative bg-gradient-to-r from-gray-50 to-white border-b border-gray-200 px-6 py-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[r&&n.jsx("div",{className:`flex-shrink-0 ${a}`,children:n.jsx(r,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e})]}),t&&n.jsx("button",{type:"button",onClick:t,className:"absolute top-4 right-4 rounded-md p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300 transition-all","aria-label":"Close",children:n.jsx(Rd,{className:"w-5 h-5"})})]}),Ig=({children:e})=>n.jsx("div",{className:"px-6 py-5 max-h-[calc(100vh-300px)] overflow-y-auto",children:e}),Dg=({children:e})=>n.jsx("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:e}),E0=({isOpen:e,onClose:t,onConfirm:r,title:a,message:s,confirmText:i="Confirm",cancelText:o="Cancel",variant:l="danger",icon:u})=>{const h={danger:{icon:EE,iconColor:"text-red-600",buttonClass:"bg-red-600 hover:bg-red-700 text-white"},warning:{icon:Jl,iconColor:"text-yellow-600",buttonClass:"bg-yellow-600 hover:bg-yellow-700 text-white"},info:{icon:Rg,iconColor:"text-blue-600",buttonClass:"bg-blue-600 hover:bg-blue-700 text-white"},success:{icon:$d,iconColor:"text-green-600",buttonClass:"bg-green-600 hover:bg-green-700 text-white"}}[l],m=u||h.icon;return n.jsxs(Tg,{isOpen:e,onClose:t,size:"md",children:[n.jsx(Mg,{icon:m,iconColor:h.iconColor,onClose:t,children:a}),n.jsx(Ig,{children:n.jsx("p",{className:"text-base text-gray-700 leading-relaxed whitespace-pre-line",children:s})}),n.jsxs(Dg,{children:[n.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 shadow-sm transition-all",children:o}),n.jsx("button",{type:"button",onClick:()=>{r(),t()},className:`px-5 py-2.5 text-sm font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-md transition-all ${h.buttonClass}`,children:i})]})]})},Ql=({isOpen:e,onClose:t,title:r,message:a,variant:s="info",buttonText:i="OK"})=>{const l={danger:{icon:EE,iconColor:"text-red-600",buttonClass:"bg-red-600 hover:bg-red-700 text-white"},warning:{icon:Jl,iconColor:"text-yellow-600",buttonClass:"bg-yellow-600 hover:bg-yellow-700 text-white"},info:{icon:Rg,iconColor:"text-blue-600",buttonClass:"bg-blue-600 hover:bg-blue-700 text-white"},success:{icon:$d,iconColor:"text-green-600",buttonClass:"bg-green-600 hover:bg-green-700 text-white"}}[s],u=l.icon;return n.jsxs(Tg,{isOpen:e,onClose:t,size:"sm",children:[n.jsx(Mg,{icon:u,iconColor:l.iconColor,onClose:t,children:r}),n.jsx(Ig,{children:n.jsx("p",{className:"text-base text-gray-700 leading-relaxed whitespace-pre-line",children:a})}),n.jsx(Dg,{children:n.jsx("button",{type:"button",onClick:t,className:`px-5 py-2.5 text-sm font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-md transition-all ${l.buttonClass}`,children:i})})]})},MX=({isOpen:e,onClose:t,onConfirm:r,userName:a,hasData:s=!1})=>n.jsxs(Tg,{isOpen:e,onClose:t,size:"md",children:[n.jsx(Mg,{icon:LE,iconColor:"text-red-600",onClose:t,children:"Delete User"}),n.jsx(Ig,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete ",n.jsx("span",{className:"font-semibold",children:a}),"?"]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Rg,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Note:"}),n.jsxs("p",{children:["If this user has no evaluations or enrollments, they will be ",n.jsx("span",{className:"font-semibold",children:"permanently deleted"}),". Otherwise, they will be ",n.jsx("span",{className:"font-semibold",children:"deactivated"})," to preserve data integrity."]})]})]})})]})}),n.jsxs(Dg,{children:[n.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 shadow-sm transition-all",children:"Cancel"}),n.jsx("button",{type:"button",onClick:()=>{r(),t()},className:"px-5 py-2.5 text-sm font-semibold bg-red-600 hover:bg-red-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 shadow-md transition-all",children:"Delete User"})]})]}),IX=({isOpen:e,onClose:t,userName:r,deleteType:a,reason:s})=>{const i=a==="hard";return n.jsxs(Tg,{isOpen:e,onClose:t,size:"md",children:[n.jsx(Mg,{icon:i?BA:LE,iconColor:i?"text-red-600":"text-yellow-600",onClose:t,children:i?"User Permanently Deleted":"User Deactivated"}),n.jsx(Ig,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-semibold",children:r})," has been ",i?"permanently deleted":"deactivated","."]}),n.jsx("div",{className:`${i?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[i?n.jsx(BA,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):n.jsx(Jl,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:`text-sm ${i?"text-red-800":"text-yellow-800"}`,children:[n.jsx("p",{className:"font-medium mb-1",children:"Reason:"}),n.jsx("p",{children:s})]})]})}),!i&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Rg,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsx("div",{className:"text-sm text-blue-800",children:n.jsx("p",{children:"The user account has been deactivated but their data (evaluations, enrollments) has been preserved for data integrity."})})]})})]})}),n.jsx(Dg,{children:n.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-md transition-all",children:"OK"})})]})},OE=()=>{const[e,t]=O.useState([]),[r,a]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[u,f]=O.useState(!1),[h,m]=O.useState(!1),[x,p]=O.useState("create"),[w,v]=O.useState(null),[y,S]=O.useState({}),[A,N]=O.useState({sectionName:"",programId:"",yearLevel:"",semester:"",schoolYear:new Date().getFullYear()+"-"+(new Date().getFullYear()+1)}),[k,C]=O.useState([]),[T,I]=O.useState([]),[F,z]=O.useState({programId:"",yearLevel:"",search:""}),[J,R]=O.useState([]),[$,H]=O.useState(!1),[B,ce]=O.useState(!1),[se,xe]=O.useState({title:"",message:"",type:"info"}),[te,ee]=O.useState(!1),[G,oe]=O.useState({title:"",message:"",onConfirm:()=>{},confirmText:"Confirm",cancelText:"Cancel"}),q=(ye,qe="Notification",wt="info")=>{xe({title:qe,message:ye,type:wt}),ce(!0)},U=(ye,qe,wt="Confirm Action",Ee="Confirm",xt="Cancel")=>{oe({title:wt,message:ye,onConfirm:qe,confirmText:Ee,cancelText:xt}),ee(!0)};O.useEffect(()=>{V(),ie()},[]),O.useEffect(()=>{(y.programId||y.yearLevel||y.semester||y.schoolYear)&&V()},[y]);const V=async()=>{try{i(!0);const ye=await nt.getProgramSections(y);t(ye.data||[])}catch(ye){console.error("Failed to load sections:",ye),q("Failed to load program sections","Error","error")}finally{i(!1)}},ie=async()=>{try{const ye=await nt.getPrograms();a(ye.data||[])}catch(ye){console.error("Failed to load programs:",ye)}},me=async(ye=null)=>{try{H(!0);const qe=await nt.getStudentsForAssignment({...F,excludeSectionId:ye});C(qe.data||[])}catch(qe){console.error("Failed to load students:",qe),q("Failed to load students","Error","error")}finally{H(!1)}},W=async ye=>{try{const qe=await nt.getSectionStudents(ye);R(qe.data||[])}catch(qe){console.error("Failed to load assigned students:",qe),q("Failed to load section students","Error","error")}},de=()=>{p("create"),N({sectionName:"",programId:"",yearLevel:"",semester:"",schoolYear:new Date().getFullYear()+"-"+(new Date().getFullYear()+1)}),l(!0)},re=ye=>{p("edit"),v(ye),N({sectionName:ye.sectionName,programId:ye.programId.toString(),yearLevel:ye.yearLevel.toString(),semester:ye.semester.toString(),schoolYear:ye.schoolYear}),l(!0)},Q=async ye=>{U(`Are you sure you want to delete section "${ye.sectionName}"? This will remove all student assignments.`,async()=>{try{await nt.deleteProgramSection(ye.id),q("Section deleted successfully","Success","success"),V()}catch(qe){console.error("Failed to delete section:",qe),q("Failed to delete section","Error","error")}},"Delete Section","Delete","Cancel")},Ne=async ye=>{if(ye.preventDefault(),!A.sectionName||!A.programId||!A.yearLevel||!A.semester||!A.schoolYear){q("Please fill in all required fields","Validation Error","warning");return}const qe={sectionName:A.sectionName.trim(),programId:parseInt(A.programId),yearLevel:parseInt(A.yearLevel),semester:parseInt(A.semester),schoolYear:A.schoolYear.trim()};if(isNaN(qe.programId)||isNaN(qe.yearLevel)||isNaN(qe.semester)){q("Invalid numeric values","Validation Error","warning");return}try{x==="create"?(await nt.createProgramSection(qe),q("Section created successfully","Success","success")):(await nt.updateProgramSection(w.id,qe),q("Section updated successfully","Success","success")),l(!1),V()}catch(wt){console.error("Failed to save section:",wt),q(wt.response?.data?.detail||"Failed to save section","Error","error")}},he=ye=>{v(ye),z({programId:ye.programId.toString(),yearLevel:ye.yearLevel.toString(),search:""}),I([]),me(ye.id),f(!0)},we=ye=>{v(ye),W(ye.id),m(!0)},be=ye=>{I(qe=>qe.includes(ye)?qe.filter(wt=>wt!==ye):[...qe,ye])},Z=()=>{T.length===k.length?I([]):I(k.map(ye=>ye.id))},Xe=async()=>{if(T.length===0){q("Please select at least one student","Validation Error","warning");return}try{const ye=await nt.assignStudentsToSection(w.id,T);q(ye.message,"Success","success"),f(!1),V()}catch(ye){console.error("Failed to assign students:",ye),q("Failed to assign students","Error","error")}},Je=async ye=>{U("Are you sure you want to remove this student from the section?",async()=>{try{await nt.removeStudentFromSection(w.id,ye),q("Student removed successfully","Success","success"),W(w.id),V()}catch(qe){console.error("Failed to remove student:",qe),q("Failed to remove student","Error","error")}},"Remove Student","Remove","Cancel")};O.useEffect(()=>{u&&w&&me(w.id)},[F.programId,F.yearLevel,F.search]);const Qe=[{value:1,label:"1st Year"},{value:2,label:"2nd Year"},{value:3,label:"3rd Year"},{value:4,label:"4th Year"}],Te=[{value:1,label:"1st Semester"},{value:2,label:"2nd Semester"},{value:3,label:"Summer"}];return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl",children:"Program Sections Management"}),n.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Manage program sections and student assignments"})]})]}),n.jsxs("button",{onClick:de,className:"bg-white hover:bg-[#ffd700] text-[#7a0000] font-semibold px-6 py-3 rounded-xl shadow-lg transition-all flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),n.jsx("span",{children:"Create Section"})]})]})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[n.jsx("div",{className:"bg-white p-6 lg:p-8 rounded-card shadow-card mb-12",children:n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Program"}),n.jsxs("select",{value:y.programId||"",onChange:ye=>S({...y,programId:ye.target.value}),className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"",children:"All Programs"}),r.map(ye=>n.jsx("option",{value:ye.id,children:ye.code},ye.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Year Level"}),n.jsxs("select",{value:y.yearLevel||"",onChange:ye=>S({...y,yearLevel:ye.target.value}),className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"",children:"All Years"}),Qe.map(ye=>n.jsx("option",{value:ye.value,children:ye.label},ye.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Semester"}),n.jsxs("select",{value:y.semester||"",onChange:ye=>S({...y,semester:ye.target.value}),className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"",children:"All Semesters"}),Te.map(ye=>n.jsx("option",{value:ye.value,children:ye.label},ye.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"School Year"}),n.jsx("input",{type:"text",value:y.schoolYear||"",onChange:ye=>S({...y,schoolYear:ye.target.value}),placeholder:"e.g., 2024-2025",className:"w-full border rounded px-3 py-2"})]})]})}),s?n.jsx("div",{className:"text-center py-8",children:"Loading sections..."}):e.length===0?n.jsx("div",{className:"bg-white p-8 rounded-lg shadow text-center text-gray-500",children:"No sections found. Create your first section to get started."}):n.jsx("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Section Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Program"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Year/Semester"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"School Year"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Students"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(ye=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 font-medium",children:ye.sectionName}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium",children:ye.programCode}),n.jsx("div",{className:"text-gray-500",children:ye.programName})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[Qe.find(qe=>qe.value===ye.yearLevel)?.label," -",Te.find(qe=>qe.value===ye.semester)?.label]})}),n.jsx("td",{className:"px-6 py-4",children:ye.schoolYear}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("button",{onClick:()=>we(ye),className:"text-red-600 hover:underline font-medium",children:[ye.studentCount," student",ye.studentCount!==1?"s":""]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs ${ye.isActive?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:ye.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>he(ye),className:"text-red-600 hover:underline text-sm",children:"Add Students"}),n.jsx("button",{onClick:()=>re(ye),className:"text-red-600 hover:underline text-sm",children:"Edit"}),n.jsx("button",{onClick:()=>Q(ye),className:"text-red-600 hover:underline text-sm",children:"Delete"})]})})]},ye.id))})]})}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"p-6 border-b flex-shrink-0",children:n.jsx("h3",{className:"text-xl font-bold",children:x==="create"?"Create Section":"Edit Section"})}),n.jsxs("form",{onSubmit:Ne,className:"flex-1 overflow-y-auto p-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section Name *"}),n.jsx("input",{type:"text",value:A.sectionName,onChange:ye=>N({...A,sectionName:ye.target.value}),placeholder:"e.g., BSIT 3A",required:!0,className:"w-full border rounded px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Program *"}),n.jsxs("select",{value:A.programId,onChange:ye=>N({...A,programId:ye.target.value}),required:!0,className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"",children:"Select a program"}),r.map(ye=>n.jsxs("option",{value:ye.id,children:[ye.code," - ",ye.name]},ye.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Year Level *"}),n.jsxs("select",{value:A.yearLevel,onChange:ye=>N({...A,yearLevel:ye.target.value}),required:!0,className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"",children:"Select year level"}),Qe.map(ye=>n.jsx("option",{value:ye.value,children:ye.label},ye.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Semester *"}),n.jsxs("select",{value:A.semester,onChange:ye=>N({...A,semester:ye.target.value}),required:!0,className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"",children:"Select semester"}),Te.map(ye=>n.jsx("option",{value:ye.value,children:ye.label},ye.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"School Year *"}),n.jsx("input",{type:"text",value:A.schoolYear,onChange:ye=>N({...A,schoolYear:ye.target.value}),placeholder:"e.g., 2024-2025",required:!0,className:"w-full border rounded px-3 py-2"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[n.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:x==="create"?"Create":"Update"})]})]})]})}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"p-6 border-b flex-shrink-0",children:n.jsxs("h3",{className:"text-xl font-bold",children:["Assign Students to ",w?.sectionName]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Program"}),n.jsxs("select",{value:F.programId,onChange:ye=>z({...F,programId:ye.target.value}),className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"",children:"All Programs"}),r.map(ye=>n.jsx("option",{value:ye.id,children:ye.code},ye.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Year Level"}),n.jsxs("select",{value:F.yearLevel,onChange:ye=>z({...F,yearLevel:ye.target.value}),className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"",children:"All Years"}),Qe.map(ye=>n.jsx("option",{value:ye.value,children:ye.label},ye.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Search"}),n.jsx("input",{type:"text",value:F.search,onChange:ye=>z({...F,search:ye.target.value}),placeholder:"Name, email, or student #",className:"w-full border rounded px-3 py-2"})]})]})}),$?n.jsx("div",{className:"text-center py-8",children:"Loading students..."}):k.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No students found"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-4 flex items-center gap-2 border-b pb-2",children:[n.jsx("input",{type:"checkbox",checked:T.length===k.length&&k.length>0,onChange:Z,className:"w-4 h-4"}),n.jsxs("span",{className:"font-medium",children:["Select All (",T.length," selected)"]})]}),n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:k.map(ye=>n.jsxs("label",{className:`flex items-center gap-3 p-3 rounded border cursor-pointer hover:bg-gray-50 ${ye.alreadyAssigned?"bg-gray-100 opacity-60":""}`,children:[n.jsx("input",{type:"checkbox",checked:T.includes(ye.id),onChange:()=>be(ye.id),disabled:ye.alreadyAssigned,className:"w-4 h-4"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"font-medium",children:[ye.lastName,", ",ye.firstName]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[ye.studentNumber," | ",ye.email]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[ye.programCode," - ",Qe.find(qe=>qe.value===ye.yearLevel)?.label]})]}),ye.alreadyAssigned&&n.jsx("span",{className:"text-xs text-gray-500",children:"Already in section"})]},ye.id))})]}),n.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[n.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{onClick:Xe,disabled:T.length===0,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Assign ",T.length," Student",T.length!==1?"s":""]})]})]})]})}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"p-6 border-b flex-shrink-0",children:n.jsxs("h3",{className:"text-xl font-bold",children:["Students in ",w?.sectionName," (",J.length,")"]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[J.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No students assigned to this section yet"}):n.jsx("div",{className:"space-y-2",children:J.map(ye=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium",children:[ye.lastName,", ",ye.firstName]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[ye.studentNumber," | ",ye.email]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[ye.programCode," - ",Qe.find(qe=>qe.value===ye.yearLevel)?.label]})]}),n.jsx("button",{onClick:()=>Je(ye.id),className:"text-red-600 hover:underline text-sm",children:"Remove"})]},ye.id))}),n.jsx("div",{className:"flex justify-end mt-6 flex-shrink-0 p-6 border-t",children:n.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:"Close"})})]})]})}),n.jsx(Ql,{isOpen:B,onClose:()=>ce(!1),title:se.title,message:se.message,variant:se.type==="error"?"danger":se.type}),n.jsx(E0,{isOpen:te,onClose:()=>ee(!1),onConfirm:()=>{G.onConfirm(),ee(!1)},title:G.title,message:G.message,confirmText:G.confirmText,cancelText:G.cancelText,variant:"danger"})]})]})},eu=({currentPage:e,totalPages:t,totalItems:r,onPageChange:a,itemLabel:s="items"})=>{if(t<=1)return null;const i=()=>{const o=[];for(let l=e;l<=Math.min(e+2,t);l++)o.push(l);return o};return n.jsxs("div",{className:"flex items-center justify-center gap-0 px-4 py-3",children:[n.jsx("button",{onClick:()=>a(Math.max(1,e-1)),disabled:e===1,className:"px-3 py-2 text-sm text-black border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",style:{borderRadius:"5px",margin:"0 4px"},"aria-label":"Previous page",children:""}),i().map((o,l)=>n.jsx("button",{onClick:()=>a(o),className:`px-3 py-2 text-sm border border-gray-300 transition-colors ${e===o?"bg-[#7a0000] text-white":"text-black hover:bg-gray-50"}`,style:{borderRadius:"5px",margin:"0 4px"},"aria-label":`Go to page ${o}`,"aria-current":e===o?"page":void 0,children:o},o)),n.jsx("button",{onClick:()=>a(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-2 text-sm text-black border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",style:{borderRadius:"5px",margin:"0 4px"},"aria-label":"Next page",children:""})]})};function ad(e,t=500){const[r,a]=O.useState(e);return O.useEffect(()=>{const s=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(s)}},[e,t]),r}const DX={"BSCS-DS":"BSCS-DS","BS-CYBER":"BSCYSEC",BSIT:"BSIT",BSPSY:"BSPSYCH",BAPSY:"ABPSYCH",BMA:"BMMA",ABCOMM:"ABCOMM"};function Wd(e){return e&&(DX[e]||e)}function FX(e){if(!e)return e;const t=e.program_code||e.code,r=e.program_name||e.name;return{...e,code:Wd(t),program_code:Wd(t),displayCode:Wd(t),originalCode:t,name:r,program_name:r}}function If(e){return Array.isArray(e)?e.map(FX):e}function $X(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState("users"),[s,i]=O.useState({isOpen:!1,user:null}),[o,l]=O.useState({isOpen:!1,userName:"",deleteType:"",reason:""}),[u,f]=O.useState({isOpen:!1,message:""}),[h,m]=O.useState(!1),[x,p]=O.useState({title:"",message:"",type:"info"}),[w,v]=O.useState(!1),[y,S]=O.useState({title:"",message:"",onConfirm:null,confirmText:"Confirm",cancelText:"Cancel"}),[A,N]=O.useState(!1),[k,C]=O.useState(null),[T,I]=O.useState(""),[F,z]=O.useState(!1),[J,R]=O.useState(""),[$,H]=O.useState([]),[B,ce]=O.useState([]),[se,xe]=O.useState({total_users:0,students:0,dept_heads:0,secretaries:0,admins:0}),[te,ee]=O.useState(""),G=ad(te,500),[oe,q]=O.useState("all"),[U,V]=O.useState("all"),[ie,me]=O.useState("all"),[W,de]=O.useState("all"),[re,Q]=O.useState(!1),[Ne,he]=O.useState(!1),[we,be]=O.useState(!1),[Z,Xe]=O.useState(null),[Je,Qe]=O.useState([]),[Te,ye]=O.useState(!1),[qe,wt]=O.useState(null),[Ee,xt]=O.useState([]),[gt,ht]=O.useState([]),[_e,He]=O.useState({current:0,total:0,status:""}),[We,Ge]=O.useState(1),[ot]=O.useState(15),[Nt,Dt]=O.useState(0),[pt,At]=O.useState(0),[Be,Ie]=O.useState({name:"",email:"",school_id:"",role:"student",program:"BSIT",yearLevel:1,department:"",assignedPrograms:[],status:"Active"}),[dt,kt]=O.useState(null),[pr,br]=O.useState(null),[gr,Vt]=O.useState(!1),[xr,na]=O.useState(!1),{data:_r,loading:ca,error:Sa,retry:Tt}=Qc(async()=>{const[Oe,bt,_t]=await Promise.all([nt.getUsers({page:We,page_size:ot,role:oe!=="all"?oe:void 0,status:U!=="all"?U:void 0,program:ie!=="all"?ie:void 0,year_level:W!=="all"?parseInt(W):void 0,search:G||void 0}),nt.getPrograms(),nt.getUserStats()]);return{users:Oe?.data||[],programs:bt?.data||[],stats:_t?.data||{total_users:0,students:0,dept_heads:0,secretaries:0,admins:0},pagination:Oe?.pagination||{}}},[t?.id,t?.role,We,ot,oe,U,ie,W,G]);O.useEffect(()=>{if(_r){const Oe=(_r.users||[]).map(bt=>({...bt,status:bt.is_active?"Active":"Inactive"}));H(Oe),_r.programs&&_r.programs.length>0&&ce(If(_r.programs||[]).map(bt=>bt.code).sort()),_r.stats&&xe(_r.stats),_r.pagination&&(Dt(_r.pagination.total||0),At(_r.pagination.total_pages||0))}},[_r]),O.useEffect(()=>{t&&!Da(t)&&e("/dashboard")},[t?.role,t?.id,e]),O.useEffect(()=>{oe!=="student"&&(me("all"),de("all"))},[oe]);const ir=(Oe,bt="Notification",_t="info")=>{p({title:bt,message:Oe,type:_t}),m(!0)},_a=(Oe,bt,_t="Confirm Action",Qt="Confirm",vr="Cancel")=>{S({title:_t,message:Oe,onConfirm:bt,confirmText:Qt,cancelText:vr}),v(!0)};O.useEffect(()=>{Ge(1)},[oe,U,te,W,ie]);const Wr=$,ka=()=>{Ie({name:"",email:"",role:"student",program:"BSIT",yearLevel:1,department:"",assignedPrograms:[],status:"Active"}),Q(!0)},Hr=Oe=>{Xe(Oe),Ie({name:`${Oe.first_name||""} ${Oe.last_name||""}`.trim(),email:Oe.email,role:Oe.role,program:Oe.program||"BSIT",yearLevel:Oe.yearLevel||1,department:Oe.department||"",assignedPrograms:Oe.assignedPrograms||[],status:Oe.status||"Active"}),he(!0)},on=(Oe,bt=!1)=>{i({isOpen:!0,user:Oe,force:bt})},Sn=async()=>{const Oe=s.user,bt=s.force||!1,_t=`${Oe.first_name||""} ${Oe.last_name||""}`.trim();try{ye(!0);const Qt=await nt.deleteUser(Oe.id,bt);Tt();const vr=Qt.delete_type||"soft";l({isOpen:!0,userName:_t,deleteType:vr,reason:vr==="hard"?"No related data found (newly created user)":"User has related data (evaluations/enrollments). Account preserved for data integrity"})}catch(Qt){console.error("Error deleting user:",Qt),f({isOpen:!0,message:`Failed to delete user: ${Qt.message}`})}finally{ye(!1)}},$a=async Oe=>{const bt=Oe.target.files?.[0];if(!bt)return;wt(bt),ht([]),xt([]);const _t=new FileReader;_t.onload=Qt=>{try{const Zt=Qt.target.result.split(`
`).filter(Ct=>Ct.trim());if(Zt.length<2){ht(["CSV file is empty or has no data rows"]);return}const Vr=Zt[0].split(",").map(Ct=>Ct.trim().toLowerCase()),ln=["email","first_name","last_name","school_id","role"].filter(Ct=>!Vr.includes(Ct));if(ln.length>0){ht([`Missing required columns: ${ln.join(", ")}`]);return}const ya=[],Sr=[],Cr=["student","instructor","department_head","secretary","admin"];for(let Ct=1;Ct<Math.min(Zt.length,101);Ct++){const Xt=Zt[Ct].split(",").map(Rs=>Rs.trim()),Lt={};Vr.forEach((Rs,Aa)=>{Lt[Rs]=Xt[Aa]||""});const Fr=[];(!Lt.email||!Lt.email.includes("@"))&&Fr.push("Invalid email"),Lt.email&&!Lt.email.toLowerCase().endsWith("@lpubatangas.edu.ph")&&Fr.push("Email must be @lpubatangas.edu.ph"),Lt.first_name||Fr.push("Missing first name"),Lt.last_name||Fr.push("Missing last name"),(!Lt.school_id||Lt.school_id.trim()==="")&&Fr.push("Missing school_id"),Lt.role=Lt.role.toLowerCase(),Cr.includes(Lt.role)||Fr.push(`Invalid role: ${Lt.role}`),Lt.role==="student"&&(Lt.program&&!B.includes(Lt.program)&&Fr.push(`Invalid program: ${Lt.program}`),Lt.year_level&&![1,2,3,4,"1","2","3","4"].includes(Lt.year_level)&&Fr.push("Invalid year level (must be 1-4)")),Fr.length>0&&Sr.push({row:Ct,errors:Fr,data:Lt}),ya.push({...Lt,rowNumber:Ct,hasErrors:Fr.length>0})}xt(ya.slice(0,5)),ht(Sr)}catch(vr){ht([`Failed to parse CSV: ${vr.message}`])}},_t.readAsText(bt)},en=async()=>{if(!qe){ir("Please select a CSV file first","Warning","warning");return}const Oe=async()=>{try{ye(!0),He({current:0,total:0,status:"Reading file..."});const _t=(await qe.text()).split(`
`).filter(Sr=>Sr.trim()),Qt=_t[0].split(",").map(Sr=>Sr.trim().toLowerCase()),vr=[];for(let Sr=1;Sr<_t.length;Sr++){const Cr=_t[Sr].split(",").map(Xt=>Xt.trim()),Ct={};Qt.forEach((Xt,Lt)=>{Ct[Xt]=Cr[Lt]||""}),!(!Ct.email||!Ct.email.includes("@")||!Ct.first_name||!Ct.last_name)&&Ct.email.toLowerCase().endsWith("@lpubatangas.edu.ph")&&(Ct.role=Ct.role.toLowerCase(),["student","instructor","department_head","secretary","admin"].includes(Ct.role)&&vr.push(Ct))}He({current:0,total:vr.length,status:"Importing users..."});const Zt=vr.map(Sr=>({email:Sr.email,first_name:Sr.first_name,last_name:Sr.last_name,role:Sr.role.toLowerCase(),password:Sr.password||"changeme123",department:Sr.department||null,program:Sr.program||null,program_id:null,year_level:Sr.year_level?parseInt(Sr.year_level):1,school_id:Sr.school_id||null})),Vr=await tt.post("/admin/users/bulk-import",Zt),Or=Vr.data?.success||0,ln=Vr.data?.errors||[],ya=`Bulk import complete!

 Successfully imported: ${Or} users
 Failed: ${ln.length} users`+(ln.length>0?`

Failed users:
${ln.slice(0,5).map(Sr=>`Row ${Sr.row}: ${Sr.email} - ${Sr.error}`).join(`
`)}`:"");ir(ya,ln.length>0?"Partial Success":"Success",ln.length>0?"warning":"success"),Tt(),be(!1),wt(null),xt([]),ht([]),He({current:0,total:0,status:""})}catch(bt){ir(`Bulk import failed: ${bt.message}`,"Error","error")}finally{ye(!1)}};gt.length>0?_a(`Found ${gt.length} error(s) in the CSV file.

Do you want to skip invalid rows and import only valid ones?`,Oe,"Validation Errors","Import Valid Rows"):Oe()},va=()=>{const Oe=`email,first_name,last_name,school_id,role,program,year_level
iturraldejose@lpubatangas.edu.ph,Jose,Iturralde,23130778,student,BSIT,1
juandelacruz@lpubatangas.edu.ph,Juan,Dela Cruz,23140001,student,BSCS,2
mariasantos@lpubatangas.edu.ph,Maria,Santos,23150001,student,BAPSY,3
secretary@lpubatangas.edu.ph,Ana,Reyes,20100001,secretary,,
depthead@lpubatangas.edu.ph,Pedro,Garcia,19050001,department_head,,

# IMPORTANT: school_id is REQUIRED for all users
# For students: Password will be auto-generated as lpub@{school_id}
# Example: school_id "23130778"  password "lpub@23130778"
# Students must change this password on first login
`,bt=new Blob([Oe],{type:"text/csv"}),_t=URL.createObjectURL(bt),Qt=document.createElement("a");Qt.href=_t,Qt.download="user_import_template.csv",Qt.click(),URL.revokeObjectURL(_t)},Fn=Oe=>{C(Oe),I("changeme123"),N(!0)},fn=async()=>{const Oe=`${k.first_name||""} ${k.last_name||""}`.trim();if(T.length<8){ir("Password must be at least 8 characters long","Warning","warning");return}try{ye(!0);const bt=await nt.resetPassword(k.id,T);ir(bt?.data?.message||`Password for ${Oe} has been reset successfully!`,"Success","success"),N(!1),I(""),C(null),Tt()}catch(bt){console.error("Error resetting password:",bt);const _t=bt.response?.data?.detail||bt.message||"Unknown error occurred";ir(`Failed to reset password: ${_t}`,"Error","error")}finally{ye(!1)}},ua=async()=>{if(!J||J.length<8){ir("Password must be at least 8 characters long","Warning","warning");return}try{ye(!0),z(!1);const Oe=Je;let bt=0,_t=0;const Qt=[];for(const Zt of Oe)try{await nt.resetPassword(Zt,J),bt++}catch(Vr){_t++,Qt.push(`User ID ${Zt}: ${Vr.message}`),console.error(`Failed to reset password for user ${Zt}:`,Vr)}let vr=`Password reset completed: ${bt} successful`;_t>0&&(vr+=`, ${_t} failed`,Qt.length>0&&(console.error("Bulk password reset errors:",Qt),vr+=`

Errors:
${Qt.slice(0,5).join(`
`)}`,Qt.length>5&&(vr+=`
...and ${Qt.length-5} more`))),ir(vr,bt>0&&_t===0?"Success":"Completed with Errors",bt>0&&_t===0?"success":"warning"),Qe([]),R(""),Tt()}catch(Oe){ir(Oe.message,"Error","error")}finally{ye(!1)}},$n=async()=>{if(!Be.school_id||Be.school_id.trim()===""){ir("Please enter a student number first","Warning","warning");return}Vt(!0),br(null);try{const Oe=await tt.get(`/admin/enrollment-list/student/${Be.school_id}`);if(Oe){kt(Oe),na(!0);const bt=`${Oe.first_name} ${Oe.middle_name?Oe.middle_name+" ":""}${Oe.last_name}`.trim();Ie(_t=>({..._t,name:bt,email:Oe.email||_t.email,program:Oe.program_code,yearLevel:Oe.year_level})),ir(` Student found in enrollment list!

Name: ${bt}
Program: ${Oe.program_code} - ${Oe.program_name}
Year Level: ${Oe.year_level}

Form has been auto-filled with enrollment data.`,"Success","success")}}catch(Oe){Oe.response?.status===404?(na(!0),kt(null),ir(` Student number "${Be.school_id}" not found in enrollment list.

Please verify the student number or contact the registrar to add this student to the enrollment list first.`,"Warning","warning")):(console.error("Error looking up enrollment:",Oe),ir("Failed to lookup enrollment information. Please try again.","Error","error"))}finally{Vt(!1)}},xi=async Oe=>{if(Oe.preventDefault(),Be.role==="student"&&dt&&dt.program_code!==Be.program){_a(` PROGRAM MISMATCH WARNING

Enrollment List: ${dt.program_code} - ${dt.program_name}
Selected Program: ${Be.program}

Student "${Be.name}" is enrolled in ${dt.program_code}, not ${Be.program}.

Do you want to correct the program to match the enrollment list?`,()=>{Ie(bt=>({...bt,program:dt.program_code}))},"Program Mismatch Warning","Correct Program","Cancel");return}try{if(ye(!0),!Be.email.toLowerCase().endsWith("@lpubatangas.edu.ph")){ir("Email must be from @lpubatangas.edu.ph domain","Validation Error","error");return}if(Be.role!=="student"&&Be.password){const Or=Be.password;if(Or.length<8){ir("Password must be at least 8 characters long","Validation Error","error");return}if(!/[A-Z]/.test(Or)){ir("Password must contain at least one uppercase letter","Validation Error","error");return}if(!/[a-z]/.test(Or)){ir("Password must contain at least one lowercase letter","Validation Error","error");return}if(!/[0-9]/.test(Or)){ir("Password must contain at least one number","Validation Error","error");return}if(!/[!@#$%^&*(),.?":{}|<>]/.test(Or)){ir('Password must contain at least one special character (!@#$%^&*(),.?":{}|<>)',"Validation Error","error");return}}const bt=Be.name.trim().split(" "),_t=bt[0]||"",Qt=bt.slice(1).join(" ")||bt[0]||"User";let vr=null;Be.role==="student"&&Be.program&&(vr=(await nt.getPrograms())?.data?.find(ya=>ya.code===Be.program)?.id);const Zt={email:Be.email,first_name:_t,last_name:Qt,school_id:Be.school_id||null,role:Be.role,password:Be.role==="student"?"temp":Be.password||"changeme123",department:Be.department||null,program_id:vr,year_level:Be.yearLevel||1},Vr=await nt.createUser(Zt);Tt(),Be.role==="student"&&Vr.generated_password?ir(` Student created successfully!

Temporary Password: ${Vr.generated_password}

 IMPORTANT: Share this password with the student. They will be required to change it on first login.`,"Success","success"):ir(`User ${Be.name} created successfully!`,"Success","success"),Q(!1),Ie({name:"",email:"",password:"",role:"student",program:"BSIT",yearLevel:1,department:"",assignedPrograms:[],status:"Active"}),kt(null),br(null),na(!1)}catch(bt){if(console.error("Error creating user:",bt),bt.response?.data?.error==="PROGRAM_MISMATCH"){const _t=bt.response.data,Qt=_t.enrolled_program,vr=_t.attempted_program;ir(` PROGRAM MISMATCH ERROR

${_t.message}

Enrolled in: ${Qt.code} - ${Qt.name}
Attempted: ${vr.code} - ${vr.name}

 Please use "${Qt.code}" as the program for this student.`,"Error","error")}else if(bt.response?.data?.error==="STUDENT_NOT_IN_ENROLLMENT_LIST")ir(` ENROLLMENT VALIDATION ERROR

${bt.response.data.message}

 This student must be added to the enrollment list by the registrar before creating their account.`,"Error","error");else{const _t=bt.response?.data?.detail||bt.message||"Unknown error",Qt=bt.response?.data?.errors||[],vr=Qt.length>0?`${_t}
${Qt.map(Zt=>`- ${Zt.msg||Zt}`).join(`
`)}`:_t;ir(`Failed to create user: ${vr}`,"Error","error")}}finally{ye(!1)}},Ba=async Oe=>{Oe.preventDefault();try{ye(!0);const bt=Be.name.trim().split(" "),_t=bt[0]||"",Qt=bt.slice(1).join(" ")||bt[0]||"User",vr={email:Be.email,first_name:_t,last_name:Qt,role:Be.role,department:Be.department||null,is_active:Be.status==="Active"};await nt.updateUser(Z.id,vr),Tt(),ir(`User ${Be.name} updated successfully!`,"Success","success"),he(!1)}catch(bt){console.error("Error updating user:",bt);const _t=bt.response?.data?.detail||bt.message||"Unknown error",Qt=bt.response?.data?.errors||[],vr=Qt.length>0?`${_t}
${Qt.map(Zt=>`- ${Zt.msg||Zt}`).join(`
`)}`:_t;ir(`Failed to update user: ${vr}`,"Error","error")}finally{ye(!1)}},es=async Oe=>{if(Je.length===0){ir("Please select users first","Warning","warning");return}_a(`${Oe} ${Je.length} selected users?`,async()=>{try{ye(!0);const _t=$.filter(Or=>Je.includes(Or.email)).map(Or=>Or.id);console.log(`[BULK ACTION] ${Oe} for users:`,_t);let Qt=0,vr=0;const Zt=[];if(Oe==="Activate")for(const Or of _t)try{await nt.activateUser(Or),Qt++}catch(ln){vr++,Zt.push(`User ID ${Or}: ${ln.message}`),console.error(`Failed to activate user ${Or}:`,ln)}else if(Oe==="Deactivate")for(const Or of _t)try{await nt.deactivateUser(Or),Qt++}catch(ln){vr++,Zt.push(`User ID ${Or}: ${ln.message}`),console.error(`Failed to deactivate user ${Or}:`,ln)}else if(Oe==="Delete")for(const Or of _t)try{await nt.deleteUser(Or),Qt++}catch(ln){vr++,Zt.push(`User ID ${Or}: ${ln.message}`),console.error(`Failed to delete user ${Or}:`,ln)}else if(Oe==="Reset Password"){z(!0),ye(!1);return}let Vr=`${Oe} completed: ${Qt} successful`;vr>0&&(Vr+=`, ${vr} failed`,Zt.length>0&&(console.error("Bulk action errors:",Zt),Vr+=`

Errors:
${Zt.slice(0,5).join(`
`)}`,Zt.length>5&&(Vr+=`
... and ${Zt.length-5} more`))),ir(Vr,Zt.length>0?"Partial Success":"Success",Zt.length>0?"warning":"success"),Qe([]),console.log("[BULK ACTION] Refreshing user list..."),await Tt()}catch(bt){console.error("Bulk action error:",bt),ir(`Failed to ${Oe.toLowerCase()}: ${bt.response?.data?.detail||bt.message}`,"Error","error")}finally{ye(!1)}},`Confirm ${Oe}`,Oe)},Ys=Oe=>{Qe(bt=>bt.includes(Oe)?bt.filter(_t=>_t!==Oe):[...bt,Oe])},Os=()=>{Je.length===Wr.length?Qe([]):Qe(Wr.map(Oe=>Oe.email))};return!t||!Da(t)?null:ca?n.jsx(So,{message:"Loading users..."}):Sa?n.jsx(Zc,{error:Sa,onRetry:Tt}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl",children:"User Management"}),n.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Manage all system users and permissions"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:()=>be(!0),className:"bg-white hover:bg-white/90 text-[#7a0000] font-semibold px-6 py-3 rounded-button shadow-card hover:shadow-card-hover transition-all duration-250 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),n.jsx("span",{children:"Bulk Import"})]}),n.jsxs("button",{onClick:ka,className:"bg-[#ffd700] hover:bg-[#ffed4e] text-[#7a0000] font-semibold px-6 py-3 rounded-xl shadow-lg transition-all flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),n.jsx("span",{children:"Add User"})]})]})]})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-md mb-6",children:n.jsxs("div",{className:"flex border-b",children:[n.jsx("button",{onClick:()=>a("users"),className:`px-6 py-4 font-semibold transition-colors ${r==="users"?"border-b-2 border-red-600 text-red-600":"text-gray-600 hover:text-gray-800"}`,children:" Users"}),n.jsx("button",{onClick:()=>a("sections"),className:`px-6 py-4 font-semibold transition-colors ${r==="sections"?"border-b-2 border-red-600 text-red-600":"text-gray-600 hover:text-gray-800"}`,children:" Program Sections"})]})}),r==="sections"?n.jsx(OE,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Users"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:se.total_users})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-200 group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Students"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:se.students})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-200",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-200 group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Dept Heads"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:se.dept_heads})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-200",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-200 group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Staff Members"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:se.secretaries+se.admins})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-200",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:n.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Search"}),n.jsx("input",{type:"text",placeholder:"Search by name or email...",value:te,onChange:Oe=>ee(Oe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Role"}),n.jsxs("select",{value:oe,onChange:Oe=>q(Oe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Roles"}),n.jsx("option",{value:"student",children:"Student"}),n.jsx("option",{value:"instructor",children:"Instructor"}),n.jsx("option",{value:"department_head",children:"Department Head"}),n.jsx("option",{value:"secretary",children:"Secretary"}),n.jsx("option",{value:"admin",children:"Administrator"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Program"}),n.jsxs("select",{value:ie,onChange:Oe=>me(Oe.target.value),disabled:oe!=="student",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${oe!=="student"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,children:[n.jsx("option",{value:"all",children:oe==="student"?"All Programs":"Select Student Role First"}),oe==="student"&&B.map(Oe=>n.jsx("option",{value:Oe,children:Oe},Oe))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Status"}),n.jsxs("select",{value:U,onChange:Oe=>V(Oe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Year Level"}),n.jsxs("select",{value:W,onChange:Oe=>de(Oe.target.value),disabled:oe!=="student",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${oe!=="student"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,children:[n.jsx("option",{value:"all",children:oe==="student"?"All Levels":"Select Student Role First"}),oe==="student"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"1",children:"1st Year"}),n.jsx("option",{value:"2",children:"2nd Year"}),n.jsx("option",{value:"3",children:"3rd Year"}),n.jsx("option",{value:"4",children:"4th Year"})]})]})]})]})}),Je.length>0&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6 flex items-center justify-between",children:[n.jsxs("p",{className:"text-blue-900 font-semibold",children:[Je.length," user(s) selected"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>es("Activate"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-all",children:"Activate"}),n.jsx("button",{onClick:()=>es("Deactivate"),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-all",children:"Deactivate"}),n.jsx("button",{onClick:()=>es("Reset Password"),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all",children:"Reset Password"}),n.jsx("button",{onClick:()=>es("Delete"),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all",children:"Delete"})]})]}),n.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden w-fit mx-auto",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table-auto",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:Je.length===Wr.length&&Wr.length>0,onChange:Os,className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Email"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"School ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Role"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Program"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:Wr.map((Oe,bt)=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("input",{type:"checkbox",checked:Je.includes(Oe.email),onChange:()=>Ys(Oe.email),className:"w-4 h-4 text-red-600 rounded focus:ring-2 focus:ring-red-500"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold mr-3",children:(Oe.first_name?.[0]||Oe.email?.[0]||"?").toUpperCase()}),n.jsx("span",{className:"font-medium text-gray-900",children:`${Oe.first_name||""} ${Oe.last_name||""}`.trim()||Oe.email})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.email}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.school_id||"N/A"}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${Oe.role==="student"?"bg-green-100 text-green-800":Oe.role==="instructor"?"bg-indigo-100 text-indigo-800":Oe.role==="department_head"?"bg-purple-100 text-purple-800":Oe.role==="secretary"?"bg-blue-100 text-blue-800":Oe.role==="admin"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:yb(Oe.role)})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Oe.program||(Oe.assignedPrograms&&Oe.assignedPrograms.length>0?Oe.assignedPrograms.join(", "):"N/A")}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${Oe.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Oe.status})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>Hr(Oe),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-all",title:"Edit User",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n.jsx("button",{onClick:()=>Fn(Oe),className:"p-2 bg-orange-100 hover:bg-orange-200 text-orange-600 rounded-lg transition-all",title:"Reset Password",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),n.jsx("button",{onClick:()=>on(Oe,!1),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-all",title:"Delete User",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),n.jsx("button",{onClick:()=>on(Oe,!0),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all",title:"Force Delete (Remove All Data)",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})})]},Oe.email||bt))})]})}),n.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:n.jsx(eu,{currentPage:We,totalPages:pt,totalItems:Nt,onPageChange:Ge,itemLabel:"users"})})]}),re&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-6 border-b-4 border-blue-800 flex-shrink-0",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Add New User"}),n.jsx("button",{onClick:()=>Q(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("form",{onSubmit:xi,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",required:!0,value:Be.name,onChange:Oe=>Ie({...Be,name:Oe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",required:!0,value:Be.email,onChange:Oe=>Ie({...Be,email:Oe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"user@lpubatangas.edu.ph"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"School ID Number *"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",required:!0,value:Be.school_id,onChange:Oe=>{Ie({...Be,school_id:Oe.target.value}),na(!1),kt(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 2022-00001"}),Be.role==="student"&&n.jsx("button",{type:"button",onClick:$n,disabled:gr||!Be.school_id,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:gr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Looking up..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Lookup"]})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Be.role==="student"?n.jsxs(n.Fragment,{children:['Click "Lookup" to auto-fill from enrollment list. Password: ',n.jsxs("span",{className:"font-mono font-semibold",children:["lpub@",Be.school_id||"studentid"]})]}):n.jsxs(n.Fragment,{children:["This will be used to generate the temporary password: ",n.jsxs("span",{className:"font-mono font-semibold",children:["lpub@",Be.school_id||"schoolid"]})]})}),dt&&Be.role==="student"&&n.jsx("div",{className:"mt-2 bg-green-50 border border-green-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{className:"flex-1 text-sm",children:[n.jsx("p",{className:"font-semibold text-green-800 mb-1",children:" Found in Enrollment List"}),n.jsxs("div",{className:"text-green-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",dt.first_name," ",dt.middle_name||""," ",dt.last_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Program:"})," ",dt.program_code," - ",dt.program_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Year Level:"})," ",dt.year_level]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"College:"})," ",dt.college_code," - ",dt.college_name]}),dt.email&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",dt.email]})]}),n.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Program is locked to enrollment record. Cannot be changed."})]})]})}),xr&&!dt&&Be.role==="student"&&n.jsx("div",{className:"mt-2 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsxs("div",{className:"text-sm text-yellow-800",children:[n.jsx("p",{className:"font-semibold mb-1",children:" Not in Enrollment List"}),n.jsx("p",{children:"This student must be added to the enrollment list by the registrar before account creation."})]})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",Be.role!=="student"&&Be.role!=="secretary"&&Be.role!=="department_head"&&"*"]}),["student","secretary","department_head"].includes(Be.role)?n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{className:"text-sm text-blue-700",children:[n.jsx("p",{className:"font-semibold mb-1",children:" Auto-Generated Temporary Password"}),n.jsxs("p",{children:["Password will be: ",n.jsxs("span",{className:"font-mono font-bold bg-blue-100 px-2 py-1 rounded",children:["lpub@",Be.school_id||"schoolid"]})]}),n.jsxs("p",{className:"mt-2 text-xs text-red-600",children:[" User will receive a welcome email",n.jsx("br",{})," Required to change password on first login"]})]})]})}):n.jsx("input",{type:"password",required:!0,value:Be.password||"",onChange:Oe=>Ie({...Be,password:Oe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password (min 8 characters)",minLength:8})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role *"}),n.jsxs("select",{value:Be.role,onChange:Oe=>Ie({...Be,role:Oe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"student",children:"Student"}),n.jsx("option",{value:"instructor",children:"Instructor"}),n.jsx("option",{value:"department_head",children:"Department Head"}),n.jsx("option",{value:"secretary",children:"Secretary"}),n.jsx("option",{value:"admin",children:"Administrator"})]})]}),Be.role==="student"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Program * ",dt&&n.jsx("span",{className:"text-green-600 text-xs ml-2",children:" Locked to enrollment"})]}),n.jsx("select",{value:Be.program,onChange:Oe=>Ie({...Be,program:Oe.target.value}),disabled:dt!==null,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${dt?"bg-gray-100 cursor-not-allowed border-gray-200":"border-gray-300"}`,children:B.map(Oe=>n.jsx("option",{value:Oe,children:Oe},Oe))}),dt&&n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" Program is automatically set from enrollment list and cannot be changed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year Level *"}),n.jsxs("select",{value:Be.yearLevel,onChange:Oe=>Ie({...Be,yearLevel:parseInt(Oe.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:1,children:"1st Year"}),n.jsx("option",{value:2,children:"2nd Year"}),n.jsx("option",{value:3,children:"3rd Year"}),n.jsx("option",{value:4,children:"4th Year"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:Be.status,onChange:Oe=>Ie({...Be,status:Oe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>Q(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:Te,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:Te?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Creating..."})]}):n.jsx("span",{children:"Create User"})})]})]})]})}),Ne&&Z&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6 border-b-4 border-purple-800",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white",children:[" Edit User: ",`${Z.first_name||""} ${Z.last_name||""}`.trim()||Z.email]}),n.jsx("button",{onClick:()=>he(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("form",{onSubmit:Ba,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",required:!0,value:Be.name,onChange:Oe=>Ie({...Be,name:Oe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:Be.email,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role *"}),n.jsxs("select",{value:Be.role,onChange:Oe=>Ie({...Be,role:Oe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:"student",children:"Student"}),n.jsx("option",{value:"instructor",children:"Instructor"}),n.jsx("option",{value:"department_head",children:"Department Head"}),n.jsx("option",{value:"secretary",children:"Secretary"}),n.jsx("option",{value:"admin",children:"Administrator"})]})]}),Be.role==="student"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Program *"}),n.jsx("select",{value:Be.program,onChange:Oe=>Ie({...Be,program:Oe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:B.map(Oe=>n.jsx("option",{value:Oe,children:Oe},Oe))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year Level *"}),n.jsxs("select",{value:Be.yearLevel,onChange:Oe=>Ie({...Be,yearLevel:parseInt(Oe.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:1,children:"1st Year"}),n.jsx("option",{value:2,children:"2nd Year"}),n.jsx("option",{value:3,children:"3rd Year"}),n.jsx("option",{value:4,children:"4th Year"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"Active",checked:Be.status==="Active",onChange:Oe=>Ie({...Be,status:Oe.target.value}),className:"w-4 h-4 text-green-600 focus:ring-2 focus:ring-green-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:" Active"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"Inactive",checked:Be.status==="Inactive",onChange:Oe=>Ie({...Be,status:Oe.target.value}),className:"w-4 h-4 text-gray-600 focus:ring-2 focus:ring-gray-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:" Inactive"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Activity Stats:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:" Joined: Aug 15, 2025"}),n.jsx("li",{children:" Evaluations: 5/10 completed"}),n.jsx("li",{children:" Last Login: Oct 20, 2025"})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:" Tip:"})," Use the Reset Password action button in the user table to send a password reset email."]})}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>he(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:Te,className:"flex-1 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:Te?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Saving..."})]}):n.jsx("span",{children:"Save Changes"})})]})]})]})}),we&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[85vh] flex flex-col shadow-2xl",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-600 px-5 py-3 flex items-center justify-between flex-shrink-0 rounded-t-2xl",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),n.jsx("h2",{className:"text-lg font-bold text-white",children:"Bulk Import Users"})]}),n.jsx("button",{onClick:()=>be(!1),className:"text-white hover:text-gray-200 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"CSV Template"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Step 1: Download the template first"})]})]}),n.jsxs("button",{onClick:va,className:"w-full px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2 mb-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("span",{children:"Download Template"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1.5",children:"Required Columns"}),n.jsxs("ul",{className:"space-y-0.5 text-xs text-gray-700",children:[n.jsx("li",{children:" email"}),n.jsx("li",{children:" first_name"}),n.jsx("li",{children:" last_name"}),n.jsxs("li",{children:[" school_id ",n.jsx("span",{className:"text-red-600 font-semibold",children:"(REQUIRED)"})]}),n.jsx("li",{children:" role"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1.5",children:"Optional Columns"}),n.jsxs("ul",{className:"space-y-0.5 text-xs text-gray-700 mb-2",children:[n.jsx("li",{children:" program"}),n.jsx("li",{children:" year_level"})]}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded p-2",children:[n.jsx("p",{className:"text-xs font-semibold text-orange-800",children:" Password Generation"}),n.jsxs("p",{className:"text-xs text-orange-700",children:["Password: lpub@","{school_id}"]})]})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-bold",children:"2"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Upload Your CSV File"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Select the filled CSV file to import"})]})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${qe?"border-green-400 bg-green-50":"border-gray-300 hover:border-gray-400"}`,children:[n.jsx("input",{type:"file",accept:".csv",onChange:$a,className:"hidden",id:"bulk-import-file"}),n.jsx("label",{htmlFor:"bulk-import-file",className:"cursor-pointer block",children:qe?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-12 h-12 text-green-600 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("p",{className:"text-sm font-bold text-green-900 mb-1",children:qe.name}),n.jsx("p",{className:"text-xs text-green-700",children:"File uploaded successfully!"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to change file"})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Click to upload or drag and drop"}),n.jsx("p",{className:"text-xs text-gray-500",children:"CSV file only"})]})})]})]}),gt.length>0&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 border-2 border-red-300 rounded-xl p-5 shadow-sm",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-base font-bold text-red-900 mb-3",children:[" Found ",gt.length," Validation Error(s)"]}),n.jsx("div",{className:"bg-white border border-red-200 rounded-lg p-4 max-h-48 overflow-y-auto",children:n.jsxs("div",{className:"space-y-2",children:[gt.slice(0,10).map((Oe,bt)=>n.jsxs("div",{className:"flex items-start space-x-2 pb-2 border-b border-red-100 last:border-0",children:[n.jsx("span",{className:"text-red-600 font-bold text-xs mt-0.5",children:""}),n.jsxs("p",{className:"text-sm text-red-800 flex-1",children:[n.jsxs("span",{className:"font-bold",children:["Row ",Oe.row,":"]})," ",Oe.errors.join(", ")]})]},bt)),gt.length>10&&n.jsxs("p",{className:"text-sm text-red-700 font-bold bg-red-100 px-3 py-2 rounded-lg text-center",children:["+ ",gt.length-10," more errors"]})]})})]})]})}),Ee.length>0&&n.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center",children:n.jsxs("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Data Preview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Showing first 5 rows"})]})]}),n.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold",children:[Ee.length," rows"]})]}),n.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Row"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"First Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Last Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"School ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Program"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ee.map((Oe,bt)=>n.jsxs("tr",{className:`${Oe.hasErrors?"bg-red-50":"hover:bg-gray-50"} transition-colors`,children:[n.jsx("td",{className:"px-4 py-3 text-xs text-gray-600 font-semibold",children:Oe.rowNumber}),n.jsx("td",{className:"px-4 py-3 text-xs text-gray-900 font-medium",children:Oe.email}),n.jsx("td",{className:"px-4 py-3 text-xs text-gray-900",children:Oe.first_name}),n.jsx("td",{className:"px-4 py-3 text-xs text-gray-900",children:Oe.last_name}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"inline-flex px-2 py-1 rounded-md text-xs font-semibold bg-gray-100 text-gray-800",children:Oe.role})}),n.jsx("td",{className:"px-4 py-3 text-xs text-gray-900 font-mono font-bold",children:Oe.school_id||n.jsx("span",{className:"text-gray-400",children:"N/A"})}),n.jsx("td",{className:"px-4 py-3 text-xs text-gray-600",children:Oe.program||n.jsx("span",{className:"text-gray-400",children:"N/A"})}),n.jsx("td",{className:"px-4 py-3 text-center",children:Oe.hasErrors?n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-red-100 text-red-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Invalid"]}):n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Valid"]})})]},bt))})]})})})]}),_e.total>0&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:_e.status}),n.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${_e.current/_e.total*100}%`}})}),n.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[_e.current," / ",_e.total]})]})]}),n.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex-shrink-0 rounded-b-2xl",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:()=>be(!1),disabled:Te,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 bg-white rounded-lg hover:bg-gray-50 text-sm font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:en,disabled:Te||!qe||Ee.length===0,className:"flex-1 px-4 py-2.5 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg text-sm font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Te?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Importing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),n.jsx("span",{children:"Import Users"})]})})]})})]})})]})]}),n.jsx(MX,{isOpen:s.isOpen,onClose:()=>i({isOpen:!1,user:null}),onConfirm:Sn,userName:s.user?`${s.user.first_name||""} ${s.user.last_name||""}`.trim():""}),n.jsx(IX,{isOpen:o.isOpen,onClose:()=>l({isOpen:!1,userName:"",deleteType:"",reason:""}),userName:o.userName,deleteType:o.deleteType,reason:o.reason}),n.jsx(Ql,{isOpen:u.isOpen,onClose:()=>f({isOpen:!1,message:""}),title:"Error",message:u.message,variant:"danger"}),n.jsx(Ql,{isOpen:h,onClose:()=>m(!1),title:x.title,message:x.message,type:x.type}),n.jsx(E0,{isOpen:w,onClose:()=>v(!1),title:y.title,message:y.message,onConfirm:y.onConfirm,confirmText:y.confirmText,cancelText:y.cancelText}),A&&k&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full",children:[n.jsx("div",{className:"modal-header bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-t-xl",children:n.jsxs("h3",{className:"text-xl font-bold",children:["Reset password for ",k.first_name," ",k.last_name]})}),n.jsx("div",{className:"modal-body p-6 space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter new password (minimum 8 characters):"}),n.jsx("input",{type:"text",value:T,onChange:Oe=>I(Oe.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white",placeholder:"changeme123",autoFocus:!0})]})}),n.jsxs("div",{className:"modal-footer flex gap-3 p-6 bg-gray-50 dark:bg-gray-900 rounded-b-xl",children:[n.jsx("button",{onClick:()=>{N(!1),I(""),C(null)},className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg font-medium transition-all",disabled:Te,children:"Cancel"}),n.jsx("button",{onClick:fn,className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:Te||!T||T.length<8,children:Te?"Resetting...":"OK"})]})]})}),F&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full",children:[n.jsx("div",{className:"modal-header bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-t-xl",children:n.jsxs("h3",{className:"text-xl font-bold",children:["Reset Password for ",Je.length," Users"]})}),n.jsx("div",{className:"modal-body p-6 space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter new password (minimum 8 characters):"}),n.jsx("input",{type:"text",value:J,onChange:Oe=>R(Oe.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white",placeholder:"changeme123",autoFocus:!0}),J&&J.length<8&&n.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:"Password must be at least 8 characters long"})]})}),n.jsxs("div",{className:"modal-footer flex gap-3 p-6 bg-gray-50 dark:bg-gray-900 rounded-b-xl",children:[n.jsx("button",{onClick:()=>{z(!1),R("")},className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg font-medium transition-all",disabled:Te,children:"Cancel"}),n.jsx("button",{onClick:ua,className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:Te||!J||J.length<8,children:Te?"Resetting...":"Reset All"})]})]})})]})}function BX(){const e=Kn(),{user:t}=ra(),r=Ee=>Ee==="Open"||Ee==="active",a=Ee=>Ee==="Closed"||Ee==="closed",[s,i]=O.useState(null),[o,l]=O.useState([]),[u,f]=O.useState(!1),[h,m]=O.useState(""),[x,p]=O.useState(!1),[w,v]=O.useState(!1),[y,S]=O.useState({title:"",message:"",type:"info"}),[A,N]=O.useState(!1),[k,C]=O.useState({title:"",message:"",onConfirm:()=>{},confirmText:"Confirm",cancelText:"Cancel"}),[T,I]=O.useState(!1),[F,z]=O.useState(!1),[J,R]=O.useState(null),[$,H]=O.useState({semester:"1st Semester",academicYear:"2025-2026",startDate:"",endDate:"",notifyUsers:!0}),[B,ce]=O.useState(!1),[se,xe]=O.useState([]),[te,ee]=O.useState([]),[G,oe]=O.useState({programSectionId:""}),[q,U]=O.useState(!1),[V,ie]=O.useState(!1),{data:me,loading:W,error:de,retry:re}=Qc(()=>nt.getPeriods(),[t?.id,t?.role]);O.useEffect(()=>{if(me?.data){const Ee=me.data,xt=Ee.find(ht=>ht.status==="Open"||r(ht.status))||null,gt=Ee.filter(ht=>a(ht.status)||a(ht.status));i(xt),l(gt)}},[me]),O.useEffect(()=>{B&&s?.id&&Q()},[B,s?.id]);const Q=async()=>{try{ie(!0);const Ee=await nt.getProgramSections({is_active:!0});ee(Ee?.data||[])}catch(Ee){console.error("Failed to load program sections:",Ee)}finally{ie(!1)}};O.useEffect(()=>{s?.id&&Ne()},[s?.id]);const Ne=async()=>{if(s?.id)try{U(!0);const Ee=await nt.getPeriodEnrolledProgramSections(s.id);xe(Ee?.data||[])}catch(Ee){console.error("Failed to load enrolled program sections:",Ee)}finally{U(!1)}},he=(Ee,xt="Notification",gt="info")=>{S({title:xt,message:Ee,type:gt}),v(!0)},we=(Ee,xt,gt="Confirm Action",ht="Confirm",_e="Cancel")=>{C({title:gt,message:Ee,onConfirm:xt,confirmText:ht,cancelText:_e}),N(!0)};O.useEffect(()=>{t&&!Da(t)&&e("/dashboard")},[t?.role,t?.id,e]);const be=async()=>{s&&we(`Close "${s.name}"?

This will prevent any further evaluations from being submitted. This action cannot be undone.`,async()=>{try{f(!0),await nt.updatePeriodStatus(s.id,"closed");const xt=(await nt.getPeriods())?.data||[],gt=xt.find(_e=>r(_e.status))||null,ht=xt.filter(_e=>a(_e.status));i(gt),l(ht),he("Evaluation period closed successfully!","Success","success")}catch(Ee){he(`Failed to close period: ${Ee.message}`,"Error","error")}finally{f(!1)}},"Close Period","Close Period","Cancel")},Z=async()=>{s&&we(`Reopen "${s.name}"?

Students will be able to submit evaluations again.`,async()=>{try{f(!0),await nt.updatePeriodStatus(s.id,"active");const xt=(await nt.getPeriods())?.data||[],gt=xt.find(_e=>r(_e.status))||null,ht=xt.filter(_e=>a(_e.status));i(gt),l(ht),he("Evaluation period reopened successfully!","Success","success")}catch(Ee){he(`Failed to reopen period: ${Ee.message}`,"Error","error")}finally{f(!1)}},"Reopen Period","Reopen Period","Cancel")},Xe=async Ee=>{Ee.preventDefault();const xt=J||s;if(!xt)return;const gt=new Date($.endDate),ht=new Date(xt.endDate);if(gt<=ht){he("New end date must be after the current end date.","Invalid Date","warning");return}const _e=a(xt.status)?`Extend and Reopen "${xt.name}"?

This will:
 Extend the period to ${$.endDate}
 Reopen the period for new submissions
 Send notifications to all enrolled students`:`Extend "${xt.name}" to ${$.endDate}?

This will send notifications to all enrolled students.`;we(_e,async()=>{await Je(xt)},"Extend Period","Extend Period","Cancel")},Je=async Ee=>{try{f(!0),await nt.updatePeriod(Ee.id,{endDate:$.endDate}),a(Ee.status)&&await nt.updatePeriodStatus(Ee.id,"active");const gt=(await nt.getPeriods())?.data||[],ht=gt.find(He=>r(He.status))||null,_e=gt.filter(He=>a(He.status));i(ht),l(_e),he(`Period extended successfully to ${$.endDate}${a(Ee.status)?" and reopened":""}.`,"Success","success"),z(!1),R(null)}catch(xt){he(xt.message||"Failed to extend period","Error","error")}finally{f(!1)}},Qe=Ee=>{R(Ee);const xt=new Date(Ee.endDate),gt=new Date(xt);gt.setDate(gt.getDate()+7),H(ht=>({...ht,endDate:gt.toISOString().split("T")[0]})),z(!0)},Te=async Ee=>{if(Ee.preventDefault(),s&&r(s.status)){he("Please close the current period before creating a new one.","Cannot Create Period","warning");return}const xt=new Date($.startDate),gt=new Date($.endDate);if([...s?[s]:[],...o].some(We=>{const Ge=new Date(We.startDate),ot=new Date(We.endDate);return xt>=Ge&&xt<=ot||gt>=Ge&&gt<=ot||xt<=Ge&&gt>=ot})){he("The selected dates overlap with an existing evaluation period. Please choose different dates that do not conflict with any active or past periods.","Date Overlap Detected","warning");return}const He=`${$.semester} ${$.academicYear}`;try{f(!0),await nt.createPeriod({...$,name:He});const Ge=(await nt.getPeriods())?.data||[],ot=Ge.find(Dt=>r(Dt.status))||null,Nt=Ge.filter(Dt=>a(Dt.status));i(ot),l(Nt),he(`New evaluation period "${He}" created successfully!`,"Success","success"),I(!1)}catch(We){he(`Failed to create period: ${We.message}`,"Error","error")}finally{f(!1)}},ye=async Ee=>{if(Ee.preventDefault(),!s?.id||!G.programSectionId)return;const xt=te.find(ht=>ht.id===parseInt(G.programSectionId));if(!xt)return;const gt=`Enable program section "${xt.sectionName}" (${xt.programCode}) for evaluation?

All students in this program section will be able to evaluate ALL their enrolled courses during this period.`;we(gt,async()=>{try{f(!0);const ht=await nt.enrollProgramSectionInPeriod(s.id,parseInt(G.programSectionId)),_e=ht.data||ht;if(_e.success===!1){const Nt=_e.message||"Enrollment failed";Nt.includes("No students are assigned")?he(`${Nt}

Please add students to this program section before enrolling it in an evaluation period.`,"No Students in Section","error"):Nt.includes("No active students found")?he(`${Nt}

Please ensure students are set to 'active' status in the system.`,"No Active Students","error"):Nt.includes("No course enrollments found")?he(`${Nt}

Students must be enrolled in courses (class sections) before they can be enabled for evaluation.`,"No Course Enrollments","error"):Nt.includes("already enrolled")?he(Nt,"Already Enrolled","warning"):Nt.includes("none are 'active' status")?he(`${Nt}

Please check that student enrollments are marked as 'active' in the database.`,"Enrollment Status Issue","error"):he(Nt,"Enrollment Failed","warning")}else{const Nt=_e.data||_e;he(`${_e.message}

 Summary:
 ${Nt.students_enrolled} students enrolled
 ${Nt.evaluations_created} evaluation records created
 ${Nt.class_sections_affected} course section(s) affected`,"Enrollment Successful","success")}ce(!1),oe({programSectionId:""});const We=(await nt.getPeriods())?.data||[],Ge=We.find(Nt=>r(Nt.status))||null,ot=We.filter(Nt=>a(Nt.status));i(Ge),l(ot),await Ne()}catch(ht){console.error("Enrollment error:",ht);const _e=ht.response?.data?.detail||ht.response?.data?.message||ht.message||"Unknown error occurred";typeof _e=="string"?_e.includes("not found")?he(`${_e}

The selected program section or evaluation period may have been deleted.`,"Not Found","error"):_e.includes("No students")||_e.includes("No course enrollments")?he(_e,"Enrollment Error","error"):he(_e,"Failed to Enroll Program Section","error"):he("An unexpected error occurred. Please try again or contact support.","Failed to Enroll Program Section","error")}finally{f(!1)}ce(!1),oe({programSectionId:""})},"Enable Program Section","Enable","Cancel")},qe=async(Ee,xt,gt)=>{we(`Remove "${xt}" from this evaluation period?

This will delete all evaluation records for students in this program section.`,async()=>{try{f(!0);const ht=await nt.removePeriodEnrollment(s.id,Ee),He=(ht?.data||ht)?.evaluations_deleted||0;he(`Section removed successfully!

${He} evaluation record(s) deleted.`,"Success","success");const Ge=(await nt.getPeriods())?.data||[],ot=Ge.find(Dt=>r(Dt.status))||null,Nt=Ge.filter(Dt=>a(Dt.status));i(ot),l(Nt),await Ne()}catch(ht){he(ht.response?.data?.detail||ht.message,"Failed to Remove Enrollment","error")}finally{f(!1)}},"Remove Enrollment","Remove","Cancel")},wt=async(Ee,xt)=>{we(`Delete "${xt}"?

This will permanently delete this evaluation period and all associated data. This action cannot be undone!`,async()=>{try{f(!0),await nt.deletePeriod(Ee);const ht=(await nt.getPeriods())?.data||[],_e=ht.find(We=>r(We.status))||null,He=ht.filter(We=>a(We.status));i(_e),l(He),he(`Period "${xt}" deleted successfully!`,"Success","success")}catch(gt){he(gt.message||"Failed to delete period","Error","error")}finally{f(!1)}},"Delete Period","Delete Period","Cancel")};return!t||!Da(t)?null:W?n.jsx(So,{message:"Loading evaluation periods..."}):de?n.jsx(Zc,{error:de,onRetry:re}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl",children:"Evaluation Period Management"}),n.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Control evaluation schedules and monitor participation"})]})]})})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[s?n.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden mb-12 border-2 border-yellow-200",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-700 p-6",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:s.name}),n.jsx("span",{className:`px-4 py-1 rounded-full text-sm font-bold ${r(s.status)?"bg-yellow-400 text-yellow-900":"bg-gray-300 text-gray-700"}`,children:r(s.status)?" OPEN":" CLOSED"})]}),n.jsxs("p",{className:"text-yellow-100",children:[new Date(s.startDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})," - ",new Date(s.endDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),n.jsx("div",{className:"flex space-x-2",children:r(s.status)?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Qe(s),className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all font-semibold",children:"Extend"}),n.jsx("button",{onClick:be,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all font-semibold",children:"Close Period"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Qe(s),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all font-semibold",children:"Extend & Reopen"}),n.jsx("button",{onClick:Z,className:"px-4 py-2 bg-yellow-500 hover:bg-amber-600 text-white rounded-lg transition-all font-semibold",children:"Reopen"})]})})]})}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[n.jsxs("div",{className:"bg-white rounded-card p-7 lg:p-8 border-2 border-gray-200 hover:border-[#7a0000] transition-all duration-250 shadow-card",children:[n.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Total Evaluations"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-[#7a0000]",children:s.totalEvaluations})]}),n.jsxs("div",{className:"bg-white rounded-card p-7 lg:p-8 border-2 border-gray-200 hover:border-green-500 transition-all duration-250 shadow-card",children:[n.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Completed"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-green-600",children:s.completedEvaluations})]}),n.jsxs("div",{className:"bg-white rounded-card p-7 lg:p-8 border-2 border-gray-200 hover:border-blue-500 transition-all duration-250 shadow-card",children:[n.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Participation Rate"}),n.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-blue-600",children:[s.participationRate,"%"]})]}),n.jsxs("div",{className:"bg-white rounded-card p-7 lg:p-8 border-2 border-gray-200 hover:border-orange-500 transition-all duration-250 shadow-card",children:[n.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Days Remaining"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-orange-600",children:s.daysRemaining})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Completion Progress"}),n.jsxs("span",{className:"text-sm font-bold text-yellow-600",children:[s.completedEvaluations,"/",s.totalEvaluations]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 overflow-hidden shadow-inner",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-600 to-amber-700 transition-all duration-500 flex items-center justify-end px-2",style:{width:`${s.participationRate}%`},children:n.jsxs("span",{className:"text-xs font-bold text-white",children:[s.participationRate,"%"]})})})]}),r(s.status)&&s.daysRemaining<=5&&n.jsx("div",{className:"bg-orange-50 border-l-4 border-yellow-500 p-4 mb-6 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 text-yellow-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-orange-900",children:" Period ending soon!"}),n.jsxs("p",{className:"text-sm text-orange-700",children:["Only ",s.daysRemaining," days remaining."]})]})]})}),s.participationRate<50&&r(s.status)&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-red-900",children:" Low participation rate!"}),n.jsx("p",{className:"text-sm text-red-700",children:"Participation is below 50%. Immediate action recommended."})]})]})}),n.jsxs("div",{className:"border-t-2 border-gray-200 pt-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[n.jsx("svg",{className:"w-7 h-7 mr-3 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Enrolled Program Sections"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Program sections enrolled for evaluation during this period"})]}),n.jsxs("button",{onClick:()=>ce(!0),className:"px-6 py-3 bg-gradient-to-r from-yellow-600 to-amber-700 hover:from-yellow-600 hover:to-amber-700 text-white font-semibold rounded-xl shadow-lg transition-all flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.jsx("span",{children:"Enroll Section"})]})]}),q?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading enrolled sections..."})]}):se.length===0?n.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Program Sections Enrolled"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Enroll program sections to enable students to evaluate during this period."}),n.jsxs("button",{onClick:()=>ce(!0),className:"px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white font-semibold rounded-xl transition-all inline-flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.jsx("span",{children:"Enroll First Program Section"})]})]}):n.jsx("div",{className:"space-y-4",children:se.map(Ee=>n.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-700 border-2 border-yellow-200 rounded-xl p-6 hover:shadow-lg transition-all",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h4",{className:"text-xl font-bold text-yellow-900",children:Ee.section_name||Ee.sectionName}),n.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold",children:["Year ",Ee.year_level||Ee.yearLevel," - Sem ",Ee.semester]})]}),n.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:Ee.program_name||Ee.programName}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsx("span",{className:"px-3 py-1 bg-yellow-200 text-yellow-800 rounded-full font-semibold",children:Ee.program_code||Ee.programCode}),n.jsxs("span",{className:"text-yellow-700 font-semibold",children:[" ",Ee.enrolled_count||Ee.enrolledCount," ",(Ee.enrolled_count||Ee.enrolledCount)===1?"student":"students"]}),n.jsxs("span",{className:"text-yellow-700 font-semibold",children:[" ",Ee.evaluations_created||Ee.evaluationsCreated||0," evaluations created"]})]}),n.jsxs("p",{className:"text-xs text-yellow-600 mt-2",children:["Enrolled on ",new Date(Ee.created_at||Ee.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),n.jsxs("button",{onClick:()=>qe(Ee.id,Ee.section_name||Ee.sectionName,Ee.program_name||Ee.programName),disabled:u,className:"px-4 py-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-400 text-white rounded-lg transition-all font-semibold text-sm flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n.jsx("span",{children:"Remove"})]})]})},Ee.id))})]})]})]}):n.jsx("div",{className:"bg-white rounded-card shadow-card overflow-hidden mb-12 border-2 border-gray-200",children:n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Active Evaluation Period"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create a new evaluation period to start collecting feedback"}),n.jsx("button",{onClick:()=>I(!0),className:"px-8 py-3 bg-yellow-600 hover:bg-amber-700 text-white font-semibold rounded-xl shadow-lg transition-all",children:"Create New Period"})]})}),n.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-gray-700 to-gray-800 p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Past Evaluation Periods"}),n.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Historical evaluation period records"})]}),n.jsx("div",{className:"p-6 lg:p-8",children:n.jsx("div",{className:"space-y-4",children:o.map(Ee=>n.jsx("div",{className:"border-2 border-gray-200 rounded-card p-6 lg:p-8 hover:shadow-lg transition-all duration-250",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ee.name}),n.jsx("span",{className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-xs font-bold",children:"CLOSED"})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[new Date(Ee.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," - ",new Date(Ee.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Participation"}),n.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[Ee.participationRate,"%"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Ee.completedEvaluations})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:Ee.totalEvaluations})]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>Qe(Ee),disabled:u,className:"px-4 py-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-400 text-white rounded-lg transition-all font-semibold text-sm flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:"Extend & Reopen"})]}),n.jsxs("button",{onClick:()=>wt(Ee.id,Ee.name),disabled:u,className:"px-4 py-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-400 text-white rounded-lg transition-all font-semibold text-sm flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n.jsx("span",{children:"Delete"})]})]})]})},Ee.id))})})]})]}),T&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-700 p-6 border-b-4 border-yellow-800 flex-shrink-0",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Create New Evaluation Period"}),n.jsx("button",{onClick:()=>I(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("form",{onSubmit:Te,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Semester *"}),n.jsxs("select",{required:!0,value:$.semester,onChange:Ee=>H({...$,semester:Ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:"1st Semester",children:"1st Semester"}),n.jsx("option",{value:"2nd Semester",children:"2nd Semester"}),n.jsx("option",{value:"Summer",children:"Summer"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Academic Year *"}),n.jsx("input",{type:"text",required:!0,pattern:"\\d{4}-\\d{4}",value:$.academicYear,onChange:Ee=>H({...$,academicYear:Ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"2025-2026"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: YYYY-YYYY (e.g., 2025-2026)"})]})]}),n.jsxs("div",{className:"bg-red-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-semibold text-red-900 mb-1",children:" Period Name Preview:"}),n.jsxs("p",{className:"text-lg font-bold text-red-800",children:[$.semester," ",$.academicYear]}),n.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Name will be auto-generated from semester and academic year"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date *"}),n.jsx("input",{type:"date",required:!0,min:new Date().toISOString().split("T")[0],value:$.startDate,onChange:Ee=>H({...$,startDate:Ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Cannot select past dates"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date *"}),n.jsx("input",{type:"date",required:!0,min:$.startDate||new Date().toISOString().split("T")[0],value:$.endDate,onChange:Ee=>H({...$,endDate:Ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Must be after start date"})]})]}),n.jsx("div",{className:"bg-red-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:$.notifyUsers,onChange:Ee=>H({...$,notifyUsers:Ee.target.checked}),className:"w-4 h-4 text-red-600 rounded focus:ring-2 focus:ring-blue-500 mr-3"}),n.jsx("span",{className:"text-sm font-semibold text-red-900",children:" Send email notification to all users when period opens"})]})}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:" Note:"})," The current evaluation period must be closed before creating a new one."]})}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>I(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all",children:"Create Period"})]})]})]})}),F&&(J||s)&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[85vh] flex flex-col shadow-2xl",children:[n.jsx("div",{className:`bg-gradient-to-r ${a((J||s).status)?"from-red-800 to-red-900 border-yellow-700":"from-yellow-600 to-amber-700 border-orange-700"} px-5 py-4 border-b-4 flex-shrink-0`,children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:" Extend Period"}),n.jsx("p",{className:"text-white/90 text-xs mt-1",children:(J||s).name})]}),n.jsx("button",{onClick:()=>{z(!1),R(null)},className:"w-8 h-8 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("form",{onSubmit:Xe,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a((J||s).status)&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:n.jsxs("p",{className:"text-sm text-red-900",children:[n.jsx("strong",{children:" Note:"})," This period is currently closed. Extending it will automatically reopen the period for new submissions."]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current End Date"}),n.jsx("input",{type:"date",disabled:!0,value:(J||s).endDate,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New End Date *"}),n.jsx("input",{type:"date",required:!0,min:(J||s).endDate,value:$.endDate,onChange:Ee=>H({...$,endDate:Ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),n.jsx("div",{className:"bg-red-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-red-900",children:[n.jsx("strong",{children:" Email notifications"})," will be sent to all users informing them of the extension."]})}),n.jsxs("div",{className:"flex gap-2 pt-3",children:[n.jsx("button",{type:"button",onClick:()=>z(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm font-semibold transition-all",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg text-sm font-semibold transition-all",children:"Extend Period"})]})]})]})}),B&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-xl w-full max-h-[85vh] overflow-y-auto shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-700 px-5 py-4 border-b-4 border-yellow-800",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:" Enroll Program Section"}),n.jsx("p",{className:"text-yellow-100 text-xs mt-1",children:"Enable a student group for evaluation during this period"})]}),n.jsx("button",{onClick:()=>ce(!1),className:"w-8 h-8 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("form",{onSubmit:ye,className:"p-4 space-y-3",children:[V?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading sections..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Program Section *"}),te.length===0?n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-semibold text-yellow-900 mb-2",children:" No Program Sections Found"}),n.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"You need to create program sections before enrolling them in an evaluation period."}),n.jsxs("p",{className:"text-xs text-yellow-700",children:[n.jsx("strong",{children:"To create sections:"}),' Go to Course Management  Manage Sections  Create a section (e.g., "BSIT-3A") and assign students to it.']})]}):n.jsxs(n.Fragment,{children:[n.jsxs("select",{required:!0,value:G.programSectionId,onChange:Ee=>oe({...G,programSectionId:Ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a program section..."}),te.map(Ee=>n.jsxs("option",{value:Ee.id,children:[Ee.sectionName||Ee.section_name," - ",Ee.programCode||Ee.program_code," (Year ",Ee.yearLevel||Ee.year_level,", Sem ",Ee.semester,") - ",Ee.studentCount||Ee.student_count," students"]},Ee.id))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the student group (e.g., BSCS-DS-3A) to enable for evaluation"})]})]}),n.jsxs("div",{className:"bg-red-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-red-900",children:n.jsx("strong",{children:" What happens:"})}),n.jsxs("ul",{className:"text-sm text-red-800 mt-2 space-y-1 ml-4 list-disc",children:[n.jsx("li",{children:"All students in the program section can submit evaluations"}),n.jsx("li",{children:"Evaluations created for ALL courses the students are enrolled in"}),n.jsx("li",{children:"One click enables evaluation for the entire student group"}),n.jsx("li",{children:"Evaluations will be linked to this evaluation period"})]})]}),G.programSectionId&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("p",{className:"text-sm font-semibold text-yellow-900",children:[" Selected: ",te.find(Ee=>Ee.id===parseInt(G.programSectionId))?.sectionName||te.find(Ee=>Ee.id===parseInt(G.programSectionId))?.section_name]}),n.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[te.find(Ee=>Ee.id===parseInt(G.programSectionId))?.programCode||te.find(Ee=>Ee.id===parseInt(G.programSectionId))?.program_code," - Year ",te.find(Ee=>Ee.id===parseInt(G.programSectionId))?.yearLevel||te.find(Ee=>Ee.id===parseInt(G.programSectionId))?.year_level]})]})]}),n.jsxs("div",{className:"flex gap-2 pt-3",children:[n.jsx("button",{type:"button",onClick:()=>ce(!1),disabled:u,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm font-semibold transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:u||te.length===0,className:"flex-1 px-4 py-2 bg-yellow-600 hover:bg-amber-700 disabled:bg-gray-400 text-white rounded-lg text-sm font-semibold transition-all disabled:cursor-not-allowed",children:u?"Enrolling...":te.length===0?"No Sections Available":"Enroll Section"})]})]})]})}),x&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-5 py-4 rounded-t-2xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h2",{className:"text-lg font-bold text-white",children:"Operation Failed"})]})}),n.jsxs("div",{className:"p-5",children:[n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-red-900 whitespace-pre-wrap",children:h})}),n.jsx("button",{onClick:()=>p(!1),className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})]})]})}),n.jsx(Ql,{isOpen:w,onClose:()=>v(!1),title:y.title,message:y.message,variant:y.type==="error"?"danger":y.type}),n.jsx(E0,{isOpen:A,onClose:()=>N(!1),onConfirm:()=>{k.onConfirm(),N(!1)},title:k.title,message:k.message,confirmText:k.confirmText,cancelText:k.cancelText,variant:"warning"})]})}function UX(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState("courses"),[s,i]=O.useState(""),[o,l]=O.useState("all"),[u,f]=O.useState("all"),[h,m]=O.useState(!1),[x,p]=O.useState(!1),[w,v]=O.useState(!1),[y,S]=O.useState(!1),[A,N]=O.useState(null),[k,C]=O.useState([]),[T,I]=O.useState(null),[F,z]=O.useState([]),[J,R]=O.useState([]),[$,H]=O.useState(1),[B]=O.useState(15),[ce,se]=O.useState(0),[xe,te]=O.useState(0),[ee,G]=O.useState([]),[oe,q]=O.useState(null),[U,V]=O.useState(!1),[ie,me]=O.useState(!1),[W,de]=O.useState(!1),[re,Q]=O.useState([]),[Ne,he]=O.useState([]),[we,be]=O.useState([]),[Z,Xe]=O.useState(""),[Je,Qe]=O.useState(1),[Te]=O.useState(15),[ye,qe]=O.useState(""),[wt,Ee]=O.useState("all"),[xt,gt]=O.useState("all"),[ht,_e]=O.useState("all"),[He,We]=O.useState("all"),[Ge,ot]=O.useState("all"),[Nt,Dt]=O.useState([]),[pt,At]=O.useState([]),[Be,Ie]=O.useState({program_id:"",year_level:"",semester:"",course_id:"",instructor_id:"",class_code:"",academic_year:"2024-2025",max_students:40}),[dt,kt]=O.useState(!1),[pr,br]=O.useState(null),[gr,Vt]=O.useState([]),[xr,na]=O.useState([]),[_r,ca]=O.useState({current:0,total:0,status:""}),[Sa,Tt]=O.useState(!1),[ir,_a]=O.useState([]),[Wr,ka]=O.useState(""),[Hr,on]=O.useState(!1),[Sn,$a]=O.useState(!1),[en,va]=O.useState({program_id:"",year_level:"",semester:"",program_section_id:""}),[Fn,fn]=O.useState([]),[ua,$n]=O.useState([]),[xi,Ba]=O.useState(!1),[es,Ys]=O.useState(!1),[Os,Oe]=O.useState({title:"",message:"",type:"info"}),[bt,_t]=O.useState(!1),[Qt,vr]=O.useState({title:"",message:"",onConfirm:null,confirmText:"Confirm",cancelText:"Cancel"}),[Zt,Vr]=O.useState([]),[Or,ln]=O.useState([]),[ya,Sr]=O.useState([]),[Cr,Ct]=O.useState(!1),[Xt,Lt]=O.useState({name:"",classCode:"",instructor:"",program:"BSIT",yearLevel:1,semester:"First Semester",academicYear:"2024-2025",enrolledStudents:0,status:"Active"}),{data:Fr,loading:Rs,error:Aa,retry:ts}=Qc(async()=>{const[Y,Ue,it]=await Promise.all([nt.getCourses({page:$,page_size:B,status:u!=="all"?u:void 0}),nt.getInstructors(),nt.getPrograms()]);return{courses:Y?.data||[],instructors:Ue?.data||[],programs:it?.data||[],pagination:Y?.pagination||{}}},[t?.id,t?.role,$,B,u],3e4);O.useEffect(()=>{Fr&&(Vr(Fr.courses),Sr(Fr.instructors),Fr.pagination&&(se(Fr.pagination.total||0),te(Fr.pagination.total_pages||0)))},[Fr]),O.useEffect(()=>{t&&!Da(t)&&e("/courses")},[t?.role,t?.id,e]);const da=O.useMemo(()=>Fr?.programs&&Fr.programs.length>0?Fr.programs.map(Ue=>Ue.code).sort():[...new Set(Zt.map(Ue=>Ue.program))].filter(Boolean).sort(),[Zt,Fr]),Ti=O.useMemo(()=>Zt.map(Y=>({...Y,evaluationCount:Y.evaluation_count||0,avgRating:parseFloat(Y.avg_rating||0),responseRate:Y.response_rate||0,status:Y.status||"Active"})),[Zt]),Rr=O.useMemo(()=>Ti.filter(Y=>{const Ue=s===""||Y.name.toLowerCase().includes(s.toLowerCase())||Y.classCode?.toLowerCase().includes(s.toLowerCase())||Y.subject_code?.toLowerCase().includes(s.toLowerCase())||Y.subject_name?.toLowerCase().includes(s.toLowerCase()),it=o==="all"||Y.program===o;return Ue&&it}),[Ti,s,o]),rs=ee,Gs=O.useMemo(()=>{const Y=(Je-1)*Te,Ue=Y+Te;return rs.slice(Y,Ue)},[rs,Je,Te]),Ks=Math.ceil(rs.length/Te);O.useEffect(()=>{r==="enrollment"&&(qt(),cl(),Nt.length===0&&hs())},[r,ye,wt,xt,ht,He,Ge]),O.useEffect(()=>{Qe(1)},[ye,wt,xt,ht,He,Ge]),O.useMemo(()=>{const Y={},Ue={};Rr.forEach(er=>{Y[er.program]||(Y[er.program]={courses:0,students:0,avgRating:[]}),Y[er.program].courses++,Y[er.program].students+=er.enrolledStudents||0,er.avgRating&&Y[er.program].avgRating.push(er.avgRating);const lr=`Year ${er.yearLevel}`;Ue[lr]||(Ue[lr]={courses:0,students:0}),Ue[lr].courses++,Ue[lr].students+=er.enrolledStudents||0});const it=Object.entries(Y).map(([er,lr])=>({name:er,courses:lr.courses,students:lr.students,avgRating:lr.avgRating.length>0?(lr.avgRating.reduce((hn,_n)=>hn+_n,0)/lr.avgRating.length).toFixed(2):0})),Et=Object.entries(Ue).map(([er,lr])=>({name:er,courses:lr.courses,students:lr.students})),wr=["S1 2023","S2 2023","S1 2024","S2 2024","S1 2025"].map((er,lr)=>({semester:er,courses:Math.round(Rr.length*(.8+lr*.05)),avgRating:(3.8+Math.random()*.6).toFixed(2)}));return{programChartData:it,yearLevelData:Et,trendChartData:wr}},[Rr]);const Kt=(Y,Ue="Notification",it="info")=>{Oe({title:Ue,message:Y,type:it}),Ys(!0)},aa=(Y,Ue,it="Confirm Action",Et="Confirm",tr="Cancel")=>{vr({title:it,message:Y,onConfirm:Ue,confirmText:Et,cancelText:tr}),_t(!0)},Eo=async Y=>{Y.preventDefault();try{Ct(!0),await nt.createCourse(Xt);const Ue=await nt.getCourses();Vr(Ue?.data||[]),Kt(`Course "${Xt.name}" created successfully!`,"Success","success"),m(!1),Lt({name:"",classCode:"",instructor:"",program:"BSIT",yearLevel:1,semester:"First Semester",academicYear:"2024-2025",enrolledStudents:0,status:"Active"})}catch(Ue){Kt(`Failed to create course: ${Ue.message}`,"Error","error")}finally{Ct(!1)}},Er=O.useMemo(()=>{if(!Be.program_id||!Be.year_level||!Be.semester)return[];const Y=Or.filter(Ue=>{const it=Ue.program_id===parseInt(Be.program_id),Et=Ue.year_level===parseInt(Be.year_level)||Ue.yearLevel===parseInt(Be.year_level),tr=Ue.semester===parseInt(Be.semester);return it&&Et&&tr});return console.log("Course filtering:",{totalCoursesInCurrentPage:Or.length,filteredCount:Y.length,filters:{program_id:Be.program_id,year_level:Be.year_level,semester:Be.semester},sampleCourse:Or[0]}),Y},[Or,Be.program_id,Be.year_level,Be.semester]),vi=async()=>{me(!0);try{const Y=await nt.getCourses({page_size:1e4});ln(Y?.data||[])}catch(Y){console.error("Error loading all courses:",Y)}},Lo=async Y=>{Y.preventDefault();try{Ct(!0),await nt.createSection(Be),await qt(),Kt("Section created successfully!","Success","success"),me(!1),Ie({course_id:"",instructor_id:"",class_code:"",semester:1,academic_year:"2024-2025",max_students:40})}catch(Ue){Kt(`Failed to create section: ${Ue.response?.data?.detail||Ue.message}`,"Error","error")}finally{Ct(!1)}},ll=async Y=>{const Ue=Y.target.files[0];if(Ue){I(Ue),R([]);try{const Et=(await Ue.text()).trim().split(`
`);if(Et.length<2){R(["CSV file is empty or invalid"]);return}const tr=Et[0].split(",").map(_n=>_n.trim().toLowerCase()),er=["name","classcode","instructor","program","yearlevel","semester","academicyear"].filter(_n=>!tr.includes(_n));if(er.length>0){R([`Missing required columns: ${er.join(", ")}`]);return}const lr=[],hn=[];for(let _n=1;_n<Et.length;_n++){const cn=Et[_n].split(",").map(P=>P.trim());if(cn.length!==tr.length){hn.push(`Row ${_n+1}: Column count mismatch`);continue}const Yr={};if(tr.forEach((P,K)=>{Yr[P]=cn[K]}),!Yr.name||!Yr.classcode||!Yr.instructor||!Yr.program){hn.push(`Row ${_n+1}: Missing required fields`);continue}const Rn=parseInt(Yr.yearlevel);if(isNaN(Rn)||Rn<1||Rn>4){hn.push(`Row ${_n+1}: Invalid year level (must be 1-4)`);continue}lr.push({name:Yr.name,classCode:Yr.classcode,instructor:Yr.instructor,program:Yr.program,yearLevel:Rn,semester:Yr.semester||"First Semester",academicYear:Yr.academicyear||"2024-2025",enrolledStudents:0,status:"Active"})}z(lr),R(hn)}catch(it){R([`Failed to parse CSV: ${it.message}`])}}},ic=async Y=>{if(Y?.preventDefault(),F.length===0){Kt("No courses to import","Warning","warning");return}aa(`Import ${F.length} courses?

This will create new courses in the system.`,async()=>{try{Ct(!0);let Ue=0;const it=[];for(const tr of F)try{await nt.createCourse(tr),Ue++}catch(wr){it.push(`Failed to import "${tr.name}": ${wr.message}`)}const Et=await nt.getCourses();Vr(Et?.data||[]),it.length>0?Kt(`Imported ${Ue} of ${F.length} courses.

Errors:
${it.join(`
`)}`,"Warning","warning"):Kt(`Successfully imported ${Ue} courses!`,"Success","success"),v(!1),I(null),z([]),R([])}catch(Ue){Kt(`Bulk import failed: ${Ue.message}`,"Error","error")}finally{Ct(!1)}},"Confirm Import","Import Courses")},oc=async Y=>{if(Y?.preventDefault(),!Xt.instructor){Kt("Please select an instructor","Warning","warning");return}if(k.length===0){Kt("No courses selected","Warning","warning");return}aa(`Assign "${Xt.instructor}" to ${k.length} course(s)?`,async()=>{try{Ct(!0);let Ue=0;const it=[];for(const tr of k)try{await nt.updateCourse(tr,{instructor:Xt.instructor}),Ue++}catch(wr){it.push(`Failed to update course ID ${tr}: ${wr.message}`)}const Et=await nt.getCourses();Vr(Et?.data||[]),it.length>0?Kt(`Updated ${Ue} of ${k.length} courses.

Errors:
${it.join(`
`)}`,"Warning","warning"):Kt(`Successfully assigned instructor to ${Ue} course(s)!`,"Success","success"),S(!1),C([]),Lt({...Xt,instructor:""})}catch(Ue){Kt(`Instructor assignment failed: ${Ue.message}`,"Error","error")}finally{Ct(!1)}},"Confirm Assignment","Assign Instructor")},Oo=async()=>{if(k.length===0){Kt("Please select courses to archive","Warning","warning");return}aa(`Archive ${k.length} course(s)?

This will hide them from active listings but preserve all data.`,async()=>{try{Ct(!0);let Y=0;const Ue=[];for(const it of k)try{await nt.updateCourse(it,{status:"Archived"}),Y++}catch(Et){const tr=Zt.find(wr=>wr.id===it);Ue.push(`${tr?.name||it}: ${Et.message}`)}ts(),C([]),Ue.length>0?Kt(`Archived ${Y} of ${k.length} courses.

Errors:
${Ue.join(`
`)}`,"Warning","warning"):Kt(`Successfully archived ${Y} course(s)!`,"Success","success")}catch(Y){Kt(`Bulk archive failed: ${Y.message}`,"Error","error")}finally{Ct(!1)}},"Confirm Bulk Archive","Archive Courses")},yi=async()=>{if(k.length===0){Kt("Please select courses to export","Warning","warning");return}try{const Y=Zt.filter(er=>k.includes(er.id)).map(er=>({Code:er.classCode||er.id,Name:er.name,Program:er.program,"Year Level":er.yearLevel,Semester:er.semester,Students:er.enrolledStudents||0,"Avg Rating":er.avgRating||"N/A",Status:er.status})),Ue=Object.keys(Y[0]).join(","),it=Y.map(er=>Object.values(er).map(lr=>`"${lr}"`).join(",")).join(`
`),Et=`${Ue}
${it}`,tr=new Blob([Et],{type:"text/csv;charset=utf-8;"}),wr=document.createElement("a");wr.href=URL.createObjectURL(tr),wr.download=`courses_export_${new Date().toISOString().split("T")[0]}.csv`,wr.click(),Kt(`Successfully exported ${k.length} course(s)!`,"Success","success")}catch(Y){Kt(`Export failed: ${Y.message}`,"Error","error")}},Ts=(Y,Ue)=>{Ue?.preventDefault(),N(Y),Lt({name:Y.name||"",classCode:Y.classCode||Y.class_code||"",instructor:Y.instructor||"",program:Y.program||"BSIT",yearLevel:Y.yearLevel||Y.year_level||1,semester:Y.semester||"First Semester",academicYear:Y.academicYear||Y.academic_year||"2024-2025",enrolledStudents:Y.enrolledStudents||Y.enrolled_students||0,status:Y.status||"Active"}),p(!0)},Xs=async Y=>{if(Y.preventDefault(),!!A)try{Ct(!0),await nt.updateCourse(A.id,Xt),ts(),Kt(`Course "${Xt.name}" updated successfully!`,"Success","success"),p(!1),N(null),Lt({name:"",classCode:"",instructor:"",program:"BSIT",yearLevel:1,semester:"First Semester",academicYear:"2024-2025",enrolledStudents:0,status:"Active"})}catch(Ue){Kt(`Failed to update course: ${Ue.message}`,"Error","error")}finally{Ct(!1)}},Ua=(Y,Ue)=>{Ue?.preventDefault(),C(it=>it.includes(Y)?it.filter(Et=>Et!==Y):[...it,Y])},hs=async()=>{try{const Y=await nt.getPeriods();Dt(Y?.data||[])}catch(Y){console.error("Error loading evaluation periods:",Y)}},qt=async()=>{try{const Y=await nt.getSections({search:ye||void 0,program_code:wt!=="all"?wt:void 0,program_section_id:xt!=="all"&&xt?parseInt(xt):void 0,year_level:He!=="all"?parseInt(He):void 0,semester:ht!=="all"?parseInt(ht):void 0,period_id:Ge!=="all"?parseInt(Ge):void 0});G(Y?.data||[])}catch(Y){console.error("Error loading sections:",Y),G([])}},ao=async Y=>{try{q(Y),V(!0),Ct(!0);const[Ue,it]=await Promise.all([nt.getSectionStudents(Y.id),nt.getAvailableStudents(Y.id)]);Q(Ue?.data||[]),he(it?.data||[]),be([])}catch(Ue){Kt(`Error loading section data: ${Ue.message}`,"Error","error")}finally{Ct(!1)}},Js=async()=>{if(we.length===0){Kt("Please select at least one student to enroll","Warning","warning");return}try{Ct(!0);const Y=await nt.enrollStudents(oe.id,we),[Ue,it]=await Promise.all([nt.getSectionStudents(oe.id),nt.getAvailableStudents(oe.id)]);Q(Ue?.data||[]),he(it?.data||[]),be([]),await qt();const Et=Y?.data?.enrolled_count||we.length,tr=Y?.data?.skipped_count||0,wr=tr>0?`Successfully enrolled ${Et} student(s)! (${tr} already enrolled)`:`Successfully enrolled ${Et} student(s)!`;Kt(wr,"Success","success")}catch(Y){console.error("Enroll students error:",Y);const Ue=Y.response?.data?.detail||Y.message||"Unknown error occurred";Kt(`Failed to enroll students: ${Ue}`,"Error","error")}finally{Ct(!1)}},tu=async(Y,Ue)=>{aa(`Remove ${Ue} from this section?`,async()=>{try{Ct(!0),await nt.removeStudentFromSection(oe.id,Y);const[it,Et]=await Promise.all([nt.getSectionStudents(oe.id),nt.getAvailableStudents(oe.id)]);Q(it?.data||[]),he(Et?.data||[]),await qt(),Kt(`${Ue} removed successfully!`,"Success","success")}catch(it){Kt(`Failed to remove student: ${it.message}`,"Error","error")}finally{Ct(!1)}},"Confirm Removal","Remove Student")},cl=async()=>{try{on(!0);const Y=await nt.getProgramSections({isActive:!0});console.log("[EnhancedCourseManagement] Program sections loaded:",Y?.data),_a(Y?.data||[])}catch(Y){console.error("Error loading program sections:",Y),Kt(`Failed to load program sections: ${Y.message}`,"Error","error")}finally{on(!1)}},ns=()=>{ka(""),cl(),Tt(!0)},bi=async()=>{if(!Wr){Kt("Please select a program section","Warning","warning");return}const Y=ir.find(Ue=>Ue.id===parseInt(Wr));Y&&aa(`Enroll all ${Y.studentCount} student(s) from "${Y.sectionName}" into this class section?`,async()=>{try{Ct(!0);const Ue=await nt.enrollProgramSectionToClass(oe.id,parseInt(Wr));Kt(Ue.message||"Students enrolled successfully!","Success","success"),Tt(!1);const[it,Et]=await Promise.all([nt.getSectionStudents(oe.id),nt.getAvailableStudents(oe.id)]);Q(it?.data||[]),he(Et?.data||[]),Kt(`${studentName} removed successfully!`,"Success","success")}catch(Ue){Kt(`Failed to remove student: ${Ue.message}`,"Error","error")}finally{Ct(!1)}},"Confirm Enrollment","Enroll Program Section")},lc=()=>{const Y=`student_identifier,section_identifier,identifier_type,notes
student@example.com,CS101-A,email,Regular enrollment
2021-00001,BSIT-101-1A,student_number,Transfer student
student2@example.com,IT-PROG1-2024,email,
2021-00002,CS101-A,student_number,Needs accommodation`,Ue=new Blob([Y],{type:"text/csv"}),it=URL.createObjectURL(Ue),Et=document.createElement("a");Et.href=it,Et.download="enrollment_template.csv",document.body.appendChild(Et),Et.click(),document.body.removeChild(Et),URL.revokeObjectURL(it)},Ro=Y=>{const Ue=Y.target.files?.[0];if(!Ue)return;br(Ue);const it=new FileReader;it.onload=Et=>{const wr=Et.target.result.split(`
`).filter(Rn=>Rn.trim());if(wr.length<2){na(["CSV file is empty or invalid"]),Vt([]);return}const er=wr[0].split(",").map(Rn=>Rn.trim().toLowerCase()),hn=["student_identifier","section_identifier"].filter(Rn=>!er.includes(Rn));if(hn.length>0){na([`Missing required columns: ${hn.join(", ")}`]),Vt([]);return}const _n=[],cn=[];wr.slice(1,6).forEach((Rn,P)=>{if(!Rn.trim())return;const K=Rn.split(",").map(et=>et.trim()),pe={};er.forEach((et,lt)=>{pe[et]=K[lt]||""});const Se=[],Le=P+2;if(!pe.student_identifier)Se.push(`Row ${Le}: Missing student identifier`);else{const et=pe.student_identifier.includes("@"),lt=/^\d{4}-\d{5}$/.test(pe.student_identifier);!et&&!lt&&Se.push(`Row ${Le}: Invalid student identifier format (must be email or student number like 2021-00001)`)}pe.section_identifier||Se.push(`Row ${Le}: Missing section identifier`),pe.identifier_type&&!["email","student_number"].includes(pe.identifier_type.toLowerCase())&&Se.push(`Row ${Le}: Invalid identifier_type (must be 'email' or 'student_number')`),pe.valid=Se.length===0,pe.errors=Se,cn.push(pe),_n.push(...Se)}),Vt(cn),na(_n)},it.readAsText(Ue)},so=async()=>{if(!pr){Kt("Please select a CSV file first","Warning","warning");return}const Y=()=>{const Ue=new FileReader;Ue.onload=async it=>{const tr=it.target.result.split(`
`).filter(P=>P.trim()),wr=tr[0].split(",").map(P=>P.trim().toLowerCase()),er=tr.slice(1),lr=[];if(er.forEach(P=>{if(!P.trim())return;const K=P.split(",").map(Se=>Se.trim()),pe={};wr.forEach((Se,Le)=>{pe[Se]=K[Le]||""}),pe.student_identifier&&pe.section_identifier&&lr.push(pe)}),lr.length===0){Kt("No valid enrollments found in CSV file","Warning","warning");return}const hn=10;let _n=0,cn=0;const Yr=[];ca({current:0,total:lr.length,status:"processing"});for(let P=0;P<lr.length;P+=hn){const K=lr.slice(P,P+hn);(await Promise.all(K.map(async Se=>{try{return await nt.bulkEnrollStudent({student_identifier:Se.student_identifier,section_identifier:Se.section_identifier,identifier_type:Se.identifier_type||"auto",notes:Se.notes||""}),{success:!0,enrollment:Se}}catch(Le){return{success:!1,enrollment:Se,error:Le.response?.data?.detail||Le.message}}}))).forEach(Se=>{Se.success?_n++:(cn++,Yr.push(`${Se.enrollment.student_identifier}  ${Se.enrollment.section_identifier}: ${Se.error}`))}),ca({current:Math.min(P+hn,lr.length),total:lr.length,status:"processing"})}ca({current:lr.length,total:lr.length,status:"complete"});let Rn=`Bulk enrollment complete!

Successfully enrolled: ${_n}
Failed: ${cn}`;Yr.length>0&&(Rn+=`

Failed enrollments (first 5):
${Yr.slice(0,5).join(`
`)}`),Kt(Rn,cn>0?"Partial Success":"Success",cn>0?"warning":"success"),kt(!1),br(null),Vt([]),na([]),ca({current:0,total:0,status:""}),qt()},Ue.readAsText(pr)};xr.length>0?aa(`There are ${xr.length} validation errors. Some enrollments may fail. Continue anyway?`,Y,"Validation Errors","Continue Anyway"):Y()},Mi=async(Y,Ue)=>{const it={...en,[Y]:Ue};if(va(it),Y==="program_id"||Y==="year_level"||Y==="semester")if(it.program_id&&it.year_level&&it.semester)try{Ba(!0),console.log("[Quick Bulk] Fetching with filters:",{program_id:parseInt(it.program_id),year_level:parseInt(it.year_level),semester:parseInt(it.semester)});const[Et,tr]=await Promise.all([nt.getCourses({program_id:parseInt(it.program_id),year_level:parseInt(it.year_level),semester:parseInt(it.semester),page_size:1e3}),nt.getProgramSections({program_id:parseInt(it.program_id),year_level:parseInt(it.year_level),semester:parseInt(it.semester),is_active:!0})]);console.log("[Quick Bulk] Found courses:",Et?.data?.length||0),console.log("[Quick Bulk] Found program sections:",tr?.data?.length||0,tr?.data),fn(Et?.data||[]),$n(tr?.data||[])}catch(Et){console.error("Error fetching matching data:",Et),fn([]),$n([])}finally{Ba(!1)}else fn([]),$n([])},Ms=async()=>{if(!en.program_section_id||Fn.length===0){Kt("Please select all required fields","Warning","warning");return}const Y=ua.find(it=>it.id===parseInt(en.program_section_id));if(!Y){Kt("Selected program section not found","Error","error");return}const Ue=`Create ${Fn.length} class section(s) for program section "${Y.sectionName}"?

Courses: ${Fn.map(it=>it.subject_code).join(", ")}`;aa(Ue,async()=>{try{Ct(!0);let it=0,Et=0;const tr=[];for(const wr of Fn)try{const er={course_id:wr.id,class_code:`${wr.subject_code}-${Y.sectionName}`,semester:parseInt(en.semester),academic_year:Y.schoolYear||"2024-2025",max_students:40,program_section_id:Y.id};console.log(`[Quick Bulk] Creating section for ${wr.subject_code}:`,er);const lr=await nt.createSection(er,!0);it++,console.log(`[Quick Bulk] Response for ${wr.subject_code}:`,lr.data),lr.data?.enrolled_count>0?console.log(` Auto-enrolled ${lr.data.enrolled_count} students into ${wr.subject_code}`):console.warn(` No students enrolled into ${wr.subject_code}`)}catch(er){Et++,console.error(` Failed to create section for ${wr.subject_code}:`,er),tr.push(`${wr.subject_code}: ${er.response?.data?.detail||er.message}`)}Kt(` Quick Bulk Enrollment Complete!

Successfully created: ${it} sections
Failed: ${Et}

${tr.length>0?`Errors:
${tr.slice(0,5).join(`
`)}`:""}`,"Success","success"),$a(!1),va({program_id:"",year_level:"",semester:"",program_section_id:""}),fn([]),$n([]),qt()}catch(it){Kt(`Failed to process bulk enrollment: ${it.message}`,"Error","error")}finally{Ct(!1)}},"Confirm Bulk Enrollment","Create Sections")},Qs=(Y,Ue)=>{Ue?.stopPropagation(),q(Y),Ie({program_id:Y.program_id||"",year_level:Y.year_level||"",semester:Y.semester||"",course_id:Y.course_id||"",instructor_id:Y.instructor_id||"",class_code:Y.class_code||"",academic_year:Y.academic_year||"2024-2025",max_students:Y.max_students||40}),de(!0)},Is=async Y=>{Y.preventDefault();try{Ct(!0);const{instructor_id:Ue,...it}=Be;await nt.updateSection(oe.id,it),await qt(),de(!1),Kt("Section updated successfully!","Success","success")}catch(Ue){Kt(`Failed to update section: ${Ue.response?.data?.detail||Ue.message}`,"Error","error")}finally{Ct(!1)}},To=async(Y,Ue)=>{Ue?.stopPropagation(),aa(` DELETE Section "${Y.class_code}"?

This will remove all student enrollments in this section.

This action CANNOT be undone!`,async()=>{try{Ct(!0);const it=await nt.deleteSection(Y.id);await qt(),Kt(it?.data?.message||"Section deleted successfully!","Success","success")}catch(it){console.error("Delete section error:",it);const Et=it.response?.data?.detail||it.message||"Unknown error occurred";Kt(`Failed to delete section: ${Et}`,"Error","error")}finally{Ct(!1)}}," Confirm Delete","Delete Section")},ul=Y=>{At(Ue=>Ue.includes(Y)?Ue.filter(it=>it!==Y):[...Ue,Y])},Mo=()=>{pt.length===Gs.length?At([]):At(Gs.map(Y=>Y.id))},wi=async()=>{if(pt.length===0){Kt("Please select sections to delete","Warning","warning");return}const Y=ee.filter(Ue=>pt.includes(Ue.id)).map(Ue=>Ue.class_code).join(", ");aa(` DELETE ${pt.length} Section(s)?

Sections: ${Y}

This will remove all student enrollments in these sections.

This action CANNOT be undone!`,async()=>{try{Ct(!0);let Ue=0,it=0;for(const Et of pt)try{await nt.deleteSection(Et),Ue++}catch(tr){it++,console.error(`Failed to delete section ${Et}:`,tr)}await qt(),At([]),Kt(` Bulk Delete Complete:
${Ue} section(s) deleted successfully${it>0?`
${it} section(s) failed to delete`:""}`,"Success","success")}catch(Ue){console.error("Bulk delete error:",Ue),Kt(`Failed to delete sections: ${Ue.message}`,"Error","error")}finally{Ct(!1)}}," Confirm Bulk Delete","Delete Sections")};return O.useEffect(()=>{r==="enrollment"&&qt()},[r,o]),!t||!Da(t)?null:Rs?n.jsx(So,{message:"Loading courses..."}):Aa?n.jsx(Zc,{error:Aa,onRetry:ts}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl",children:"Enhanced Course Management"}),n.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Comprehensive course administration and analytics"})]})]})})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[n.jsxs("div",{className:"bg-white rounded-card shadow-card mb-12 p-2 flex space-x-2",children:[n.jsx("button",{onClick:()=>a("courses"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="courses"?"bg-red-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Course List"}),n.jsx("button",{onClick:()=>a("enrollment"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="enrollment"?"bg-red-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Enrollment"})]}),r==="courses"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[n.jsx("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Total Courses"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-gray-900",children:ce}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Showing ",Rr.length," on this page"]})]}),n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})}),n.jsx("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Active Programs"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:da.length})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),n.jsx("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Total Students"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:Rr.reduce((Y,Ue)=>Y+(Ue.enrolledStudents||0),0)})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:Rr.length>0?(Rr.reduce((Y,Ue)=>Y+Ue.avgRating,0)/Rr.length).toFixed(2):"0.00"})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Search"}),n.jsx("input",{type:"text",placeholder:"Search courses, codes, instructors...",value:s,onChange:Y=>i(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Program"}),n.jsxs("select",{value:o,onChange:Y=>l(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Programs"}),da.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Status"}),n.jsxs("select",{value:u,onChange:Y=>f(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Archived",children:"Archived"})]})]})]})}),k.length>0&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-center justify-between",children:[n.jsxs("p",{className:"text-red-900 font-semibold",children:[k.length," course(s) selected"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all",children:"Assign Instructor"}),n.jsx("button",{onClick:Oo,className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-all",children:"Archive"}),n.jsx("button",{onClick:yi,className:"px-4 py-2 bg-yellow-500 hover:bg-amber-600 text-white rounded-lg transition-all",children:"Export"})]})]}),n.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-fit mx-auto table-auto",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:k.length===Rr.length&&Rr.length>0,onChange:()=>{k.length===Rr.length?C([]):C(Rr.map(Y=>Y.id))},className:"w-4 h-4 text-red-600 rounded focus:ring-2 focus:ring-indigo-500"})}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Code"}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Course Name"}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Program"}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Students"}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Rating"}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:Rr.map(Y=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:k.includes(Y.id),onChange:Ue=>Ua(Y.id,Ue),className:"w-4 h-4 text-red-600 rounded focus:ring-2 focus:ring-indigo-500"})}),n.jsx("td",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:Y.classCode||Y.id}),n.jsxs("td",{className:"px-4 py-3 text-center",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Year ",Y.yearLevel,"  ",Y.semester]})]}),n.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-600",children:Y.program}),n.jsxs("td",{className:"px-4 py-3 text-center",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Y.enrolledStudents||0}),n.jsxs("div",{className:"text-xs text-gray-500",children:[Y.evaluationCount||0," evals"]})]}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("svg",{className:"w-4 h-4 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Y.avgRating||0})]})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${Y.status==="Active"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:Y.status})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>e("/courses"),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-all",title:"View Course Details",children:n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),n.jsx("button",{onClick:Ue=>Ts(Y,Ue),className:"p-2 bg-yellow-100 hover:bg-amber-200 text-yellow-600 rounded-lg transition-all",title:"Edit Course",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})})]},Y.id))})]})}),n.jsx("div",{className:"bg-white rounded-b-xl border-t border-gray-200 px-6 py-4",children:n.jsx(eu,{currentPage:$,totalPages:xe,totalItems:ce,onPageChange:H,itemLabel:"courses"})})]})]}),r==="enrollment"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:" Section Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage student enrollments by class section"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>$a(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Quick Bulk Enroll"]}),n.jsxs("button",{onClick:vi,className:"px-4 py-2 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Create Section"]}),n.jsx("button",{onClick:qt,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all",children:" Refresh"})]})]}),n.jsxs("div",{className:"mb-6 grid md:grid-cols-7 gap-4",children:[n.jsx("input",{type:"text",placeholder:" Search sections...",value:ye,onChange:Y=>qe(Y.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-red-500"}),n.jsxs("select",{value:Ge,onChange:Y=>ot(Y.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-yellow-500",title:"Filter sections by evaluation period",children:[n.jsx("option",{value:"all",children:"All Periods"}),Nt.map(Y=>n.jsxs("option",{value:Y.id,children:[Y.name," (",Y.status,")"]},Y.id))]}),n.jsxs("select",{value:wt,onChange:Y=>{Ee(Y.target.value),gt("all")},className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-red-500",children:[n.jsx("option",{value:"all",children:"All Programs"}),Fr?.programs&&Fr.programs.map(Y=>n.jsx("option",{value:Y.code,children:Y.code},Y.id))]}),n.jsxs("select",{value:xt,onChange:Y=>gt(Y.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-red-500",disabled:wt==="all",title:wt==="all"?"Please select a program first":"Filter by program section",children:[n.jsx("option",{value:"all",children:wt==="all"?"Select a program first...":"All Sections"}),wt!=="all"&&ir.filter(Y=>(Y.programCode||Y.program_code||Y.programName||Y.program_name||"").toLowerCase().includes(wt.toLowerCase())).map(Y=>{const Ue=Y.sectionName||Y.section_name||Y.name||"Unnamed Section",it=Y.programCode||Y.program_code||Y.programName||Y.program_name||"",Et=Y.yearLevel||Y.year_level||Y.year||"",tr=Y.semester||"",wr=Y.schoolYear||Y.school_year||"";return Ue==="Unnamed Section"?null:n.jsxs("option",{value:Y.id,children:[Ue," ",it?`- ${it}`:""," ",Et?`(Yr ${Et}`:"(Yr ?",tr?`, Sem ${tr}`:"",wr?`, ${wr}`:"",")"]},Y.id)}).filter(Boolean)]}),n.jsxs("select",{value:He,onChange:Y=>We(Y.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-red-500",children:[n.jsx("option",{value:"all",children:"All Year Levels"}),n.jsx("option",{value:"1",children:"1st Year"}),n.jsx("option",{value:"2",children:"2nd Year"}),n.jsx("option",{value:"3",children:"3rd Year"}),n.jsx("option",{value:"4",children:"4th Year"})]}),n.jsxs("select",{value:ht,onChange:Y=>_e(Y.target.value),className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-red-500",children:[n.jsx("option",{value:"all",children:"All Semesters"}),n.jsx("option",{value:"1",children:"First Semester"}),n.jsx("option",{value:"2",children:"Second Semester"}),n.jsx("option",{value:"3",children:"Summer"})]}),n.jsx("div",{className:"text-sm text-gray-600 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-semibold",children:rs.length===0?"No sections":`${Gs.length} sections`}),n.jsx("div",{className:"text-xs text-gray-500",children:rs.length>0&&`Page ${Je} of ${Ks}  ${rs.length} total`})]})})]}),pt.length>0&&n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-amber-700 rounded-xl p-4 mb-4 shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-white font-semibold",children:[pt.length," section(s) selected"]}),n.jsx("button",{onClick:()=>At([]),className:"text-white/80 hover:text-white text-sm underline",children:"Clear selection"})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs("button",{onClick:wi,disabled:Cr,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-semibold transition-all disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n.jsx("span",{children:"Delete"})]})})]})}),Cr&&!U?n.jsx("div",{className:"text-center py-8",children:n.jsx(So,{})}):ee.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx("p",{className:"text-lg",children:"No sections found"}),n.jsx("p",{className:"text-sm",children:"Create class sections from the Courses tab"})]}):rs.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx("p",{className:"text-lg",children:"No sections match your filters"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-4 flex items-center space-x-2 bg-gray-50 rounded-lg p-3",children:[n.jsx("input",{type:"checkbox",checked:Gs.length>0&&pt.length===Gs.length,onChange:Mo,className:"w-5 h-5 text-red-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsxs("label",{className:"text-sm font-semibold text-gray-700 cursor-pointer",onClick:Mo,children:["Select All (",Gs.length," on this page)"]})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Gs.map(Y=>n.jsxs("div",{className:`border-2 rounded-xl p-4 hover:shadow-lg transition-all relative group ${pt.includes(Y.id)?"border-red-500 bg-red-50":"border-gray-200"}`,children:[n.jsx("div",{className:"absolute top-2 left-2 z-10",children:n.jsx("input",{type:"checkbox",checked:pt.includes(Y.id),onChange:()=>ul(Y.id),onClick:Ue=>Ue.stopPropagation(),className:"w-5 h-5 text-red-600 border-gray-300 rounded focus:ring-indigo-500 cursor-pointer"})}),n.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:Ue=>Qs(Y,Ue),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",title:"Edit Section",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n.jsx("button",{onClick:Ue=>To(Y,Ue),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",title:"Delete Section",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),n.jsxs("div",{className:"cursor-pointer",onClick:()=>ao(Y),children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-900",children:Y.subject_code}),n.jsx("p",{className:"text-sm text-gray-600",children:Y.subject_name}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Section: ",Y.class_code||"N/A"]})]}),n.jsx("span",{className:"text-2xl font-bold text-red-600",children:Y.enrolled_count||0})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Semester ",Y.semester===3?"Summer":Y.semester,"  ",Y.academic_year]})})]})]},Y.id))}),Ks>1&&n.jsxs("div",{className:"mt-6 flex justify-center items-center gap-2",children:[n.jsx("button",{onClick:()=>Qe(Y=>Math.max(1,Y-1)),disabled:Je===1,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg font-semibold transition-all",children:" Previous"}),n.jsx("div",{className:"flex gap-2",children:[...Array(Ks)].map((Y,Ue)=>{const it=Ue+1;return it===1||it===Ks||it>=Je-1&&it<=Je+1?n.jsx("button",{onClick:()=>Qe(it),className:`px-4 py-2 rounded-lg font-semibold transition-all ${Je===it?"bg-red-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:it},it):it===Je-2||it===Je+2?n.jsx("span",{className:"px-2 py-2",children:"..."},it):null})}),n.jsx("button",{onClick:()=>Qe(Y=>Math.min(Ks,Y+1)),disabled:Je===Ks,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg font-semibold transition-all",children:"Next "})]})]})]})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 border-b-4 border-indigo-800 flex-shrink-0",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Add New Course"}),n.jsx("button",{onClick:()=>m(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("form",{onSubmit:Eo,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Name *"}),n.jsx("input",{type:"text",required:!0,value:Xt.name,onChange:Y=>Lt({...Xt,name:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Introduction to Programming"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Class Code *"}),n.jsx("input",{type:"text",required:!0,value:Xt.classCode,onChange:Y=>Lt({...Xt,classCode:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"CS101"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Instructor *"}),n.jsxs("select",{value:Xt.instructor,onChange:Y=>Lt({...Xt,instructor:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Instructor"}),ya.map(Y=>n.jsxs("option",{value:`${Y.first_name} ${Y.last_name}`,children:[Y.first_name," ",Y.last_name]},Y.id))]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Program *"}),n.jsx("select",{value:Xt.program,onChange:Y=>Lt({...Xt,program:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:da.map(Y=>n.jsx("option",{value:Y,children:Y},Y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year Level *"}),n.jsxs("select",{value:Xt.yearLevel,onChange:Y=>Lt({...Xt,yearLevel:parseInt(Y.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:1,children:"1st Year"}),n.jsx("option",{value:2,children:"2nd Year"}),n.jsx("option",{value:3,children:"3rd Year"}),n.jsx("option",{value:4,children:"4th Year"})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Semester *"}),n.jsxs("select",{value:Xt.semester,onChange:Y=>Lt({...Xt,semester:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"First Semester",children:"First Semester"}),n.jsx("option",{value:"Second Semester",children:"Second Semester"}),n.jsx("option",{value:"Summer",children:"Summer"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Academic Year *"}),n.jsx("input",{type:"text",required:!0,value:Xt.academicYear,onChange:Y=>Lt({...Xt,academicYear:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"2024-2025"})]})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",disabled:Cr,children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:Cr,children:Cr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Creating..."})]}):n.jsx("span",{children:"Create Course"})})]})]})]})}),x&&A&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-700 p-6 border-b-4 border-yellow-800 flex-shrink-0",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Edit Course"}),n.jsx("button",{onClick:()=>{p(!1),N(null)},className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("form",{onSubmit:Xs,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Name *"}),n.jsx("input",{type:"text",required:!0,value:Xt.name,onChange:Y=>Lt({...Xt,name:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Introduction to Programming"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Class Code *"}),n.jsx("input",{type:"text",required:!0,value:Xt.classCode,onChange:Y=>Lt({...Xt,classCode:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"CS101"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Instructor *"}),n.jsxs("select",{value:Xt.instructor,onChange:Y=>Lt({...Xt,instructor:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Instructor"}),ya.map(Y=>n.jsxs("option",{value:`${Y.first_name} ${Y.last_name}`,children:[Y.first_name," ",Y.last_name]},Y.id))]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Program *"}),n.jsx("select",{value:Xt.program,onChange:Y=>Lt({...Xt,program:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:da.map(Y=>n.jsx("option",{value:Y,children:Y},Y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year Level *"}),n.jsxs("select",{value:Xt.yearLevel,onChange:Y=>Lt({...Xt,yearLevel:parseInt(Y.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:1,children:"1st Year"}),n.jsx("option",{value:2,children:"2nd Year"}),n.jsx("option",{value:3,children:"3rd Year"}),n.jsx("option",{value:4,children:"4th Year"})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Semester *"}),n.jsxs("select",{value:Xt.semester,onChange:Y=>Lt({...Xt,semester:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:"First Semester",children:"First Semester"}),n.jsx("option",{value:"Second Semester",children:"Second Semester"}),n.jsx("option",{value:"Summer",children:"Summer"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Academic Year *"}),n.jsx("input",{type:"text",required:!0,value:Xt.academicYear,onChange:Y=>Lt({...Xt,academicYear:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"2024-2025"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enrolled Students"}),n.jsx("input",{type:"number",value:Xt.enrolledStudents,onChange:Y=>Lt({...Xt,enrolledStudents:parseInt(Y.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"30",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status *"}),n.jsxs("select",{value:Xt.status,onChange:Y=>Lt({...Xt,status:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Archived",children:"Archived"})]})]})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{p(!1),N(null)},className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",disabled:Cr,children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:Cr,children:Cr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Updating..."})]}):n.jsx("span",{children:"Update Course"})})]})]})]})}),w&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-700 to-red-900 p-6 border-b-4 border-yellow-800",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Bulk Import Courses"}),n.jsx("button",{onClick:()=>v(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"bg-red-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-red-900 font-semibold mb-2",children:" CSV Format Requirements:"}),n.jsxs("ul",{className:"text-sm text-red-800 space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Headers: name, classCode, instructor, program, yearLevel, semester, academicYear"}),n.jsx("li",{children:"Year level must be 1-4"}),n.jsx("li",{children:"Program must match existing programs"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Upload CSV File *"}),n.jsx("input",{type:"file",accept:".csv",onChange:ll,className:"w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-yellow-500 transition-all"})]}),J.length>0&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-red-900 font-semibold mb-2",children:" Errors Found:"}),n.jsx("ul",{className:"text-sm text-red-800 space-y-1 list-disc list-inside",children:J.map((Y,Ue)=>n.jsx("li",{children:Y},Ue))})]}),F.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-yellow-900 font-semibold",children:[" Preview: ",F.length," courses ready to import"]})}),n.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-700",children:"Course Name"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-700",children:"Code"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-700",children:"Instructor"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-700",children:"Program"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:F.map((Y,Ue)=>n.jsxs("tr",{className:"text-sm",children:[n.jsx("td",{className:"px-4 py-2",children:Y.name}),n.jsx("td",{className:"px-4 py-2",children:Y.classCode}),n.jsx("td",{className:"px-4 py-2",children:Y.instructor}),n.jsx("td",{className:"px-4 py-2",children:Y.program})]},Ue))})]})})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",disabled:Cr,children:"Cancel"}),n.jsx("button",{onClick:ic,disabled:F.length===0||Cr,className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:Cr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Importing..."})]}):n.jsxs("span",{children:["Import ",F.length," Courses"]})})]})]})]})}),y&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 border-b-4 border-yellow-800",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Assign Instructor"}),n.jsx("button",{onClick:()=>S(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("div",{className:"bg-red-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-red-900",children:["Assigning instructor to ",n.jsxs("strong",{children:[k.length," course(s)"]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Instructor *"}),n.jsxs("select",{value:Xt.instructor,onChange:Y=>Lt({...Xt,instructor:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Choose instructor..."}),ya.map(Y=>n.jsxs("option",{value:`${Y.first_name} ${Y.last_name}`,children:[Y.first_name," ",Y.last_name]},Y.id))]})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all",disabled:Cr,children:"Cancel"}),n.jsx("button",{onClick:oc,disabled:!Xt.instructor||Cr,className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:Cr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Assigning..."})]}):n.jsx("span",{children:"Assign Instructor"})})]})]})]})}),U&&oe&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 border-b-4 border-indigo-800 sticky top-0 z-10",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-white",children:[oe.subject_code," - ",oe.section_name]}),n.jsx("p",{className:"text-red-100",children:oe.subject_name})]}),n.jsx("button",{onClick:()=>V(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[n.jsx("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-lg mr-2",children:re.length}),"Enrolled Students"]}),n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:re.length===0?n.jsx("p",{className:"text-gray-500 text-center py-8",children:"No students enrolled"}):re.map(Y=>n.jsxs("div",{className:"bg-white rounded-lg p-3 flex justify-between items-center hover:shadow-md transition-all",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:[Y.first_name," ",Y.last_name]}),n.jsx("p",{className:"text-sm text-gray-600",children:Y.student_number})]}),n.jsx("button",{onClick:()=>tu(Y.id,`${Y.first_name} ${Y.last_name}`),disabled:Cr,className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg text-sm font-semibold transition-all disabled:opacity-50",children:"Remove"})]},Y.id))})]}),n.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-2 flex items-center",children:[n.jsxs("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-lg mr-2",children:[Ne.length," ",Ne.length===1?"student":"students"]}),"Available to Enroll"]}),n.jsx("input",{type:"text",placeholder:"Search students...",value:Z,onChange:Y=>Xe(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),n.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto mb-4",children:Ne.filter(Y=>!Z||Y.first_name.toLowerCase().includes(Z.toLowerCase())||Y.last_name.toLowerCase().includes(Z.toLowerCase())||Y.student_number.includes(Z)).map(Y=>n.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center hover:shadow-md transition-all",children:[n.jsx("input",{type:"checkbox",checked:we.includes(Y.id),onChange:Ue=>{Ue.target.checked?be([...we,Y.id]):be(we.filter(it=>it!==Y.id))},className:"mr-3 w-5 h-5 text-red-600 rounded focus:ring-2 focus:ring-blue-500"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:[Y.first_name," ",Y.last_name]}),n.jsx("p",{className:"text-sm text-gray-600",children:Y.student_number})]})]},Y.id))}),n.jsx("button",{onClick:Js,disabled:we.length===0||Cr,className:"w-full px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center mb-2",children:Cr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Enrolling..."})]}):n.jsxs("span",{children:["Enroll ",we.length>0?`(${we.length})`:""," Students"]})}),n.jsxs("button",{onClick:ns,disabled:Cr,className:"w-full px-4 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Enroll Program Section"]})]})]})})]})}),Sa&&oe&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-amber-700 p-6 border-b-4 border-yellow-800",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Enroll Program Section"}),n.jsxs("p",{className:"text-yellow-100",children:["Bulk enroll students from a program section into ",oe.class_code]})]}),n.jsx("button",{onClick:()=>Tt(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-yellow-900",children:[n.jsx("span",{className:"font-semibold",children:" Tip:"})," Select a program section to enroll all its students at once. Students already enrolled will be skipped automatically."]})}),Hr?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Loading program sections..."})]}):ir.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("p",{children:"No program sections found."}),n.jsx("p",{className:"text-sm mt-2",children:"Create program sections in User Management first."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Select Program Section *"}),n.jsxs("select",{value:Wr,onChange:Y=>ka(Y.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-yellow-500",children:[n.jsx("option",{value:"",children:"Choose a program section..."}),ir.map(Y=>n.jsxs("option",{value:Y.id,children:[Y.sectionName," - ",Y.programCode," Year ",Y.yearLevel," Sem ",Y.semester," (",Y.schoolYear,") - ",Y.studentCount," students"]},Y.id))]})]}),Wr&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(()=>{const Y=ir.find(Ue=>Ue.id===parseInt(Wr));return Y?n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-yellow-900",children:Y.sectionName}),n.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:[Y.programName,"  ",Y.studentCount," student",Y.studentCount!==1?"s":""]})]}):null})()})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{onClick:()=>Tt(!1),disabled:Cr,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold transition-all disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:bi,disabled:!Wr||Cr,className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:Cr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Enrolling..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Enroll Section"]})})]})]})]})}),ie&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-700 to-red-900 p-6 border-b-4 border-yellow-800",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Create New Section"}),n.jsx("button",{onClick:()=>me(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("form",{onSubmit:Lo,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Program *"}),n.jsxs("select",{required:!0,value:Be.program_id,onChange:Y=>{const Ue=Y.target.value;Ie({...Be,program_id:Ue,year_level:"",semester:"",course_id:""})},className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500",children:[n.jsx("option",{value:"",children:"Select a program"}),Fr?.programs&&Fr.programs.map(Y=>n.jsxs("option",{value:Y.id,children:[Y.code," - ",Y.name]},Y.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Year Level *"}),n.jsxs("select",{required:!0,disabled:!Be.program_id,value:Be.year_level,onChange:Y=>{const Ue=Y.target.value;Ie({...Be,year_level:Ue,semester:"",course_id:""})},className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:"Select year level"}),n.jsx("option",{value:"1",children:"1st Year"}),n.jsx("option",{value:"2",children:"2nd Year"}),n.jsx("option",{value:"3",children:"3rd Year"}),n.jsx("option",{value:"4",children:"4th Year"})]}),!Be.program_id&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a program first"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Semester *"}),n.jsxs("select",{required:!0,disabled:!Be.year_level,value:Be.semester,onChange:Y=>{const Ue=Y.target.value;Ie({...Be,semester:Ue,course_id:""})},className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:"Select semester"}),n.jsx("option",{value:"1",children:"First Semester"}),n.jsx("option",{value:"2",children:"Second Semester"}),n.jsx("option",{value:"3",children:"Summer"})]}),!Be.year_level&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select year level first"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Course *"}),n.jsxs("select",{required:!0,disabled:!Be.semester,value:Be.course_id,onChange:Y=>Ie({...Be,course_id:parseInt(Y.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:"Select a course"}),Er.length===0&&Be.semester&&n.jsx("option",{value:"",disabled:!0,children:"No courses available for selected criteria"}),Er.map(Y=>n.jsxs("option",{value:Y.id,children:[Y.course_code||Y.classCode," - ",Y.course_name||Y.name]},Y.id))]}),!Be.semester&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select semester first"}),Be.semester&&Er.length===0&&n.jsx("p",{className:"text-xs text-amber-600 mt-1",children:" No courses found for the selected program, year level, and semester"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Section Code *"}),n.jsx("input",{type:"text",required:!0,placeholder:"e.g., CS101-A, IT201-1",value:Be.class_code,onChange:Y=>Ie({...Be,class_code:Y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Academic Year *"}),n.jsx("input",{type:"text",required:!0,placeholder:"2024-2025",value:Be.academic_year,onChange:Y=>Ie({...Be,academic_year:Y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Max Students *"}),n.jsx("input",{type:"number",required:!0,min:"1",value:Be.max_students,onChange:Y=>Ie({...Be,max_students:parseInt(Y.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-yellow-500"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>me(!1),className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:Cr,className:"px-6 py-3 bg-yellow-600 hover:bg-amber-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:Cr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Creating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),n.jsx("span",{children:"Create Section"})]})})]})]})]})}),W&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 border-b-4 border-yellow-800",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Edit Section"}),n.jsx("button",{onClick:()=>de(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("form",{onSubmit:Is,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Section Code *"}),n.jsx("input",{type:"text",required:!0,placeholder:"e.g., CS101-A, IT201-1",value:Be.class_code,onChange:Y=>Ie({...Be,class_code:Y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-yellow-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Academic Year *"}),n.jsx("input",{type:"text",required:!0,placeholder:"2024-2025",value:Be.academic_year,onChange:Y=>Ie({...Be,academic_year:Y.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-yellow-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Max Students *"}),n.jsx("input",{type:"number",required:!0,min:"1",value:Be.max_students,onChange:Y=>Ie({...Be,max_students:parseInt(Y.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-yellow-500"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>de(!1),className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:Cr,className:"px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:Cr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Updating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{children:"Update Section"})]})})]})]})]})}),dt&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-yellow-600 to-amber-700 text-white p-6 rounded-t-2xl",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:" Bulk Student Enrollment"}),n.jsx("p",{className:"text-yellow-100 mt-1",children:"Enroll multiple students to sections via CSV upload"})]}),n.jsx("button",{onClick:()=>{kt(!1),br(null),Vt([]),na([]),ca({current:0,total:0,status:""})},className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"bg-red-50 border-2 border-yellow-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"CSV Format Instructions"}),n.jsx("p",{className:"text-sm text-red-800 mb-3",children:"Download the template to see the required format. Your CSV must include these columns:"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-red-600",children:"Required:"}),n.jsxs("ul",{className:"list-disc list-inside text-red-800 ml-2",children:[n.jsxs("li",{children:[n.jsx("code",{className:"bg-red-100 px-1 rounded",children:"student_identifier"})," - Email or student number"]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-red-100 px-1 rounded",children:"section_identifier"})," - Class code or section ID"]})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-gray-600",children:"Optional:"}),n.jsxs("ul",{className:"list-disc list-inside text-red-800 ml-2",children:[n.jsxs("li",{children:[n.jsx("code",{className:"bg-red-100 px-1 rounded",children:"identifier_type"})," - 'email' or 'student_number'"]}),n.jsxs("li",{children:[n.jsx("code",{className:"bg-red-100 px-1 rounded",children:"notes"})," - Any enrollment notes"]})]})]})]}),n.jsxs("button",{onClick:lc,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download CSV Template"]})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Upload Enrollment CSV File *"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-yellow-500 transition-all bg-gray-50",children:[n.jsx("input",{type:"file",accept:".csv",onChange:Ro,className:"hidden",id:"bulk-enroll-file"}),n.jsx("label",{htmlFor:"bulk-enroll-file",className:"cursor-pointer",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-700",children:pr?pr.name:"Click to upload or drag and drop"}),n.jsx("p",{className:"text-sm text-gray-500",children:"CSV file format only"})]})]})})]})]}),xr.length>0&&n.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:[n.jsxs("h3",{className:"font-semibold text-red-900 mb-2 flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Validation Errors (",xr.length,")"]}),n.jsx("div",{className:"max-h-32 overflow-y-auto",children:n.jsxs("ul",{className:"list-disc list-inside text-sm text-red-800 space-y-1",children:[xr.slice(0,10).map((Y,Ue)=>n.jsx("li",{children:Y},Ue)),xr.length>10&&n.jsxs("li",{className:"font-semibold",children:["... and ",xr.length-10," more errors"]})]})})]}),gr.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:" Preview (First 5 rows)"}),n.jsx("div",{className:"overflow-x-auto border-2 border-gray-200 rounded-lg",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Student"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Section"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Notes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:gr.map((Y,Ue)=>n.jsxs("tr",{className:Y.valid?"bg-yellow-50":"bg-red-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Y.valid?n.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:" Valid"}):n.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:" Invalid"})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Y.student_identifier||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Y.section_identifier||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.identifier_type||"auto"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.notes||"-"})]},Ue))})]})})]}),_r.status==="processing"&&n.jsxs("div",{className:"bg-red-50 border-2 border-yellow-200 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-semibold text-red-900",children:"Processing enrollments..."}),n.jsxs("span",{className:"text-sm font-semibold text-red-900",children:[_r.current," / ",_r.total]})]}),n.jsx("div",{className:"w-full bg-red-200 rounded-full h-3",children:n.jsx("div",{className:"bg-red-600 h-3 rounded-full transition-all duration-300",style:{width:`${_r.current/_r.total*100}%`}})}),n.jsxs("p",{className:"text-xs text-red-700 mt-2",children:[Math.round(_r.current/_r.total*100),"% complete"]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>{kt(!1),br(null),Vt([]),na([]),ca({current:0,total:0,status:""})},disabled:_r.status==="processing",className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),n.jsx("button",{type:"button",onClick:so,disabled:!pr||_r.status==="processing",className:"px-6 py-3 bg-yellow-600 hover:bg-amber-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:_r.status==="processing"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Enrolling..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),n.jsxs("span",{children:["Enroll Students (",gr.filter(Y=>Y.valid).length," valid)"]})]})})]})]})]})}),Sn&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full my-8",children:[n.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-red-800 to-red-900 text-white p-6 rounded-t-2xl",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:" Quick Bulk Section Creation"}),n.jsx("p",{className:"text-red-100 mt-1",children:"Create sections for all courses in a program/year/semester"})]}),n.jsx("button",{onClick:()=>{$a(!1),va({program_id:"",year_level:"",semester:"",program_section_id:""}),fn([]),$n([])},className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"bg-red-50 border-2 border-yellow-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"How it works"}),n.jsx("p",{className:"text-sm text-red-800",children:"Select a program, year level, and semester. The system will find all courses matching those criteria and create class sections for each course based on a template section you select."})]})]})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Program *"}),n.jsxs("select",{required:!0,value:en.program_id,onChange:Y=>Mi("program_id",Y.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-red-500",children:[n.jsx("option",{value:"",children:"Select program..."}),Fr?.programs?.map(Y=>n.jsxs("option",{value:Y.id,children:[Y.code," - ",Y.name]},Y.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Year Level *"}),n.jsxs("select",{required:!0,value:en.year_level,onChange:Y=>Mi("year_level",Y.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-red-500",children:[n.jsx("option",{value:"",children:"Select year..."}),n.jsx("option",{value:"1",children:"1st Year"}),n.jsx("option",{value:"2",children:"2nd Year"}),n.jsx("option",{value:"3",children:"3rd Year"}),n.jsx("option",{value:"4",children:"4th Year"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Semester *"}),n.jsxs("select",{required:!0,value:en.semester,onChange:Y=>Mi("semester",Y.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-red-500",children:[n.jsx("option",{value:"",children:"Select semester..."}),n.jsx("option",{value:"1",children:"1st Semester"}),n.jsx("option",{value:"2",children:"2nd Semester"}),n.jsx("option",{value:"3",children:"Summer"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Program Section *"}),n.jsxs("select",{required:!0,value:en.program_section_id,onChange:Y=>Mi("program_section_id",Y.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-red-500",disabled:!en.program_id,children:[n.jsx("option",{value:"",children:en.program_id?"Select program section...":"Select program first..."}),ua.map(Y=>{const Ue=Y.sectionName||Y.section_name||"Unnamed",it=Y.programCode||Y.program_code||"",Et=Y.yearLevel||Y.year_level||"",tr=Y.semester||"",wr=Y.studentCount||0;return n.jsxs("option",{value:Y.id,children:[Ue," - ",it," (Yr ",Et,", Sem ",tr,")  ",wr," students"]},Y.id)})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ua.length===0&&en.program_id?"No program sections found for selected criteria":"Class sections will be created for this student group"})]})]}),xi?n.jsxs("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-xl p-8 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading matching courses..."})]}):Fn.length>0?n.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4",children:[n.jsxs("h3",{className:"font-semibold text-yellow-900 mb-3",children:[" Found ",Fn.length," matching course(s)"]}),n.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:Fn.map(Y=>n.jsxs("div",{className:"bg-white p-3 rounded-lg flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-gray-900",children:Y.subject_code}),n.jsx("span",{className:"text-gray-600 ml-2",children:Y.subject_name})]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[Y.units," units"]})]},Y.id))}),en.program_section_id&&n.jsxs("p",{className:"text-sm text-yellow-700 mt-3",children:[" Sections will be named: [SUBJECT_CODE]-",ua.find(Y=>Y.id===parseInt(en.program_section_id))?.sectionName]})]}):en.program_id&&en.year_level&&en.semester?n.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4",children:n.jsx("p",{className:"text-yellow-800",children:" No courses found for the selected criteria"})}):null,n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{type:"button",onClick:()=>{$a(!1),va({program_id:"",year_level:"",semester:"",program_section_id:""}),fn([]),$n([])},disabled:Cr,className:"flex-1 px-6 py-3 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),n.jsx("button",{type:"button",onClick:Ms,disabled:!en.program_section_id||Fn.length===0||Cr,className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center justify-center gap-2",children:Cr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Creating Sections..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),n.jsxs("span",{children:["Create ",Fn.length," Section(s)"]})]})})]})]})]})}),n.jsx(Ql,{isOpen:es,onClose:()=>Ys(!1),title:Os.title,message:Os.message,type:Os.type}),n.jsx(E0,{isOpen:bt,onClose:()=>_t(!1),title:Qt.title,message:Qt.message,onConfirm:Qt.onConfirm,confirmText:Qt.confirmText,cancelText:Qt.cancelText})]})}function qX(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState("");ad(r,500);const[s,i]=O.useState("all"),[o,l]=O.useState("all"),[u,f]=O.useState("all"),[h,m]=O.useState("all"),[x,p]=O.useState("all"),[w,v]=O.useState(""),[y,S]=O.useState(""),[A,N]=O.useState(null),[k,C]=O.useState(!1),[T,I]=O.useState(1),[F,z]=O.useState(1),J=15,[R,$]=O.useState([]),[H,B]=O.useState({totalLogs:0,last24h:0,criticalEvents:0,failedAttempts:0}),[ce,se]=O.useState(!0),[xe,te]=O.useState(null),[ee,G]=O.useState(!1),[oe,q]=O.useState({title:"",message:"",type:"info"}),U=(re,Q="Notification",Ne="info")=>{q({title:Q,message:re,type:Ne}),G(!0)};O.useEffect(()=>{(!t||!Da(t))&&e("/admin/dashboard")},[t,e]),O.useEffect(()=>{(async()=>{try{se(!0),te(null);const Q={page:T,page_size:J};if(s!=="all"&&(Q.action=s),o!=="all"&&(Q.category=o),u!=="all"&&(Q.status=u),h!=="all"&&(Q.user=h),r.trim()&&(Q.search=r.trim()),x==="custom"&&w&&y)Q.start_date=new Date(w).toISOString(),Q.end_date=new Date(y+"T23:59:59").toISOString();else if(x!=="all"){const he=new Date;if(x==="today")Q.start_date=new Date(he.setHours(0,0,0,0)).toISOString();else if(x==="yesterday"){const we=new Date;we.setDate(we.getDate()-1),Q.start_date=new Date(we.setHours(0,0,0,0)).toISOString(),Q.end_date=new Date(we.setHours(23,59,59,999)).toISOString()}else if(x==="week"){const we=new Date;we.setDate(we.getDate()-7),Q.start_date=we.toISOString()}else if(x==="2weeks"){const we=new Date;we.setDate(we.getDate()-14),Q.start_date=we.toISOString()}else if(x==="month"){const we=new Date;we.setDate(we.getDate()-30),Q.start_date=we.toISOString()}else if(x==="3months"){const we=new Date;we.setMonth(we.getMonth()-3),Q.start_date=we.toISOString()}else if(x==="6months"){const we=new Date;we.setMonth(we.getMonth()-6),Q.start_date=we.toISOString()}else if(x==="year"){const we=new Date;we.setFullYear(we.getFullYear()-1),Q.start_date=we.toISOString()}}const Ne=await nt.getAuditLogs(Q);Ne?.success?($(Ne.data||[]),Ne.pagination&&z(Ne.pagination.total_pages)):te("Failed to load audit logs")}catch(Q){console.error("Error fetching audit logs:",Q),te(Q.message||"Failed to load audit logs. Please try again.")}finally{se(!1)}})()},[T,s,o,u,h,r,x,w,y]),O.useEffect(()=>{I(1)},[s,o,u,x,r,h]);const V=O.useMemo(()=>[...new Set(R.map(re=>re.user))].sort(),[R]);O.useMemo(()=>[...new Set(R.map(re=>re.action))].sort(),[R]),O.useMemo(()=>[...new Set(R.map(re=>re.category))].sort(),[R]);const ie=R;O.useEffect(()=>{(async()=>{try{const Q=await nt.getAuditLogStats();Q?.success&&B({totalLogs:Q.data.total_logs||0,last24h:Q.data.last_24h||0,criticalEvents:Q.data.critical_events||0,failedAttempts:Q.data.failed_blocked||0})}catch(Q){console.error("Error fetching stats:",Q)}})()},[]);const me=O.useMemo(()=>{if(H.last24h!==void 0)return H;const re=R.length,Q=R.filter(we=>{const be=new Date(we.timestamp),Z=new Date(Date.now()-1440*60*1e3);return be>=Z}).length,Ne=R.filter(we=>we.severity==="Critical").length,he=R.filter(we=>we.status==="Failed"||we.status==="Blocked").length;return{totalLogs:re,last24h:Q,criticalEvents:Ne,failedAttempts:he}},[R,H]),W=re=>{N(re),C(!0)},de=async()=>{try{const Q=[["ID","Timestamp","User","Action","Category","IP Address","Status","Severity","Details"].join(","),...R.map(be=>[be.id,new Date(be.timestamp).toLocaleString(),`"${be.user}"`,`"${be.action}"`,`"${be.category}"`,be.ipAddress,be.status,be.severity,`"${typeof be.details=="object"?JSON.stringify(be.details):be.details}"`].join(","))].join(`
`),Ne=new Blob([Q],{type:"text/csv"}),he=window.URL.createObjectURL(Ne),we=document.createElement("a");we.href=he,we.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(we),we.click(),document.body.removeChild(we),window.URL.revokeObjectURL(he)}catch(re){console.error("Export error:",re),U("Failed to export logs. Please try again.","Export Failed","error")}};return!t||!Da(t)?null:ce?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading audit logs..."})]})}):xe?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md",children:n.jsxs("div",{className:"text-red-600 text-center",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Error Loading Audit Logs"}),n.jsx("p",{className:"text-gray-600 mb-4",children:xe}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Retry"})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl",children:"Audit Log Viewer"}),n.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Monitor system activity and security events"})]})]}),n.jsxs("button",{onClick:de,className:"bg-white hover:bg-[#ffd700] text-[#7a0000] font-semibold px-6 py-3 rounded-button shadow-card transition-all duration-250 flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("span",{children:"Export Logs"})]})]})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Total Logs"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-gray-900",children:me.totalLogs})]}),n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Last 24 Hours"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:me.last24h})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Critical Events"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-red-600",children:me.criticalEvents})]}),n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs lg:text-sm text-gray-600 uppercase tracking-wide",children:"Failed/Blocked"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:me.failedAttempts})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})})]})})]}),n.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 mb-12",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Advanced Filters"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Search"}),n.jsx("input",{type:"text",placeholder:"Search by user, action, IP, or details...",value:r,onChange:re=>a(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Action Type"}),n.jsxs("select",{value:s,onChange:re=>i(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Actions"}),n.jsxs("optgroup",{label:"Authentication",children:[n.jsx("option",{value:"LOGIN",children:"LOGIN"}),n.jsx("option",{value:"LOGOUT",children:"LOGOUT"}),n.jsx("option",{value:"LOGIN_FAILED",children:"LOGIN_FAILED"}),n.jsx("option",{value:"PASSWORD_RESET",children:"PASSWORD_RESET"}),n.jsx("option",{value:"PASSWORD_CHANGED",children:"PASSWORD_CHANGED"})]}),n.jsxs("optgroup",{label:"User Management",children:[n.jsx("option",{value:"CREATE_USER",children:"CREATE_USER"}),n.jsx("option",{value:"UPDATE_USER",children:"UPDATE_USER"}),n.jsx("option",{value:"DELETE_USER",children:"DELETE_USER"}),n.jsx("option",{value:"USER_ROLE_CHANGED",children:"USER_ROLE_CHANGED"}),n.jsx("option",{value:"USER_ACTIVATED",children:"USER_ACTIVATED"}),n.jsx("option",{value:"USER_DEACTIVATED",children:"USER_DEACTIVATED"})]}),n.jsxs("optgroup",{label:"Course Management",children:[n.jsx("option",{value:"CREATE_COURSE",children:"CREATE_COURSE"}),n.jsx("option",{value:"UPDATE_COURSE",children:"UPDATE_COURSE"}),n.jsx("option",{value:"COURSE_UPDATED",children:"COURSE_UPDATED"}),n.jsx("option",{value:"DELETE_COURSE",children:"DELETE_COURSE"}),n.jsx("option",{value:"COURSE_ARCHIVED",children:"COURSE_ARCHIVED"}),n.jsx("option",{value:"COURSE_RESTORED",children:"COURSE_RESTORED"})]}),n.jsxs("optgroup",{label:"Section Management",children:[n.jsx("option",{value:"CREATE_SECTION",children:"CREATE_SECTION"}),n.jsx("option",{value:"UPDATE_SECTION",children:"UPDATE_SECTION"}),n.jsx("option",{value:"SECTION_UPDATED",children:"SECTION_UPDATED"}),n.jsx("option",{value:"DELETE_SECTION",children:"DELETE_SECTION"}),n.jsx("option",{value:"SECTION_DELETED",children:"SECTION_DELETED"})]}),n.jsxs("optgroup",{label:"Enrollment",children:[n.jsx("option",{value:"ENROLL_STUDENT",children:"ENROLL_STUDENT"}),n.jsx("option",{value:"DROP_STUDENT",children:"DROP_STUDENT"}),n.jsx("option",{value:"REMOVE_STUDENT_FROM_SECTION",children:"REMOVE_STUDENT_FROM_SECTION"}),n.jsx("option",{value:"BULK_ENROLLMENT",children:"BULK_ENROLLMENT"})]}),n.jsxs("optgroup",{label:"Questionnaire & Evaluation",children:[n.jsx("option",{value:"QUESTIONNAIRE_SUBMITTED",children:"QUESTIONNAIRE_SUBMITTED"}),n.jsx("option",{value:"QUESTIONNAIRE_UPDATED",children:"QUESTIONNAIRE_UPDATED"}),n.jsx("option",{value:"EVALUATION_SUBMITTED",children:"EVALUATION_SUBMITTED"}),n.jsx("option",{value:"EVALUATION_GRADED",children:"EVALUATION_GRADED"})]}),n.jsxs("optgroup",{label:"Period Management",children:[n.jsx("option",{value:"CREATE_PERIOD",children:"CREATE_PERIOD"}),n.jsx("option",{value:"UPDATE_PERIOD",children:"UPDATE_PERIOD"}),n.jsx("option",{value:"DELETE_PERIOD",children:"DELETE_PERIOD"}),n.jsx("option",{value:"PERIOD_ACTIVATED",children:"PERIOD_ACTIVATED"}),n.jsx("option",{value:"PERIOD_CLOSED",children:"PERIOD_CLOSED"})]}),n.jsxs("optgroup",{label:"Data Export",children:[n.jsx("option",{value:"EXPORT_USERS",children:"EXPORT_USERS"}),n.jsx("option",{value:"EXPORT_COURSES",children:"EXPORT_COURSES"}),n.jsx("option",{value:"EXPORT_SECTIONS",children:"EXPORT_SECTIONS"}),n.jsx("option",{value:"EXPORT_EVALUATIONS",children:"EXPORT_EVALUATIONS"}),n.jsx("option",{value:"EXPORT_AUDIT_LOGS",children:"EXPORT_AUDIT_LOGS"})]}),n.jsxs("optgroup",{label:"System",children:[n.jsx("option",{value:"SYSTEM_CONFIG_CHANGE",children:"SYSTEM_CONFIG_CHANGE"}),n.jsx("option",{value:"SETTINGS_UPDATED",children:"SETTINGS_UPDATED"}),n.jsx("option",{value:"BACKUP_CREATED",children:"BACKUP_CREATED"})]})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Category"}),n.jsxs("select",{value:o,onChange:re=>l(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Categories"}),n.jsx("option",{value:"Authentication",children:"Authentication"}),n.jsx("option",{value:"User Management",children:"User Management"}),n.jsx("option",{value:"Course Management",children:"Course Management"}),n.jsx("option",{value:"Section Management",children:"Section Management"}),n.jsx("option",{value:"Enrollment",children:"Enrollment"}),n.jsx("option",{value:"Questionnaire",children:"Questionnaire"}),n.jsx("option",{value:"Evaluation",children:"Evaluation"}),n.jsx("option",{value:"Period Management",children:"Period Management"}),n.jsx("option",{value:"Data Export",children:"Data Export"}),n.jsx("option",{value:"System Configuration",children:"System Configuration"}),n.jsx("option",{value:"Program Management",children:"Program Management"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Status"}),n.jsxs("select",{value:u,onChange:re=>f(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"Success",children:" Success"}),n.jsx("option",{value:"Failed",children:" Failed"}),n.jsx("option",{value:"Blocked",children:" Blocked"}),n.jsx("option",{value:"Pending",children:" Pending"})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" User / Role"}),n.jsxs("select",{value:h,onChange:re=>m(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Users"}),n.jsxs("optgroup",{label:"By Role",children:[n.jsx("option",{value:"System",children:" System"}),n.jsx("option",{value:"Admin",children:" Admin"}),n.jsx("option",{value:"Instructor",children:" Instructor"}),n.jsx("option",{value:"Student",children:" Student"}),n.jsx("option",{value:"Secretary",children:" Secretary"}),n.jsx("option",{value:"Department Head",children:" Department Head"})]}),V.length>0&&n.jsx("optgroup",{label:"Specific Users",children:V.map(re=>n.jsx("option",{value:re,children:re},re))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Date Range"}),n.jsxs("select",{value:x,onChange:re=>p(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"yesterday",children:"Yesterday"}),n.jsx("option",{value:"week",children:"Last 7 Days"}),n.jsx("option",{value:"2weeks",children:"Last 14 Days"}),n.jsx("option",{value:"month",children:"Last 30 Days"}),n.jsx("option",{value:"3months",children:"Last 3 Months"}),n.jsx("option",{value:"6months",children:"Last 6 Months"}),n.jsx("option",{value:"year",children:"Last Year"}),n.jsx("option",{value:"custom",children:"Custom Range"})]})]})]}),x==="custom"&&n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Start Date"}),n.jsx("input",{type:"date",value:w,onChange:re=>v(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" End Date"}),n.jsx("input",{type:"date",value:y,onChange:re=>S(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-gray-200",children:[n.jsx("div",{className:"text-sm text-gray-600",children:(s!=="all"||o!=="all"||u!=="all"||h!=="all"||x!=="all"||r)&&n.jsxs("span",{children:[" Active filters: ",[s!=="all"&&"Action",o!=="all"&&"Category",u!=="all"&&"Status",h!=="all"&&"User",x!=="all"&&"Date",r&&"Search"].filter(Boolean).join(", ")]})}),n.jsx("button",{onClick:()=>{a(""),i("all"),l("all"),f("all"),m("all"),p("all"),v(""),S("")},className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-all text-sm font-medium",children:" Clear All Filters"})]})]}),n.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden w-fit mx-auto",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table-auto",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Timestamp"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"User"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Action"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Category"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"IP Address"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:ie.map(re=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium text-center",children:new Date(re.timestamp).toLocaleString()}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 text-center",children:re.user}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded",children:re.action})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 text-center",children:re.category}),n.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-600 text-center",children:re.ipAddress}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${re.status==="Success"?"bg-yellow-100 text-yellow-800":re.status==="Failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-orange-800"}`,children:re.status}),re.severity==="Critical"&&n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-bold bg-red-500 text-white",children:""})]})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("button",{onClick:()=>W(re),className:"p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-all inline-flex items-center justify-center",title:"View Details",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]},re.id))})]})}),n.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:n.jsx(eu,{currentPage:T,totalPages:F,totalItems:ie.length,onPageChange:I,itemLabel:"logs"})})]})]}),k&&A&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 border-b-4 border-red-800",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:" Log Details"}),n.jsx("button",{onClick:()=>C(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Log ID"}),n.jsxs("p",{className:"text-gray-900 font-mono",children:["#",A.id]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Timestamp"}),n.jsx("p",{className:"text-gray-900",children:new Date(A.timestamp).toLocaleString()})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"User"}),n.jsx("p",{className:"text-gray-900",children:A.user})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Action"}),n.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold bg-red-100 text-red-800 rounded",children:A.action})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Category"}),n.jsx("p",{className:"text-gray-900",children:A.category})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Details"}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 max-h-60 overflow-y-auto",children:typeof A.details=="object"?n.jsx("pre",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:JSON.stringify(A.details,null,2)}):n.jsx("p",{className:"text-gray-900",children:A.details||"No details available"})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"IP Address"}),n.jsx("p",{className:"text-gray-900 font-mono",children:A.ipAddress})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-semibold ${A.status==="Success"?"bg-yellow-100 text-yellow-800":A.status==="Failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-orange-800"}`,children:A.status})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Severity"}),n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-semibold ${A.severity==="Critical"?"bg-red-100 text-red-800":A.severity==="Warning"?"bg-yellow-100 text-orange-800":"bg-red-100 text-red-800"}`,children:A.severity})]}),n.jsx("button",{onClick:()=>C(!1),className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition-all",children:"Close"})]})]})}),n.jsx(Ql,{isOpen:ee,onClose:()=>G(!1),title:oe.title,message:oe.message,variant:oe.type==="error"?"danger":oe.type})]})}const zX="modulepreload",WX=function(e){return"/"+e},UA={},q2=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=u(r.map(f=>{if(f=WX(f),f in UA)return;UA[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":zX,h||(x.as="script"),x.crossOrigin="",x.href=f,l&&x.setAttribute("nonce",l),document.head.appendChild(x),h)return new Promise((p,w)=>{x.addEventListener("load",p),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function dn(e){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}var _o=Uint8Array,Oi=Uint16Array,fj=Int32Array,hj=new _o([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mj=new _o([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qA=new _o([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RE=function(e,t){for(var r=new Oi(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var s=new fj(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)s[i]=i-r[a]<<5|a;return{b:r,r:s}},TE=RE(hj,2),HX=TE.b,qw=TE.r;HX[28]=258,qw[258]=28;var VX=RE(mj,0),zA=VX.r,zw=new Oi(32768);for(var Dn=0;Dn<32768;++Dn){var Ec=(Dn&43690)>>1|(Dn&21845)<<1;Ec=(Ec&52428)>>2|(Ec&13107)<<2,Ec=(Ec&61680)>>4|(Ec&3855)<<4,zw[Dn]=((Ec&65280)>>8|(Ec&255)<<8)>>1}var Th=(function(e,t,r){for(var a=e.length,s=0,i=new Oi(t);s<a;++s)e[s]&&++i[e[s]-1];var o=new Oi(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new Oi(1<<t);var u=15-t;for(s=0;s<a;++s)if(e[s])for(var f=s<<4|e[s],h=t-e[s],m=o[e[s]-1]++<<h,x=m|(1<<h)-1;m<=x;++m)l[zw[m]>>u]=f}else for(l=new Oi(a),s=0;s<a;++s)e[s]&&(l[s]=zw[o[e[s]-1]++]>>15-e[s]);return l}),Qu=new _o(288);for(var Dn=0;Dn<144;++Dn)Qu[Dn]=8;for(var Dn=144;Dn<256;++Dn)Qu[Dn]=9;for(var Dn=256;Dn<280;++Dn)Qu[Dn]=7;for(var Dn=280;Dn<288;++Dn)Qu[Dn]=8;var Wp=new _o(32);for(var Dn=0;Dn<32;++Dn)Wp[Dn]=5;var YX=Th(Qu,9,0),GX=Th(Wp,5,0),ME=function(e){return(e+7)/8|0},KX=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new _o(e.subarray(t,r))},Fl=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},bh=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},z2=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var s=r.length,i=r.slice();if(!s)return{t:DE,l:0};if(s==1){var o=new _o(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(C,T){return C.f-T.f}),r.push({s:-1,f:25001});var l=r[0],u=r[1],f=0,h=1,m=2;for(r[0]={s:-1,f:l.f+u.f,l,r:u};h!=s-1;)l=r[r[f].f<r[m].f?f++:m++],u=r[f!=h&&r[f].f<r[m].f?f++:m++],r[h++]={s:-1,f:l.f+u.f,l,r:u};for(var x=i[0].s,a=1;a<s;++a)i[a].s>x&&(x=i[a].s);var p=new Oi(x+1),w=Ww(r[h-1],p,0);if(w>t){var a=0,v=0,y=w-t,S=1<<y;for(i.sort(function(T,I){return p[I.s]-p[T.s]||T.f-I.f});a<s;++a){var A=i[a].s;if(p[A]>t)v+=S-(1<<w-p[A]),p[A]=t;else break}for(v>>=y;v>0;){var N=i[a].s;p[N]<t?v-=1<<t-p[N]++-1:++a}for(;a>=0&&v;--a){var k=i[a].s;p[k]==t&&(--p[k],++v)}w=t}return{t:new _o(p),l:w}},Ww=function(e,t,r){return e.s==-1?Math.max(Ww(e.l,t,r+1),Ww(e.r,t,r+1)):t[e.s]=r},WA=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Oi(++t),a=0,s=e[0],i=1,o=function(u){r[a++]=u},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,a),n:t}},wh=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},IE=function(e,t,r){var a=r.length,s=ME(t+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=r[i];return(s+4+a)*8},HA=function(e,t,r,a,s,i,o,l,u,f,h){Fl(t,h++,r),++s[256];for(var m=z2(s,15),x=m.t,p=m.l,w=z2(i,15),v=w.t,y=w.l,S=WA(x),A=S.c,N=S.n,k=WA(v),C=k.c,T=k.n,I=new Oi(19),F=0;F<A.length;++F)++I[A[F]&31];for(var F=0;F<C.length;++F)++I[C[F]&31];for(var z=z2(I,7),J=z.t,R=z.l,$=19;$>4&&!J[qA[$-1]];--$);var H=f+5<<3,B=wh(s,Qu)+wh(i,Wp)+o,ce=wh(s,x)+wh(i,v)+o+14+3*$+wh(I,J)+2*I[16]+3*I[17]+7*I[18];if(u>=0&&H<=B&&H<=ce)return IE(t,h,e.subarray(u,u+f));var se,xe,te,ee;if(Fl(t,h,1+(ce<B)),h+=2,ce<B){se=Th(x,p,0),xe=x,te=Th(v,y,0),ee=v;var G=Th(J,R,0);Fl(t,h,N-257),Fl(t,h+5,T-1),Fl(t,h+10,$-4),h+=14;for(var F=0;F<$;++F)Fl(t,h+3*F,J[qA[F]]);h+=3*$;for(var oe=[A,C],q=0;q<2;++q)for(var U=oe[q],F=0;F<U.length;++F){var V=U[F]&31;Fl(t,h,G[V]),h+=J[V],V>15&&(Fl(t,h,U[F]>>5&127),h+=U[F]>>12)}}else se=YX,xe=Qu,te=GX,ee=Wp;for(var F=0;F<l;++F){var ie=a[F];if(ie>255){var V=ie>>18&31;bh(t,h,se[V+257]),h+=xe[V+257],V>7&&(Fl(t,h,ie>>23&31),h+=hj[V]);var me=ie&31;bh(t,h,te[me]),h+=ee[me],me>3&&(bh(t,h,ie>>5&8191),h+=mj[me])}else bh(t,h,se[ie]),h+=xe[ie]}return bh(t,h,se[256]),h+xe[256]},XX=new fj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DE=new _o(0),JX=function(e,t,r,a,s,i){var o=i.z||e.length,l=new _o(a+o+5*(1+Math.ceil(o/7e3))+s),u=l.subarray(a,l.length-s),f=i.l,h=(i.r||0)&7;if(t){h&&(u[0]=i.r>>3);for(var m=XX[t-1],x=m>>13,p=m&8191,w=(1<<r)-1,v=i.p||new Oi(32768),y=i.h||new Oi(w+1),S=Math.ceil(r/3),A=2*S,N=function(be){return(e[be]^e[be+1]<<S^e[be+2]<<A)&w},k=new fj(25e3),C=new Oi(288),T=new Oi(32),I=0,F=0,z=i.i||0,J=0,R=i.w||0,$=0;z+2<o;++z){var H=N(z),B=z&32767,ce=y[H];if(v[B]=ce,y[H]=B,R<=z){var se=o-z;if((I>7e3||J>24576)&&(se>423||!f)){h=HA(e,u,0,k,C,T,F,J,$,z-$,h),J=I=F=0,$=z;for(var xe=0;xe<286;++xe)C[xe]=0;for(var xe=0;xe<30;++xe)T[xe]=0}var te=2,ee=0,G=p,oe=B-ce&32767;if(se>2&&H==N(z-oe))for(var q=Math.min(x,se)-1,U=Math.min(32767,z),V=Math.min(258,se);oe<=U&&--G&&B!=ce;){if(e[z+te]==e[z+te-oe]){for(var ie=0;ie<V&&e[z+ie]==e[z+ie-oe];++ie);if(ie>te){if(te=ie,ee=oe,ie>q)break;for(var me=Math.min(oe,ie-2),W=0,xe=0;xe<me;++xe){var de=z-oe+xe&32767,re=v[de],Q=de-re&32767;Q>W&&(W=Q,ce=de)}}}B=ce,ce=v[B],oe+=B-ce&32767}if(ee){k[J++]=268435456|qw[te]<<18|zA[ee];var Ne=qw[te]&31,he=zA[ee]&31;F+=hj[Ne]+mj[he],++C[257+Ne],++T[he],R=z+te,++I}else k[J++]=e[z],++C[e[z]]}}for(z=Math.max(z,R);z<o;++z)k[J++]=e[z],++C[e[z]];h=HA(e,u,f,k,C,T,F,J,$,z-$,h),f||(i.r=h&7|u[h/8|0]<<3,h-=7,i.h=y,i.p=v,i.i=z,i.w=R)}else{for(var z=i.w||0;z<o+f;z+=65535){var we=z+65535;we>=o&&(u[h/8|0]=f,we=o),h=IE(u,h+1,e.subarray(z,we))}i.i=o}return KX(l,0,a+ME(h)+s)},FE=function(){var e=1,t=0;return{p:function(r){for(var a=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=r[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},QX=function(e,t,r,a,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new _o(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return JX(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,s)},$E=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ZX=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=FE();s.p(t.dictionary),$E(e,2,s.d())}};function Hw(e,t){t||(t={});var r=FE();r.p(e);var a=QX(e,t,t.dictionary?6:2,4);return ZX(a,t),$E(a,a.length-4,r.d()),a}var eJ=typeof TextDecoder<"u"&&new TextDecoder,tJ=0;try{eJ.decode(DE,{stream:!0}),tJ=1}catch{}function rJ(e){if(Array.isArray(e))return e}function nJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function VA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function aJ(e,t){if(e){if(typeof e=="string")return VA(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VA(e,t):void 0}}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YA(e,t){return rJ(e)||nJ(e,t)||aJ(e,t)||sJ()}function GA(e,t="utf8"){return new TextDecoder(t).decode(e)}const iJ=new TextEncoder;function oJ(e){return iJ.encode(e)}const lJ=1024*8,cJ=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),W2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class pj{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=lJ,r={}){let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof pj)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=W2[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===cJ&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const u=new W2[r](l.buffer);return this.offset+=a,u.reverse(),u}const o=new W2[r](i);return this.offset+=a,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return GA(this.readBytes(t))}decodeText(t=1,r="utf8"){return GA(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(oJ(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Df(e){let t=e.length;for(;--t>=0;)e[t]=0}const uJ=3,dJ=258,BE=29,fJ=256,hJ=fJ+1+BE,UE=30,mJ=512,pJ=new Array((hJ+2)*2);Df(pJ);const gJ=new Array(UE*2);Df(gJ);const xJ=new Array(mJ);Df(xJ);const vJ=new Array(dJ-uJ+1);Df(vJ);const yJ=new Array(BE);Df(yJ);const bJ=new Array(UE);Df(bJ);const wJ=(e,t,r,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Vw=wJ;const jJ=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},NJ=new Uint32Array(jJ()),SJ=(e,t,r,a)=>{const s=NJ,i=a+r;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Xo=SJ,Yw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _J=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var kJ=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)_J(r,a)&&(e[a]=r[a])}}return e},AJ=e=>{let t=0;for(let a=0,s=e.length;a<s;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];r.set(o,s),s+=o.length}return r},zE={assign:kJ,flattenChunks:AJ};let WE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{WE=!1}const d0=new Uint8Array(256);for(let e=0;e<256;e++)d0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;d0[254]=d0[254]=1;var CJ=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const PJ=(e,t)=>{if(t<65534&&e.subarray&&WE)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var EJ=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,s;const i=new Array(r*2);for(s=0,a=0;a<r;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=d0[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<r;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return PJ(i,s)},LJ=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+d0[e[r]]>t?r:t},Gw={string2buf:CJ,buf2string:EJ,utf8border:LJ};function OJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var RJ=OJ;const Am=16209,TJ=16191;var MJ=function(t,r){let a,s,i,o,l,u,f,h,m,x,p,w,v,y,S,A,N,k,C,T,I,F,z,J;const R=t.state;a=t.next_in,z=t.input,s=a+(t.avail_in-5),i=t.next_out,J=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),u=R.dmax,f=R.wsize,h=R.whave,m=R.wnext,x=R.window,p=R.hold,w=R.bits,v=R.lencode,y=R.distcode,S=(1<<R.lenbits)-1,A=(1<<R.distbits)-1;e:do{w<15&&(p+=z[a++]<<w,w+=8,p+=z[a++]<<w,w+=8),N=v[p&S];t:for(;;){if(k=N>>>24,p>>>=k,w-=k,k=N>>>16&255,k===0)J[i++]=N&65535;else if(k&16){C=N&65535,k&=15,k&&(w<k&&(p+=z[a++]<<w,w+=8),C+=p&(1<<k)-1,p>>>=k,w-=k),w<15&&(p+=z[a++]<<w,w+=8,p+=z[a++]<<w,w+=8),N=y[p&A];r:for(;;){if(k=N>>>24,p>>>=k,w-=k,k=N>>>16&255,k&16){if(T=N&65535,k&=15,w<k&&(p+=z[a++]<<w,w+=8,w<k&&(p+=z[a++]<<w,w+=8)),T+=p&(1<<k)-1,T>u){t.msg="invalid distance too far back",R.mode=Am;break e}if(p>>>=k,w-=k,k=i-o,T>k){if(k=T-k,k>h&&R.sane){t.msg="invalid distance too far back",R.mode=Am;break e}if(I=0,F=x,m===0){if(I+=f-k,k<C){C-=k;do J[i++]=x[I++];while(--k);I=i-T,F=J}}else if(m<k){if(I+=f+m-k,k-=m,k<C){C-=k;do J[i++]=x[I++];while(--k);if(I=0,m<C){k=m,C-=k;do J[i++]=x[I++];while(--k);I=i-T,F=J}}}else if(I+=m-k,k<C){C-=k;do J[i++]=x[I++];while(--k);I=i-T,F=J}for(;C>2;)J[i++]=F[I++],J[i++]=F[I++],J[i++]=F[I++],C-=3;C&&(J[i++]=F[I++],C>1&&(J[i++]=F[I++]))}else{I=i-T;do J[i++]=J[I++],J[i++]=J[I++],J[i++]=J[I++],C-=3;while(C>2);C&&(J[i++]=J[I++],C>1&&(J[i++]=J[I++]))}}else if((k&64)===0){N=y[(N&65535)+(p&(1<<k)-1)];continue r}else{t.msg="invalid distance code",R.mode=Am;break e}break}}else if((k&64)===0){N=v[(N&65535)+(p&(1<<k)-1)];continue t}else if(k&32){R.mode=TJ;break e}else{t.msg="invalid literal/length code",R.mode=Am;break e}break}}while(a<s&&i<l);C=w>>3,a-=C,w-=C<<3,p&=(1<<w)-1,t.next_in=a,t.next_out=i,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=i<l?257+(l-i):257-(i-l),R.hold=p,R.bits=w};const Pd=15,KA=852,XA=592,JA=0,H2=1,QA=2,IJ=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),DJ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),FJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$J=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),BJ=(e,t,r,a,s,i,o,l)=>{const u=l.bits;let f=0,h=0,m=0,x=0,p=0,w=0,v=0,y=0,S=0,A=0,N,k,C,T,I,F=null,z;const J=new Uint16Array(Pd+1),R=new Uint16Array(Pd+1);let $=null,H,B,ce;for(f=0;f<=Pd;f++)J[f]=0;for(h=0;h<a;h++)J[t[r+h]]++;for(p=u,x=Pd;x>=1&&J[x]===0;x--);if(p>x&&(p=x),x===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<x&&J[m]===0;m++);for(p<m&&(p=m),y=1,f=1;f<=Pd;f++)if(y<<=1,y-=J[f],y<0)return-1;if(y>0&&(e===JA||x!==1))return-1;for(R[1]=0,f=1;f<Pd;f++)R[f+1]=R[f]+J[f];for(h=0;h<a;h++)t[r+h]!==0&&(o[R[t[r+h]]++]=h);if(e===JA?(F=$=o,z=20):e===H2?(F=IJ,$=DJ,z=257):(F=FJ,$=$J,z=0),A=0,h=0,f=m,I=i,w=p,v=0,C=-1,S=1<<p,T=S-1,e===H2&&S>KA||e===QA&&S>XA)return 1;for(;;){H=f-v,o[h]+1<z?(B=0,ce=o[h]):o[h]>=z?(B=$[o[h]-z],ce=F[o[h]-z]):(B=96,ce=0),N=1<<f-v,k=1<<w,m=k;do k-=N,s[I+(A>>v)+k]=H<<24|B<<16|ce|0;while(k!==0);for(N=1<<f-1;A&N;)N>>=1;if(N!==0?(A&=N-1,A+=N):A=0,h++,--J[f]===0){if(f===x)break;f=t[r+o[h]]}if(f>p&&(A&T)!==C){for(v===0&&(v=p),I+=m,w=f-v,y=1<<w;w+v<x&&(y-=J[w+v],!(y<=0));)w++,y<<=1;if(S+=1<<w,e===H2&&S>KA||e===QA&&S>XA)return 1;C=A&T,s[C]=p<<24|w<<16|I-i|0}}return A!==0&&(s[I+A]=f-v<<24|64<<16|0),l.bits=p,0};var Mh=BJ;const UJ=0,HE=1,VE=2,{Z_FINISH:ZA,Z_BLOCK:qJ,Z_TREES:Cm,Z_OK:Zu,Z_STREAM_END:zJ,Z_NEED_DICT:WJ,Z_STREAM_ERROR:ro,Z_DATA_ERROR:YE,Z_MEM_ERROR:GE,Z_BUF_ERROR:HJ,Z_DEFLATED:eC}=qE,Fg=16180,tC=16181,rC=16182,nC=16183,aC=16184,sC=16185,iC=16186,oC=16187,lC=16188,cC=16189,Hp=16190,$l=16191,V2=16192,uC=16193,Y2=16194,dC=16195,fC=16196,hC=16197,mC=16198,Pm=16199,Em=16200,pC=16201,gC=16202,xC=16203,vC=16204,yC=16205,G2=16206,bC=16207,wC=16208,Hn=16209,KE=16210,XE=16211,VJ=852,YJ=592,GJ=15,KJ=GJ,jC=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function XJ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const sd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Fg||t.mode>XE?1:0},JE=e=>{if(sd(e))return ro;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Fg,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(VJ),t.distcode=t.distdyn=new Int32Array(YJ),t.sane=1,t.back=-1,Zu},QE=e=>{if(sd(e))return ro;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,JE(e)},ZE=(e,t)=>{let r;if(sd(e))return ro;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ro:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,QE(e))},eL=(e,t)=>{if(!e)return ro;const r=new XJ;e.state=r,r.strm=e,r.window=null,r.mode=Fg;const a=ZE(e,t);return a!==Zu&&(e.state=null),a},JJ=e=>eL(e,KJ);let NC=!0,K2,X2;const QJ=e=>{if(NC){K2=new Int32Array(512),X2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Mh(HE,e.lens,0,288,K2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Mh(VE,e.lens,0,32,X2,0,e.work,{bits:5}),NC=!1}e.lencode=K2,e.lenbits=9,e.distcode=X2,e.distbits=5},tL=(e,t,r,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(t.subarray(r-a,r-a+s),i.wnext),a-=s,a?(i.window.set(t.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},ZJ=(e,t)=>{let r,a,s,i,o,l,u,f,h,m,x,p,w,v,y=0,S,A,N,k,C,T,I,F;const z=new Uint8Array(4);let J,R;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(sd(e)||!e.output||!e.input&&e.avail_in!==0)return ro;r=e.state,r.mode===$l&&(r.mode=V2),o=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,f=r.hold,h=r.bits,m=l,x=u,F=Zu;e:for(;;)switch(r.mode){case Fg:if(r.wrap===0){r.mode=V2;break}for(;h<16;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,z[0]=f&255,z[1]=f>>>8&255,r.check=Xo(r.check,z,2,0),f=0,h=0,r.mode=tC;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=Hn;break}if((f&15)!==eC){e.msg="unknown compression method",r.mode=Hn;break}if(f>>>=4,h-=4,I=(f&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){e.msg="invalid window size",r.mode=Hn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?cC:$l,f=0,h=0;break;case tC:for(;h<16;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if(r.flags=f,(r.flags&255)!==eC){e.msg="unknown compression method",r.mode=Hn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Hn;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(z[0]=f&255,z[1]=f>>>8&255,r.check=Xo(r.check,z,2,0)),f=0,h=0,r.mode=rC;case rC:for(;h<32;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(z[0]=f&255,z[1]=f>>>8&255,z[2]=f>>>16&255,z[3]=f>>>24&255,r.check=Xo(r.check,z,4,0)),f=0,h=0,r.mode=nC;case nC:for(;h<16;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(z[0]=f&255,z[1]=f>>>8&255,r.check=Xo(r.check,z,2,0)),f=0,h=0,r.mode=aC;case aC:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(z[0]=f&255,z[1]=f>>>8&255,r.check=Xo(r.check,z,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=sC;case sC:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+p),I)),r.flags&512&&r.wrap&4&&(r.check=Xo(r.check,a,p,i)),l-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=iC;case iC:if(r.flags&2048){if(l===0)break e;p=0;do I=a[i+p++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Xo(r.check,a,p,i)),l-=p,i+=p,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=oC;case oC:if(r.flags&4096){if(l===0)break e;p=0;do I=a[i+p++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Xo(r.check,a,p,i)),l-=p,i+=p,I)break e}else r.head&&(r.head.comment=null);r.mode=lC;case lC:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Hn;break}f=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=$l;break;case cC:for(;h<32;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}e.adler=r.check=jC(f),f=0,h=0,r.mode=Hp;case Hp:if(r.havedict===0)return e.next_out=o,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=f,r.bits=h,WJ;e.adler=r.check=1,r.mode=$l;case $l:if(t===qJ||t===Cm)break e;case V2:if(r.last){f>>>=h&7,h-=h&7,r.mode=G2;break}for(;h<3;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}switch(r.last=f&1,f>>>=1,h-=1,f&3){case 0:r.mode=uC;break;case 1:if(QJ(r),r.mode=Pm,t===Cm){f>>>=2,h-=2;break e}break;case 2:r.mode=fC;break;case 3:e.msg="invalid block type",r.mode=Hn}f>>>=2,h-=2;break;case uC:for(f>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Hn;break}if(r.length=f&65535,f=0,h=0,r.mode=Y2,t===Cm)break e;case Y2:r.mode=dC;case dC:if(p=r.length,p){if(p>l&&(p=l),p>u&&(p=u),p===0)break e;s.set(a.subarray(i,i+p),o),l-=p,i+=p,u-=p,o+=p,r.length-=p;break}r.mode=$l;break;case fC:for(;h<14;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if(r.nlen=(f&31)+257,f>>>=5,h-=5,r.ndist=(f&31)+1,f>>>=5,h-=5,r.ncode=(f&15)+4,f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Hn;break}r.have=0,r.mode=hC;case hC:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}r.lens[$[r.have++]]=f&7,f>>>=3,h-=3}for(;r.have<19;)r.lens[$[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,J={bits:r.lenbits},F=Mh(UJ,r.lens,0,19,r.lencode,0,r.work,J),r.lenbits=J.bits,F){e.msg="invalid code lengths set",r.mode=Hn;break}r.have=0,r.mode=mC;case mC:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[f&(1<<r.lenbits)-1],S=y>>>24,A=y>>>16&255,N=y&65535,!(S<=h);){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if(N<16)f>>>=S,h-=S,r.lens[r.have++]=N;else{if(N===16){for(R=S+2;h<R;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if(f>>>=S,h-=S,r.have===0){e.msg="invalid bit length repeat",r.mode=Hn;break}I=r.lens[r.have-1],p=3+(f&3),f>>>=2,h-=2}else if(N===17){for(R=S+3;h<R;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}f>>>=S,h-=S,I=0,p=3+(f&7),f>>>=3,h-=3}else{for(R=S+7;h<R;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}f>>>=S,h-=S,I=0,p=11+(f&127),f>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Hn;break}for(;p--;)r.lens[r.have++]=I}}if(r.mode===Hn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Hn;break}if(r.lenbits=9,J={bits:r.lenbits},F=Mh(HE,r.lens,0,r.nlen,r.lencode,0,r.work,J),r.lenbits=J.bits,F){e.msg="invalid literal/lengths set",r.mode=Hn;break}if(r.distbits=6,r.distcode=r.distdyn,J={bits:r.distbits},F=Mh(VE,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,J),r.distbits=J.bits,F){e.msg="invalid distances set",r.mode=Hn;break}if(r.mode=Pm,t===Cm)break e;case Pm:r.mode=Em;case Em:if(l>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=f,r.bits=h,MJ(e,x),o=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,f=r.hold,h=r.bits,r.mode===$l&&(r.back=-1);break}for(r.back=0;y=r.lencode[f&(1<<r.lenbits)-1],S=y>>>24,A=y>>>16&255,N=y&65535,!(S<=h);){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if(A&&(A&240)===0){for(k=S,C=A,T=N;y=r.lencode[T+((f&(1<<k+C)-1)>>k)],S=y>>>24,A=y>>>16&255,N=y&65535,!(k+S<=h);){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}f>>>=k,h-=k,r.back+=k}if(f>>>=S,h-=S,r.back+=S,r.length=N,A===0){r.mode=yC;break}if(A&32){r.back=-1,r.mode=$l;break}if(A&64){e.msg="invalid literal/length code",r.mode=Hn;break}r.extra=A&15,r.mode=pC;case pC:if(r.extra){for(R=r.extra;h<R;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=gC;case gC:for(;y=r.distcode[f&(1<<r.distbits)-1],S=y>>>24,A=y>>>16&255,N=y&65535,!(S<=h);){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if((A&240)===0){for(k=S,C=A,T=N;y=r.distcode[T+((f&(1<<k+C)-1)>>k)],S=y>>>24,A=y>>>16&255,N=y&65535,!(k+S<=h);){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}f>>>=k,h-=k,r.back+=k}if(f>>>=S,h-=S,r.back+=S,A&64){e.msg="invalid distance code",r.mode=Hn;break}r.offset=N,r.extra=A&15,r.mode=xC;case xC:if(r.extra){for(R=r.extra;h<R;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Hn;break}r.mode=vC;case vC:if(u===0)break e;if(p=x-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Hn;break}p>r.wnext?(p-=r.wnext,w=r.wsize-p):w=r.wnext-p,p>r.length&&(p=r.length),v=r.window}else v=s,w=o-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do s[o++]=v[w++];while(--p);r.length===0&&(r.mode=Em);break;case yC:if(u===0)break e;s[o++]=r.length,u--,r.mode=Em;break;case G2:if(r.wrap){for(;h<32;){if(l===0)break e;l--,f|=a[i++]<<h,h+=8}if(x-=u,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?Xo(r.check,s,x,o-x):Vw(r.check,s,x,o-x)),x=u,r.wrap&4&&(r.flags?f:jC(f))!==r.check){e.msg="incorrect data check",r.mode=Hn;break}f=0,h=0}r.mode=bC;case bC:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,f+=a[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Hn;break}f=0,h=0}r.mode=wC;case wC:F=zJ;break e;case Hn:F=YE;break e;case KE:return GE;case XE:default:return ro}return e.next_out=o,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=f,r.bits=h,(r.wsize||x!==e.avail_out&&r.mode<Hn&&(r.mode<G2||t!==ZA))&&tL(e,e.output,e.next_out,x-e.avail_out),m-=e.avail_in,x-=e.avail_out,e.total_in+=m,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?Xo(r.check,s,x,e.next_out-x):Vw(r.check,s,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(r.mode===$l?128:0)+(r.mode===Pm||r.mode===Y2?256:0),(m===0&&x===0||t===ZA)&&F===Zu&&(F=HJ),F},eQ=e=>{if(sd(e))return ro;let t=e.state;return t.window&&(t.window=null),e.state=null,Zu},tQ=(e,t)=>{if(sd(e))return ro;const r=e.state;return(r.wrap&2)===0?ro:(r.head=t,t.done=!1,Zu)},rQ=(e,t)=>{const r=t.length;let a,s,i;return sd(e)||(a=e.state,a.wrap!==0&&a.mode!==Hp)?ro:a.mode===Hp&&(s=1,s=Vw(s,t,r,0),s!==a.check)?YE:(i=tL(e,t,r,r),i?(a.mode=KE,GE):(a.havedict=1,Zu))};var nQ=QE,aQ=ZE,sQ=JE,iQ=JJ,oQ=eL,lQ=ZJ,cQ=eQ,uQ=tQ,dQ=rQ,fQ="pako inflate (from Nodeca project)",Ul={inflateReset:nQ,inflateReset2:aQ,inflateResetKeep:sQ,inflateInit:iQ,inflateInit2:oQ,inflate:lQ,inflateEnd:cQ,inflateGetHeader:uQ,inflateSetDictionary:dQ,inflateInfo:fQ};function hQ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mQ=hQ;const rL=Object.prototype.toString,{Z_NO_FLUSH:pQ,Z_FINISH:gQ,Z_OK:f0,Z_STREAM_END:J2,Z_NEED_DICT:Q2,Z_STREAM_ERROR:xQ,Z_DATA_ERROR:SC,Z_MEM_ERROR:vQ}=qE;function L0(e){this.options=zE.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new RJ,this.strm.avail_out=0;let r=Ul.inflateInit2(this.strm,t.windowBits);if(r!==f0)throw new Error(Yw[r]);if(this.header=new mQ,Ul.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Gw.string2buf(t.dictionary):rL.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ul.inflateSetDictionary(this.strm,t.dictionary),r!==f0)))throw new Error(Yw[r])}L0.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?gQ:pQ,rL.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=Ul.inflate(r,o),i===Q2&&s&&(i=Ul.inflateSetDictionary(r,s),i===f0?i=Ul.inflate(r,o):i===SC&&(i=Q2));r.avail_in>0&&i===J2&&r.state.wrap>0&&e[r.next_in]!==0;)Ul.inflateReset(r),i=Ul.inflate(r,o);switch(i){case xQ:case SC:case Q2:case vQ:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===J2))if(this.options.to==="string"){let u=Gw.utf8border(r.output,r.next_out),f=r.next_out-u,h=Gw.buf2string(r.output,u);r.next_out=f,r.avail_out=a-f,f&&r.output.set(r.output.subarray(u,u+f),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===f0&&l===0)){if(i===J2)return i=Ul.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};L0.prototype.onData=function(e){this.chunks.push(e)};L0.prototype.onEnd=function(e){e===f0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zE.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function yQ(e,t){const r=new L0(t);if(r.push(e),r.err)throw r.msg||Yw[r.err];return r.result}var bQ=L0,wQ=yQ,jQ={Inflate:bQ,inflate:wQ};const{Inflate:NQ,inflate:SQ}=jQ;var _C=NQ,_Q=SQ;const nL=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;nL[e]=t}const kC=4294967295;function kQ(e,t,r){let a=e;for(let s=0;s<r;s++)a=nL[(a^t[s])&255]^a>>>8;return a}function AQ(e,t){return(kQ(kC,e,t)^kC)>>>0}function AC(e,t,r){const a=e.readUint32(),s=AQ(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${s}`)}function aL(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function sL(e,t,r,a){let s=0;for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-a]&255}function iL(e,t,r,a){let s=0;if(r.length===0)for(;s<a;s++)t[s]=e[s];else for(;s<a;s++)t[s]=e[s]+r[s]&255}function oL(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function lL(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<a;i++)t[i]=e[i]+CQ(t[i-s],r[i],r[i-s])&255}}function CQ(e,t,r){const a=e+t-r,s=Math.abs(a-e),i=Math.abs(a-t),o=Math.abs(a-r);return s<=i&&s<=o?e:i<=o?t:r}function PQ(e,t,r,a,s,i){switch(e){case 0:aL(t,r,s);break;case 1:sL(t,r,s,i);break;case 2:iL(t,r,a,s);break;case 3:oL(t,r,a,s,i);break;case 4:lL(t,r,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const EQ=new Uint16Array([255]),LQ=new Uint8Array(EQ.buffer),OQ=LQ[0]===255;function RQ(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,u=new Uint8Array(a*r*l);let f=0;for(let h=0;h<7;h++){const m=o[h],x=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((a-m.y)/m.yStep);if(x<=0||p<=0)continue;const w=x*l,v=new Uint8Array(w);for(let y=0;y<p;y++){const S=t[f++],A=t.subarray(f,f+w);f+=w;const N=new Uint8Array(w);PQ(S,A,N,v,w,l),v.set(N);for(let k=0;k<x;k++){const C=m.x+k*m.xStep,T=m.y+y*m.yStep;if(!(C>=r||T>=a))for(let I=0;I<l;I++)u[(T*r+C)*l+I]=N[k*l+I]}}}if(i===16){const h=new Uint16Array(u.buffer);if(OQ)for(let m=0;m<h.length;m++)h[m]=TQ(h[m]);return h}else return u}function TQ(e){return(e&255)<<8|e>>8&255}const MQ=new Uint16Array([255]),IQ=new Uint8Array(MQ.buffer),DQ=IQ[0]===255,FQ=new Uint8Array(0);function CC(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),u=new Uint8Array(a*l);let f=FQ,h=0,m,x;for(let p=0;p<a;p++){switch(m=t.subarray(h+1,h+1+l),x=u.subarray(p*l,(p+1)*l),t[h]){case 0:aL(m,x,l);break;case 1:sL(m,x,l,o);break;case 2:iL(m,x,f,l);break;case 3:oL(m,x,f,l,o);break;case 4:lL(m,x,f,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}f=x,h+=l+1}if(i===16){const p=new Uint16Array(u.buffer);if(DQ)for(let w=0;w<p.length;w++)p[w]=$Q(p[w]);return p}else return u}function $Q(e){return(e&255)<<8|e>>8&255}const Bm=Uint8Array.of(137,80,78,71,13,10,26,10);function PC(e){if(!BQ(e.readBytes(Bm.length)))throw new Error("wrong PNG signature")}function BQ(e){if(e.length<Bm.length)return!1;for(let t=0;t<Bm.length;t++)if(e[t]!==Bm[t])return!1;return!0}const UQ="tEXt",qQ=0,cL=new TextDecoder("latin1");function zQ(e){if(HQ(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const WQ=/^[\u0000-\u00FF]*$/;function HQ(e){if(!WQ.test(e))throw new Error("invalid latin1 text")}function VQ(e,t,r){const a=uL(t);e[a]=YQ(t,r-a.length-1)}function uL(e){for(e.mark();e.readByte()!==qQ;);const t=e.offset;e.reset();const r=cL.decode(e.readBytes(t-e.offset-1));return e.skip(1),zQ(r),r}function YQ(e,t){return cL.decode(e.readBytes(t))}const Pi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Z2={UNKNOWN:-1,DEFLATE:0},EC={UNKNOWN:-1,ADAPTIVE:0},eb={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lm={NONE:0,BACKGROUND:1,PREVIOUS:2},tb={SOURCE:0,OVER:1};class GQ extends pj{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:a=!1}=r;this._checkCrc=a,this._inflator=new _C,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Z2.UNKNOWN,this._filterMethod=EC.UNKNOWN,this._interlaceMethod=eb.UNKNOWN,this._colorType=Pi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(PC(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(PC(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const a=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case UQ:VQ(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?AC(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const a=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?AC(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=KQ(this.readUint8());const r=this.readUint8();this._colorType=r;let a;switch(r){case Pi.GREYSCALE:a=1;break;case Pi.TRUECOLOUR:a=3;break;case Pi.INDEXED_COLOUR:a=1;break;case Pi.GREYSCALE_ALPHA:a=2;break;case Pi.TRUECOLOUR_ALPHA:a=4;break;case Pi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Z2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<r;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,a=this.offset+this.byteOffset;if(a+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Pi.GREYSCALE:case Pi.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Pi.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const a=this.readByte();this._palette[r].push(a)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Pi.UNKNOWN:case Pi.GREYSCALE_ALPHA:case Pi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=uL(this),a=this.readUint8();if(a!==Z2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:_Q(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:r,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=CC({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)r.data=a.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(a,s,r),this.addFrameDataToCanvas(r,a)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,a){switch(t.disposeOp){case Lm.NONE:break;case Lm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const o=(s*t.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)a.data[o+l]=0}break;case Lm.PREVIOUS:a.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const a=1<<this._png.depth,s=(i,o)=>{const l=((i+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(i*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case tb.SOURCE:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(i,o);for(let f=0;f<this._png.channels;f++)t.data[l+f]=r.data[u+f]}break;case tb.OVER:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=s(i,o);for(let f=0;f<this._png.channels;f++){const h=r.data[u+this._png.channels-1]/a,m=f%(this._png.channels-1)===0?1:r.data[u+f],x=Math.floor(h*m+(1-h)*t.data[l+f]);t.data[l+f]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==EC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===eb.NO_INTERLACE)this._png.data=CC({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===eb.ADAM7)this._png.data=RQ({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lm.NONE,blendOp:tb.SOURCE,data:t}),this._inflator=new _C,this._writingDataChunks=!1}}function KQ(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var LC;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(LC||(LC={}));function XQ(e,t){return new GQ(e,t).decode()}var fr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function rb(){fr.console&&typeof fr.console.log=="function"&&fr.console.log.apply(fr.console,arguments)}var wn={log:rb,warn:function(e){fr.console&&(typeof fr.console.warn=="function"?fr.console.warn.apply(fr.console,arguments):rb.call(null,arguments))},error:function(e){fr.console&&(typeof fr.console.error=="function"?fr.console.error.apply(fr.console,arguments):rb(e))}};function nb(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Tu(a.response,t,r)},a.onerror=function(){wn.error("could not download file")},a.send()}function OC(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Om(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Tu=fr.saveAs||((typeof window>"u"?"undefined":dn(window))!=="object"||window!==fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=fr.URL||fr.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?OC(s.href)?nb(e,t,r):Om(s,s.target="_blank"):Om(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){Om(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(OC(e))nb(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){Om(a)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:dn(i)!=="object"&&(wn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return nb(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(fr.HTMLElement)||fr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":dn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=h:location=h,a=null},l.readAsDataURL(e)}else{var u=fr.URL||fr.webkitURL,f=u.createObjectURL(e);a?a.location=f:location.href=f,a=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dL(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var s=r[a].re,i=r[a].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f}}var Um=fr.atob.bind(fr),RC=fr.btoa.bind(fr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ab(e,t){var r=e[0],a=e[1],s=e[2],i=e[3];r=Ss(r,a,s,i,t[0],7,-680876936),i=Ss(i,r,a,s,t[1],12,-389564586),s=Ss(s,i,r,a,t[2],17,606105819),a=Ss(a,s,i,r,t[3],22,-1044525330),r=Ss(r,a,s,i,t[4],7,-176418897),i=Ss(i,r,a,s,t[5],12,1200080426),s=Ss(s,i,r,a,t[6],17,-1473231341),a=Ss(a,s,i,r,t[7],22,-45705983),r=Ss(r,a,s,i,t[8],7,1770035416),i=Ss(i,r,a,s,t[9],12,-1958414417),s=Ss(s,i,r,a,t[10],17,-42063),a=Ss(a,s,i,r,t[11],22,-1990404162),r=Ss(r,a,s,i,t[12],7,1804603682),i=Ss(i,r,a,s,t[13],12,-40341101),s=Ss(s,i,r,a,t[14],17,-1502002290),r=_s(r,a=Ss(a,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=_s(i,r,a,s,t[6],9,-1069501632),s=_s(s,i,r,a,t[11],14,643717713),a=_s(a,s,i,r,t[0],20,-373897302),r=_s(r,a,s,i,t[5],5,-701558691),i=_s(i,r,a,s,t[10],9,38016083),s=_s(s,i,r,a,t[15],14,-660478335),a=_s(a,s,i,r,t[4],20,-405537848),r=_s(r,a,s,i,t[9],5,568446438),i=_s(i,r,a,s,t[14],9,-1019803690),s=_s(s,i,r,a,t[3],14,-187363961),a=_s(a,s,i,r,t[8],20,1163531501),r=_s(r,a,s,i,t[13],5,-1444681467),i=_s(i,r,a,s,t[2],9,-51403784),s=_s(s,i,r,a,t[7],14,1735328473),r=ks(r,a=_s(a,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=ks(i,r,a,s,t[8],11,-2022574463),s=ks(s,i,r,a,t[11],16,1839030562),a=ks(a,s,i,r,t[14],23,-35309556),r=ks(r,a,s,i,t[1],4,-1530992060),i=ks(i,r,a,s,t[4],11,1272893353),s=ks(s,i,r,a,t[7],16,-155497632),a=ks(a,s,i,r,t[10],23,-1094730640),r=ks(r,a,s,i,t[13],4,681279174),i=ks(i,r,a,s,t[0],11,-358537222),s=ks(s,i,r,a,t[3],16,-722521979),a=ks(a,s,i,r,t[6],23,76029189),r=ks(r,a,s,i,t[9],4,-640364487),i=ks(i,r,a,s,t[12],11,-421815835),s=ks(s,i,r,a,t[15],16,530742520),r=As(r,a=ks(a,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=As(i,r,a,s,t[7],10,1126891415),s=As(s,i,r,a,t[14],15,-1416354905),a=As(a,s,i,r,t[5],21,-57434055),r=As(r,a,s,i,t[12],6,1700485571),i=As(i,r,a,s,t[3],10,-1894986606),s=As(s,i,r,a,t[10],15,-1051523),a=As(a,s,i,r,t[1],21,-2054922799),r=As(r,a,s,i,t[8],6,1873313359),i=As(i,r,a,s,t[15],10,-30611744),s=As(s,i,r,a,t[6],15,-1560198380),a=As(a,s,i,r,t[13],21,1309151649),r=As(r,a,s,i,t[4],6,-145523070),i=As(i,r,a,s,t[11],10,-1120210379),s=As(s,i,r,a,t[2],15,718787259),a=As(a,s,i,r,t[9],21,-343485551),e[0]=Fc(r,e[0]),e[1]=Fc(a,e[1]),e[2]=Fc(s,e[2]),e[3]=Fc(i,e[3])}function $g(e,t,r,a,s,i){return t=Fc(Fc(t,e),Fc(a,i)),Fc(t<<s|t>>>32-s,r)}function Ss(e,t,r,a,s,i,o){return $g(t&r|~t&a,e,t,s,i,o)}function _s(e,t,r,a,s,i,o){return $g(t&a|r&~a,e,t,s,i,o)}function ks(e,t,r,a,s,i,o){return $g(t^r^a,e,t,s,i,o)}function As(e,t,r,a,s,i,o){return $g(r^(t|~a),e,t,s,i,o)}function fL(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)ab(a,JQ(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(ab(a,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,ab(a,s),a}function JQ(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var TC="0123456789abcdef".split("");function QQ(e){for(var t="",r=0;r<4;r++)t+=TC[e>>8*r+4&15]+TC[e>>8*r&15];return t}function ZQ(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Kw(e){return fL(e).map(ZQ).join("")}var eZ=(function(e){for(var t=0;t<e.length;t++)e[t]=QQ(e[t]);return e.join("")})(fL("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fc(e,t){if(eZ){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Xw(e,t){var r,a,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],u=0;u<256;u++)l[u]=u;var f=0;for(u=0;u<256;u++){var h=l[u];f=(f+h+o.charCodeAt(u))%256,l[u]=l[f],l[f]=h}r=e,a=l}else l=a;var m=t.length,x=0,p=0,w="";for(u=0;u<m;u++)p=(p+(h=l[x=(x+1)%256]))%256,l[x]=l[p],l[p]=h,o=l[(l[x]+l[p])%256],w+=String.fromCharCode(t.charCodeAt(u)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var MC={print:4,modify:8,copy:16,"annot-forms":32};function Td(e,t,r,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(MC.perm!==void 0)throw new Error("Invalid permission: "+l);s+=MC[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=Kw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Xw(this.encryptionKey,this.padding)}function Md(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var s=e.charCodeAt(a);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return t}function IC(e){if(dn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,s){if(s=s||!1,typeof r!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!s],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,a)}catch(l){fr.console&&wn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Vp(e){if(!(this instanceof Vp))return new Vp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function hL(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Du(e,t,r,a,s){if(!(this instanceof Du))return new Du(e,t,r,a,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,hL.call(this,a,s)}function Bd(e,t,r,a,s){if(!(this instanceof Bd))return new Bd(e,t,r,a,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,hL.call(this,a,s)}function Gt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,u=16,f="S",h=null;dn(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,x={},p={internal:{},__private__:{}};p.__private__.PubSub=IC;var w="1.3",v=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(P){w=P};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var S=p.__private__.getPageFormat=function(P){return y[P]};s=s||"a4";var A="compat",N="advanced",k=A;function C(){this.saveGraphicsState(),Z(new Tt(Ge,0,0,-Ge,0,Yr()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),f="n",k=N}function T(){this.restoreGraphicsState(),f="S",k=A}var I=p.__private__.combineFontStyleAndFontWeight=function(P,K){if(P=="bold"&&K=="normal"||P=="bold"&&K==400||P=="normal"&&K=="italic"||P=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(P=K==400||K==="normal"?P==="italic"?"italic":"normal":K!=700&&K!=="bold"||P!=="normal"?(K==700?"bold":K)+""+P:"bold"),P};p.advancedAPI=function(P){var K=k===A;return K&&C.call(this),typeof P!="function"||(P(this),K&&T.call(this)),this},p.compatAPI=function(P){var K=k===N;return K&&T.call(this),typeof P!="function"||(P(this),K&&C.call(this)),this},p.isAdvancedAPI=function(){return k===N};var F,z=function(P){if(k!==N)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=p.roundToPrecision=p.__private__.roundToPrecision=function(P,K){var pe=t||K;if(isNaN(P)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(pe).replace(/0+$/,"")};F=p.hpf=p.__private__.hpf=typeof u=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return J(P,u)}:u==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return J(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return J(P,16)};var R=p.f2=p.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return J(P,2)},$=p.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return J(P,3)},H=p.scale=p.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return k===A?P*Ge:k===N?P:void 0},B=function(P){return H((function(K){return k===A?Yr()-K:k===N?K:void 0})(P))};p.__private__.setPrecision=p.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var ce,se="00000000000000000000000000000000",xe=p.__private__.getFileId=function(){return se},te=p.__private__.setFileId=function(P){return se=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Rr=new Td(h.userPermissions,h.userPassword,h.ownerPassword,se)),se};p.setFileId=function(P){return te(P),this},p.getFileId=function(){return xe()};var ee=p.__private__.convertDateToPDFDate=function(P){var K=P.getTimezoneOffset(),pe=K<0?"+":"-",Se=Math.floor(Math.abs(K/60)),Le=Math.abs(K%60),et=[pe,V(Se),"'",V(Le),"'"].join("");return["D:",P.getFullYear(),V(P.getMonth()+1),V(P.getDate()),V(P.getHours()),V(P.getMinutes()),V(P.getSeconds()),et].join("")},G=p.__private__.convertPDFDateToDate=function(P){var K=parseInt(P.substr(2,4),10),pe=parseInt(P.substr(6,2),10)-1,Se=parseInt(P.substr(8,2),10),Le=parseInt(P.substr(10,2),10),et=parseInt(P.substr(12,2),10),lt=parseInt(P.substr(14,2),10);return new Date(K,pe,Se,Le,et,lt,0)},oe=p.__private__.setCreationDate=function(P){var K;if(P===void 0&&(P=new Date),P instanceof Date)K=ee(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=P}return ce=K},q=p.__private__.getCreationDate=function(P){var K=ce;return P==="jsDate"&&(K=G(ce)),K};p.setCreationDate=function(P){return oe(P),this},p.getCreationDate=function(P){return q(P)};var U,V=p.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},ie=p.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},me=0,W=[],de=[],re=0,Q=[],Ne=[],he=!1,we=de;p.__private__.setCustomOutputDestination=function(P){he=!0,we=P};var be=function(P){he||(we=P)};p.__private__.resetCustomOutputDestination=function(){he=!1,we=de};var Z=p.__private__.out=function(P){return P=P.toString(),re+=P.length+1,we.push(P),we},Xe=p.__private__.write=function(P){return Z(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Je=p.__private__.getArrayBuffer=function(P){for(var K=P.length,pe=new ArrayBuffer(K),Se=new Uint8Array(pe);K--;)Se[K]=P.charCodeAt(K);return pe},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Qe};var Te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(P){return Te=k===N?P/Ge:P,this};var ye,qe=p.__private__.getFontSize=p.getFontSize=function(){return k===A?Te:Te*Ge},wt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(P){return wt=P,this},p.__private__.getR2L=p.getR2L=function(){return wt};var Ee,xt=p.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ye=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ye=P}else ye=parseInt(P,10)};p.__private__.getZoomMode=function(){return ye};var gt,ht=p.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Ee=P};p.__private__.getPageMode=function(){return Ee};var _e=p.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');gt=P};p.__private__.getLayoutMode=function(){return gt},p.__private__.setDisplayMode=p.setDisplayMode=function(P,K,pe){return xt(P),_e(K),ht(pe),this};var He={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(P){if(Object.keys(He).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return He[P]},p.__private__.getDocumentProperties=function(){return He},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(P){for(var K in He)He.hasOwnProperty(K)&&P[K]&&(He[K]=P[K]);return this},p.__private__.setDocumentProperty=function(P,K){if(Object.keys(He).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return He[P]=K};var We,Ge,ot,Nt,Dt,pt={},At={},Be=[],Ie={},dt={},kt={},pr={},br=null,gr=0,Vt=[],xr=new IC(p),na=e.hotfixes||[],_r={},ca={},Sa=[],Tt=function P(K,pe,Se,Le,et,lt){if(!(this instanceof P))return new P(K,pe,Se,Le,et,lt);isNaN(K)&&(K=1),isNaN(pe)&&(pe=0),isNaN(Se)&&(Se=0),isNaN(Le)&&(Le=1),isNaN(et)&&(et=0),isNaN(lt)&&(lt=0),this._matrix=[K,pe,Se,Le,et,lt]};Object.defineProperty(Tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Tt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(P)},Tt.prototype.multiply=function(P){var K=P.sx*this.sx+P.shy*this.shx,pe=P.sx*this.shy+P.shy*this.sy,Se=P.shx*this.sx+P.sy*this.shx,Le=P.shx*this.shy+P.sy*this.sy,et=P.tx*this.sx+P.ty*this.shx+this.tx,lt=P.tx*this.shy+P.ty*this.sy+this.ty;return new Tt(K,pe,Se,Le,et,lt)},Tt.prototype.decompose=function(){var P=this.sx,K=this.shy,pe=this.shx,Se=this.sy,Le=this.tx,et=this.ty,lt=Math.sqrt(P*P+K*K),Ft=(P/=lt)*pe+(K/=lt)*Se;pe-=P*Ft,Se-=K*Ft;var Wt=Math.sqrt(pe*pe+Se*Se);return Ft/=Wt,P*(Se/=Wt)<K*(pe/=Wt)&&(P=-P,K=-K,Ft=-Ft,lt=-lt),{scale:new Tt(lt,0,0,Wt,0,0),translate:new Tt(1,0,0,1,Le,et),rotate:new Tt(P,K,-K,P,0,0),skew:new Tt(1,0,Ft,1,0,0)}},Tt.prototype.toString=function(P){return this.join(" ")},Tt.prototype.inversed=function(){var P=this.sx,K=this.shy,pe=this.shx,Se=this.sy,Le=this.tx,et=this.ty,lt=1/(P*Se-K*pe),Ft=Se*lt,Wt=-K*lt,cr=-pe*lt,ur=P*lt;return new Tt(Ft,Wt,cr,ur,-Ft*Le-cr*et,-Wt*Le-ur*et)},Tt.prototype.applyToPoint=function(P){var K=P.x*this.sx+P.y*this.shx+this.tx,pe=P.x*this.shy+P.y*this.sy+this.ty;return new Y(K,pe)},Tt.prototype.applyToRectangle=function(P){var K=this.applyToPoint(P),pe=this.applyToPoint(new Y(P.x+P.w,P.y+P.h));return new Ue(K.x,K.y,pe.x-K.x,pe.y-K.y)},Tt.prototype.clone=function(){var P=this.sx,K=this.shy,pe=this.shx,Se=this.sy,Le=this.tx,et=this.ty;return new Tt(P,K,pe,Se,Le,et)},p.Matrix=Tt;var ir=p.matrixMult=function(P,K){return K.multiply(P)},_a=new Tt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=_a;var Wr=function(P,K){if(!dt[P]){var pe=(K instanceof Du?"Sh":"P")+(Object.keys(Ie).length+1).toString(10);K.id=pe,dt[P]=pe,Ie[pe]=K,xr.publish("addPattern",K)}};p.ShadingPattern=Du,p.TilingPattern=Bd,p.addShadingPattern=function(P,K){return z("addShadingPattern()"),Wr(P,K),this},p.beginTilingPattern=function(P){z("beginTilingPattern()"),Et(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},p.endTilingPattern=function(P,K){z("endTilingPattern()"),K.stream=Ne[U].join(`
`),Wr(P,K),xr.publish("endTilingPattern",K),Sa.pop().restore()};var ka,Hr=p.__private__.newObject=function(){var P=on();return Sn(P,!0),P},on=p.__private__.newObjectDeferred=function(){return me++,W[me]=function(){return re},me},Sn=function(P,K){return K=typeof K=="boolean"&&K,W[P]=re,K&&Z(P+" 0 obj"),P},$a=p.__private__.newAdditionalObject=function(){var P={objId:on(),content:""};return Q.push(P),P},en=on(),va=on(),Fn=p.__private__.decodeColorString=function(P){var K=P.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var pe=parseFloat(K[0]);K=[pe,pe,pe,"r"]}for(var Se="#",Le=0;Le<3;Le++)Se+=("0"+Math.floor(255*parseFloat(K[Le])).toString(16)).slice(-2);return Se},fn=p.__private__.encodeColorString=function(P){var K;typeof P=="string"&&(P={ch1:P});var pe=P.ch1,Se=P.ch2,Le=P.ch3,et=P.ch4,lt=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var Ft=new dL(pe);if(Ft.ok)pe=Ft.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var Wt=parseInt(pe.substr(1),16);pe=Wt>>16&255,Se=Wt>>8&255,Le=255&Wt}if(Se===void 0||et===void 0&&pe===Se&&Se===Le)K=typeof pe=="string"?pe+" "+lt[0]:P.precision===2?R(pe/255)+" "+lt[0]:$(pe/255)+" "+lt[0];else if(et===void 0||dn(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return["1.","1.","1.",lt[1]].join(" ");K=typeof pe=="string"?[pe,Se,Le,lt[1]].join(" "):P.precision===2?[R(pe/255),R(Se/255),R(Le/255),lt[1]].join(" "):[$(pe/255),$(Se/255),$(Le/255),lt[1]].join(" ")}else K=typeof pe=="string"?[pe,Se,Le,et,lt[2]].join(" "):P.precision===2?[R(pe),R(Se),R(Le),R(et),lt[2]].join(" "):[$(pe),$(Se),$(Le),$(et),lt[2]].join(" ");return K},ua=p.__private__.getFilters=function(){return o},$n=p.__private__.putStream=function(P){var K=(P=P||{}).data||"",pe=P.filters||ua(),Se=P.alreadyAppliedFilters||[],Le=P.addLength1||!1,et=K.length,lt=P.objectId,Ft=function(fa){return fa};if(h!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ft=Rr.encryptor(lt,0));var Wt={};pe===!0&&(pe=["FlateEncode"]);var cr=P.additionalKeyValues||[],ur=(Wt=Gt.API.processDataByFilters!==void 0?Gt.API.processDataByFilters(K,pe):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(Wt.data.length!==0&&(cr.push({key:"Length",value:Wt.data.length}),Le===!0&&cr.push({key:"Length1",value:et})),ur.length!=0)if(ur.split("/").length-1==1)cr.push({key:"Filter",value:ur});else{cr.push({key:"Filter",value:"["+ur+"]"});for(var Br=0;Br<cr.length;Br+=1)if(cr[Br].key==="DecodeParms"){for(var Tn=[],sa=0;sa<Wt.reverseChain.split("/").length-1;sa+=1)Tn.push("null");Tn.push(cr[Br].value),cr[Br].value="["+Tn.join(" ")+"]"}}Z("<<");for(var mn=0;mn<cr.length;mn++)Z("/"+cr[mn].key+" "+cr[mn].value);Z(">>"),Wt.data.length!==0&&(Z("stream"),Z(Ft(Wt.data)),Z("endstream"))},xi=p.__private__.putPage=function(P){var K=P.number,pe=P.data,Se=P.objId,Le=P.contentsObjId;Sn(Se,!0),Z("<</Type /Page"),Z("/Parent "+P.rootDictionaryObjId+" 0 R"),Z("/Resources "+P.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(F(P.mediaBox.bottomLeftX))+" "+parseFloat(F(P.mediaBox.bottomLeftY))+" "+F(P.mediaBox.topRightX)+" "+F(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&Z("/CropBox ["+F(P.cropBox.bottomLeftX)+" "+F(P.cropBox.bottomLeftY)+" "+F(P.cropBox.topRightX)+" "+F(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&Z("/BleedBox ["+F(P.bleedBox.bottomLeftX)+" "+F(P.bleedBox.bottomLeftY)+" "+F(P.bleedBox.topRightX)+" "+F(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&Z("/TrimBox ["+F(P.trimBox.bottomLeftX)+" "+F(P.trimBox.bottomLeftY)+" "+F(P.trimBox.topRightX)+" "+F(P.trimBox.topRightY)+"]"),P.artBox!==null&&Z("/ArtBox ["+F(P.artBox.bottomLeftX)+" "+F(P.artBox.bottomLeftY)+" "+F(P.artBox.topRightX)+" "+F(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&Z("/UserUnit "+P.userUnit),xr.publish("putPage",{objId:Se,pageContext:Vt[K],pageNumber:K,page:pe}),Z("/Contents "+Le+" 0 R"),Z(">>"),Z("endobj");var et=pe.join(`
`);return k===N&&(et+=`
Q`),Sn(Le,!0),$n({data:et,filters:ua(),objectId:Le}),Z("endobj"),Se},Ba=p.__private__.putPages=function(){var P,K,pe=[];for(P=1;P<=gr;P++)Vt[P].objId=on(),Vt[P].contentsObjId=on();for(P=1;P<=gr;P++)pe.push(xi({number:P,data:Ne[P],objId:Vt[P].objId,contentsObjId:Vt[P].contentsObjId,mediaBox:Vt[P].mediaBox,cropBox:Vt[P].cropBox,bleedBox:Vt[P].bleedBox,trimBox:Vt[P].trimBox,artBox:Vt[P].artBox,userUnit:Vt[P].userUnit,rootDictionaryObjId:en,resourceDictionaryObjId:va}));Sn(en,!0),Z("<</Type /Pages");var Se="/Kids [";for(K=0;K<gr;K++)Se+=pe[K]+" 0 R ";Z(Se+"]"),Z("/Count "+gr),Z(">>"),Z("endobj"),xr.publish("postPutPages")},es=function(P){xr.publish("putFont",{font:P,out:Z,newObject:Hr,putStream:$n}),P.isAlreadyPutted!==!0&&(P.objectNumber=Hr(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Md(P.postScriptName)),Z("/Subtype /Type1"),typeof P.encoding=="string"&&Z("/Encoding /"+P.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Ys=function(P){P.objectNumber=Hr();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[F(P.x),F(P.y),F(P.x+P.width),F(P.y+P.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var pe=P.pages[1].join(`
`);$n({data:pe,additionalKeyValues:K,objectId:P.objectNumber}),Z("endobj")},Os=function(P,K){K||(K=21);var pe=Hr(),Se=(function(lt,Ft){var Wt,cr=[],ur=1/(Ft-1);for(Wt=0;Wt<1;Wt+=ur)cr.push(Wt);if(cr.push(1),lt[0].offset!=0){var Br={offset:0,color:lt[0].color};lt.unshift(Br)}if(lt[lt.length-1].offset!=1){var Tn={offset:1,color:lt[lt.length-1].color};lt.push(Tn)}for(var sa="",mn=0,fa=0;fa<cr.length;fa++){for(Wt=cr[fa];Wt>lt[mn+1].offset;)mn++;var Xn=lt[mn].offset,Ca=(Wt-Xn)/(lt[mn+1].offset-Xn),Zs=lt[mn].color,ms=lt[mn+1].color;sa+=ie(Math.round((1-Ca)*Zs[0]+Ca*ms[0]).toString(16))+ie(Math.round((1-Ca)*Zs[1]+Ca*ms[1]).toString(16))+ie(Math.round((1-Ca)*Zs[2]+Ca*ms[2]).toString(16))}return sa.trim()})(P.colors,K),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+K+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$n({data:Se,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),Z("endobj"),P.objectNumber=Hr(),Z("<< /ShadingType "+P.type),Z("/ColorSpace /DeviceRGB");var et="/Coords ["+F(parseFloat(P.coords[0]))+" "+F(parseFloat(P.coords[1]))+" ";P.type===2?et+=F(parseFloat(P.coords[2]))+" "+F(parseFloat(P.coords[3])):et+=F(parseFloat(P.coords[2]))+" "+F(parseFloat(P.coords[3]))+" "+F(parseFloat(P.coords[4]))+" "+F(parseFloat(P.coords[5])),Z(et+="]"),P.matrix&&Z("/Matrix ["+P.matrix.toString()+"]"),Z("/Function "+pe+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Oe=function(P,K){var pe=on(),Se=Hr();K.push({resourcesOid:pe,objectOid:Se}),P.objectNumber=Se;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+P.boundingBox.map(F).join(" ")+"]"}),Le.push({key:"XStep",value:F(P.xStep)}),Le.push({key:"YStep",value:F(P.yStep)}),Le.push({key:"Resources",value:pe+" 0 R"}),P.matrix&&Le.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),$n({data:P.stream,additionalKeyValues:Le,objectId:P.objectNumber}),Z("endobj")},bt=function(P){for(var K in P.objectNumber=Hr(),Z("<<"),P)switch(K){case"opacity":Z("/ca "+R(P[K]));break;case"stroke-opacity":Z("/CA "+R(P[K]))}Z(">>"),Z("endobj")},_t=function(P){Sn(P.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var K in Z("/Font <<"),pt)pt.hasOwnProperty(K)&&(m===!1||m===!0&&x.hasOwnProperty(K))&&Z("/"+K+" "+pt[K].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(Ie).length>0){for(var K in Z("/Shading <<"),Ie)Ie.hasOwnProperty(K)&&Ie[K]instanceof Du&&Ie[K].objectNumber>=0&&Z("/"+K+" "+Ie[K].objectNumber+" 0 R");xr.publish("putShadingPatternDict"),Z(">>")}})(),(function(K){if(Object.keys(Ie).length>0){for(var pe in Z("/Pattern <<"),Ie)Ie.hasOwnProperty(pe)&&Ie[pe]instanceof p.TilingPattern&&Ie[pe].objectNumber>=0&&Ie[pe].objectNumber<K&&Z("/"+pe+" "+Ie[pe].objectNumber+" 0 R");xr.publish("putTilingPatternDict"),Z(">>")}})(P.objectOid),(function(){if(Object.keys(kt).length>0){var K;for(K in Z("/ExtGState <<"),kt)kt.hasOwnProperty(K)&&kt[K].objectNumber>=0&&Z("/"+K+" "+kt[K].objectNumber+" 0 R");xr.publish("putGStateDict"),Z(">>")}})(),(function(){for(var K in Z("/XObject <<"),_r)_r.hasOwnProperty(K)&&_r[K].objectNumber>=0&&Z("/"+K+" "+_r[K].objectNumber+" 0 R");xr.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},Qt=function(P){At[P.fontName]=At[P.fontName]||{},At[P.fontName][P.fontStyle]=P.id},vr=function(P,K,pe,Se,Le){var et={id:"F"+(Object.keys(pt).length+1).toString(10),postScriptName:P,fontName:K,fontStyle:pe,encoding:Se,isStandardFont:Le||!1,metadata:{}};return xr.publish("addFont",{font:et,instance:this}),pt[et.id]=et,Qt(et),et.id},Zt=p.__private__.pdfEscape=p.pdfEscape=function(P,K){return(function(pe,Se){var Le,et,lt,Ft,Wt,cr,ur,Br,Tn;if(lt=(Se=Se||{}).sourceEncoding||"Unicode",Wt=Se.outputEncoding,(Se.autoencode||Wt)&&pt[We].metadata&&pt[We].metadata[lt]&&pt[We].metadata[lt].encoding&&(Ft=pt[We].metadata[lt].encoding,!Wt&&pt[We].encoding&&(Wt=pt[We].encoding),!Wt&&Ft.codePages&&(Wt=Ft.codePages[0]),typeof Wt=="string"&&(Wt=Ft[Wt]),Wt)){for(ur=!1,cr=[],Le=0,et=pe.length;Le<et;Le++)(Br=Wt[pe.charCodeAt(Le)])?cr.push(String.fromCharCode(Br)):cr.push(pe[Le]),cr[Le].charCodeAt(0)>>8&&(ur=!0);pe=cr.join("")}for(Le=pe.length;ur===void 0&&Le!==0;)pe.charCodeAt(Le-1)>>8&&(ur=!0),Le--;if(!ur)return pe;for(cr=Se.noBOM?[]:[254,255],Le=0,et=pe.length;Le<et;Le++){if((Tn=(Br=pe.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");cr.push(Tn),cr.push(Br-(Tn<<8))}return String.fromCharCode.apply(void 0,cr)})(P,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vr=p.__private__.beginPage=function(P){Ne[++gr]=[],Vt[gr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},ya(gr),be(Ne[U])},Or=function(P,K){var pe,Se,Le;switch(r=K||r,typeof P=="string"&&(pe=S(P.toLowerCase()),Array.isArray(pe)&&(Se=pe[0],Le=pe[1])),Array.isArray(P)&&(Se=P[0]*Ge,Le=P[1]*Ge),isNaN(Se)&&(Se=s[0],Le=s[1]),(Se>14400||Le>14400)&&(wn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),Le=Math.min(14400,Le)),s=[Se,Le],r.substr(0,1)){case"l":Le>Se&&(s=[Le,Se]);break;case"p":Se>Le&&(s=[Le,Se])}Vr(s),ao(hs),Z(so),ul!==0&&Z(ul+" J"),Mo!==0&&Z(Mo+" j"),xr.publish("addPage",{pageNumber:gr})},ln=function(P){P>0&&P<=gr&&(Ne.splice(P,1),Vt.splice(P,1),gr--,U>gr&&(U=gr),this.setPage(U))},ya=function(P){P>0&&P<=gr&&(U=P)},Sr=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ne.length-1},Cr=function(P,K,pe){var Se,Le=void 0;return pe=pe||{},P=P!==void 0?P:pt[We].fontName,K=K!==void 0?K:pt[We].fontStyle,Se=P.toLowerCase(),At[Se]!==void 0&&At[Se][K]!==void 0?Le=At[Se][K]:At[P]!==void 0&&At[P][K]!==void 0?Le=At[P][K]:pe.disableWarning===!1&&wn.warn("Unable to look up font label for font '"+P+"', '"+K+"'. Refer to getFontList() for available fonts."),Le||pe.noFallback||(Le=At.times[K])==null&&(Le=At.times.normal),Le},Ct=p.__private__.putInfo=function(){var P=Hr(),K=function(Se){return Se};for(var pe in h!==null&&(K=Rr.encryptor(P,0)),Z("<<"),Z("/Producer ("+Zt(K("jsPDF "+Gt.version))+")"),He)He.hasOwnProperty(pe)&&He[pe]&&Z("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+Zt(K(He[pe]))+")");Z("/CreationDate ("+Zt(K(ce))+")"),Z(">>"),Z("endobj")},Xt=p.__private__.putCatalog=function(P){var K=(P=P||{}).rootDictionaryObjId||en;switch(Hr(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+K+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+ye;pe.substr(pe.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+R(ye)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Ee&&Z("/PageMode /"+Ee),xr.publish("putCatalog"),Z(">>"),Z("endobj")},Lt=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(me+1)),Z("/Root "+me+" 0 R"),Z("/Info "+(me-1)+" 0 R"),h!==null&&Z("/Encrypt "+Rr.oid+" 0 R"),Z("/ID [ <"+se+"> <"+se+"> ]"),Z(">>")},Fr=p.__private__.putHeader=function(){Z("%PDF-"+w),Z("%")},Rs=p.__private__.putXRef=function(){var P="0000000000";Z("xref"),Z("0 "+(me+1)),Z("0000000000 65535 f ");for(var K=1;K<=me;K++)typeof W[K]=="function"?Z((P+W[K]()).slice(-10)+" 00000 n "):W[K]!==void 0?Z((P+W[K]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Aa=p.__private__.buildDocument=function(){var P;me=0,re=0,de=[],W=[],Q=[],en=on(),va=on(),be(de),xr.publish("buildDocument"),Fr(),Ba(),(function(){xr.publish("putAdditionalObjects");for(var pe=0;pe<Q.length;pe++){var Se=Q[pe];Sn(Se.objId,!0),Z(Se.content),Z("endobj")}xr.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var pe in pt)pt.hasOwnProperty(pe)&&(m===!1||m===!0&&x.hasOwnProperty(pe))&&es(pt[pe])})(),(function(){var pe;for(pe in kt)kt.hasOwnProperty(pe)&&bt(kt[pe])})(),(function(){for(var pe in _r)_r.hasOwnProperty(pe)&&Ys(_r[pe])})(),(function(pe){var Se;for(Se in Ie)Ie.hasOwnProperty(Se)&&(Ie[Se]instanceof Du?Os(Ie[Se]):Ie[Se]instanceof Bd&&Oe(Ie[Se],pe))})(P),xr.publish("putResources"),P.forEach(_t),_t({resourcesOid:va,objectOid:Number.MAX_SAFE_INTEGER}),xr.publish("postPutResources"),h!==null&&(Rr.oid=Hr(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Rr.v),Z("/R "+Rr.r),Z("/U <"+Rr.toHexString(Rr.U)+">"),Z("/O <"+Rr.toHexString(Rr.O)+">"),Z("/P "+Rr.P),Z(">>"),Z("endobj")),Ct(),Xt();var K=re;return Rs(),Lt(),Z("startxref"),Z(""+K),Z("%%EOF"),be(Ne[U]),de.join(`
`)},ts=p.__private__.getBlob=function(P){return new Blob([Je(P)],{type:"application/pdf"})},da=p.output=p.__private__.output=(ka=function(P,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",P){case void 0:return Aa();case"save":p.save(K.filename);break;case"arraybuffer":return Je(Aa());case"blob":return ts(Aa());case"bloburi":case"bloburl":if(fr.URL!==void 0&&typeof fr.URL.createObjectURL=="function")return fr.URL&&fr.URL.createObjectURL(ts(Aa()))||void 0;wn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",Se=Aa();try{pe=RC(Se)}catch{pe=RC(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+K.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(Le=K.pdfObjectUrl,et="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Ft=fr.open();return Ft!==null&&Ft.document.write(lt),Ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',cr=fr.open();if(cr!==null){cr.document.write(Wt);var ur=this;cr.document.documentElement.querySelector("#pdfViewer").onload=function(){cr.document.title=K.filename,cr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ur.output("bloburl"))}}return cr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Tn=fr.open();if(Tn!==null&&(Tn.document.write(Br),Tn.document.title=K.filename),Tn||typeof safari>"u")return Tn;break;case"datauri":case"dataurl":return fr.document.location.href=this.output("datauristring",K);default:return null}},ka.foo=function(){try{return ka.apply(this,arguments)}catch(pe){var P=pe.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var K="Error in function "+P.split(`
`)[0].split("<")[0]+": "+pe.message;if(!fr.console)throw new Error(K);fr.console.error(K,pe),fr.alert&&alert(K)}},ka.foo.bar=ka,ka.foo),Ti=function(P){return Array.isArray(na)===!0&&na.indexOf(P)>-1};switch(a){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=Ti("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Ge=a}var Rr=null;oe(),te();var rs=p.__private__.getPageInfo=p.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[P].objId,pageNumber:P,pageContext:Vt[P]}},Gs=p.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Vt)if(Vt[K].objId===P)break;return rs(K)},Ks=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Vt[U].objId,pageNumber:U,pageContext:Vt[U]}};p.addPage=function(){return Or.apply(this,arguments),this},p.setPage=function(){return ya.apply(this,arguments),be.call(this,Ne[U]),this},p.insertPage=function(P){return this.addPage(),this.movePage(U,P),this},p.movePage=function(P,K){var pe,Se;if(P>K){pe=Ne[P],Se=Vt[P];for(var Le=P;Le>K;Le--)Ne[Le]=Ne[Le-1],Vt[Le]=Vt[Le-1];Ne[K]=pe,Vt[K]=Se,this.setPage(K)}else if(P<K){pe=Ne[P],Se=Vt[P];for(var et=P;et<K;et++)Ne[et]=Ne[et+1],Vt[et]=Vt[et+1];Ne[K]=pe,Vt[K]=Se,this.setPage(K)}return this},p.deletePage=function(){return ln.apply(this,arguments),this},p.__private__.text=p.text=function(P,K,pe,Se,Le){var et,lt,Ft,Wt,cr,ur,Br,Tn,sa,mn=(Se=Se||{}).scope||this;if(typeof P=="number"&&typeof K=="number"&&(typeof pe=="string"||Array.isArray(pe))){var fa=pe;pe=K,K=P,P=fa}if(arguments[3]instanceof Tt==0?(Ft=arguments[4],Wt=arguments[5],dn(Br=arguments[3])==="object"&&Br!==null||(typeof Ft=="string"&&(Wt=Ft,Ft=null),typeof Br=="string"&&(Wt=Br,Br=null),typeof Br=="number"&&(Ft=Br,Br=null),Se={flags:Br,angle:Ft,align:Wt})):(z("The transform parameter of text() with a Matrix value"),sa=Le),isNaN(K)||isNaN(pe)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return mn;var Xn,Ca="",Zs=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:Ua,ms=mn.internal.scaleFactor;function od(Ur){return Ur=Ur.split("	").join(Array(Se.TabLen||9).join(" ")),Zt(Ur,Br)}function Io(Ur){for(var tn,qn=Ur.concat(),ia=[],Si=qn.length;Si--;)typeof(tn=qn.shift())=="string"?ia.push(tn):Array.isArray(Ur)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?ia.push(tn[0]):ia.push([tn[0],tn[1],tn[2]]);return ia}function dl(Ur,tn){var qn;if(typeof Ur=="string")qn=tn(Ur)[0];else if(Array.isArray(Ur)){for(var ia,Si,au=Ur.concat(),hc=[],uo=au.length;uo--;)typeof(ia=au.shift())=="string"?hc.push(tn(ia)[0]):Array.isArray(ia)&&typeof ia[0]=="string"&&(Si=tn(ia[0],ia[1],ia[2]),hc.push([Si[0],Si[1],Si[2]]));qn=hc}return qn}var Do=!1,fl=!0;if(typeof P=="string")Do=!0;else if(Array.isArray(P)){var Fo=P.concat();lt=[];for(var hl,qa=Fo.length;qa--;)(typeof(hl=Fo.shift())!="string"||Array.isArray(hl)&&typeof hl[0]!="string")&&(fl=!1);Do=fl}if(Do===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var ml=Te/mn.internal.scaleFactor,pl=ml*(Zs-1);switch(Se.baseline){case"bottom":pe-=pl;break;case"top":pe+=ml-pl;break;case"hanging":pe+=ml-2*pl;break;case"middle":pe+=ml/2-pl}if((ur=Se.maxWidth||0)>0&&(typeof P=="string"?P=mn.splitTextToSize(P,ur):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(Ur,tn){return Ur.concat(mn.splitTextToSize(tn,ur))},[]))),et={text:P,x:K,y:pe,options:Se,mutex:{pdfEscape:Zt,activeFontKey:We,fonts:pt,activeFontSize:Te}},xr.publish("preProcessText",et),P=et.text,Ft=(Se=et.options).angle,sa instanceof Tt==0&&Ft&&typeof Ft=="number"){Ft*=Math.PI/180,Se.rotationDirection===0&&(Ft=-Ft),k===N&&(Ft=-Ft);var ru=Math.cos(Ft),nu=Math.sin(Ft);sa=new Tt(ru,nu,-nu,ru,0,0)}else Ft&&Ft instanceof Tt&&(sa=Ft);k!==N||sa||(sa=_a),(cr=Se.charSpace||Is)!==void 0&&(Ca+=F(H(cr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tn=Se.horizontalScale)!==void 0&&(Ca+=F(100*Tn)+` Tz
`),Se.lang;var Bn=-1,ji=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,Ii=mn.internal.getCurrentPageInfo().pageContext;switch(ji){case 0:case!1:case"fill":Bn=0;break;case 1:case!0:case"stroke":Bn=1;break;case 2:case"fillThenStroke":Bn=2;break;case 3:case"invisible":Bn=3;break;case 4:case"fillAndAddForClipping":Bn=4;break;case 5:case"strokeAndAddPathForClipping":Bn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Bn=6;break;case 7:case"addToPathForClipping":Bn=7}var ld=Ii.usedRenderingMode!==void 0?Ii.usedRenderingMode:-1;Bn!==-1?Ca+=Bn+` Tr
`:ld!==-1&&(Ca+=`0 Tr
`),Bn!==-1&&(Ii.usedRenderingMode=Bn),Wt=Se.align||"left";var Ds,$o=Te*Zs,cc=mn.internal.pageSize.getWidth(),uc=pt[We];cr=Se.charSpace||Is,ur=Se.maxWidth||0,Br=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var io=[],ei=function(Ur){return mn.getStringUnitWidth(Ur,{font:uc,charSpace:cr,fontSize:Te,doKerning:!1})*Te/ms};if(Object.prototype.toString.call(P)==="[object Array]"){var Fs;lt=Io(P),Wt!=="left"&&(Ds=lt.map(ei));var $s,Bo=0;if(Wt==="right"){K-=Ds[0],P=[],qa=lt.length;for(var Di=0;Di<qa;Di++)Di===0?($s=ns(K),Fs=bi(pe)):($s=H(Bo-Ds[Di]),Fs=-$o),P.push([lt[Di],$s,Fs]),Bo=Ds[Di]}else if(Wt==="center"){K-=Ds[0]/2,P=[],qa=lt.length;for(var oo=0;oo<qa;oo++)oo===0?($s=ns(K),Fs=bi(pe)):($s=H((Bo-Ds[oo])/2),Fs=-$o),P.push([lt[oo],$s,Fs]),Bo=Ds[oo]}else if(Wt==="left"){P=[],qa=lt.length;for(var lo=0;lo<qa;lo++)P.push(lt[lo])}else if(Wt==="justify"&&uc.encoding==="Identity-H"){P=[],qa=lt.length,ur=ur!==0?ur:cc;for(var Fi=0,Jn=0;Jn<qa;Jn++)if(Fs=Jn===0?bi(pe):-$o,$s=Jn===0?ns(K):Fi,Jn<qa-1){var gl=H((ur-Ds[Jn])/(lt[Jn].split(" ").length-1)),$i=lt[Jn].split(" ");P.push([$i[0]+" ",$s,Fs]),Fi=0;for(var Ni=1;Ni<$i.length;Ni++){var xl=(ei($i[Ni-1]+" "+$i[Ni])-ei($i[Ni]))*ms+gl;Ni==$i.length-1?P.push([$i[Ni],xl,0]):P.push([$i[Ni]+" ",xl,0]),Fi-=xl}}else P.push([lt[Jn],$s,Fs]);P.push(["",Fi,0])}else{if(Wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],qa=lt.length,ur=ur!==0?ur:cc,Jn=0;Jn<qa;Jn++){Fs=Jn===0?bi(pe):-$o,$s=Jn===0?ns(K):0;var vl=lt[Jn].split(" ").length-1,dc=vl>0?(ur-Ds[Jn])/vl:0;Jn<qa-1?io.push(F(H(dc))):io.push(0),P.push([lt[Jn],$s,Fs])}}}(typeof Se.R2L=="boolean"?Se.R2L:wt)===!0&&(P=dl(P,function(Ur,tn,qn){return[Ur.split("").reverse().join(""),tn,qn]})),et={text:P,x:K,y:pe,options:Se,mutex:{pdfEscape:Zt,activeFontKey:We,fonts:pt,activeFontSize:Te}},xr.publish("postProcessText",et),P=et.text,Xn=et.mutex.isHex||!1;var fc=pt[We].encoding;fc!=="WinAnsiEncoding"&&fc!=="StandardEncoding"||(P=dl(P,function(Ur,tn,qn){return[od(Ur),tn,qn]})),lt=Io(P),P=[];for(var co,Uo,qo,yl=Array.isArray(lt[0])?1:0,zo="",bl=function(Ur,tn,qn){var ia="";return qn instanceof Tt?(qn=typeof Se.angle=="number"?ir(qn,new Tt(1,0,0,1,Ur,tn)):ir(new Tt(1,0,0,1,Ur,tn),qn),k===N&&(qn=ir(new Tt(1,0,0,-1,0,0),qn)),ia=qn.join(" ")+` Tm
`):ia=F(Ur)+" "+F(tn)+` Td
`,ia},Un=0;Un<lt.length;Un++){switch(zo="",yl){case 1:qo=(Xn?"<":"(")+lt[Un][0]+(Xn?">":")"),co=parseFloat(lt[Un][1]),Uo=parseFloat(lt[Un][2]);break;case 0:qo=(Xn?"<":"(")+lt[Un]+(Xn?">":")"),co=ns(K),Uo=bi(pe)}io!==void 0&&io[Un]!==void 0&&(zo=io[Un]+` Tw
`),Un===0?P.push(zo+bl(co,Uo,sa)+qo):yl===0?P.push(zo+qo):yl===1&&P.push(zo+bl(co,Uo,sa)+qo)}P=yl===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var ps=`BT
/`;return ps+=We+" "+Te+` Tf
`,ps+=F(Te*Zs)+` TL
`,ps+=Ms+`
`,ps+=Ca,ps+=P,Z(ps+="ET"),x[We]=!0,mn};var Kt=p.__private__.clip=p.clip=function(P){return Z(P==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Kt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var aa=p.__private__.isValidStyle=function(P){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(K=!0),K};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(P){return aa(P)&&(f=P),this};var Eo=p.__private__.getStyle=p.getStyle=function(P){var K=f;switch(P){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=P}return K},Er=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(P){return vi("f",P),this},p.fillEvenOdd=function(P){return vi("f*",P),this},p.fillStroke=function(P){return vi("B",P),this},p.fillStrokeEvenOdd=function(P){return vi("B*",P),this};var vi=function(P,K){dn(K)==="object"?ic(K,P):Z(P)},Lo=function(P){P===null||k===N&&P===void 0||(P=Eo(P),Z(P))};function ll(P,K,pe,Se,Le){var et=new Bd(K||this.boundingBox,pe||this.xStep,Se||this.yStep,this.gState,Le||this.matrix);et.stream=this.stream;var lt=P+"$$"+this.cloneIndex+++"$$";return Wr(lt,et),et}var ic=function(P,K){var pe=dt[P.key],Se=Ie[pe];if(Se instanceof Du)Z("q"),Z(oc(K)),Se.gState&&p.setGState(Se.gState),Z(P.matrix.toString()+" cm"),Z("/"+pe+" sh"),Z("Q");else if(Se instanceof Bd){var Le=new Tt(1,0,0,-1,0,Yr());P.matrix&&(Le=Le.multiply(P.matrix||_a),pe=ll.call(Se,P.key,P.boundingBox,P.xStep,P.yStep,Le).id),Z("q"),Z("/Pattern cs"),Z("/"+pe+" scn"),Se.gState&&p.setGState(Se.gState),Z(K),Z("Q")}},oc=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Oo=p.moveTo=function(P,K){return Z(F(H(P))+" "+F(B(K))+" m"),this},yi=p.lineTo=function(P,K){return Z(F(H(P))+" "+F(B(K))+" l"),this},Ts=p.curveTo=function(P,K,pe,Se,Le,et){return Z([F(H(P)),F(B(K)),F(H(pe)),F(B(Se)),F(H(Le)),F(B(et)),"c"].join(" ")),this};p.__private__.line=p.line=function(P,K,pe,Se,Le){if(isNaN(P)||isNaN(K)||isNaN(pe)||isNaN(Se)||!aa(Le))throw new Error("Invalid arguments passed to jsPDF.line");return k===A?this.lines([[pe-P,Se-K]],P,K,[1,1],Le||"S"):this.lines([[pe-P,Se-K]],P,K,[1,1]).stroke()},p.__private__.lines=p.lines=function(P,K,pe,Se,Le,et){var lt,Ft,Wt,cr,ur,Br,Tn,sa,mn,fa,Xn,Ca;if(typeof P=="number"&&(Ca=pe,pe=K,K=P,P=Ca),Se=Se||[1,1],et=et||!1,isNaN(K)||isNaN(pe)||!Array.isArray(P)||!Array.isArray(Se)||!aa(Le)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Oo(K,pe),lt=Se[0],Ft=Se[1],cr=P.length,fa=K,Xn=pe,Wt=0;Wt<cr;Wt++)(ur=P[Wt]).length===2?(fa=ur[0]*lt+fa,Xn=ur[1]*Ft+Xn,yi(fa,Xn)):(Br=ur[0]*lt+fa,Tn=ur[1]*Ft+Xn,sa=ur[2]*lt+fa,mn=ur[3]*Ft+Xn,fa=ur[4]*lt+fa,Xn=ur[5]*Ft+Xn,Ts(Br,Tn,sa,mn,fa,Xn));return et&&Er(),Lo(Le),this},p.path=function(P){for(var K=0;K<P.length;K++){var pe=P[K],Se=pe.c;switch(pe.op){case"m":Oo(Se[0],Se[1]);break;case"l":yi(Se[0],Se[1]);break;case"c":Ts.apply(this,Se);break;case"h":Er()}}return this},p.__private__.rect=p.rect=function(P,K,pe,Se,Le){if(isNaN(P)||isNaN(K)||isNaN(pe)||isNaN(Se)||!aa(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return k===A&&(Se=-Se),Z([F(H(P)),F(B(K)),F(H(pe)),F(H(Se)),"re"].join(" ")),Lo(Le),this},p.__private__.triangle=p.triangle=function(P,K,pe,Se,Le,et,lt){if(isNaN(P)||isNaN(K)||isNaN(pe)||isNaN(Se)||isNaN(Le)||isNaN(et)||!aa(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-P,Se-K],[Le-pe,et-Se],[P-Le,K-et]],P,K,[1,1],lt,!0),this},p.__private__.roundedRect=p.roundedRect=function(P,K,pe,Se,Le,et,lt){if(isNaN(P)||isNaN(K)||isNaN(pe)||isNaN(Se)||isNaN(Le)||isNaN(et)||!aa(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ft=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*pe),et=Math.min(et,.5*Se),this.lines([[pe-2*Le,0],[Le*Ft,0,Le,et-et*Ft,Le,et],[0,Se-2*et],[0,et*Ft,-Le*Ft,et,-Le,et],[2*Le-pe,0],[-Le*Ft,0,-Le,-et*Ft,-Le,-et],[0,2*et-Se],[0,-et*Ft,Le*Ft,-et,Le,-et]],P+Le,K,[1,1],lt,!0),this},p.__private__.ellipse=p.ellipse=function(P,K,pe,Se,Le){if(isNaN(P)||isNaN(K)||isNaN(pe)||isNaN(Se)||!aa(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*pe,lt=4/3*(Math.SQRT2-1)*Se;return Oo(P+pe,K),Ts(P+pe,K-lt,P+et,K-Se,P,K-Se),Ts(P-et,K-Se,P-pe,K-lt,P-pe,K),Ts(P-pe,K+lt,P-et,K+Se,P,K+Se),Ts(P+et,K+Se,P+pe,K+lt,P+pe,K),Lo(Le),this},p.__private__.circle=p.circle=function(P,K,pe,Se){if(isNaN(P)||isNaN(K)||isNaN(pe)||!aa(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,K,pe,pe,Se)},p.setFont=function(P,K,pe){return pe&&(K=I(K,pe)),We=Cr(P,K,{disableWarning:!1}),this};var Xs=p.__private__.getFont=p.getFont=function(){return pt[Cr.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var P,K,pe={};for(P in At)if(At.hasOwnProperty(P))for(K in pe[P]=[],At[P])At[P].hasOwnProperty(K)&&pe[P].push(K);return pe},p.addFont=function(P,K,pe,Se,Le){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(pe=I(pe,Se)),vr.call(this,P,K,pe,Le=Le||"Identity-H")};var Ua,hs=e.lineWidth||.200025,qt=p.__private__.getLineWidth=p.getLineWidth=function(){return hs},ao=p.__private__.setLineWidth=p.setLineWidth=function(P){return hs=P,Z(F(H(P))+" w"),this};p.__private__.setLineDash=Gt.API.setLineDash=Gt.API.setLineDashPattern=function(P,K){if(P=P||[],K=K||0,isNaN(K)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(pe){return F(H(pe))}).join(" "),K=F(H(K)),Z("["+P+"] "+K+" d"),this};var Js=p.__private__.getLineHeight=p.getLineHeight=function(){return Te*Ua};p.__private__.getLineHeight=p.getLineHeight=function(){return Te*Ua};var tu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Ua=P),this},cl=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ua};tu(e.lineHeight);var ns=p.__private__.getHorizontalCoordinate=function(P){return H(P)},bi=p.__private__.getVerticalCoordinate=function(P){return k===N?P:Vt[U].mediaBox.topRightY-Vt[U].mediaBox.bottomLeftY-H(P)},lc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(P){return F(ns(P))},Ro=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(P){return F(bi(P))},so=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Fn(so)},p.__private__.setStrokeColor=p.setDrawColor=function(P,K,pe,Se){return so=fn({ch1:P,ch2:K,ch3:pe,ch4:Se,pdfColorType:"draw",precision:2}),Z(so),this};var Mi=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Fn(Mi)},p.__private__.setFillColor=p.setFillColor=function(P,K,pe,Se){return Mi=fn({ch1:P,ch2:K,ch3:pe,ch4:Se,pdfColorType:"fill",precision:2}),Z(Mi),this};var Ms=e.textColor||"0 g",Qs=p.__private__.getTextColor=p.getTextColor=function(){return Fn(Ms)};p.__private__.setTextColor=p.setTextColor=function(P,K,pe,Se){return Ms=fn({ch1:P,ch2:K,ch3:pe,ch4:Se,pdfColorType:"text",precision:3}),this};var Is=e.charSpace,To=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Is||0)};p.__private__.setCharSpace=p.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Is=P,this};var ul=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(P){var K=p.CapJoinStyles[P];if(K===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ul=K,Z(K+" J"),this};var Mo=0;p.__private__.setLineJoin=p.setLineJoin=function(P){var K=p.CapJoinStyles[P];if(K===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mo=K,Z(K+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(F(H(P))+" M"),this},p.GState=Vp,p.setGState=function(P){(P=typeof P=="string"?kt[pr[P]]:wi(null,P)).equals(br)||(Z("/"+P.id+" gs"),br=P)};var wi=function(P,K){if(!P||!pr[P]){var pe=!1;for(var Se in kt)if(kt.hasOwnProperty(Se)&&kt[Se].equals(K)){pe=!0;break}if(pe)K=kt[Se];else{var Le="GS"+(Object.keys(kt).length+1).toString(10);kt[Le]=K,K.id=Le}return P&&(pr[P]=K.id),xr.publish("addGState",K),K}};p.addGState=function(P,K){return wi(P,K),this},p.saveGraphicsState=function(){return Z("q"),Be.push({key:We,size:Te,color:Ms}),this},p.restoreGraphicsState=function(){Z("Q");var P=Be.pop();return We=P.key,Te=P.size,Ms=P.color,br=null,this},p.setCurrentTransformationMatrix=function(P){return Z(P.toString()+" cm"),this},p.comment=function(P){return Z("#"+P),this};var Y=function(P,K){var pe=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(et){isNaN(et)||(pe=parseFloat(et))}});var Se=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(et){isNaN(et)||(Se=parseFloat(et))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(et){Le=et.toString()}}),this},Ue=function(P,K,pe,Se){Y.call(this,P,K),this.type="rect";var Le=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(lt){isNaN(lt)||(Le=parseFloat(lt))}});var et=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(lt){isNaN(lt)||(et=parseFloat(lt))}}),this},it=function(){this.page=gr,this.currentPage=U,this.pages=Ne.slice(0),this.pagesContext=Vt.slice(0),this.x=ot,this.y=Nt,this.matrix=Dt,this.width=wr(U),this.height=lr(U),this.outputDestination=we,this.id="",this.objectNumber=-1};it.prototype.restore=function(){gr=this.page,U=this.currentPage,Vt=this.pagesContext,Ne=this.pages,ot=this.x,Nt=this.y,Dt=this.matrix,er(U,this.width),hn(U,this.height),we=this.outputDestination};var Et=function(P,K,pe,Se,Le){Sa.push(new it),gr=U=0,Ne=[],ot=P,Nt=K,Dt=Le,Vr([pe,Se])};for(var tr in p.beginFormObject=function(P,K,pe,Se,Le){return Et(P,K,pe,Se,Le),this},p.endFormObject=function(P){return(function(K){if(ca[K])Sa.pop().restore();else{var pe=new it,Se="Xo"+(Object.keys(_r).length+1).toString(10);pe.id=Se,ca[K]=Se,_r[Se]=pe,xr.publish("addFormObject",pe),Sa.pop().restore()}})(P),this},p.doFormObject=function(P,K){var pe=_r[ca[P]];return Z("q"),Z(K.toString()+" cm"),Z("/"+pe.id+" Do"),Z("Q"),this},p.getFormObject=function(P){var K=_r[ca[P]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},p.save=function(P,K){return P=P||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(Tu(ts(Aa()),P),typeof Tu.unload=="function"&&fr.setTimeout&&setTimeout(Tu.unload,911),this):new Promise(function(pe,Se){try{var Le=Tu(ts(Aa()),P);typeof Tu.unload=="function"&&fr.setTimeout&&setTimeout(Tu.unload,911),pe(Le)}catch(et){Se(et.message)}})},Gt.API)Gt.API.hasOwnProperty(tr)&&(tr==="events"&&Gt.API.events.length?(function(P,K){var pe,Se,Le;for(Le=K.length-1;Le!==-1;Le--)pe=K[Le][0],Se=K[Le][1],P.subscribe.apply(P,[pe].concat(typeof Se=="function"?[Se]:Se))})(xr,Gt.API.events):p[tr]=Gt.API[tr]);function wr(P){return Vt[P].mediaBox.topRightX-Vt[P].mediaBox.bottomLeftX}function er(P,K){Vt[P].mediaBox.topRightX=K+Vt[P].mediaBox.bottomLeftX}function lr(P){return Vt[P].mediaBox.topRightY-Vt[P].mediaBox.bottomLeftY}function hn(P,K){Vt[P].mediaBox.topRightY=K+Vt[P].mediaBox.bottomLeftY}var _n=p.getPageWidth=function(P){return wr(P=P||U)/Ge},cn=p.setPageWidth=function(P,K){er(P,K*Ge)},Yr=p.getPageHeight=function(P){return lr(P=P||U)/Ge},Rn=p.setPageHeight=function(P,K){hn(P,K*Ge)};return p.internal={pdfEscape:Zt,getStyle:Eo,getFont:Xs,getFontSize:qe,getCharSpace:To,getTextColor:Qs,getLineHeight:Js,getLineHeightFactor:cl,getLineWidth:qt,write:Xe,getHorizontalCoordinate:ns,getVerticalCoordinate:bi,getCoordinateString:lc,getVerticalCoordinateString:Ro,collections:{},newObject:Hr,newAdditionalObject:$a,newObjectDeferred:on,newObjectDeferredBegin:Sn,getFilters:ua,putStream:$n,events:xr,scaleFactor:Ge,pageSize:{getWidth:function(){return _n(U)},setWidth:function(P){cn(U,P)},getHeight:function(){return Yr(U)},setHeight:function(P){Rn(U,P)}},encryptionOptions:h,encryption:Rr,getEncryptor:function(P){return h!==null?Rr.encryptor(P,0):function(K){return K}},output:da,getNumberOfPages:Sr,pages:Ne,out:Z,f2:R,f3:$,getPageInfo:rs,getPageInfoByObjId:Gs,getCurrentPageInfo:Ks,getPDFVersion:v,Point:Y,Rectangle:Ue,Matrix:Tt,hasHotfix:Ti},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return _n(U)},set:function(P){cn(U,P)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Yr(U)},set:function(P){Rn(U,P)},enumerable:!0,configurable:!0}),(function(P){for(var K=0,pe=Qe.length;K<pe;K++){var Se=vr.call(this,P[K][0],P[K][1],P[K][2],Qe[K][3],!0);m===!1&&(x[Se]=!0);var Le=P[K][0].split("-");Qt({id:Se,fontName:Le[0],fontStyle:Le[1]||""})}xr.publish("addFonts",{fonts:pt,dictionary:At})}).call(p,Qe),We="F1",Or(s,r),xr.publish("initialized"),p}Td.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Td.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Td.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Td.prototype.processOwnerPassword=function(e,t){return Xw(Kw(t).substr(0,5),e)},Td.prototype.encryptor=function(e,t){var r=Kw(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return Xw(r,a)}},Vp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||dn(e)!==dn(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},Gt.API={events:[]},Gt.version="3.0.3";var la=Gt.API,gj=1,id=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ed=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nr=function(e){return e.toFixed(2)},Lc=function(e){return e.toFixed(5)};la.__acroform__={};var gi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},DC=function(e){return e*gj},Zo=function(e){var t=new pL,r=Ut.internal.getHeight(e)||0,a=Ut.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Nr(a)),Number(Nr(r))],t},tZ=la.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},rZ=la.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},nZ=la.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ma=la.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nZ(e,t-1)},pa=la.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tZ(e,t-1)},ga=la.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rZ(e,t-1)},aZ=la.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],u={};return u.lowerLeft_X=r(s)||0,u.lowerLeft_Y=a(i+l)||0,u.upperRight_X=r(s+o)||0,u.upperRight_Y=a(i)||0,[Number(Nr(u.lowerLeft_X)),Number(Nr(u.lowerLeft_Y)),Number(Nr(u.upperRight_X)),Number(Nr(u.upperRight_Y))]},sZ=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=Jw(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Nr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Zo(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Jw=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(R){return R.split(`
`)}):s.map(function(R){return[R]});var i=r,o=Ut.internal.getHeight(e)||0;o=o<0?-o:o;var l=Ut.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(R,$,H){if(R+1<s.length){var B=$+" "+s[R+1][0];return Rm(B,e,H).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var f,h,m=Rm("3",e,i).height,x=e.multiline?o-i:(o-m)/2,p=x+=2,w=0,v=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Rm(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var S="",A=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var k=!1;if(s[N].length!==1&&y!==s[N].length-1){if((m+2)*(A+2)+2>o)continue e;S+=s[N][y],k=!0,v=N,N--}else{S=(S+=s[N][y]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var C=parseInt(N),T=u(C,S,i),I=N>=s.length-1;if(T&&!I){S+=" ",y=0;continue}if(T||I){if(I)v=C;else if(e.multiline&&(m+2)*(A+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(A+2)+2>o)continue e;v=C}}for(var F="",z=w;z<=v;z++){var J=s[z];if(e.multiline){if(z===v){F+=J[y]+" ",y=(y+1)%J.length;continue}if(z===w){F+=J[J.length-1]+" ";continue}}F+=J[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,h=Rm(F,e,i).width,e.textAlign){case"right":f=l-h-2;break;case"center":f=(l-h)/2;break;default:f=2}t+=Nr(f)+" "+Nr(p)+` Td
`,t+="("+id(F)+`) Tj
`,t+=-Nr(f)+` 0 Td
`,p=-(i+2),h=0,w=k?v:v+1,A++,S=""}break}return a.text=t,a.fontSize=i,a},Rm=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},iZ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oZ=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},lZ=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Co.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(iZ)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new gL,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&oZ(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],u=[],f=l.Rect;if(l.Rect&&(l.Rect=aZ(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ut.createDefaultAppearanceStream(l),dn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=sZ(l);u.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var p=l.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var w=p[o];typeof w=="function"&&(w=w.call(s,l)),m+="/"+o+" "+w+" ",s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w)}}else typeof(w=p)=="function"&&(w=w.call(s,l)),m+="/"+o+" "+w,s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:l.objId}),s.internal.out("endobj")}i&&(function(v,y){for(var S in v)if(v.hasOwnProperty(S)){var A=S,N=v[S];y.internal.newObjectDeferredBegin(N.objId,!0),dn(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete v[A]}})(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},mL=la.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),dn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),s+="("+id(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sb=function(e,t,r){var a=function(s){return s};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+id(a(e))+")"},tl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tl.prototype.toString=function(){return this.objId+" 0 R"},tl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},tl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:mL(s,this.objId,this.scope)}):s instanceof tl?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var pL=function(){tl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};gi(pL,tl);var gL=function(){tl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+id(r(e))+")"}},set:function(r){e=r}})};gi(gL,tl);var Co=function e(){tl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ma(t,3)},set:function(S){S?this.F=pa(t,3):this.F=ga(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(S){a=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(S){a[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(S){a[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(S){a[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(S){a[3]=S}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Yp)return;i="FieldObject"+e.FieldNum++}var S=function(A){return A};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+id(S(i))+")"},set:function(S){i=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(S){i=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/gj:f},set:function(S){f=S}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Yp||this instanceof Yu))return sb(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=S}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Qa==0?sb(x,this.objId,this.scope):x},set:function(S){S=S.toString(),x=this instanceof Qa==0?S.substr(0,1)==="("?Ed(S.substr(1,S.length-2)):Ed(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qa==1?Ed(x.substr(1,x.length-1)):x},set:function(S){S=S.toString(),x=this instanceof Qa==1?"/"+S:S}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Qa==0?sb(p,this.objId,this.scope):p},set:function(S){S=S.toString(),p=this instanceof Qa==0?S.substr(0,1)==="("?Ed(S.substr(1,S.length-2)):Ed(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qa==1?Ed(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof Qa==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(S){S=!!S,v=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(S){w=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,1)},set:function(S){S?this.Ff=pa(this.Ff,1):this.Ff=ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,2)},set:function(S){S?this.Ff=pa(this.Ff,2):this.Ff=ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,3)},set:function(S){S?this.Ff=pa(this.Ff,3):this.Ff=ga(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');y=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(y){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};gi(Co,tl);var Hd=function(){Co.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mL(t,this.objId,this.scope)},set:function(r){var a,s;s=[],typeof(a=r)=="string"&&(s=(function(i,o,l){l||(l=1);for(var u,f=[];u=o.exec(i);)f.push(u[l]);return f})(a,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,18)},set:function(r){r?this.Ff=pa(this.Ff,18):this.Ff=ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=pa(this.Ff,19):this.Ff=ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,20)},set:function(r){r?(this.Ff=pa(this.Ff,20),t.sort()):this.Ff=ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,22)},set:function(r){r?this.Ff=pa(this.Ff,22):this.Ff=ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,23)},set:function(r){r?this.Ff=pa(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,27)},set:function(r){r?this.Ff=pa(this.Ff,27):this.Ff=ga(this.Ff,27)}}),this.hasAppearanceStream=!1};gi(Hd,Co);var Vd=function(){Hd.call(this),this.fontName="helvetica",this.combo=!1};gi(Vd,Hd);var Yd=function(){Vd.call(this),this.combo=!0};gi(Yd,Vd);var qm=function(){Yd.call(this),this.edit=!0};gi(qm,Yd);var Qa=function(){Co.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,15)},set:function(r){r?this.Ff=pa(this.Ff,15):this.Ff=ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,16)},set:function(r){r?this.Ff=pa(this.Ff,16):this.Ff=ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,17)},set:function(r){r?this.Ff=pa(this.Ff,17):this.Ff=ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,26)},set:function(r){r?this.Ff=pa(this.Ff,26):this.Ff=ga(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,s=[];for(a in s.push("<<"),t)s.push("/"+a+" ("+id(r(t[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){dn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};gi(Qa,Co);var zm=function(){Qa.call(this),this.pushButton=!0};gi(zm,Qa);var Gd=function(){Qa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};gi(Gd,Qa);var Yp=function(){var e,t;Co.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+id(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){dn(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gi(Yp,Co),Gd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Gd.prototype.createOption=function(e){var t=new Yp;return t.Parent=this,t.optionName=e,this.Kids.push(t),cZ.call(this.scope,t),t};var Wm=function(){Qa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ut.CheckBox.createAppearanceStream()};gi(Wm,Qa);var Yu=function(){Co.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,13)},set:function(t){t?this.Ff=pa(this.Ff,13):this.Ff=ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,21)},set:function(t){t?this.Ff=pa(this.Ff,21):this.Ff=ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,23)},set:function(t){t?this.Ff=pa(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,24)},set:function(t){t?this.Ff=pa(this.Ff,24):this.Ff=ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,25)},set:function(t){t?this.Ff=pa(this.Ff,25):this.Ff=ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,26)},set:function(t){t?this.Ff=pa(this.Ff,26):this.Ff=ga(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gi(Yu,Co);var Hm=function(){Yu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,14)},set:function(e){e?this.Ff=pa(this.Ff,14):this.Ff=ga(this.Ff,14)}}),this.password=!0};gi(Hm,Yu);var Ut={CheckBox:{createAppearanceStream:function(){return{N:{On:Ut.CheckBox.YesNormal},D:{On:Ut.CheckBox.YesPushDown,Off:Ut.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Zo(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Jw(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Nr(Ut.internal.getWidth(e))+" "+Nr(Ut.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+Nr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Zo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=Ut.internal.getHeight(e),o=Ut.internal.getWidth(e),l=Jw(e,e.caption);return s.push("1 g"),s.push("0 0 "+Nr(o)+" "+Nr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Nr(o-1)+" "+Nr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Nr(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Zo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nr(Ut.internal.getWidth(e))+" "+Nr(Ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ut.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ut.RadioButton.Circle.YesNormal,t.D[e]=Ut.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Zo(e);t.scope=e.scope;var r=[],a=Ut.internal.getWidth(e)<=Ut.internal.getHeight(e)?Ut.internal.getWidth(e)/4:Ut.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Ut.internal.Bezier_C,i=Number((a*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Lc(Ut.internal.getWidth(e)/2)+" "+Lc(Ut.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Zo(e);t.scope=e.scope;var r=[],a=Ut.internal.getWidth(e)<=Ut.internal.getHeight(e)?Ut.internal.getWidth(e)/4:Ut.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Ut.internal.Bezier_C).toFixed(5)),o=Number((a*Ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lc(Ut.internal.getWidth(e)/2)+" "+Lc(Ut.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Lc(Ut.internal.getWidth(e)/2)+" "+Lc(Ut.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Zo(e);t.scope=e.scope;var r=[],a=Ut.internal.getWidth(e)<=Ut.internal.getHeight(e)?Ut.internal.getWidth(e)/4:Ut.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lc(Ut.internal.getWidth(e)/2)+" "+Lc(Ut.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ut.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ut.RadioButton.Cross.YesNormal,t.D[e]=Ut.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Zo(e);t.scope=e.scope;var r=[],a=Ut.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Nr(Ut.internal.getWidth(e)-2)+" "+Nr(Ut.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Nr(a.x1.x)+" "+Nr(a.x1.y)+" m"),r.push(Nr(a.x2.x)+" "+Nr(a.x2.y)+" l"),r.push(Nr(a.x4.x)+" "+Nr(a.x4.y)+" m"),r.push(Nr(a.x3.x)+" "+Nr(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Zo(e);t.scope=e.scope;var r=Ut.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Nr(Ut.internal.getWidth(e))+" "+Nr(Ut.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Nr(Ut.internal.getWidth(e)-2)+" "+Nr(Ut.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Nr(r.x1.x)+" "+Nr(r.x1.y)+" m"),a.push(Nr(r.x2.x)+" "+Nr(r.x2.y)+" l"),a.push(Nr(r.x4.x)+" "+Nr(r.x4.y)+" m"),a.push(Nr(r.x3.x)+" "+Nr(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Zo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nr(Ut.internal.getWidth(e))+" "+Nr(Ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ut.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ut.internal.getWidth(e),r=Ut.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},Ut.internal.getWidth=function(e){var t=0;return dn(e)==="object"&&(t=DC(e.Rect[2])),t},Ut.internal.getHeight=function(e){var t=0;return dn(e)==="object"&&(t=DC(e.Rect[3])),t};var cZ=la.addField=function(e){if(lZ(this,e),!(e instanceof Co))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};la.AcroFormChoiceField=Hd,la.AcroFormListBox=Vd,la.AcroFormComboBox=Yd,la.AcroFormEditBox=qm,la.AcroFormButton=Qa,la.AcroFormPushButton=zm,la.AcroFormRadioButton=Gd,la.AcroFormCheckBox=Wm,la.AcroFormTextField=Yu,la.AcroFormPasswordField=Hm,la.AcroFormAppearance=Ut,la.AcroForm={ChoiceField:Hd,ListBox:Vd,ComboBox:Yd,EditBox:qm,Button:Qa,PushButton:zm,RadioButton:Gd,CheckBox:Wm,TextField:Yu,PasswordField:Hm,Appearance:Ut},Gt.AcroForm={ChoiceField:Hd,ListBox:Vd,ComboBox:Yd,EditBox:qm,Button:Qa,PushButton:zm,RadioButton:Gd,CheckBox:Wm,TextField:Yu,PasswordField:Hm,Appearance:Ut};Gt.AcroForm;function xL(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(R,$){var H,B,ce,se,xe,te=r;if(($=$||r)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(T(R))for(xe in a)for(ce=a[xe],H=0;H<ce.length;H+=1){for(se=!0,B=0;B<ce[H].length;B+=1)if(ce[H][B]!==void 0&&ce[H][B]!==R[B]){se=!1;break}if(se===!0){te=xe;break}}else for(xe in a)for(ce=a[xe],H=0;H<ce.length;H+=1){for(se=!0,B=0;B<ce[H].length;B+=1)if(ce[H][B]!==void 0&&ce[H][B]!==R.charCodeAt(B)){se=!1;break}if(se===!0){te=xe;break}}return te===r&&$!==r&&(te=$),te},i=function R($){for(var H=this.internal.write,B=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:$.width}),se.push({key:"Height",value:$.height}),$.colorSpace===S.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===S.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var xe="",te=0,ee=$.transparency.length;te<ee;te++)xe+=$.transparency[te]+" "+$.transparency[te]+" ";se.push({key:"Mask",value:"["+xe+"]"})}$.sMask!==void 0&&se.push({key:"SMask",value:$.objectId+1+" 0 R"});var G=$.filter!==void 0?["/"+$.filter]:void 0;if(B({data:$.data,additionalKeyValues:se,alreadyAppliedFilters:G,objectId:$.objectId}),H("endobj"),"sMask"in $&&$.sMask!==void 0){var oe,q=(oe=$.sMaskBitsPerComponent)!==null&&oe!==void 0?oe:$.bitsPerComponent,U={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:$.sMask};"filter"in $&&(U.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat($.width),U.filter=$.filter),R.call(this,U)}if($.colorSpace===S.INDEXED){var V=this.internal.newObject();B({data:F(new Uint8Array($.palette)),objectId:V}),H("endobj")}},o=function(){var R=this.internal.collections[t+"images"];for(var $ in R)i.call(this,R[$])},l=function(){var R,$=this.internal.collections[t+"images"],H=this.internal.write;for(var B in $)H("/I"+(R=$[B]).index,R.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var R=this.internal.collections[t+"images"];return u.call(this),R},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(R){return typeof e["process"+R.toUpperCase()]=="function"},x=function(R){return dn(R)==="object"&&R.nodeType===1},p=function(R,$){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var H=""+R.getAttribute("src");if(H.indexOf("data:image/")===0)return Um(unescape(H).split("base64,").pop());var B=e.loadFile(H,!0);if(B!==void 0)return B}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var ce;switch($){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return Um(R.toDataURL(ce,1).split("base64,").pop())}},w=function(R){var $=this.internal.collections[t+"images"];if($){for(var H in $)if(R===$[H].alias)return $[H]}},v=function(R,$,H){return R||$||(R=-96,$=-96),R<0&&(R=-1*H.width*72/R/this.internal.scaleFactor),$<0&&($=-1*H.height*72/$/this.internal.scaleFactor),R===0&&(R=$*H.width/H.height),$===0&&($=R*H.height/H.width),[R,$]},y=function(R,$,H,B,ce,se){var xe=v.call(this,H,B,ce),te=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,G=f.call(this);if(H=xe[0],B=xe[1],G[ce.index]=ce,se){se*=Math.PI/180;var oe=Math.cos(se),q=Math.sin(se),U=function(ie){return ie.toFixed(4)},V=[U(oe),U(q),U(-1*q),U(oe),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,te(R),ee($+B),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([te(H),"0","0",te(B),"0","0","cm"].join(" "))):this.internal.write([te(H),"0","0",te(B),te(R),ee($+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(R){var $,H,B=0;if(typeof R=="string")for(H=R.length,$=0;$<H;$++)B=(B<<5)-B+R.charCodeAt($),B|=0;else if(T(R))for(H=R.byteLength/2,$=0;$<H;$++)B=(B<<5)-B+R[$],B|=0;return B},k=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var $=!0;return R.length===0&&($=!1),R.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&($=!1),$},C=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var $=R.indexOf(",");return $<0?null:R.substring(0,$).trim().endsWith("base64")?R.substring($+1):null};e.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var T=e.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},I=e.__addimage__.binaryStringToUint8Array=function(R){for(var $=R.length,H=new Uint8Array($),B=0;B<$;B++)H[B]=R.charCodeAt(B);return H},F=e.__addimage__.arrayBufferToBinaryString=function(R){for(var $="",H=T(R)?R:new Uint8Array(R),B=0;B<H.length;B+=8192)$+=String.fromCharCode.apply(null,H.subarray(B,B+8192));return $};e.addImage=function(){var R,$,H,B,ce,se,xe,te,ee;if(typeof arguments[1]=="number"?($=r,H=arguments[1],B=arguments[2],ce=arguments[3],se=arguments[4],xe=arguments[5],te=arguments[6],ee=arguments[7]):($=arguments[1],H=arguments[2],B=arguments[3],ce=arguments[4],se=arguments[5],xe=arguments[6],te=arguments[7],ee=arguments[8]),dn(R=arguments[0])==="object"&&!x(R)&&"imageData"in R){var G=R;R=G.imageData,$=G.format||$||r,H=G.x||H||0,B=G.y||B||0,ce=G.w||G.width||ce,se=G.h||G.height||se,xe=G.alias||xe,te=G.compression||te,ee=G.rotation||G.angle||ee}var oe=this.internal.getFilters();if(te===void 0&&oe.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(H)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var q=z.call(this,R,$,xe,te);return y.call(this,H,B,ce,se,q,ee),this};var z=function(R,$,H,B){var ce,se,xe;if(typeof R=="string"&&s(R)===r){R=unescape(R);var te=J(R,!1);(te!==""||(te=e.loadFile(R,!0))!==void 0)&&(R=te)}if(x(R)&&(R=p(R,$)),$=s(R,$),!m($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((xe=H)==null||xe.length===0)&&(H=(function(ee){return typeof ee=="string"||T(ee)?N(ee):T(ee.data)?N(ee.data):null})(R)),(ce=w.call(this,H))||(R instanceof Uint8Array||$==="RGBA"||(se=R,R=I(R)),ce=this["process"+$.toUpperCase()](R,h.call(this),H,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:A.NONE})(B),se)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},J=e.__addimage__.convertBase64ToBinaryString=function(R,$){$=typeof $!="boolean"||$;var H,B="";if(typeof R=="string"){var ce;H=(ce=C(R))!==null&&ce!==void 0?ce:R;try{B=Um(H)}catch(se){if($)throw k(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};e.getImageProperties=function(R){var $,H,B="";if(x(R)&&(R=p(R)),typeof R=="string"&&s(R)===r&&((B=J(R,!1))===""&&(B=e.loadFile(R)||""),R=B),H=s(R),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(R instanceof Uint8Array||(R=I(R)),!($=this["process"+H.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=H,$}})(Gt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,h=!1,m=0;m<f.length&&!h;m++)switch((a=f[m]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<f.length;x++){a=f[x];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(v.objId),A=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+p(S(a.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+p(S(A))+") >>",v.content=i;var N=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+N,a.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(v.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var k=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(w(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var C=this.annotations._nameMap[a.options.name];a.options.pageNumber=C.page,a.options.top=C.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var T=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+T+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,s,i,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(r),y:f(a),w:u(r+s),h:f(a+i)},options:o,type:"link"})},e.textWithLink=function(r,a,s,i){var o,l,u=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(f*h)}else l=u,o=f;return this.text(r,a,s,i),s+=.2*f,i.align==="center"&&(a-=u/2),i.align==="right"&&(a-=u),this.link(a,s-f,l,o,i),u},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}})(Gt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&s.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(v){var y=0,S=r,A="",N=0;for(y=0;y<v.length;y+=1)S[v.charCodeAt(y)]!==void 0?(N++,typeof(S=S[v.charCodeAt(y)])=="number"&&(A+=String.fromCharCode(S),S=r,N=0),y===v.length-1&&(S=r,A+=v.charAt(y-(N-1)),y-=N-1,N=0)):(S=r,A+=v.charAt(y-N),y-=N,N=0);return A};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&a[v.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(v,y,S){return o(v)?i(v)===!1?-1:!f(v)||!o(y)&&!o(S)||!o(S)&&l(y)||l(v)&&!o(y)||l(v)&&u(y)||l(v)&&l(y)?0:h(v)&&o(y)&&!l(y)&&o(S)&&f(S)?3:l(v)||!o(S)?1:2:-1},p=function(v){var y=0,S=0,A=0,N="",k="",C="",T=(v=v||"").split("\\s+"),I=[];for(y=0;y<T.length;y+=1){for(I.push(""),S=0;S<T[y].length;S+=1)N=T[y][S],k=T[y][S-1],C=T[y][S+1],o(N)?(A=x(N,k,C),I[y]+=A!==-1?String.fromCharCode(t[N.charCodeAt(0)][A]):N):I[y]+=N;I[y]=m(I[y])}return I.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var v,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(y)){var A=0;for(S=[],A=0;A<y.length;A+=1)Array.isArray(y[A])?S.push([p(y[A][0]),y[A][1],y[A][2]]):S.push([p(y[A])]);v=S}else v=p(y);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",w])})(Gt.API),Gt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var s;if((r=r||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Gt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(v){w=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return a.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){a.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),x=f.scaleFactor||this.internal.scaleFactor,p=0,w=0,v=0,y=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=f.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(N,k){return N.concat(y.splitTextToSize(k,S))},[])):u=Array.isArray(u)?u:[u];for(var A=0;A<u.length;A++)p<(v=this.getStringUnitWidth(u[A],{font:m})*h)&&(p=v);return p!==0&&(w=u.length),{w:p/=x,h:Math.max((w*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,p&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,h,m,x){if(a.call(this),!h)throw new Error("No data for PDF table.");var p,w,v,y,S=[],A=[],N=[],k={},C={},T=[],I=[],F=(x=x||{}).autoSize||!1,z=x.printHeaders!==!1,J=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,R=x.margins||Object.assign({width:this.getPageWidth()},t),$=typeof x.padding=="number"?x.padding:3,H=x.headerBackgroundColor||"#c8c8c8",B=x.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=B,this.setFontSize(J),m==null)A=S=Object.keys(h[0]),N=S.map(function(){return"left"});else if(Array.isArray(m)&&dn(m[0])==="object")for(S=m.map(function(G){return G.name}),A=m.map(function(G){return G.prompt||G.name||""}),N=m.map(function(G){return G.align||"left"}),p=0;p<m.length;p+=1)C[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(A=S=m,N=S.map(function(){return"left"}));if(F||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<S.length;p+=1){for(k[y=S[p]]=h.map(function(G){return G[y]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=k[y],this.setFont(void 0,"normal"),v=0;v<w.length;v+=1)T.push(this.getTextDimensions(w[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[y]=Math.max.apply(null,T)+$+$,T=[]}if(z){var ce={};for(p=0;p<S.length;p+=1)ce[S[p]]={},ce[S[p]].text=A[p],ce[S[p]].align=N[p];var se=l.call(this,ce,C);I=S.map(function(G){return new i(u,f,C[G],se,ce[G].text,void 0,ce[G].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var xe=m.reduce(function(G,oe){return G[oe.name]=oe.align,G},{});for(p=0;p<h.length;p+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:p,data:h[p]},this);var te=l.call(this,h[p],C);for(v=0;v<S.length;v+=1){var ee=h[p][S[v]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:p,col:v,data:ee},this),o.call(this,new i(u,f,C[S[v]],te,ee,p+2,xe[S[v]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var l=function(u,f){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(p){var w=u[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,f[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/x+h+h},this).reduce(function(p,w){return Math.max(p,w)},0)};e.setTableHeaderRow=function(u){a.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(w)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}})(Gt.API);var vL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qw=xL(yL),bL=[100,200,300,400,500,600,700,800,900],uZ=xL(bL);function ib(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return vL[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof Qw[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,a].join(" ")}}}function FC(e,t,r,a){var s;for(s=r;s>=0&&s<t.length;s+=a)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=a)if(e[t[s]])return e[t[s]]}var dZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$C={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BC(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function UC(e){return e.trimLeft()}function fZ(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function hZ(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Tm,qC,zC,Ld,Mm,WC,HC,VC,ob=["times"];function YC(e,t,r,a,s){var i=4,o=KC;switch(s){case Gt.API.image_compression.FAST:i=1,o=GC;break;case Gt.API.image_compression.MEDIUM:i=6,o=XC;break;case Gt.API.image_compression.SLOW:i=9,o=JC}e=(function(u,f,h,m){for(var x,p=u.length/f,w=new Uint8Array(u.length+p),v=[mZ,GC,KC,XC,JC],y=0;y<p;y+=1){var S=y*f,A=u.subarray(S,S+f);if(m)w.set(m(A,h,x),S+y);else{for(var N=v.length,k=[],C=0;C<N;C+=1)k[C]=v[C](A,h,x);var T=gZ(k.concat());w.set(k[T],S+y)}x=A}return w})(e,t,Math.ceil(r*a/8),o);var l=Hw(e,{level:i});return Gt.API.__addimage__.arrayBufferToBinaryString(l)}function mZ(e){var t=Array.apply([],e);return t.unshift(0),t}function GC(e,t){var r=e.length,a=[];a[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;a[s+1]=e[s]-i+256&255}return a}function KC(e,t,r){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function XC(e,t,r){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function JC(e,t,r){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=pZ(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function pZ(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return a<=s&&a<=i?e:s<=i?t:r}function gZ(e){var t=e.map(function(r){return r.reduce(function(a,s){return a+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function lb(e,t,r){var a=t*r,s=Math.floor(a/8),i=16-(a-8*s+r),o=(1<<r)-1;return wL(e,s)>>i&o}function QC(e,t,r,a){var s=r*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,u=(t&l)<<o;(function(f,h,m){if(h+1<f.byteLength)f.setUint16(h,m,!1);else{var x=m>>8&255;f.setUint8(h,x)}})(e,i,wL(e,i)&~(l<<o)&65535|u)}function wL(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function xZ(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,u=null;i&&(l=t,u=o,t+=3*o);var f=!0,h=[],m=0,x=null,p=0,w=null;for(this.width=r,this.height=a;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];m=e[t++]|e[t++]<<8,x=e[t++],1&v||(x=null),p=v>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,k=e[t++],C=k>>6&1,T=1<<1+(7&k),I=l,F=u,z=!1;k>>7&&(z=!0,I=t,F=T,t+=3*T);var J=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}h.push({x:y,y:S,width:A,height:N,has_local_palette:z,palette_offset:I,palette_size:F,data_offset:J,data_length:t-J,transparent_index:x,interlaced:!!C,delay:m,disposal:p});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return w},this.frameInfo=function($){if($<0||$>=h.length)throw new Error("Frame index out of range.");return h[$]},this.decodeAndBlitFrameBGRA=function($,H){var B=this.frameInfo($),ce=B.width*B.height,se=new Uint8Array(ce);ZC(e,B.data_offset,se,ce);var xe=B.palette_offset,te=B.transparent_index;te===null&&(te=256);var ee=B.width,G=r-ee,oe=ee,q=4*(B.y*r+B.x),U=4*((B.y+B.height)*r+B.x),V=q,ie=4*G;B.interlaced===!0&&(ie+=4*r*7);for(var me=8,W=0,de=se.length;W<de;++W){var re=se[W];if(oe===0&&(oe=ee,(V+=ie)>=U&&(ie=4*G+4*r*(me-1),V=q+(ee+G)*(me<<1),me>>=1)),re===te)V+=4;else{var Q=e[xe+3*re],Ne=e[xe+3*re+1],he=e[xe+3*re+2];H[V++]=he,H[V++]=Ne,H[V++]=Q,H[V++]=255}--oe}},this.decodeAndBlitFrameRGBA=function($,H){var B=this.frameInfo($),ce=B.width*B.height,se=new Uint8Array(ce);ZC(e,B.data_offset,se,ce);var xe=B.palette_offset,te=B.transparent_index;te===null&&(te=256);var ee=B.width,G=r-ee,oe=ee,q=4*(B.y*r+B.x),U=4*((B.y+B.height)*r+B.x),V=q,ie=4*G;B.interlaced===!0&&(ie+=4*r*7);for(var me=8,W=0,de=se.length;W<de;++W){var re=se[W];if(oe===0&&(oe=ee,(V+=ie)>=U&&(ie=4*G+4*r*(me-1),V=q+(ee+G)*(me<<1),me>>=1)),re===te)V+=4;else{var Q=e[xe+3*re],Ne=e[xe+3*re+1],he=e[xe+3*re+2];H[V++]=Q,H[V++]=Ne,H[V++]=he,H[V++]=255}--oe}}}function ZC(e,t,r,a){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,u=s+1,f=(1<<u)-1,h=0,m=0,x=0,p=e[t++],w=new Int32Array(4096),v=null;;){for(;h<16&&p!==0;)m|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<u)break;var y=m&f;if(m>>=u,h-=u,y!==i){if(y===o)break;for(var S=y<l?y:v,A=0,N=S;N>i;)N=w[N]>>8,++A;var k=N;if(x+A+(S!==y?1:0)>a)return void wn.log("Warning, gif stream longer than expected.");r[x++]=k;var C=x+=A;for(S!==y&&(r[x++]=k),N=S;A--;)N=w[N],r[--C]=255&N,N>>=8;v!==null&&l<4096&&(w[l++]=v<<8|k,l>=f+1&&u<12&&(++u,f=f<<1|1)),v=y}else l=o+1,f=(1<<(u=s+1))-1,v=null}return x!==a&&wn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cb(e){var t,r,a,s,i,o=Math.floor,l=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),m=new Array(65535),x=new Array(65535),p=new Array(64),w=new Array(64),v=[],y=0,S=7,A=new Array(64),N=new Array(64),k=new Array(64),C=new Array(256),T=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(q,U){for(var V=0,ie=0,me=new Array,W=1;W<=16;W++){for(var de=1;de<=q[W];de++)me[U[ie]]=[],me[U[ie]][0]=V,me[U[ie]][1]=W,ie++,V++;V*=2}return me}function xe(q){for(var U=q[0],V=q[1]-1;V>=0;)U&1<<V&&(y|=1<<S),V--,--S<0&&(y==255?(te(255),te(0)):te(y),S=7,y=0)}function te(q){v.push(q)}function ee(q){te(q>>8&255),te(255&q)}function G(q,U,V,ie,me){for(var W,de=me[0],re=me[240],Q=(function(Te,ye){var qe,wt,Ee,xt,gt,ht,_e,He,We,Ge,ot=0;for(We=0;We<8;++We){qe=Te[ot],wt=Te[ot+1],Ee=Te[ot+2],xt=Te[ot+3],gt=Te[ot+4],ht=Te[ot+5],_e=Te[ot+6];var Nt=qe+(He=Te[ot+7]),Dt=qe-He,pt=wt+_e,At=wt-_e,Be=Ee+ht,Ie=Ee-ht,dt=xt+gt,kt=xt-gt,pr=Nt+dt,br=Nt-dt,gr=pt+Be,Vt=pt-Be;Te[ot]=pr+gr,Te[ot+4]=pr-gr;var xr=.707106781*(Vt+br);Te[ot+2]=br+xr,Te[ot+6]=br-xr;var na=.382683433*((pr=kt+Ie)-(Vt=At+Dt)),_r=.5411961*pr+na,ca=1.306562965*Vt+na,Sa=.707106781*(gr=Ie+At),Tt=Dt+Sa,ir=Dt-Sa;Te[ot+5]=ir+_r,Te[ot+3]=ir-_r,Te[ot+1]=Tt+ca,Te[ot+7]=Tt-ca,ot+=8}for(ot=0,We=0;We<8;++We){qe=Te[ot],wt=Te[ot+8],Ee=Te[ot+16],xt=Te[ot+24],gt=Te[ot+32],ht=Te[ot+40],_e=Te[ot+48];var _a=qe+(He=Te[ot+56]),Wr=qe-He,ka=wt+_e,Hr=wt-_e,on=Ee+ht,Sn=Ee-ht,$a=xt+gt,en=xt-gt,va=_a+$a,Fn=_a-$a,fn=ka+on,ua=ka-on;Te[ot]=va+fn,Te[ot+32]=va-fn;var $n=.707106781*(ua+Fn);Te[ot+16]=Fn+$n,Te[ot+48]=Fn-$n;var xi=.382683433*((va=en+Sn)-(ua=Hr+Wr)),Ba=.5411961*va+xi,es=1.306562965*ua+xi,Ys=.707106781*(fn=Sn+Hr),Os=Wr+Ys,Oe=Wr-Ys;Te[ot+40]=Oe+Ba,Te[ot+24]=Oe-Ba,Te[ot+8]=Os+es,Te[ot+56]=Os-es,ot++}for(We=0;We<64;++We)Ge=Te[We]*ye[We],p[We]=Ge>0?Ge+.5|0:Ge-.5|0;return p})(q,U),Ne=0;Ne<64;++Ne)w[I[Ne]]=Q[Ne];var he=w[0]-V;V=w[0],he==0?xe(ie[0]):(xe(ie[x[W=32767+he]]),xe(m[W]));for(var we=63;we>0&&w[we]==0;)we--;if(we==0)return xe(de),V;for(var be,Z=1;Z<=we;){for(var Xe=Z;w[Z]==0&&Z<=we;)++Z;var Je=Z-Xe;if(Je>=16){be=Je>>4;for(var Qe=1;Qe<=be;++Qe)xe(re);Je&=15}W=32767+w[Z],xe(me[(Je<<4)+x[W]]),xe(m[W]),Z++}return we!=63&&xe(de),V}function oe(q){q=Math.min(Math.max(q,1),100),i!=q&&((function(U){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var me=o((V[ie]*U+50)/100);me=Math.min(Math.max(me,1),255),l[I[ie]]=me}for(var W=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var re=o((W[de]*U+50)/100);re=Math.min(Math.max(re,1),255),u[I[de]]=re}for(var Q=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,he=0;he<8;he++)for(var we=0;we<8;we++)f[Ne]=1/(l[I[Ne]]*Q[he]*Q[we]*8),h[Ne]=1/(u[I[Ne]]*Q[he]*Q[we]*8),Ne++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),i=q)}this.encode=function(q,U){U&&oe(U),v=new Array,y=0,S=7,ee(65496),ee(65504),ee(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ee(1),ee(1),te(0),te(0),(function(){ee(65499),ee(132),te(0);for(var wt=0;wt<64;wt++)te(l[wt]);te(1);for(var Ee=0;Ee<64;Ee++)te(u[Ee])})(),(function(wt,Ee){ee(65472),ee(17),te(8),ee(Ee),ee(wt),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(q.width,q.height),(function(){ee(65476),ee(418),te(0);for(var wt=0;wt<16;wt++)te(F[wt+1]);for(var Ee=0;Ee<=11;Ee++)te(z[Ee]);te(16);for(var xt=0;xt<16;xt++)te(J[xt+1]);for(var gt=0;gt<=161;gt++)te(R[gt]);te(1);for(var ht=0;ht<16;ht++)te($[ht+1]);for(var _e=0;_e<=11;_e++)te(H[_e]);te(17);for(var He=0;He<16;He++)te(B[He+1]);for(var We=0;We<=161;We++)te(ce[We])})(),ee(65498),ee(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var V=0,ie=0,me=0;y=0,S=7,this.encode.displayName="_encode_";for(var W,de,re,Q,Ne,he,we,be,Z,Xe=q.data,Je=q.width,Qe=q.height,Te=4*Je,ye=0;ye<Qe;){for(W=0;W<Te;){for(Ne=Te*ye+W,we=-1,be=0,Z=0;Z<64;Z++)he=Ne+(be=Z>>3)*Te+(we=4*(7&Z)),ye+be>=Qe&&(he-=Te*(ye+1+be-Qe)),W+we>=Te&&(he-=W+we-Te+4),de=Xe[he++],re=Xe[he++],Q=Xe[he++],A[Z]=(T[de]+T[re+256|0]+T[Q+512|0]>>16)-128,N[Z]=(T[de+768|0]+T[re+1024|0]+T[Q+1280|0]>>16)-128,k[Z]=(T[de+1280|0]+T[re+1536|0]+T[Q+1792|0]>>16)-128;V=G(A,f,V,t,a),ie=G(N,h,ie,r,s),me=G(k,h,me,r,s),W+=32}ye+=8}if(S>=0){var qe=[];qe[1]=S+1,qe[0]=(1<<S+1)-1,xe(qe)}return ee(65497),new Uint8Array(v)},e=e||50,(function(){for(var q=String.fromCharCode,U=0;U<256;U++)C[U]=q(U)})(),t=se(F,z),r=se($,H),a=se(J,R),s=se(B,ce),(function(){for(var q=1,U=2,V=1;V<=15;V++){for(var ie=q;ie<U;ie++)x[32767+ie]=V,m[32767+ie]=[],m[32767+ie][1]=V,m[32767+ie][0]=ie;for(var me=-(U-1);me<=-q;me++)x[32767+me]=V,m[32767+me]=[],m[32767+me][1]=V,m[32767+me][0]=U-1+me;q<<=1,U<<=1}})(),(function(){for(var q=0;q<256;q++)T[q]=19595*q,T[q+256|0]=38470*q,T[q+512|0]=7471*q+32768,T[q+768|0]=-11059*q,T[q+1024|0]=-21709*q,T[q+1280|0]=32768*q+8421375,T[q+1536|0]=-27439*q,T[q+1792|0]=-5329*q})(),oe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function wo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function e8(e){function t(z){if(!z)throw Error("assert :P")}function r(z,J,R){for(var $=0;4>$;$++)if(z[J+$]!=R.charCodeAt($))return!0;return!1}function a(z,J,R,$,H){for(var B=0;B<H;B++)z[J+B]=R[$+B]}function s(z,J,R,$){for(var H=0;H<$;H++)z[J+H]=R}function i(z){return new Int32Array(z)}function o(z,J){for(var R=[],$=0;$<z;$++)R.push(new J);return R}function l(z,J){var R=[];return(function $(H,B,ce){for(var se=ce[B],xe=0;xe<se&&(H.push(ce.length>B+1?[]:new J),!(ce.length<B+1));xe++)$(H[xe],B+1,ce)})(R,0,z),R}var u=function(){var z=this;function J(b,_){for(var L=1<<_-1>>>0;b&L;)L>>>=1;return L?(b&L-1)+L:b}function R(b,_,L,D,X){t(!(D%L));do b[_+(D-=L)]=X;while(0<D)}function $(b,_,L,D,X){if(t(2328>=X),512>=X)var ae=i(512);else if((ae=i(X))==null)return 0;return(function(le,ue,fe,ge,ke,De){var ve,Ce,Me=ue,rt=1<<fe,$e=i(16),Ke=i(16);for(t(ke!=0),t(ge!=null),t(le!=null),t(0<fe),Ce=0;Ce<ke;++Ce){if(15<ge[Ce])return 0;++$e[ge[Ce]]}if($e[0]==ke)return 0;for(Ke[1]=0,ve=1;15>ve;++ve){if($e[ve]>1<<ve)return 0;Ke[ve+1]=Ke[ve]+$e[ve]}for(Ce=0;Ce<ke;++Ce)ve=ge[Ce],0<ge[Ce]&&(De[Ke[ve]++]=Ce);if(Ke[15]==1)return(ge=new H).g=0,ge.value=De[0],R(le,Me,1,rt,ge),rt;var Ze,at=-1,st=rt-1,Ht=0,Ot=1,yr=1,$t=1<<fe;for(Ce=0,ve=1,ke=2;ve<=fe;++ve,ke<<=1){if(Ot+=yr<<=1,0>(yr-=$e[ve]))return 0;for(;0<$e[ve];--$e[ve])(ge=new H).g=ve,ge.value=De[Ce++],R(le,Me+Ht,ke,$t,ge),Ht=J(Ht,ve)}for(ve=fe+1,ke=2;15>=ve;++ve,ke<<=1){if(Ot+=yr<<=1,0>(yr-=$e[ve]))return 0;for(;0<$e[ve];--$e[ve]){if(ge=new H,(Ht&st)!=at){for(Me+=$t,Ze=1<<(at=ve)-fe;15>at&&!(0>=(Ze-=$e[at]));)++at,Ze<<=1;rt+=$t=1<<(Ze=at-fe),le[ue+(at=Ht&st)].g=Ze+fe,le[ue+at].value=Me-ue-at}ge.g=ve-fe,ge.value=De[Ce++],R(le,Me+(Ht>>fe),ke,$t,ge),Ht=J(Ht,ve)}}return Ot!=2*Ke[15]-1?0:rt})(b,_,L,D,X,ae)}function H(){this.value=this.g=0}function B(){this.value=this.g=0}function ce(){this.G=o(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ei,B)}function se(b,_,L,D){t(b!=null),t(_!=null),t(2147483648>D),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=_,b.pa=L,b.Jd=_,b.Yc=L+D,b.Zc=4<=D?L+D-4+1:L,de(b)}function xe(b,_){for(var L=0;0<_--;)L|=Q(b,128)<<_;return L}function te(b,_){var L=xe(b,_);return re(b)?-L:L}function ee(b,_,L,D){var X,ae=0;for(t(b!=null),t(_!=null),t(4294967288>D),b.Sb=D,b.Ra=0,b.u=0,b.h=0,4<D&&(D=4),X=0;X<D;++X)ae+=_[L+X]<<8*X;b.Ra=ae,b.bb=D,b.oa=_,b.pa=L}function G(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Bo-8>>>0,++b.bb,b.u-=8;ie(b)&&(b.h=1,b.u=0)}function oe(b,_){if(t(0<=_),!b.h&&_<=$s){var L=V(b)&Fs[_];return b.u+=_,G(b),L}return b.h=1,b.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(b){return b.Ra>>>(b.u&Bo-1)>>>0}function ie(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Bo}function me(b,_){b.u=_,b.h=ie(b)}function W(b){b.u>=Di&&(t(b.u>=Di),G(b))}function de(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function re(b){return xe(b,1)}function Q(b,_){var L=b.Ca;0>b.b&&de(b);var D=b.b,X=L*_>>>8,ae=(b.I>>>D>X)+0;for(ae?(L-=X,b.I-=X+1<<D>>>0):L=X+1,D=L,X=0;256<=D;)X+=8,D>>=8;return D=7^X+oo[D],b.b-=D,b.Ca=(L<<D)-1,ae}function Ne(b,_,L){b[_+0]=L>>24&255,b[_+1]=L>>16&255,b[_+2]=L>>8&255,b[_+3]=255&L}function he(b,_){return b[_+0]|b[_+1]<<8}function we(b,_){return he(b,_)|b[_+2]<<16}function be(b,_){return he(b,_)|he(b,_+2)<<16}function Z(b,_){var L=1<<_;return t(b!=null),t(0<_),b.X=i(L),b.X==null?0:(b.Mb=32-_,b.Xa=_,1)}function Xe(b,_){t(b!=null),t(_!=null),t(b.Xa==_.Xa),a(_.X,0,b.X,0,1<<_.Xa)}function Je(){this.X=[],this.Xa=this.Mb=0}function Qe(b,_,L,D){t(L!=null),t(D!=null);var X=L[0],ae=D[0];return X==0&&(X=(b*ae+_/2)/_),ae==0&&(ae=(_*X+b/2)/b),0>=X||0>=ae?0:(L[0]=X,D[0]=ae,1)}function Te(b,_){return b+(1<<_)-1>>>_}function ye(b,_){return((4278255360&b)+(4278255360&_)>>>0&4278255360)+((16711935&b)+(16711935&_)>>>0&16711935)>>>0}function qe(b,_){z[_]=function(L,D,X,ae,le,ue,fe){var ge;for(ge=0;ge<le;++ge){var ke=z[b](ue[fe+ge-1],X,ae+ge);ue[fe+ge]=ye(L[D+ge],ke)}}}function wt(){this.ud=this.hd=this.jd=0}function Ee(b,_){return((4278124286&(b^_))>>>1)+(b&_)>>>0}function xt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function gt(b,_){return xt(b+(b-_+.5>>1))}function ht(b,_,L){return Math.abs(_-L)-Math.abs(b-L)}function _e(b,_,L,D,X,ae,le){for(D=ae[le-1],L=0;L<X;++L)ae[le+L]=D=ye(b[_+L],D)}function He(b,_,L,D,X){var ae;for(ae=0;ae<L;++ae){var le=b[_+ae],ue=le>>8&255,fe=16711935&(fe=(fe=16711935&le)+((ue<<16)+ue));D[X+ae]=(4278255360&le)+fe>>>0}}function We(b,_){_.jd=255&b,_.hd=b>>8&255,_.ud=b>>16&255}function Ge(b,_,L,D,X,ae){var le;for(le=0;le<D;++le){var ue=_[L+le],fe=ue>>>8,ge=ue,ke=255&(ke=(ke=ue>>>16)+((b.jd<<24>>24)*(fe<<24>>24)>>>5));ge=255&(ge=(ge+=(b.hd<<24>>24)*(fe<<24>>24)>>>5)+((b.ud<<24>>24)*(ke<<24>>24)>>>5)),X[ae+le]=(4278255360&ue)+(ke<<16)+ge}}function ot(b,_,L,D,X){z[_]=function(ae,le,ue,fe,ge,ke,De,ve,Ce){for(fe=De;fe<ve;++fe)for(De=0;De<Ce;++De)ge[ke++]=X(ue[D(ae[le++])])},z[b]=function(ae,le,ue,fe,ge,ke,De){var ve=8>>ae.b,Ce=ae.Ea,Me=ae.K[0],rt=ae.w;if(8>ve)for(ae=(1<<ae.b)-1,rt=(1<<ve)-1;le<ue;++le){var $e,Ke=0;for($e=0;$e<Ce;++$e)$e&ae||(Ke=D(fe[ge++])),ke[De++]=X(Me[Ke&rt]),Ke>>=ve}else z["VP8LMapColor"+L](fe,ge,Me,rt,ke,De,le,ue,Ce)}}function Nt(b,_,L,D,X){for(L=_+L;_<L;){var ae=b[_++];D[X++]=ae>>16&255,D[X++]=ae>>8&255,D[X++]=255&ae}}function Dt(b,_,L,D,X){for(L=_+L;_<L;){var ae=b[_++];D[X++]=ae>>16&255,D[X++]=ae>>8&255,D[X++]=255&ae,D[X++]=ae>>24&255}}function pt(b,_,L,D,X){for(L=_+L;_<L;){var ae=(le=b[_++])>>16&240|le>>12&15,le=240&le|le>>28&15;D[X++]=ae,D[X++]=le}}function At(b,_,L,D,X){for(L=_+L;_<L;){var ae=(le=b[_++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;D[X++]=ae,D[X++]=le}}function Be(b,_,L,D,X){for(L=_+L;_<L;){var ae=b[_++];D[X++]=255&ae,D[X++]=ae>>8&255,D[X++]=ae>>16&255}}function Ie(b,_,L,D,X,ae){if(ae==0)for(L=_+L;_<L;)Ne(D,((ae=b[_++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),X+=32;else a(D,X,b,_,L)}function dt(b,_){z[_][0]=z[b+"0"],z[_][1]=z[b+"1"],z[_][2]=z[b+"2"],z[_][3]=z[b+"3"],z[_][4]=z[b+"4"],z[_][5]=z[b+"5"],z[_][6]=z[b+"6"],z[_][7]=z[b+"7"],z[_][8]=z[b+"8"],z[_][9]=z[b+"9"],z[_][10]=z[b+"10"],z[_][11]=z[b+"11"],z[_][12]=z[b+"12"],z[_][13]=z[b+"13"],z[_][14]=z[b+"0"],z[_][15]=z[b+"0"]}function kt(b){return b==gc||b==Nl||b==cu||b==uu}function pr(){this.eb=[],this.size=this.A=this.fb=0}function br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pr,this.f.kb=new br,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function na(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function _r(b,_){var L=b.T,D=_.ba.f.RGBA,X=D.eb,ae=D.fb+b.ka*D.A,le=xs[_.ba.S],ue=b.y,fe=b.O,ge=b.f,ke=b.N,De=b.ea,ve=b.W,Ce=_.cc,Me=_.dc,rt=_.Mc,$e=_.Nc,Ke=b.ka,Ze=b.ka+b.T,at=b.U,st=at+1>>1;for(Ke==0?le(ue,fe,null,null,ge,ke,De,ve,ge,ke,De,ve,X,ae,null,null,at):(le(_.ec,_.fc,ue,fe,Ce,Me,rt,$e,ge,ke,De,ve,X,ae-D.A,X,ae,at),++L);Ke+2<Ze;Ke+=2)Ce=ge,Me=ke,rt=De,$e=ve,ke+=b.Rc,ve+=b.Rc,ae+=2*D.A,le(ue,(fe+=2*b.fa)-b.fa,ue,fe,Ce,Me,rt,$e,ge,ke,De,ve,X,ae-D.A,X,ae,at);return fe+=b.fa,b.j+Ze<b.o?(a(_.ec,_.fc,ue,fe,at),a(_.cc,_.dc,ge,ke,st),a(_.Mc,_.Nc,De,ve,st),L--):1&Ze||le(ue,fe,null,null,ge,ke,De,ve,ge,ke,De,ve,X,ae+D.A,null,null,at),L}function ca(b,_,L){var D=b.F,X=[b.J];if(D!=null){var ae=b.U,le=_.ba.S,ue=le==lu||le==cu;_=_.ba.f.RGBA;var fe=[0],ge=b.ka;fe[0]=b.T,b.Kb&&(ge==0?--fe[0]:(--ge,X[0]-=b.width),b.j+b.ka+b.T==b.o&&(fe[0]=b.o-b.j-ge));var ke=_.eb;ge=_.fb+ge*_.A,b=iu(D,X[0],b.width,ae,fe,ke,ge+(ue?0:3),_.A),t(L==fe),b&&kt(le)&&jl(ke,ge,ue,ae,fe,_.A)}return 0}function Sa(b){var _=b.ma,L=_.ba.S,D=11>L,X=L==Wo||L==ou||L==lu||L==un||L==12||kt(L);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!cc(_.Oa,b,X?11:12))return 0;if(X&&kt(L)&&od(),b.da)alert("todo:use_scaling");else{if(D){if(_.Ib=na,b.Kb){if(L=b.U+1>>1,_.memory=i(b.U+2*L),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+b.U,_.Mc=_.cc,_.Nc=_.dc+L,_.Ib=_r,od()}}else alert("todo:EmitYUV");X&&(_.Jb=ca,D&&Zs())}if(D&&!Pa){for(b=0;256>b;++b)vs[b]=89858*(b-128)+_i>>fo,ys[b]=-22014*(b-128)+_i,bc[b]=-45773*(b-128),Al[b]=113618*(b-128)+_i>>fo;for(b=Qr;b<rn;++b)_=76283*(b-16)+_i>>fo,pd[b-Qr]=Bn(_,255),D0[b-Qr]=Bn(_+8>>4,15);Pa=1}return 1}function Tt(b){var _=b.ma,L=b.U,D=b.T;return t(!(1&b.ka)),0>=L||0>=D?0:(L=_.Ib(b,_),_.Jb!=null&&_.Jb(b,_,L),_.Dc+=L,1)}function ir(b){b.ma.memory=null}function _a(b,_,L,D){return oe(b,8)!=47?0:(_[0]=oe(b,14)+1,L[0]=oe(b,14)+1,D[0]=oe(b,1),oe(b,3)!=0?0:!b.h)}function Wr(b,_){if(4>b)return b+1;var L=b-2>>1;return(2+(1&b)<<L)+oe(_,L)+1}function ka(b,_){return 120<_?_-120:1<=(L=((L=qg[_-1])>>4)*b+(8-(15&L)))?L:1;var L}function Hr(b,_,L){var D=V(L),X=b[_+=255&D].g-8;return 0<X&&(me(L,L.u+8),D=V(L),_+=b[_].value,_+=D&(1<<X)-1),me(L,L.u+b[_].g),b[_].value}function on(b,_,L){return L.g+=b.g,L.value+=b.value<<_>>>0,t(8>=L.g),b.g}function Sn(b,_,L){var D=b.xc;return t((_=D==0?0:b.vc[b.md*(L>>D)+(_>>D)])<b.Wb),b.Ya[_]}function $a(b,_,L,D){var X=b.ab,ae=b.c*_,le=b.C;_=le+_;var ue=L,fe=D;for(D=b.Ta,L=b.Ua;0<X--;){var ge=b.gc[X],ke=le,De=_,ve=ue,Ce=fe,Me=(fe=D,ue=L,ge.Ea);switch(t(ke<De),t(De<=ge.nc),ge.hc){case 2:Jn(ve,Ce,(De-ke)*Me,fe,ue);break;case 0:var rt=ke,$e=De,Ke=fe,Ze=ue,at=($t=ge).Ea;rt==0&&(lo(ve,Ce,null,null,1,Ke,Ze),_e(ve,Ce+1,0,0,at-1,Ke,Ze+1),Ce+=at,Ze+=at,++rt);for(var st=1<<$t.b,Ht=st-1,Ot=Te(at,$t.b),yr=$t.K,$t=$t.w+(rt>>$t.b)*Ot;rt<$e;){var Lr=yr,zn=$t,jr=1;for(Fi(ve,Ce,Ke,Ze-at,1,Ke,Ze);jr<at;){var Rt=(jr&~Ht)+st;Rt>at&&(Rt=at),(0,vl[Lr[zn++]>>8&15])(ve,Ce+ +jr,Ke,Ze+jr-at,Rt-jr,Ke,Ze+jr),jr=Rt}Ce+=at,Ze+=at,++rt&Ht||($t+=Ot)}De!=ge.nc&&a(fe,ue-Me,fe,ue+(De-ke-1)*Me,Me);break;case 1:for(Me=ve,$e=Ce,at=(ve=ge.Ea)-(Ze=ve&~(Ke=(Ce=1<<ge.b)-1)),rt=Te(ve,ge.b),st=ge.K,ge=ge.w+(ke>>ge.b)*rt;ke<De;){for(Ht=st,Ot=ge,yr=new wt,$t=$e+Ze,Lr=$e+ve;$e<$t;)We(Ht[Ot++],yr),dc(yr,Me,$e,Ce,fe,ue),$e+=Ce,ue+=Ce;$e<Lr&&(We(Ht[Ot++],yr),dc(yr,Me,$e,at,fe,ue),$e+=at,ue+=at),++ke&Ke||(ge+=rt)}break;case 3:if(ve==fe&&Ce==ue&&0<ge.b){for($e=fe,ve=Me=ue+(De-ke)*Me-(Ze=(De-ke)*Te(ge.Ea,ge.b)),Ce=fe,Ke=ue,rt=[],Ze=(at=Ze)-1;0<=Ze;--Ze)rt[Ze]=Ce[Ke+Ze];for(Ze=at-1;0<=Ze;--Ze)$e[ve+Ze]=rt[Ze];gl(ge,ke,De,fe,Me,fe,ue)}else gl(ge,ke,De,ve,Ce,fe,ue)}ue=D,fe=L}fe!=L&&a(D,L,ue,fe,ae)}function en(b,_){var L=b.V,D=b.Ba+b.c*b.C,X=_-b.C;if(t(_<=b.l.o),t(16>=X),0<X){var ae=b.l,le=b.Ta,ue=b.Ua,fe=ae.width;if($a(b,X,L,D),X=ue=[ue],t((L=b.C)<(D=_)),t(ae.v<ae.va),D>ae.o&&(D=ae.o),L<ae.j){var ge=ae.j-L;L=ae.j,X[0]+=ge*fe}if(L>=D?L=0:(X[0]+=4*ae.v,ae.ka=L-ae.j,ae.U=ae.va-ae.v,ae.T=D-L,L=1),L){if(ue=ue[0],11>(L=b.ca).S){var ke=L.f.RGBA,De=(D=L.S,X=ae.U,ae=ae.T,ge=ke.eb,ke.A),ve=ae;for(ke=ke.fb+b.Ma*ke.A;0<ve--;){var Ce=le,Me=ue,rt=X,$e=ge,Ke=ke;switch(D){case dd:fc(Ce,Me,rt,$e,Ke);break;case Wo:co(Ce,Me,rt,$e,Ke);break;case gc:co(Ce,Me,rt,$e,Ke),jl($e,Ke,0,rt,1,0);break;case O0:yl(Ce,Me,rt,$e,Ke);break;case ou:Ie(Ce,Me,rt,$e,Ke,1);break;case Nl:Ie(Ce,Me,rt,$e,Ke,1),jl($e,Ke,0,rt,1,0);break;case lu:Ie(Ce,Me,rt,$e,Ke,0);break;case cu:Ie(Ce,Me,rt,$e,Ke,0),jl($e,Ke,1,rt,1,0);break;case un:Uo(Ce,Me,rt,$e,Ke);break;case uu:Uo(Ce,Me,rt,$e,Ke),$f($e,Ke,rt,1,0);break;case fd:qo(Ce,Me,rt,$e,Ke);break;default:t(0)}ue+=fe,ke+=De}b.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=L.height)}}b.C=_,t(b.C<=b.i)}function va(b){var _;if(0<b.ua)return 0;for(_=0;_<b.Wb;++_){var L=b.Ya[_].G,D=b.Ya[_].H;if(0<L[1][D[1]+0].g||0<L[2][D[2]+0].g||0<L[3][D[3]+0].g)return 0}return 1}function Fn(b,_,L,D,X,ae){if(b.Z!=0){var le=b.qd,ue=b.rd;for(t(za[b.Z]!=null);_<L;++_)za[b.Z](le,ue,D,X,D,X,ae),le=D,ue=X,X+=ae;b.qd=le,b.rd=ue}}function fn(b,_){var L=b.l.ma,D=L.Z==0||L.Z==1?b.l.j:b.C;if(D=b.C<D?D:b.C,t(_<=b.l.o),_>D){var X=b.l.width,ae=L.ca,le=L.tb+X*D,ue=b.V,fe=b.Ba+b.c*D,ge=b.gc;t(b.ab==1),t(ge[0].hc==3),Ni(ge[0],D,_,ue,fe,ae,le),Fn(L,D,_,ae,le,X)}b.C=b.Ma=_}function ua(b,_,L,D,X,ae,le){var ue=b.$/D,fe=b.$%D,ge=b.m,ke=b.s,De=L+b.$,ve=De;X=L+D*X;var Ce=L+D*ae,Me=280+ke.ua,rt=b.Pb?ue:16777216,$e=0<ke.ua?ke.Wa:null,Ke=ke.wc,Ze=De<Ce?Sn(ke,fe,ue):null;t(b.C<ae),t(Ce<=X);var at=!1;e:for(;;){for(;at||De<Ce;){var st=0;if(ue>=rt){var Ht=De-L;t((rt=b).Pb),rt.wd=rt.m,rt.xd=Ht,0<rt.s.ua&&Xe(rt.s.Wa,rt.s.vb),rt=ue+md}if(fe&Ke||(Ze=Sn(ke,fe,ue)),t(Ze!=null),Ze.Qb&&(_[De]=Ze.qb,at=!0),!at)if(W(ge),Ze.jc){st=ge,Ht=_;var Ot=De,yr=Ze.pd[V(st)&ei-1];t(Ze.jc),256>yr.g?(me(st,st.u+yr.g),Ht[Ot]=yr.value,st=0):(me(st,st.u+yr.g-256),t(256<=yr.value),st=yr.value),st==0&&(at=!0)}else st=Hr(Ze.G[0],Ze.H[0],ge);if(ge.h)break;if(at||256>st){if(!at)if(Ze.nd)_[De]=(Ze.qb|st<<8)>>>0;else{if(W(ge),at=Hr(Ze.G[1],Ze.H[1],ge),W(ge),Ht=Hr(Ze.G[2],Ze.H[2],ge),Ot=Hr(Ze.G[3],Ze.H[3],ge),ge.h)break;_[De]=(Ot<<24|at<<16|st<<8|Ht)>>>0}if(at=!1,++De,++fe>=D&&(fe=0,++ue,le!=null&&ue<=ae&&!(ue%16)&&le(b,ue),$e!=null))for(;ve<De;)st=_[ve++],$e.X[(506832829*st&4294967295)>>>$e.Mb]=st}else if(280>st){if(st=Wr(st-256,ge),Ht=Hr(Ze.G[4],Ze.H[4],ge),W(ge),Ht=ka(D,Ht=Wr(Ht,ge)),ge.h)break;if(De-L<Ht||X-De<st)break e;for(Ot=0;Ot<st;++Ot)_[De+Ot]=_[De+Ot-Ht];for(De+=st,fe+=st;fe>=D;)fe-=D,++ue,le!=null&&ue<=ae&&!(ue%16)&&le(b,ue);if(t(De<=X),fe&Ke&&(Ze=Sn(ke,fe,ue)),$e!=null)for(;ve<De;)st=_[ve++],$e.X[(506832829*st&4294967295)>>>$e.Mb]=st}else{if(!(st<Me))break e;for(at=st-280,t($e!=null);ve<De;)st=_[ve++],$e.X[(506832829*st&4294967295)>>>$e.Mb]=st;st=De,t(!(at>>>(Ht=$e).Xa)),_[st]=Ht.X[at],at=!0}at||t(ge.h==ie(ge))}if(b.Pb&&ge.h&&De<X)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Xe(b.s.vb,b.s.Wa);else{if(ge.h)break e;le?.(b,ue>ae?ae:ue),b.a=0,b.$=De-L}return 1}return b.a=3,0}function $n(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var _=b.Wa;_!=null&&(_.X=null),b.vb=null,t(b!=null)}function xi(){var b=new Wt;return b==null?null:(b.a=0,b.xb=vc,dt("Predictor","VP8LPredictors"),dt("Predictor","VP8LPredictors_C"),dt("PredictorAdd","VP8LPredictorsAdd"),dt("PredictorAdd","VP8LPredictorsAdd_C"),Jn=He,dc=Ge,fc=Nt,co=Dt,Uo=pt,qo=At,yl=Be,z.VP8LMapColor32b=$i,z.VP8LMapColor8b=xl,b)}function Ba(b,_,L,D,X){var ae=1,le=[b],ue=[_],fe=D.m,ge=D.s,ke=null,De=0;e:for(;;){if(L)for(;ae&&oe(fe,1);){var ve=le,Ce=ue,Me=D,rt=1,$e=Me.m,Ke=Me.gc[Me.ab],Ze=oe($e,2);if(Me.Oc&1<<Ze)ae=0;else{switch(Me.Oc|=1<<Ze,Ke.hc=Ze,Ke.Ea=ve[0],Ke.nc=Ce[0],Ke.K=[null],++Me.ab,t(4>=Me.ab),Ze){case 0:case 1:Ke.b=oe($e,3)+2,rt=Ba(Te(Ke.Ea,Ke.b),Te(Ke.nc,Ke.b),0,Me,Ke.K),Ke.K=Ke.K[0];break;case 3:var at,st=oe($e,8)+1,Ht=16<st?0:4<st?1:2<st?2:3;if(ve[0]=Te(Ke.Ea,Ht),Ke.b=Ht,at=rt=Ba(st,1,0,Me,Ke.K)){var Ot,yr=st,$t=Ke,Lr=1<<(8>>$t.b),zn=i(Lr);if(zn==null)at=0;else{var jr=$t.K[0],Rt=$t.w;for(zn[0]=$t.K[0][0],Ot=1;Ot<1*yr;++Ot)zn[Ot]=ye(jr[Rt+Ot],zn[Ot-1]);for(;Ot<4*Lr;++Ot)zn[Ot]=0;$t.K[0]=null,$t.K[0]=zn,at=1}}rt=at;break;case 2:break;default:t(0)}ae=rt}}if(le=le[0],ue=ue[0],ae&&oe(fe,1)&&!(ae=1<=(De=oe(fe,4))&&11>=De)){D.a=3;break e}var jt;if(jt=ae)t:{var Qn,Jt,Pr,nn=D,Wn=le,Ea=ue,kn=De,ba=L,La=nn.m,An=nn.s,hr=[null],Tr=1,Cn=0,Gr=T0[kn];r:for(;;){if(ba&&oe(La,1)){var vn=oe(La,3)+2,wa=Te(Wn,vn),Mn=Te(Ea,vn),is=wa*Mn;if(!Ba(wa,Mn,0,nn,hr))break r;for(hr=hr[0],An.xc=vn,Qn=0;Qn<is;++Qn){var Mr=hr[Qn]>>8&65535;hr[Qn]=Mr,Mr>=Tr&&(Tr=Mr+1)}}if(La.h)break r;for(Jt=0;5>Jt;++Jt){var pn=Sl[Jt];!Jt&&0<kn&&(pn+=1<<kn),Cn<pn&&(Cn=pn)}var Wa=o(Tr*Gr,H),Ha=Tr,Va=o(Ha,ce);if(Va==null)var bs=null;else t(65536>=Ha),bs=Va;var os=i(Cn);if(bs==null||os==null||Wa==null){nn.a=1;break r}var ls=Wa;for(Qn=Pr=0;Qn<Tr;++Qn){var Zr=bs[Qn],ws=Zr.G,ni=Zr.H,Yo=0,ki=1,Zn=0;for(Jt=0;5>Jt;++Jt){pn=Sl[Jt],ws[Jt]=ls,ni[Jt]=Pr,!Jt&&0<kn&&(pn+=1<<kn);a:{var Pl,gd=pn,pu=nn,qi=os,$0=ls,gu=Pr,ai=0,si=pu.m,xu=oe(si,1);if(s(qi,0,0,gd),xu){var El=oe(si,1)+1,Jf=oe(si,1),Ll=oe(si,Jf==0?1:8);qi[Ll]=1,El==2&&(qi[Ll=oe(si,8)]=1);var vu=1}else{var xd=i(19),Pn=oe(si,4)+4;if(19<Pn){pu.a=3;var Ol=0;break a}for(Pl=0;Pl<Pn;++Pl)xd[Ug[Pl]]=oe(si,3);var yu=void 0,Rl=void 0,bu=pu,Qf=xd,zi=gd,En=qi,ea=0,yn=bu.m,wu=8,wc=o(128,H);n:for(;$(wc,0,7,Qf,19);){if(oe(yn,1)){var ju=2+2*oe(yn,3);if((yu=2+oe(yn,ju))>zi)break n}else yu=zi;for(Rl=0;Rl<zi&&yu--;){W(yn);var B0=wc[0+(127&V(yn))];me(yn,yn.u+B0.g);var ta=B0.value;if(16>ta)En[Rl++]=ta,ta!=0&&(wu=ta);else{var Zf=ta==16,vd=ta-16,eh=hd[vd],Ai=oe(yn,du[vd])+eh;if(Rl+Ai>zi)break n;for(var ii=Zf?wu:0;0<Ai--;)En[Rl++]=ii}}ea=1;break n}ea||(bu.a=3),vu=ea}(vu=vu&&!si.h)&&(ai=$($0,gu,8,qi,gd)),vu&&ai!=0?Ol=ai:(pu.a=3,Ol=0)}if(Ol==0)break r;if(ki&&R0[Jt]==1&&(ki=ls[Pr].g==0),Yo+=ls[Pr].g,Pr+=Ol,3>=Jt){var mo,Nu=os[0];for(mo=1;mo<pn;++mo)os[mo]>Nu&&(Nu=os[mo]);Zn+=Nu}}if(Zr.nd=ki,Zr.Qb=0,ki&&(Zr.qb=(ws[3][ni[3]+0].value<<24|ws[1][ni[1]+0].value<<16|ws[2][ni[2]+0].value)>>>0,Yo==0&&256>ws[0][ni[0]+0].value&&(Zr.Qb=1,Zr.qb+=ws[0][ni[0]+0].value<<8)),Zr.jc=!Zr.Qb&&6>Zn,Zr.jc){var jc,Wi=Zr;for(jc=0;jc<ei;++jc){var po=jc,go=Wi.pd[po],Su=Wi.G[0][Wi.H[0]+po];256<=Su.value?(go.g=Su.g+256,go.value=Su.value):(go.g=0,go.value=0,po>>=on(Su,8,go),po>>=on(Wi.G[1][Wi.H[1]+po],16,go),po>>=on(Wi.G[2][Wi.H[2]+po],0,go),on(Wi.G[3][Wi.H[3]+po],24,go))}}}An.vc=hr,An.Wb=Tr,An.Ya=bs,An.yc=Wa,jt=1;break t}jt=0}if(!(ae=jt)){D.a=3;break e}if(0<De){if(ge.ua=1<<De,!Z(ge.Wa,De)){D.a=1,ae=0;break e}}else ge.ua=0;var yd=D,th=le,U0=ue,bd=yd.s,Tl=bd.xc;if(yd.c=th,yd.i=U0,bd.md=Te(th,Tl),bd.wc=Tl==0?-1:(1<<Tl)-1,L){D.xb=Ui;break e}if((ke=i(le*ue))==null){D.a=1,ae=0;break e}ae=(ae=ua(D,ke,0,le,ue,ue,null))&&!fe.h;break e}return ae?(X!=null?X[0]=ke:(t(ke==null),t(L)),D.$=0,L||$n(ge)):$n(ge),ae}function es(b,_){var L=b.c*b.i,D=L+_+16*_;return t(b.c<=_),b.V=i(D),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+L+_,1)}function Ys(b,_){var L=b.C,D=_-L,X=b.V,ae=b.Ba+b.c*L;for(t(_<=b.l.o);0<D;){var le=16<D?16:D,ue=b.l.ma,fe=b.l.width,ge=fe*le,ke=ue.ca,De=ue.tb+fe*L,ve=b.Ta,Ce=b.Ua;$a(b,le,X,ae),Bf(ve,Ce,ke,De,ge),Fn(ue,L,L+le,ke,De,fe),D-=le,X+=le*b.c,L+=le}t(L==_),b.C=b.Ma=_}function Os(){this.ub=this.yd=this.td=this.Rb=0}function Oe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function bt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function _t(){this.Yb=(function(){var b=[];return(function _(L,D,X){for(var ae=X[D],le=0;le<ae&&(L.push(X.length>D+1?[]:0),!(X.length<D+1));le++)_(L[le],D+1,X)})(b,0,[3,11]),b})()}function Qt(){this.jb=i(3),this.Wc=l([4,8],_t),this.Xc=l([4,17],_t)}function vr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Zt(){this.ld=this.La=this.dd=this.tc=0}function Vr(){this.Na=this.la=0}function Or(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ln(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ya(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zt),this.Y=0,this.ya=Array(new ln),this.aa=0,this.l=new Ct}function Sr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Cr(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new Os,this.Kc=new Oe,this.ed=new vr,this.Qa=new bt,this.Ic=this.$c=this.Aa=0,this.D=new ya,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,q),this.ia=0,this.pb=o(4,Or),this.Pa=new Qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sr),this.Hd=0,this.rb=Array(new Vr),this.sb=0,this.wa=Array(new Zt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ln),this.L=this.aa=0,this.gd=l([4,2],Zt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ct(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xt(){var b=new Cr;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,_l||(_l=Aa)),b}function Lt(b,_,L){return b.a==0&&(b.a=_,b.sc=L,b.cb=0),0}function Fr(b,_,L){return 3<=L&&b[_+0]==157&&b[_+1]==1&&b[_+2]==42}function Rs(b,_){if(b==null)return 0;if(b.a=0,b.sc="OK",_==null)return Lt(b,2,"null VP8Io passed to VP8GetHeaders()");var L=_.data,D=_.w,X=_.ha;if(4>X)return Lt(b,7,"Truncated header.");var ae=L[D+0]|L[D+1]<<8|L[D+2]<<16,le=b.Od;if(le.Rb=!(1&ae),le.td=ae>>1&7,le.yd=ae>>4&1,le.ub=ae>>5,3<le.td)return Lt(b,3,"Incorrect keyframe parameters.");if(!le.yd)return Lt(b,4,"Frame not displayable.");D+=3,X-=3;var ue=b.Kc;if(le.Rb){if(7>X)return Lt(b,7,"cannot parse picture header");if(!Fr(L,D,X))return Lt(b,3,"Bad code word");ue.c=16383&(L[D+4]<<8|L[D+3]),ue.Td=L[D+4]>>6,ue.i=16383&(L[D+6]<<8|L[D+5]),ue.Ud=L[D+6]>>6,D+=7,X-=7,b.za=ue.c+15>>4,b.Ub=ue.i+15>>4,_.width=ue.c,_.height=ue.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((ae=b.Pa).jb,0,255,ae.jb.length),t((ae=b.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,s(ae.Zb,0,0,ae.Zb.length),s(ae.Lb,0,0,ae.Lb)}if(le.ub>X)return Lt(b,7,"bad partition length");se(ae=b.m,L,D,le.ub),D+=le.ub,X-=le.ub,le.Rb&&(ue.Ld=re(ae),ue.Kd=re(ae)),ue=b.Qa;var fe,ge=b.Pa;if(t(ae!=null),t(ue!=null),ue.Cb=re(ae),ue.Cb){if(ue.Bb=re(ae),re(ae)){for(ue.Fb=re(ae),fe=0;4>fe;++fe)ue.Zb[fe]=re(ae)?te(ae,7):0;for(fe=0;4>fe;++fe)ue.Lb[fe]=re(ae)?te(ae,6):0}if(ue.Bb)for(fe=0;3>fe;++fe)ge.jb[fe]=re(ae)?xe(ae,8):255}else ue.Bb=0;if(ae.Ka)return Lt(b,3,"cannot parse segment header");if((ue=b.ed).zd=re(ae),ue.Tb=xe(ae,6),ue.wb=xe(ae,3),ue.Pc=re(ae),ue.Pc&&re(ae)){for(ge=0;4>ge;++ge)re(ae)&&(ue.vd[ge]=te(ae,6));for(ge=0;4>ge;++ge)re(ae)&&(ue.od[ge]=te(ae,6))}if(b.L=ue.Tb==0?0:ue.zd?1:2,ae.Ka)return Lt(b,3,"cannot parse filter header");var ke=X;if(X=fe=D,D=fe+ke,ue=ke,b.Xb=(1<<xe(b.m,2))-1,ke<3*(ge=b.Xb))L=7;else{for(fe+=3*ge,ue-=3*ge,ke=0;ke<ge;++ke){var De=L[X+0]|L[X+1]<<8|L[X+2]<<16;De>ue&&(De=ue),se(b.Jc[+ke],L,fe,De),fe+=De,ue-=De,X+=3}se(b.Jc[+ge],L,fe,ue),L=fe<D?0:5}if(L!=0)return Lt(b,L,"cannot parse partitions");for(L=xe(fe=b.m,7),X=re(fe)?te(fe,4):0,D=re(fe)?te(fe,4):0,ue=re(fe)?te(fe,4):0,ge=re(fe)?te(fe,4):0,fe=re(fe)?te(fe,4):0,ke=b.Qa,De=0;4>De;++De){if(ke.Cb){var ve=ke.Zb[De];ke.Fb||(ve+=L)}else{if(0<De){b.pb[De]=b.pb[0];continue}ve=L}var Ce=b.pb[De];Ce.Sc[0]=xc[Bn(ve+X,127)],Ce.Sc[1]=fu[Bn(ve+0,127)],Ce.Eb[0]=2*xc[Bn(ve+D,127)],Ce.Eb[1]=101581*fu[Bn(ve+ue,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=xc[Bn(ve+ge,117)],Ce.Qc[1]=fu[Bn(ve+fe,127)],Ce.lc=ve+fe}if(!le.Rb)return Lt(b,4,"Not a key frame.");for(re(ae),le=b.Pa,L=0;4>L;++L){for(X=0;8>X;++X)for(D=0;3>D;++D)for(ue=0;11>ue;++ue)ge=Q(ae,Wg[L][X][D][ue])?xe(ae,8):I0[L][X][D][ue],le.Wc[L][X].Yb[D][ue]=ge;for(X=0;17>X;++X)le.Xc[L][X]=le.Wc[L][Gf[X]]}return b.kc=re(ae),b.kc&&(b.Bd=xe(ae,8)),b.cb=1}function Aa(b,_,L,D,X,ae,le){var ue=_[X].Yb[L];for(L=0;16>X;++X){if(!Q(b,ue[L+0]))return X;for(;!Q(b,ue[L+1]);)if(ue=_[++X].Yb[0],L=0,X==16)return 16;var fe=_[X+1].Yb;if(Q(b,ue[L+2])){var ge=b,ke=0;if(Q(ge,(ve=ue)[(De=L)+3]))if(Q(ge,ve[De+6])){for(ue=0,De=2*(ke=Q(ge,ve[De+8]))+(ve=Q(ge,ve[De+9+ke])),ke=0,ve=Vf[De];ve[ue];++ue)ke+=ke+Q(ge,ve[ue]);ke+=3+(8<<De)}else Q(ge,ve[De+7])?(ke=7+2*Q(ge,165),ke+=Q(ge,145)):ke=5+Q(ge,159);else ke=Q(ge,ve[De+4])?3+Q(ge,ve[De+5]):2;ue=fe[2]}else ke=1,ue=fe[1];fe=le+Yf[X],0>(ge=b).b&&de(ge);var De,ve=ge.b,Ce=(De=ge.Ca>>1)-(ge.I>>ve)>>31;--ge.b,ge.Ca+=Ce,ge.Ca|=1,ge.I-=(De+1&Ce)<<ve,ae[fe]=((ke^Ce)-Ce)*D[(0<X)+0]}return 16}function ts(b){var _=b.rb[b.sb-1];_.la=0,_.Na=0,s(b.zc,0,0,b.zc.length),b.ja=0}function da(b,_,L,D,X){X=b[_+L+32*D]+(X>>3),b[_+L+32*D]=-256&X?0>X?0:255:X}function Ti(b,_,L,D,X,ae){da(b,_,0,L,D+X),da(b,_,1,L,D+ae),da(b,_,2,L,D-ae),da(b,_,3,L,D-X)}function Rr(b){return(20091*b>>16)+b}function rs(b,_,L,D){var X,ae=0,le=i(16);for(X=0;4>X;++X){var ue=b[_+0]+b[_+8],fe=b[_+0]-b[_+8],ge=(35468*b[_+4]>>16)-Rr(b[_+12]),ke=Rr(b[_+4])+(35468*b[_+12]>>16);le[ae+0]=ue+ke,le[ae+1]=fe+ge,le[ae+2]=fe-ge,le[ae+3]=ue-ke,ae+=4,_++}for(X=ae=0;4>X;++X)ue=(b=le[ae+0]+4)+le[ae+8],fe=b-le[ae+8],ge=(35468*le[ae+4]>>16)-Rr(le[ae+12]),da(L,D,0,0,ue+(ke=Rr(le[ae+4])+(35468*le[ae+12]>>16))),da(L,D,1,0,fe+ge),da(L,D,2,0,fe-ge),da(L,D,3,0,ue-ke),ae++,D+=32}function Gs(b,_,L,D){var X=b[_+0]+4,ae=35468*b[_+4]>>16,le=Rr(b[_+4]),ue=35468*b[_+1]>>16;Ti(L,D,0,X+le,b=Rr(b[_+1]),ue),Ti(L,D,1,X+ae,b,ue),Ti(L,D,2,X-ae,b,ue),Ti(L,D,3,X-le,b,ue)}function Ks(b,_,L,D,X){rs(b,_,L,D),X&&rs(b,_+16,L,D+4)}function Kt(b,_,L,D){bl(b,_+0,L,D,1),bl(b,_+32,L,D+128,1)}function aa(b,_,L,D){var X;for(b=b[_+0]+4,X=0;4>X;++X)for(_=0;4>_;++_)da(L,D,_,X,b)}function Eo(b,_,L,D){b[_+0]&&Ur(b,_+0,L,D),b[_+16]&&Ur(b,_+16,L,D+4),b[_+32]&&Ur(b,_+32,L,D+128),b[_+48]&&Ur(b,_+48,L,D+128+4)}function Er(b,_,L,D){var X,ae=i(16);for(X=0;4>X;++X){var le=b[_+0+X]+b[_+12+X],ue=b[_+4+X]+b[_+8+X],fe=b[_+4+X]-b[_+8+X],ge=b[_+0+X]-b[_+12+X];ae[0+X]=le+ue,ae[8+X]=le-ue,ae[4+X]=ge+fe,ae[12+X]=ge-fe}for(X=0;4>X;++X)le=(b=ae[0+4*X]+3)+ae[3+4*X],ue=ae[1+4*X]+ae[2+4*X],fe=ae[1+4*X]-ae[2+4*X],ge=b-ae[3+4*X],L[D+0]=le+ue>>3,L[D+16]=ge+fe>>3,L[D+32]=le-ue>>3,L[D+48]=ge-fe>>3,D+=64}function vi(b,_,L){var D,X=_-32,ae=as,le=255-b[X-1];for(D=0;D<L;++D){var ue,fe=ae,ge=le+b[_-1];for(ue=0;ue<L;++ue)b[_+ue]=fe[ge+b[X+ue]];_+=32}}function Lo(b,_){vi(b,_,4)}function ll(b,_){vi(b,_,8)}function ic(b,_){vi(b,_,16)}function oc(b,_){var L;for(L=0;16>L;++L)a(b,_+32*L,b,_-32,16)}function Oo(b,_){var L;for(L=16;0<L;--L)s(b,_,b[_-1],16),_+=32}function yi(b,_,L){var D;for(D=0;16>D;++D)s(_,L+32*D,b,16)}function Ts(b,_){var L,D=16;for(L=0;16>L;++L)D+=b[_-1+32*L]+b[_+L-32];yi(D>>5,b,_)}function Xs(b,_){var L,D=8;for(L=0;16>L;++L)D+=b[_-1+32*L];yi(D>>4,b,_)}function Ua(b,_){var L,D=8;for(L=0;16>L;++L)D+=b[_+L-32];yi(D>>4,b,_)}function hs(b,_){yi(128,b,_)}function qt(b,_,L){return b+2*_+L+2>>2}function ao(b,_){var L,D=_-32;for(D=new Uint8Array([qt(b[D-1],b[D+0],b[D+1]),qt(b[D+0],b[D+1],b[D+2]),qt(b[D+1],b[D+2],b[D+3]),qt(b[D+2],b[D+3],b[D+4])]),L=0;4>L;++L)a(b,_+32*L,D,0,D.length)}function Js(b,_){var L=b[_-1],D=b[_-1+32],X=b[_-1+64],ae=b[_-1+96];Ne(b,_+0,16843009*qt(b[_-1-32],L,D)),Ne(b,_+32,16843009*qt(L,D,X)),Ne(b,_+64,16843009*qt(D,X,ae)),Ne(b,_+96,16843009*qt(X,ae,ae))}function tu(b,_){var L,D=4;for(L=0;4>L;++L)D+=b[_+L-32]+b[_-1+32*L];for(D>>=3,L=0;4>L;++L)s(b,_+32*L,D,4)}function cl(b,_){var L=b[_-1+0],D=b[_-1+32],X=b[_-1+64],ae=b[_-1-32],le=b[_+0-32],ue=b[_+1-32],fe=b[_+2-32],ge=b[_+3-32];b[_+0+96]=qt(D,X,b[_-1+96]),b[_+1+96]=b[_+0+64]=qt(L,D,X),b[_+2+96]=b[_+1+64]=b[_+0+32]=qt(ae,L,D),b[_+3+96]=b[_+2+64]=b[_+1+32]=b[_+0+0]=qt(le,ae,L),b[_+3+64]=b[_+2+32]=b[_+1+0]=qt(ue,le,ae),b[_+3+32]=b[_+2+0]=qt(fe,ue,le),b[_+3+0]=qt(ge,fe,ue)}function ns(b,_){var L=b[_+1-32],D=b[_+2-32],X=b[_+3-32],ae=b[_+4-32],le=b[_+5-32],ue=b[_+6-32],fe=b[_+7-32];b[_+0+0]=qt(b[_+0-32],L,D),b[_+1+0]=b[_+0+32]=qt(L,D,X),b[_+2+0]=b[_+1+32]=b[_+0+64]=qt(D,X,ae),b[_+3+0]=b[_+2+32]=b[_+1+64]=b[_+0+96]=qt(X,ae,le),b[_+3+32]=b[_+2+64]=b[_+1+96]=qt(ae,le,ue),b[_+3+64]=b[_+2+96]=qt(le,ue,fe),b[_+3+96]=qt(ue,fe,fe)}function bi(b,_){var L=b[_-1+0],D=b[_-1+32],X=b[_-1+64],ae=b[_-1-32],le=b[_+0-32],ue=b[_+1-32],fe=b[_+2-32],ge=b[_+3-32];b[_+0+0]=b[_+1+64]=ae+le+1>>1,b[_+1+0]=b[_+2+64]=le+ue+1>>1,b[_+2+0]=b[_+3+64]=ue+fe+1>>1,b[_+3+0]=fe+ge+1>>1,b[_+0+96]=qt(X,D,L),b[_+0+64]=qt(D,L,ae),b[_+0+32]=b[_+1+96]=qt(L,ae,le),b[_+1+32]=b[_+2+96]=qt(ae,le,ue),b[_+2+32]=b[_+3+96]=qt(le,ue,fe),b[_+3+32]=qt(ue,fe,ge)}function lc(b,_){var L=b[_+0-32],D=b[_+1-32],X=b[_+2-32],ae=b[_+3-32],le=b[_+4-32],ue=b[_+5-32],fe=b[_+6-32],ge=b[_+7-32];b[_+0+0]=L+D+1>>1,b[_+1+0]=b[_+0+64]=D+X+1>>1,b[_+2+0]=b[_+1+64]=X+ae+1>>1,b[_+3+0]=b[_+2+64]=ae+le+1>>1,b[_+0+32]=qt(L,D,X),b[_+1+32]=b[_+0+96]=qt(D,X,ae),b[_+2+32]=b[_+1+96]=qt(X,ae,le),b[_+3+32]=b[_+2+96]=qt(ae,le,ue),b[_+3+64]=qt(le,ue,fe),b[_+3+96]=qt(ue,fe,ge)}function Ro(b,_){var L=b[_-1+0],D=b[_-1+32],X=b[_-1+64],ae=b[_-1+96];b[_+0+0]=L+D+1>>1,b[_+2+0]=b[_+0+32]=D+X+1>>1,b[_+2+32]=b[_+0+64]=X+ae+1>>1,b[_+1+0]=qt(L,D,X),b[_+3+0]=b[_+1+32]=qt(D,X,ae),b[_+3+32]=b[_+1+64]=qt(X,ae,ae),b[_+3+64]=b[_+2+64]=b[_+0+96]=b[_+1+96]=b[_+2+96]=b[_+3+96]=ae}function so(b,_){var L=b[_-1+0],D=b[_-1+32],X=b[_-1+64],ae=b[_-1+96],le=b[_-1-32],ue=b[_+0-32],fe=b[_+1-32],ge=b[_+2-32];b[_+0+0]=b[_+2+32]=L+le+1>>1,b[_+0+32]=b[_+2+64]=D+L+1>>1,b[_+0+64]=b[_+2+96]=X+D+1>>1,b[_+0+96]=ae+X+1>>1,b[_+3+0]=qt(ue,fe,ge),b[_+2+0]=qt(le,ue,fe),b[_+1+0]=b[_+3+32]=qt(L,le,ue),b[_+1+32]=b[_+3+64]=qt(D,L,le),b[_+1+64]=b[_+3+96]=qt(X,D,L),b[_+1+96]=qt(ae,X,D)}function Mi(b,_){var L;for(L=0;8>L;++L)a(b,_+32*L,b,_-32,8)}function Ms(b,_){var L;for(L=0;8>L;++L)s(b,_,b[_-1],8),_+=32}function Qs(b,_,L){var D;for(D=0;8>D;++D)s(_,L+32*D,b,8)}function Is(b,_){var L,D=8;for(L=0;8>L;++L)D+=b[_+L-32]+b[_-1+32*L];Qs(D>>4,b,_)}function To(b,_){var L,D=4;for(L=0;8>L;++L)D+=b[_+L-32];Qs(D>>3,b,_)}function ul(b,_){var L,D=4;for(L=0;8>L;++L)D+=b[_-1+32*L];Qs(D>>3,b,_)}function Mo(b,_){Qs(128,b,_)}function wi(b,_,L){var D=b[_-L],X=b[_+0],ae=3*(X-D)+Bi[1020+b[_-2*L]-b[_+L]],le=pc[112+(ae+4>>3)];b[_-L]=as[255+D+pc[112+(ae+3>>3)]],b[_+0]=as[255+X-le]}function Y(b,_,L,D){var X=b[_+0],ae=b[_+L];return ti[255+b[_-2*L]-b[_-L]]>D||ti[255+ae-X]>D}function Ue(b,_,L,D){return 4*ti[255+b[_-L]-b[_+0]]+ti[255+b[_-2*L]-b[_+L]]<=D}function it(b,_,L,D,X){var ae=b[_-3*L],le=b[_-2*L],ue=b[_-L],fe=b[_+0],ge=b[_+L],ke=b[_+2*L],De=b[_+3*L];return 4*ti[255+ue-fe]+ti[255+le-ge]>D?0:ti[255+b[_-4*L]-ae]<=X&&ti[255+ae-le]<=X&&ti[255+le-ue]<=X&&ti[255+De-ke]<=X&&ti[255+ke-ge]<=X&&ti[255+ge-fe]<=X}function Et(b,_,L,D){var X=2*D+1;for(D=0;16>D;++D)Ue(b,_+D,L,X)&&wi(b,_+D,L)}function tr(b,_,L,D){var X=2*D+1;for(D=0;16>D;++D)Ue(b,_+D*L,1,X)&&wi(b,_+D*L,1)}function wr(b,_,L,D){var X;for(X=3;0<X;--X)Et(b,_+=4*L,L,D)}function er(b,_,L,D){var X;for(X=3;0<X;--X)tr(b,_+=4,L,D)}function lr(b,_,L,D,X,ae,le,ue){for(ae=2*ae+1;0<X--;){if(it(b,_,L,ae,le))if(Y(b,_,L,ue))wi(b,_,L);else{var fe=b,ge=_,ke=L,De=fe[ge-2*ke],ve=fe[ge-ke],Ce=fe[ge+0],Me=fe[ge+ke],rt=fe[ge+2*ke],$e=27*(Ze=Bi[1020+3*(Ce-ve)+Bi[1020+De-Me]])+63>>7,Ke=18*Ze+63>>7,Ze=9*Ze+63>>7;fe[ge-3*ke]=as[255+fe[ge-3*ke]+Ze],fe[ge-2*ke]=as[255+De+Ke],fe[ge-ke]=as[255+ve+$e],fe[ge+0]=as[255+Ce-$e],fe[ge+ke]=as[255+Me-Ke],fe[ge+2*ke]=as[255+rt-Ze]}_+=D}}function hn(b,_,L,D,X,ae,le,ue){for(ae=2*ae+1;0<X--;){if(it(b,_,L,ae,le))if(Y(b,_,L,ue))wi(b,_,L);else{var fe=b,ge=_,ke=L,De=fe[ge-ke],ve=fe[ge+0],Ce=fe[ge+ke],Me=pc[112+(4+(rt=3*(ve-De))>>3)],rt=pc[112+(rt+3>>3)],$e=Me+1>>1;fe[ge-2*ke]=as[255+fe[ge-2*ke]+$e],fe[ge-ke]=as[255+De+rt],fe[ge+0]=as[255+ve-Me],fe[ge+ke]=as[255+Ce-$e]}_+=D}}function _n(b,_,L,D,X,ae){lr(b,_,L,1,16,D,X,ae)}function cn(b,_,L,D,X,ae){lr(b,_,1,L,16,D,X,ae)}function Yr(b,_,L,D,X,ae){var le;for(le=3;0<le;--le)hn(b,_+=4*L,L,1,16,D,X,ae)}function Rn(b,_,L,D,X,ae){var le;for(le=3;0<le;--le)hn(b,_+=4,1,L,16,D,X,ae)}function P(b,_,L,D,X,ae,le,ue){lr(b,_,X,1,8,ae,le,ue),lr(L,D,X,1,8,ae,le,ue)}function K(b,_,L,D,X,ae,le,ue){lr(b,_,1,X,8,ae,le,ue),lr(L,D,1,X,8,ae,le,ue)}function pe(b,_,L,D,X,ae,le,ue){hn(b,_+4*X,X,1,8,ae,le,ue),hn(L,D+4*X,X,1,8,ae,le,ue)}function Se(b,_,L,D,X,ae,le,ue){hn(b,_+4,1,X,8,ae,le,ue),hn(L,D+4,1,X,8,ae,le,ue)}function Le(){this.ba=new gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ft(){this.ua=0,this.Wa=new Je,this.vb=new Je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new H}function Wt(){this.xb=this.a=0,this.l=new Ct,this.ca=new gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ft,this.ab=0,this.gc=o(4,lt),this.Oc=0}function cr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ct,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ur(b,_,L,D,X,ae,le){for(b=b==null?0:b[_+0],_=0;_<le;++_)X[ae+_]=b+L[D+_]&255,b=X[ae+_]}function Br(b,_,L,D,X,ae,le){var ue;if(b==null)ur(null,null,L,D,X,ae,le);else for(ue=0;ue<le;++ue)X[ae+ue]=b[_+ue]+L[D+ue]&255}function Tn(b,_,L,D,X,ae,le){if(b==null)ur(null,null,L,D,X,ae,le);else{var ue,fe=b[_+0],ge=fe,ke=fe;for(ue=0;ue<le;++ue)ge=ke+(fe=b[_+ue])-ge,ke=L[D+ue]+(-256&ge?0>ge?0:255:ge)&255,ge=fe,X[ae+ue]=ke}}function sa(b,_,L,D){var X=_.width,ae=_.o;if(t(b!=null&&_!=null),0>L||0>=D||L+D>ae)return null;if(!b.Cc){if(b.ga==null){var le;if(b.ga=new cr,(le=b.ga==null)||(le=_.width*_.o,t(b.Gb.length==0),b.Gb=i(le),b.Uc=0,b.Gb==null?le=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,le=1),le=!le),!le){le=b.ga;var ue=b.Fa,fe=b.P,ge=b.qc,ke=b.mb,De=b.nb,ve=fe+1,Ce=ge-1,Me=le.l;if(t(ue!=null&&ke!=null&&_!=null),za[0]=null,za[1]=ur,za[2]=Br,za[3]=Tn,le.ca=ke,le.tb=De,le.c=_.width,le.i=_.height,t(0<le.c&&0<le.i),1>=ge)_=0;else if(le.$a=3&ue[fe+0],le.Z=ue[fe+0]>>2&3,le.Lc=ue[fe+0]>>4&3,fe=ue[fe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||fe)_=0;else if(Me.put=Tt,Me.ac=Sa,Me.bc=ir,Me.ma=le,Me.width=_.width,Me.height=_.height,Me.Da=_.Da,Me.v=_.v,Me.va=_.va,Me.j=_.j,Me.o=_.o,le.$a)e:{t(le.$a==1),_=xi();t:for(;;){if(_==null){_=0;break e}if(t(le!=null),le.mc=_,_.c=le.c,_.i=le.i,_.l=le.l,_.l.ma=le,_.l.width=le.c,_.l.height=le.i,_.a=0,ee(_.m,ue,ve,Ce),!Ba(le.c,le.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&va(_.s)?(le.ic=1,ue=_.c*_.i,_.Ta=null,_.Ua=0,_.V=i(ue),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(le.ic=0,_=es(_,le.c)),!_))break t;_=1;break e}le.mc=null,_=0}else _=Ce>=le.c*le.i;le=!_}if(le)return null;b.ga.Lc!=1?b.Ga=0:D=ae-L}t(b.ga!=null),t(L+D<=ae);e:{if(_=(ue=b.ga).c,ae=ue.l.o,ue.$a==0){if(ve=b.rc,Ce=b.Vc,Me=b.Fa,fe=b.P+1+L*_,ge=b.mb,ke=b.nb+L*_,t(fe<=b.P+b.qc),ue.Z!=0)for(t(za[ue.Z]!=null),le=0;le<D;++le)za[ue.Z](ve,Ce,Me,fe,ge,ke,_),ve=ge,Ce=ke,ke+=_,fe+=_;else for(le=0;le<D;++le)a(ge,ke,Me,fe,_),ve=ge,Ce=ke,ke+=_,fe+=_;b.rc=ve,b.Vc=Ce}else{if(t(ue.mc!=null),_=L+D,t((le=ue.mc)!=null),t(_<=le.i),le.C>=_)_=1;else if(ue.ic||Zs(),ue.ic){ue=le.V,ve=le.Ba,Ce=le.c;var rt=le.i,$e=(Me=1,fe=le.$/Ce,ge=le.$%Ce,ke=le.m,De=le.s,le.$),Ke=Ce*rt,Ze=Ce*_,at=De.wc,st=$e<Ze?Sn(De,ge,fe):null;t($e<=Ke),t(_<=rt),t(va(De));t:for(;;){for(;!ke.h&&$e<Ze;){if(ge&at||(st=Sn(De,ge,fe)),t(st!=null),W(ke),256>(rt=Hr(st.G[0],st.H[0],ke)))ue[ve+$e]=rt,++$e,++ge>=Ce&&(ge=0,++fe<=_&&!(fe%16)&&fn(le,fe));else{if(!(280>rt)){Me=0;break t}rt=Wr(rt-256,ke);var Ht,Ot=Hr(st.G[4],st.H[4],ke);if(W(ke),!($e>=(Ot=ka(Ce,Ot=Wr(Ot,ke)))&&Ke-$e>=rt)){Me=0;break t}for(Ht=0;Ht<rt;++Ht)ue[ve+$e+Ht]=ue[ve+$e+Ht-Ot];for($e+=rt,ge+=rt;ge>=Ce;)ge-=Ce,++fe<=_&&!(fe%16)&&fn(le,fe);$e<Ze&&ge&at&&(st=Sn(De,ge,fe))}t(ke.h==ie(ke))}fn(le,fe>_?_:fe);break t}!Me||ke.h&&$e<Ke?(Me=0,le.a=ke.h?5:3):le.$=$e,_=Me}else _=ua(le,le.V,le.Ba,le.c,le.i,_,Ys);if(!_){D=0;break e}}L+D>=ae&&(b.Cc=1),D=1}if(!D)return null;if(b.Cc&&((D=b.ga)!=null&&(D.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+L*X}function mn(b,_,L,D,X,ae){for(;0<X--;){var le,ue=b,fe=_+(L?1:0),ge=b,ke=_+(L?0:3);for(le=0;le<D;++le){var De=ge[ke+4*le];De!=255&&(De*=32897,ue[fe+4*le+0]=ue[fe+4*le+0]*De>>23,ue[fe+4*le+1]=ue[fe+4*le+1]*De>>23,ue[fe+4*le+2]=ue[fe+4*le+2]*De>>23)}_+=ae}}function fa(b,_,L,D,X){for(;0<D--;){var ae;for(ae=0;ae<L;++ae){var le=b[_+2*ae+0],ue=15&(ge=b[_+2*ae+1]),fe=4369*ue,ge=(240&ge|ge>>4)*fe>>16;b[_+2*ae+0]=(240&le|le>>4)*fe>>16&240|(15&le|le<<4)*fe>>16>>4&15,b[_+2*ae+1]=240&ge|ue}_+=X}}function Xn(b,_,L,D,X,ae,le,ue){var fe,ge,ke=255;for(ge=0;ge<X;++ge){for(fe=0;fe<D;++fe){var De=b[_+fe];ae[le+4*fe]=De,ke&=De}_+=L,le+=ue}return ke!=255}function Ca(b,_,L,D,X){var ae;for(ae=0;ae<X;++ae)L[D+ae]=b[_+ae]>>8}function Zs(){jl=mn,$f=fa,iu=Xn,Bf=Ca}function ms(b,_,L){z[b]=function(D,X,ae,le,ue,fe,ge,ke,De,ve,Ce,Me,rt,$e,Ke,Ze,at){var st,Ht=at-1>>1,Ot=ue[fe+0]|ge[ke+0]<<16,yr=De[ve+0]|Ce[Me+0]<<16;t(D!=null);var $t=3*Ot+yr+131074>>2;for(_(D[X+0],255&$t,$t>>16,rt,$e),ae!=null&&($t=3*yr+Ot+131074>>2,_(ae[le+0],255&$t,$t>>16,Ke,Ze)),st=1;st<=Ht;++st){var Lr=ue[fe+st]|ge[ke+st]<<16,zn=De[ve+st]|Ce[Me+st]<<16,jr=Ot+Lr+yr+zn+524296,Rt=jr+2*(Lr+yr)>>3;$t=Rt+Ot>>1,Ot=(jr=jr+2*(Ot+zn)>>3)+Lr>>1,_(D[X+2*st-1],255&$t,$t>>16,rt,$e+(2*st-1)*L),_(D[X+2*st-0],255&Ot,Ot>>16,rt,$e+(2*st-0)*L),ae!=null&&($t=jr+yr>>1,Ot=Rt+zn>>1,_(ae[le+2*st-1],255&$t,$t>>16,Ke,Ze+(2*st-1)*L),_(ae[le+2*st+0],255&Ot,Ot>>16,Ke,Ze+(2*st+0)*L)),Ot=Lr,yr=zn}1&at||($t=3*Ot+yr+131074>>2,_(D[X+at-1],255&$t,$t>>16,rt,$e+(at-1)*L),ae!=null&&($t=3*yr+Ot+131074>>2,_(ae[le+at-1],255&$t,$t>>16,Ke,Ze+(at-1)*L)))}}function od(){xs[dd]=Hg,xs[Wo]=Ho,xs[O0]=Vg,xs[ou]=yc,xs[lu]=kl,xs[un]=hu,xs[fd]=Kf,xs[gc]=Ho,xs[Nl]=yc,xs[cu]=kl,xs[uu]=hu}function Io(b){return b&-16384?0>b?0:255:b>>Vo}function dl(b,_){return Io((19077*b>>8)+(26149*_>>8)-14234)}function Do(b,_,L){return Io((19077*b>>8)-(6419*_>>8)-(13320*L>>8)+8708)}function fl(b,_){return Io((19077*b>>8)+(33050*_>>8)-17685)}function Fo(b,_,L,D,X){D[X+0]=dl(b,L),D[X+1]=Do(b,_,L),D[X+2]=fl(b,_)}function hl(b,_,L,D,X){D[X+0]=fl(b,_),D[X+1]=Do(b,_,L),D[X+2]=dl(b,L)}function qa(b,_,L,D,X){var ae=Do(b,_,L);_=ae<<3&224|fl(b,_)>>3,D[X+0]=248&dl(b,L)|ae>>5,D[X+1]=_}function ml(b,_,L,D,X){var ae=240&fl(b,_)|15;D[X+0]=240&dl(b,L)|Do(b,_,L)>>4,D[X+1]=ae}function pl(b,_,L,D,X){D[X+0]=255,Fo(b,_,L,D,X+1)}function ru(b,_,L,D,X){hl(b,_,L,D,X),D[X+3]=255}function nu(b,_,L,D,X){Fo(b,_,L,D,X),D[X+3]=255}function Bn(b,_){return 0>b?0:b>_?_:b}function ji(b,_,L){z[b]=function(D,X,ae,le,ue,fe,ge,ke,De){for(var ve=ke+(-2&De)*L;ke!=ve;)_(D[X+0],ae[le+0],ue[fe+0],ge,ke),_(D[X+1],ae[le+0],ue[fe+0],ge,ke+L),X+=2,++le,++fe,ke+=2*L;1&De&&_(D[X+0],ae[le+0],ue[fe+0],ge,ke)}}function Ii(b,_,L){return L==0?b==0?_==0?6:5:_==0?4:0:L}function ld(b,_,L,D,X){switch(b>>>30){case 3:bl(_,L,D,X,0);break;case 2:Un(_,L,D,X);break;case 1:Ur(_,L,D,X)}}function Ds(b,_){var L,D,X=_.M,ae=_.Nb,le=b.oc,ue=b.pc+40,fe=b.oc,ge=b.pc+584,ke=b.oc,De=b.pc+600;for(L=0;16>L;++L)le[ue+32*L-1]=129;for(L=0;8>L;++L)fe[ge+32*L-1]=129,ke[De+32*L-1]=129;for(0<X?le[ue-1-32]=fe[ge-1-32]=ke[De-1-32]=129:(s(le,ue-32-1,127,21),s(fe,ge-32-1,127,9),s(ke,De-32-1,127,9)),D=0;D<b.za;++D){var ve=_.ya[_.aa+D];if(0<D){for(L=-1;16>L;++L)a(le,ue+32*L-4,le,ue+32*L+12,4);for(L=-1;8>L;++L)a(fe,ge+32*L-4,fe,ge+32*L+4,4),a(ke,De+32*L-4,ke,De+32*L+4,4)}var Ce=b.Gd,Me=b.Hd+D,rt=ve.ad,$e=ve.Hc;if(0<X&&(a(le,ue-32,Ce[Me].y,0,16),a(fe,ge-32,Ce[Me].f,0,8),a(ke,De-32,Ce[Me].ea,0,8)),ve.Za){var Ke=le,Ze=ue-32+16;for(0<X&&(D>=b.za-1?s(Ke,Ze,Ce[Me].y[15],4):a(Ke,Ze,Ce[Me+1].y,0,4)),L=0;4>L;L++)Ke[Ze+128+L]=Ke[Ze+256+L]=Ke[Ze+384+L]=Ke[Ze+0+L];for(L=0;16>L;++L,$e<<=2)Ke=le,Ze=ue+Xf[L],ri[ve.Ob[L]](Ke,Ze),ld($e,rt,16*+L,Ke,Ze)}else if(Ke=Ii(D,X,ve.Ob[0]),ss[Ke](le,ue),$e!=0)for(L=0;16>L;++L,$e<<=2)ld($e,rt,16*+L,le,ue+Xf[L]);for(L=ve.Gc,Ke=Ii(D,X,ve.Dd),gs[Ke](fe,ge),gs[Ke](ke,De),$e=rt,Ke=fe,Ze=ge,255&(ve=0|L)&&(170&ve?ps($e,256,Ke,Ze):tn($e,256,Ke,Ze)),ve=ke,$e=De,255&(L>>=8)&&(170&L?ps(rt,320,ve,$e):tn(rt,320,ve,$e)),X<b.Ub-1&&(a(Ce[Me].y,0,le,ue+480,16),a(Ce[Me].f,0,fe,ge+224,8),a(Ce[Me].ea,0,ke,De+224,8)),L=8*ae*b.B,Ce=b.sa,Me=b.ta+16*D+16*ae*b.R,rt=b.qa,ve=b.ra+8*D+L,$e=b.Ha,Ke=b.Ia+8*D+L,L=0;16>L;++L)a(Ce,Me+L*b.R,le,ue+32*L,16);for(L=0;8>L;++L)a(rt,ve+L*b.B,fe,ge+32*L,8),a($e,Ke+L*b.B,ke,De+32*L,8)}}function $o(b,_,L,D,X,ae,le,ue,fe){var ge=[0],ke=[0],De=0,ve=fe!=null?fe.kd:0,Ce=fe??new et;if(b==null||12>L)return 7;Ce.data=b,Ce.w=_,Ce.ha=L,_=[_],L=[L],Ce.gb=[Ce.gb];e:{var Me=_,rt=L,$e=Ce.gb;if(t(b!=null),t(rt!=null),t($e!=null),$e[0]=0,12<=rt[0]&&!r(b,Me[0],"RIFF")){if(r(b,Me[0]+8,"WEBP")){$e=3;break e}var Ke=be(b,Me[0]+4);if(12>Ke||4294967286<Ke){$e=3;break e}if(ve&&Ke>rt[0]-8){$e=7;break e}$e[0]=Ke,Me[0]+=12,rt[0]-=12}$e=0}if($e!=0)return $e;for(Ke=0<Ce.gb[0],L=L[0];;){e:{var Ze=b;rt=_,$e=L;var at=ge,st=ke,Ht=Me=[0];if(($t=De=[De])[0]=0,8>$e[0])$e=7;else{if(!r(Ze,rt[0],"VP8X")){if(be(Ze,rt[0]+4)!=10){$e=3;break e}if(18>$e[0]){$e=7;break e}var Ot=be(Ze,rt[0]+8),yr=1+we(Ze,rt[0]+12);if(2147483648<=yr*(Ze=1+we(Ze,rt[0]+15))){$e=3;break e}Ht!=null&&(Ht[0]=Ot),at!=null&&(at[0]=yr),st!=null&&(st[0]=Ze),rt[0]+=18,$e[0]-=18,$t[0]=1}$e=0}}if(De=De[0],Me=Me[0],$e!=0)return $e;if(rt=!!(2&Me),!Ke&&De)return 3;if(ae!=null&&(ae[0]=!!(16&Me)),le!=null&&(le[0]=rt),ue!=null&&(ue[0]=0),le=ge[0],Me=ke[0],De&&rt&&fe==null){$e=0;break}if(4>L){$e=7;break}if(Ke&&De||!Ke&&!De&&!r(b,_[0],"ALPH")){L=[L],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{Ot=b,$e=_,Ke=L;var $t=Ce.gb;at=Ce.na,st=Ce.P,Ht=Ce.Sa,yr=22,t(Ot!=null),t(Ke!=null),Ze=$e[0];var Lr=Ke[0];for(t(at!=null),t(Ht!=null),at[0]=null,st[0]=null,Ht[0]=0;;){if($e[0]=Ze,Ke[0]=Lr,8>Lr){$e=7;break e}var zn=be(Ot,Ze+4);if(4294967286<zn){$e=3;break e}var jr=8+zn+1&-2;if(yr+=jr,0<$t&&yr>$t){$e=3;break e}if(!r(Ot,Ze,"VP8 ")||!r(Ot,Ze,"VP8L")){$e=0;break e}if(Lr[0]<jr){$e=7;break e}r(Ot,Ze,"ALPH")||(at[0]=Ot,st[0]=Ze+8,Ht[0]=zn),Ze+=jr,Lr-=jr}}if(L=L[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],$e!=0)break}L=[L],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if($t=b,$e=_,Ke=L,at=Ce.gb[0],st=Ce.Ja,Ht=Ce.xa,Ot=$e[0],Ze=!r($t,Ot,"VP8 "),yr=!r($t,Ot,"VP8L"),t($t!=null),t(Ke!=null),t(st!=null),t(Ht!=null),8>Ke[0])$e=7;else{if(Ze||yr){if($t=be($t,Ot+4),12<=at&&$t>at-12){$e=3;break e}if(ve&&$t>Ke[0]-8){$e=7;break e}st[0]=$t,$e[0]+=8,Ke[0]-=8,Ht[0]=yr}else Ht[0]=5<=Ke[0]&&$t[Ot+0]==47&&!($t[Ot+4]>>5),st[0]=Ke[0];$e=0}if(L=L[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],_=_[0],$e!=0)break;if(4294967286<Ce.Ja)return 3;if(ue==null||rt||(ue[0]=Ce.xa?2:1),le=[le],Me=[Me],Ce.xa){if(5>L){$e=7;break}ue=le,ve=Me,rt=ae,b==null||5>L?b=0:5<=L&&b[_+0]==47&&!(b[_+4]>>5)?(Ke=[0],$t=[0],at=[0],ee(st=new U,b,_,L),_a(st,Ke,$t,at)?(ue!=null&&(ue[0]=Ke[0]),ve!=null&&(ve[0]=$t[0]),rt!=null&&(rt[0]=at[0]),b=1):b=0):b=0}else{if(10>L){$e=7;break}ue=Me,b==null||10>L||!Fr(b,_+3,L-3)?b=0:(ve=b[_+0]|b[_+1]<<8|b[_+2]<<16,rt=16383&(b[_+7]<<8|b[_+6]),b=16383&(b[_+9]<<8|b[_+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Ce.Ja||!rt||!b?b=0:(le&&(le[0]=rt),ue&&(ue[0]=b),b=1))}if(!b||(le=le[0],Me=Me[0],De&&(ge[0]!=le||ke[0]!=Me)))return 3;fe!=null&&(fe[0]=Ce,fe.offset=_-fe.w,t(4294967286>_-fe.w),t(fe.offset==fe.ha-L));break}return $e==0||$e==7&&De&&fe==null?(ae!=null&&(ae[0]|=Ce.na!=null&&0<Ce.na.length),D!=null&&(D[0]=le),X!=null&&(X[0]=Me),0):$e}function cc(b,_,L){var D=_.width,X=_.height,ae=0,le=0,ue=D,fe=X;if(_.Da=b!=null&&0<b.Da,_.Da&&(ue=b.cd,fe=b.bd,ae=b.v,le=b.j,11>L||(ae&=-2,le&=-2),0>ae||0>le||0>=ue||0>=fe||ae+ue>D||le+fe>X))return 0;if(_.v=ae,_.j=le,_.va=ae+ue,_.o=le+fe,_.U=ue,_.T=fe,_.da=b!=null&&0<b.da,_.da){if(!Qe(ue,fe,L=[b.ib],ae=[b.hb]))return 0;_.ib=L[0],_.hb=ae[0]}return _.ob=b!=null&&b.ob,_.Kb=b==null||!b.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*X/4,_.Kb=0),1}function uc(b){if(b==null)return 2;if(11>b.S){var _=b.f.RGBA;_.fb+=(b.height-1)*_.A,_.A=-_.A}else _=b.f.kb,b=b.height,_.O+=(b-1)*_.fa,_.fa=-_.fa,_.N+=(b-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(b-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(b-1)*_.lb,_.lb=-_.lb);return 0}function io(b,_,L,D){if(D==null||0>=b||0>=_)return 2;if(L!=null){if(L.Da){var X=L.cd,ae=L.bd,le=-2&L.v,ue=-2&L.j;if(0>le||0>ue||0>=X||0>=ae||le+X>b||ue+ae>_)return 2;b=X,_=ae}if(L.da){if(!Qe(b,_,X=[L.ib],ae=[L.hb]))return 2;b=X[0],_=ae[0]}}D.width=b,D.height=_;e:{var fe=D.width,ge=D.height;if(b=D.S,0>=fe||0>=ge||!(b>=dd&&13>b))b=2;else{if(0>=D.Rd&&D.sd==null){le=ae=X=_=0;var ke=(ue=fe*mu[b])*ge;if(11>b||(ae=(ge+1)/2*(_=(fe+1)/2),b==12&&(le=(X=fe)*ge)),(ge=i(ke+2*ae+le))==null){b=1;break e}D.sd=ge,11>b?((fe=D.f.RGBA).eb=ge,fe.fb=0,fe.A=ue,fe.size=ke):((fe=D.f.kb).y=ge,fe.O=0,fe.fa=ue,fe.Fd=ke,fe.f=ge,fe.N=0+ke,fe.Ab=_,fe.Cd=ae,fe.ea=ge,fe.W=0+ke+ae,fe.Db=_,fe.Ed=ae,b==12&&(fe.F=ge,fe.J=0+ke+2*ae),fe.Tc=le,fe.lb=X)}if(_=1,X=D.S,ae=D.width,le=D.height,X>=dd&&13>X)if(11>X)b=D.f.RGBA,_&=(ue=Math.abs(b.A))*(le-1)+ae<=b.size,_&=ue>=ae*mu[X],_&=b.eb!=null;else{b=D.f.kb,ue=(ae+1)/2,ke=(le+1)/2,fe=Math.abs(b.fa),ge=Math.abs(b.Ab);var De=Math.abs(b.Db),ve=Math.abs(b.lb),Ce=ve*(le-1)+ae;_&=fe*(le-1)+ae<=b.Fd,_&=ge*(ke-1)+ue<=b.Cd,_=(_&=De*(ke-1)+ue<=b.Ed)&fe>=ae&ge>=ue&De>=ue,_&=b.y!=null,_&=b.f!=null,_&=b.ea!=null,X==12&&(_&=ve>=ae,_&=Ce<=b.Tc,_&=b.F!=null)}else _=0;b=_?0:2}}return b!=0||L!=null&&L.fd&&(b=uc(D)),b}var ei=64,Fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$s=24,Bo=32,Di=8,oo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(b){return b},z.Predictor2=function(b,_,L){return _[L+0]},z.Predictor3=function(b,_,L){return _[L+1]},z.Predictor4=function(b,_,L){return _[L-1]},z.Predictor5=function(b,_,L){return Ee(Ee(b,_[L+1]),_[L+0])},z.Predictor6=function(b,_,L){return Ee(b,_[L-1])},z.Predictor7=function(b,_,L){return Ee(b,_[L+0])},z.Predictor8=function(b,_,L){return Ee(_[L-1],_[L+0])},z.Predictor9=function(b,_,L){return Ee(_[L+0],_[L+1])},z.Predictor10=function(b,_,L){return Ee(Ee(b,_[L-1]),Ee(_[L+0],_[L+1]))},z.Predictor11=function(b,_,L){var D=_[L+0];return 0>=ht(D>>24&255,b>>24&255,(_=_[L-1])>>24&255)+ht(D>>16&255,b>>16&255,_>>16&255)+ht(D>>8&255,b>>8&255,_>>8&255)+ht(255&D,255&b,255&_)?D:b},z.Predictor12=function(b,_,L){var D=_[L+0];return(xt((b>>24&255)+(D>>24&255)-((_=_[L-1])>>24&255))<<24|xt((b>>16&255)+(D>>16&255)-(_>>16&255))<<16|xt((b>>8&255)+(D>>8&255)-(_>>8&255))<<8|xt((255&b)+(255&D)-(255&_)))>>>0},z.Predictor13=function(b,_,L){var D=_[L-1];return(gt((b=Ee(b,_[L+0]))>>24&255,D>>24&255)<<24|gt(b>>16&255,D>>16&255)<<16|gt(b>>8&255,D>>8&255)<<8|gt(255&b,255&D))>>>0};var lo=z.PredictorAdd0;z.PredictorAdd1=_e,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var Fi=z.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Jn,gl=z.ColorIndexInverseTransform,$i=z.MapARGB,Ni=z.VP8LColorIndexInverseTransformAlpha,xl=z.MapAlpha,vl=z.VP8LPredictorsAdd=[];vl.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var dc,fc,co,Uo,qo,yl,zo,bl,Un,ps,Ur,tn,qn,ia,Si,au,hc,uo,cd,mc,ud,Ff,su,wl,jl,$f,iu,Bf,Uf=i(511),qf=i(2041),zf=i(225),Wf=i(767),Hf=0,Bi=qf,pc=zf,as=Wf,ti=Uf,dd=0,Wo=1,O0=2,ou=3,lu=4,un=5,fd=6,gc=7,Nl=8,cu=9,uu=10,du=[2,3,7],hd=[3,3,11],Sl=[280,256,256,256,40],R0=[0,1,1,1,0],Ug=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],T0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],md=8,xc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_l=null,Vf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],M0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],I0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ss=[],ri=[],gs=[],Ui=1,vc=2,za=[],xs=[];ms("UpsampleRgbLinePair",Fo,3),ms("UpsampleBgrLinePair",hl,3),ms("UpsampleRgbaLinePair",nu,4),ms("UpsampleBgraLinePair",ru,4),ms("UpsampleArgbLinePair",pl,4),ms("UpsampleRgba4444LinePair",ml,2),ms("UpsampleRgb565LinePair",qa,2);var Hg=z.UpsampleRgbLinePair,Vg=z.UpsampleBgrLinePair,Ho=z.UpsampleRgbaLinePair,yc=z.UpsampleBgraLinePair,kl=z.UpsampleArgbLinePair,hu=z.UpsampleRgba4444LinePair,Kf=z.UpsampleRgb565LinePair,fo=16,_i=1<<fo-1,Qr=-227,rn=482,Vo=6,Pa=0,vs=i(256),Al=i(256),bc=i(256),ys=i(256),pd=i(rn-Qr),D0=i(rn-Qr);ji("YuvToRgbRow",Fo,3),ji("YuvToBgrRow",hl,3),ji("YuvToRgbaRow",nu,4),ji("YuvToBgraRow",ru,4),ji("YuvToArgbRow",pl,4),ji("YuvToRgba4444Row",ml,2),ji("YuvToRgb565Row",qa,2);var Xf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cl=[0,2,8],F0=[8,7,6,4,4,2,2,2,1,1,1,1],ho=1;this.WebPDecodeRGBA=function(b,_,L,D,X){var ae=Wo,le=new Le,ue=new gr;le.ba=ue,ue.S=ae,ue.width=[ue.width],ue.height=[ue.height];var fe=ue.width,ge=ue.height,ke=new Vt;if(ke==null||b==null)var De=2;else t(ke!=null),De=$o(b,_,L,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(De!=0?fe=0:(fe!=null&&(fe[0]=ke.width[0]),ge!=null&&(ge[0]=ke.height[0]),fe=1),fe){ue.width=ue.width[0],ue.height=ue.height[0],D!=null&&(D[0]=ue.width),X!=null&&(X[0]=ue.height);e:{if(D=new Ct,(X=new et).data=b,X.w=_,X.ha=L,X.kd=1,_=[0],t(X!=null),((b=$o(X.data,X.w,X.ha,null,null,null,_,null,X))==0||b==7)&&_[0]&&(b=4),(_=b)==0){if(t(le!=null),D.data=X.data,D.w=X.w+X.offset,D.ha=X.ha-X.offset,D.put=Tt,D.ac=Sa,D.bc=ir,D.ma=le,X.xa){if((b=xi())==null){le=1;break e}if((function(ve,Ce){var Me=[0],rt=[0],$e=[0];t:for(;;){if(ve==null)return 0;if(Ce==null)return ve.a=2,0;if(ve.l=Ce,ve.a=0,ee(ve.m,Ce.data,Ce.w,Ce.ha),!_a(ve.m,Me,rt,$e)){ve.a=3;break t}if(ve.xb=vc,Ce.width=Me[0],Ce.height=rt[0],!Ba(Me[0],rt[0],1,ve,null))break t;return 1}return t(ve.a!=0),0})(b,D)){if(D=(_=io(D.width,D.height,le.Oa,le.ba))==0){t:{D=b;r:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((L=D.l)!=null),t((X=L.ma)!=null),D.xb!=0){if(D.ca=X.ba,D.tb=X.tb,t(D.ca!=null),!cc(X.Oa,L,ou)){D.a=2;break r}if(!es(D,L.width)||L.da)break r;if((L.da||kt(D.ca.S))&&Zs(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Zs()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!Z(D.s.vb,D.s.Wa.Xa)){D.a=1;break r}D.xb=0}if(!ua(D,D.V,D.Ba,D.c,D.i,L.o,en))break r;X.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(_=b.a)}else _=b.a}else{if((b=new Xt)==null){le=1;break e}if(b.Fa=X.na,b.P=X.P,b.qc=X.Sa,Rs(b,D)){if((_=io(D.width,D.height,le.Oa,le.ba))==0){if(b.Aa=0,L=le.Oa,t((X=b)!=null),L!=null){if(0<(fe=0>(fe=L.Md)?0:100<fe?255:255*fe/100)){for(ge=ke=0;4>ge;++ge)12>(De=X.pb[ge]).lc&&(De.ia=fe*F0[0>De.lc?0:De.lc]>>3),ke|=De.ia;ke&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=L.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}(function(ve,Ce){if(ve==null)return 0;if(Ce==null)return Lt(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!Rs(ve,Ce))return 0;if(t(ve.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(ve.L=0);var Me=Cl[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Ce.v-Me>>4,ve.zb=Ce.j-Me>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Ce.o+15+Me>>4,ve.Hb=Ce.va+15+Me>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var rt=ve.ed;for(Me=0;4>Me;++Me){var $e;if(ve.Qa.Cb){var Ke=ve.Qa.Lb[Me];ve.Qa.Fb||(Ke+=rt.Tb)}else Ke=rt.Tb;for($e=0;1>=$e;++$e){var Ze=ve.gd[Me][$e],at=Ke;if(rt.Pc&&(at+=rt.vd[0],$e&&(at+=rt.od[0])),0<(at=0>at?0:63<at?63:at)){var st=at;0<rt.wb&&(st=4<rt.wb?st>>2:st>>1)>9-rt.wb&&(st=9-rt.wb),1>st&&(st=1),Ze.dd=st,Ze.tc=2*at+st,Ze.ld=40<=at?2:15<=at?1:0}else Ze.tc=0;Ze.La=$e}}}Me=0}else Lt(ve,6,"Frame setup failed"),Me=ve.a;if(Me=Me==0){if(Me){ve.$c=0,0<ve.Aa||(ve.Ic=ho);t:{Me=ve.Ic,rt=4*(st=ve.za);var Ht=32*st,Ot=st+1,yr=0<ve.L?st*(0<ve.Aa?2:1):0,$t=(ve.Aa==2?2:1)*st;if((Ze=rt+832+($e=3*(16*Me+Cl[ve.L])/2*Ht)+(Ke=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=Ze)Me=0;else{if(Ze>ve.Vb){if(ve.Vb=0,ve.Ec=i(Ze),ve.Fc=0,ve.Ec==null){Me=Lt(ve,1,"no memory during frame initialization.");break t}ve.Vb=Ze}Ze=ve.Ec,at=ve.Fc,ve.Ac=Ze,ve.Bc=at,at+=rt,ve.Gd=o(Ht,Sr),ve.Hd=0,ve.rb=o(Ot+1,Vr),ve.sb=1,ve.wa=yr?o(yr,Zt):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=st),t(!0),ve.oc=Ze,ve.pc=at,at+=832,ve.ya=o($t,ln),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=st),ve.R=16*st,ve.B=8*st,st=(Ht=Cl[ve.L])*ve.R,Ht=Ht/2*ve.B,ve.sa=Ze,ve.ta=at+st,ve.qa=ve.sa,ve.ra=ve.ta+16*Me*ve.R+Ht,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Me*ve.B+Ht,ve.$c=0,at+=$e,ve.mb=Ke?Ze:null,ve.nb=Ke?at:null,t(at+Ke<=ve.Fc+ve.Vb),ts(ve),s(ve.Ac,ve.Bc,0,rt),Me=1}}if(Me){if(Ce.ka=0,Ce.y=ve.sa,Ce.O=ve.ta,Ce.f=ve.qa,Ce.N=ve.ra,Ce.ea=ve.Ha,Ce.Vd=ve.Ia,Ce.fa=ve.R,Ce.Rc=ve.B,Ce.F=null,Ce.J=0,!Hf){for(Me=-255;255>=Me;++Me)Uf[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)qf[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)zf[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)Wf[255+Me]=0>Me?0:255<Me?255:Me;Hf=1}zo=Er,bl=Ks,ps=Kt,Ur=aa,tn=Eo,Un=Gs,qn=_n,ia=cn,Si=P,au=K,hc=Yr,uo=Rn,cd=pe,mc=Se,ud=Et,Ff=tr,su=wr,wl=er,ri[0]=tu,ri[1]=Lo,ri[2]=ao,ri[3]=Js,ri[4]=cl,ri[5]=bi,ri[6]=ns,ri[7]=lc,ri[8]=so,ri[9]=Ro,ss[0]=Ts,ss[1]=ic,ss[2]=oc,ss[3]=Oo,ss[4]=Xs,ss[5]=Ua,ss[6]=hs,gs[0]=Is,gs[1]=ll,gs[2]=Mi,gs[3]=Ms,gs[4]=ul,gs[5]=To,gs[6]=Mo,Me=1}else Me=0}Me&&(Me=(function(Lr,zn){for(Lr.M=0;Lr.M<Lr.Va;++Lr.M){var jr,Rt=Lr.Jc[Lr.M&Lr.Xb],jt=Lr.m,Qn=Lr;for(jr=0;jr<Qn.za;++jr){var Jt=jt,Pr=Qn,nn=Pr.Ac,Wn=Pr.Bc+4*jr,Ea=Pr.zc,kn=Pr.ya[Pr.aa+jr];if(Pr.Qa.Bb?kn.$b=Q(Jt,Pr.Pa.jb[0])?2+Q(Jt,Pr.Pa.jb[2]):Q(Jt,Pr.Pa.jb[1]):kn.$b=0,Pr.kc&&(kn.Ad=Q(Jt,Pr.Bd)),kn.Za=!Q(Jt,145)+0,kn.Za){var ba=kn.Ob,La=0;for(Pr=0;4>Pr;++Pr){var An,hr=Ea[0+Pr];for(An=0;4>An;++An){hr=zg[nn[Wn+An]][hr];for(var Tr=M0[Q(Jt,hr[0])];0<Tr;)Tr=M0[2*Tr+Q(Jt,hr[Tr])];hr=-Tr,nn[Wn+An]=hr}a(ba,La,nn,Wn,4),La+=4,Ea[0+Pr]=hr}}else hr=Q(Jt,156)?Q(Jt,128)?1:3:Q(Jt,163)?2:0,kn.Ob[0]=hr,s(nn,Wn,hr,4),s(Ea,0,hr,4);kn.Dd=Q(Jt,142)?Q(Jt,114)?Q(Jt,183)?1:3:2:0}if(Qn.m.Ka)return Lt(Lr,7,"Premature end-of-partition0 encountered.");for(;Lr.ja<Lr.za;++Lr.ja){if(Qn=Rt,Jt=(jt=Lr).rb[jt.sb-1],nn=jt.rb[jt.sb+jt.ja],jr=jt.ya[jt.aa+jt.ja],Wn=jt.kc?jr.Ad:0)Jt.la=nn.la=0,jr.Za||(Jt.Na=nn.Na=0),jr.Hc=0,jr.Gc=0,jr.ia=0;else{var Cn,Gr;if(Jt=nn,nn=Qn,Wn=jt.Pa.Xc,Ea=jt.ya[jt.aa+jt.ja],kn=jt.pb[Ea.$b],Pr=Ea.ad,ba=0,La=jt.rb[jt.sb-1],hr=An=0,s(Pr,ba,0,384),Ea.Za)var vn=0,wa=Wn[3];else{Tr=i(16);var Mn=Jt.Na+La.Na;if(Mn=_l(nn,Wn[1],Mn,kn.Eb,0,Tr,0),Jt.Na=La.Na=(0<Mn)+0,1<Mn)zo(Tr,0,Pr,ba);else{var is=Tr[0]+3>>3;for(Tr=0;256>Tr;Tr+=16)Pr[ba+Tr]=is}vn=1,wa=Wn[0]}var Mr=15&Jt.la,pn=15&La.la;for(Tr=0;4>Tr;++Tr){var Wa=1&pn;for(is=Gr=0;4>is;++is)Mr=Mr>>1|(Wa=(Mn=_l(nn,wa,Mn=Wa+(1&Mr),kn.Sc,vn,Pr,ba))>vn)<<7,Gr=Gr<<2|(3<Mn?3:1<Mn?2:Pr[ba+0]!=0),ba+=16;Mr>>=4,pn=pn>>1|Wa<<7,An=(An<<8|Gr)>>>0}for(wa=Mr,vn=pn>>4,Cn=0;4>Cn;Cn+=2){for(Gr=0,Mr=Jt.la>>4+Cn,pn=La.la>>4+Cn,Tr=0;2>Tr;++Tr){for(Wa=1&pn,is=0;2>is;++is)Mn=Wa+(1&Mr),Mr=Mr>>1|(Wa=0<(Mn=_l(nn,Wn[2],Mn,kn.Qc,0,Pr,ba)))<<3,Gr=Gr<<2|(3<Mn?3:1<Mn?2:Pr[ba+0]!=0),ba+=16;Mr>>=2,pn=pn>>1|Wa<<5}hr|=Gr<<4*Cn,wa|=Mr<<4<<Cn,vn|=(240&pn)<<Cn}Jt.la=wa,La.la=vn,Ea.Hc=An,Ea.Gc=hr,Ea.ia=43690&hr?0:kn.ia,Wn=!(An|hr)}if(0<jt.L&&(jt.wa[jt.Y+jt.ja]=jt.gd[jr.$b][jr.Za],jt.wa[jt.Y+jt.ja].La|=!Wn),Qn.Ka)return Lt(Lr,7,"Premature end-of-file encountered.")}if(ts(Lr),jt=zn,Qn=1,jr=(Rt=Lr).D,Jt=0<Rt.L&&Rt.M>=Rt.zb&&Rt.M<=Rt.Va,Rt.Aa==0)t:{if(jr.M=Rt.M,jr.uc=Jt,Ds(Rt,jr),Qn=1,jr=(Gr=Rt.D).Nb,Jt=(hr=Cl[Rt.L])*Rt.R,nn=hr/2*Rt.B,Tr=16*jr*Rt.R,is=8*jr*Rt.B,Wn=Rt.sa,Ea=Rt.ta-Jt+Tr,kn=Rt.qa,Pr=Rt.ra-nn+is,ba=Rt.Ha,La=Rt.Ia-nn+is,pn=(Mr=Gr.M)==0,An=Mr>=Rt.Va-1,Rt.Aa==2&&Ds(Rt,Gr),Gr.uc)for(Wa=(Mn=Rt).D.M,t(Mn.D.uc),Gr=Mn.yb;Gr<Mn.Hb;++Gr){vn=Gr,wa=Wa;var Ha=(Va=(Zn=Mn).D).Nb;Cn=Zn.R;var Va=Va.wa[Va.Y+vn],bs=Zn.sa,os=Zn.ta+16*Ha*Cn+16*vn,ls=Va.dd,Zr=Va.tc;if(Zr!=0)if(t(3<=Zr),Zn.L==1)0<vn&&Ff(bs,os,Cn,Zr+4),Va.La&&wl(bs,os,Cn,Zr),0<wa&&ud(bs,os,Cn,Zr+4),Va.La&&su(bs,os,Cn,Zr);else{var ws=Zn.B,ni=Zn.qa,Yo=Zn.ra+8*Ha*ws+8*vn,ki=Zn.Ha,Zn=Zn.Ia+8*Ha*ws+8*vn;Ha=Va.ld,0<vn&&(ia(bs,os,Cn,Zr+4,ls,Ha),au(ni,Yo,ki,Zn,ws,Zr+4,ls,Ha)),Va.La&&(uo(bs,os,Cn,Zr,ls,Ha),mc(ni,Yo,ki,Zn,ws,Zr,ls,Ha)),0<wa&&(qn(bs,os,Cn,Zr+4,ls,Ha),Si(ni,Yo,ki,Zn,ws,Zr+4,ls,Ha)),Va.La&&(hc(bs,os,Cn,Zr,ls,Ha),cd(ni,Yo,ki,Zn,ws,Zr,ls,Ha))}}if(Rt.ia&&alert("todo:DitherRow"),jt.put!=null){if(Gr=16*Mr,Mr=16*(Mr+1),pn?(jt.y=Rt.sa,jt.O=Rt.ta+Tr,jt.f=Rt.qa,jt.N=Rt.ra+is,jt.ea=Rt.Ha,jt.W=Rt.Ia+is):(Gr-=hr,jt.y=Wn,jt.O=Ea,jt.f=kn,jt.N=Pr,jt.ea=ba,jt.W=La),An||(Mr-=hr),Mr>jt.o&&(Mr=jt.o),jt.F=null,jt.J=null,Rt.Fa!=null&&0<Rt.Fa.length&&Gr<Mr&&(jt.J=sa(Rt,jt,Gr,Mr-Gr),jt.F=Rt.mb,jt.F==null&&jt.F.length==0)){Qn=Lt(Rt,3,"Could not decode alpha data.");break t}Gr<jt.j&&(hr=jt.j-Gr,Gr=jt.j,t(!(1&hr)),jt.O+=Rt.R*hr,jt.N+=Rt.B*(hr>>1),jt.W+=Rt.B*(hr>>1),jt.F!=null&&(jt.J+=jt.width*hr)),Gr<Mr&&(jt.O+=jt.v,jt.N+=jt.v>>1,jt.W+=jt.v>>1,jt.F!=null&&(jt.J+=jt.v),jt.ka=Gr-jt.j,jt.U=jt.va-jt.v,jt.T=Mr-Gr,Qn=jt.put(jt))}jr+1!=Rt.Ic||An||(a(Rt.sa,Rt.ta-Jt,Wn,Ea+16*Rt.R,Jt),a(Rt.qa,Rt.ra-nn,kn,Pr+8*Rt.B,nn),a(Rt.Ha,Rt.Ia-nn,ba,La+8*Rt.B,nn))}if(!Qn)return Lt(Lr,6,"Output aborted.")}return 1})(ve,Ce)),Ce.bc!=null&&Ce.bc(Ce),Me&=1}return Me?(ve.cb=0,Me):0})(b,D)||(_=b.a)}}else _=b.a}_==0&&le.Oa!=null&&le.Oa.fd&&(_=uc(le.ba))}le=_}ae=le!=0?null:11>ae?ue.f.RGBA.eb:ue.f.kb.y}else ae=null;return ae};var mu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(z,J){for(var R="",$=0;$<4;$++)R+=String.fromCharCode(z[J++]);return R}function h(z,J){return z[J+0]|z[J+1]<<8}function m(z,J){return(z[J+0]|z[J+1]<<8|z[J+2]<<16)>>>0}function x(z,J){return(z[J+0]|z[J+1]<<8|z[J+2]<<16|z[J+3]<<24)>>>0}new u;var p=[0],w=[0],v=[],y=new u,S=e,A=(function(z,J){var R={},$=0,H=!1,B=0,ce=0;if(R.frames=[],!(function(q,U){for(var V=0;V<4;V++)if(q[U+V]!="RIFF".charCodeAt(V))return!0;return!1})(z,J)){for(x(z,J+=4),J+=8;J<z.length;){var se=f(z,J),xe=x(z,J+=4);J+=4;var te=xe+(1&xe);switch(se){case"VP8 ":case"VP8L":R.frames[$]===void 0&&(R.frames[$]={}),(oe=R.frames[$]).src_off=H?ce:J-8,oe.src_size=B+xe+8,$++,H&&(H=!1,B=0,ce=0);break;case"VP8X":(oe=R.header={}).feature_flags=z[J];var ee=J+4;oe.canvas_width=1+m(z,ee),ee+=3,oe.canvas_height=1+m(z,ee),ee+=3;break;case"ALPH":H=!0,B=te+8,ce=J-8;break;case"ANIM":(oe=R.header).bgcolor=x(z,J),ee=J+4,oe.loop_count=h(z,ee),ee+=2;break;case"ANMF":var G,oe;(oe=R.frames[$]={}).offset_x=2*m(z,J),J+=3,oe.offset_y=2*m(z,J),J+=3,oe.width=1+m(z,J),J+=3,oe.height=1+m(z,J),J+=3,oe.duration=m(z,J),J+=3,G=z[J++],oe.dispose=1&G,oe.blend=G>>1&1}se!="ANMF"&&(J+=te)}return R}})(S,0);A.response=S,A.rgbaoutput=!0,A.dataurl=!1;var N=A.header?A.header:null,k=A.frames?A.frames:null;if(N){N.loop_counter=N.loop_count,p=[N.canvas_height],w=[N.canvas_width];for(var C=0;C<k.length&&k[C].blend!=0;C++);}var T=k[0],I=y.WebPDecodeRGBA(S,T.src_off,T.src_size,w,p);T.rgba=I,T.imgwidth=w[0],T.imgheight=p[0];for(var F=0;F<w[0]*p[0]*4;F++)v[F]=I[F];return this.width=w,this.height=p,this.data=v,this}(function(e){var t,r,a,s,i,o,l,u,f,h=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new u,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new o,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new o,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var m=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=q;Object.defineProperty(this,"pdf",{get:function(){return U}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(be){V=!!be}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(be){ie=!!be}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(be){isNaN(be)||(me=be)}});var W=0;Object.defineProperty(this,"posY",{get:function(){return W},set:function(be){isNaN(be)||(W=be)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(be){var Z;typeof be=="number"?Z=[be,be,be,be]:((Z=new Array(4))[0]=be[0],Z[1]=be.length>=2?be[1]:Z[0],Z[2]=be.length>=3?be[2]:Z[0],Z[3]=be.length>=4?be[3]:Z[1]),f.margin=Z}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(be){de=be}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(be){re=be}});var Q=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Q},set:function(be){Q=be}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(be){be instanceof h&&(f=be)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(be){f.path=be}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(be){Ne=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var Z;Z=x(be),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var Z=x(be);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var he=null,we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(be){he=null,we=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var Z;if(this.ctx.font=be,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var Xe=Z[1];Z[2];var Je=Z[3],Qe=Z[4];Z[5];var Te=Z[6],ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(ye==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var qe=(function(Ge){var ot,Nt,Dt=[],pt=Ge.trim();if(pt==="")return ob;if(pt in $C)return[$C[pt]];for(;pt!=="";){switch(Nt=null,ot=(pt=UC(pt)).charAt(0)){case'"':case"'":Nt=fZ(pt.substring(1),ot);break;default:Nt=hZ(pt)}if(Nt===null||(Dt.push(Nt[0]),(pt=UC(Nt[1]))!==""&&pt.charAt(0)!==","))return ob;pt=pt.replace(/^,/,"")}return Dt})(Te);if(this.fontFaces){var wt=(function(Ge,ot){if(he===null){var Nt=(function(Dt){var pt=[];return Object.keys(Dt).forEach(function(At){Dt[At].forEach(function(Be){var Ie=null;switch(Be){case"bold":Ie={family:At,weight:"bold"};break;case"italic":Ie={family:At,style:"italic"};break;case"bolditalic":Ie={family:At,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:At}}Ie!==null&&(Ie.ref={name:At,style:Be},pt.push(Ie))})}),pt})(Ge.getFontList());he=(function(Dt){for(var pt={},At=0;At<Dt.length;++At){var Be=ib(Dt[At]),Ie=Be.family,dt=Be.stretch,kt=Be.style,pr=Be.weight;pt[Ie]=pt[Ie]||{},pt[Ie][dt]=pt[Ie][dt]||{},pt[Ie][dt][kt]=pt[Ie][dt][kt]||{},pt[Ie][dt][kt][pr]=Be}return pt})(Nt.concat(ot))}return he})(this.pdf,this.fontFaces),Ee=qe.map(function(Ge){return{family:Ge,stretch:"normal",weight:Je,style:Xe}}),xt=(function(Ge,ot,Nt){for(var Dt=(Nt=Nt||{}).defaultFontFamily||"times",pt=Object.assign({},dZ,Nt.genericFontFamilies||{}),At=null,Be=null,Ie=0;Ie<ot.length;++Ie)if(pt[(At=ib(ot[Ie])).family]&&(At.family=pt[At.family]),Ge.hasOwnProperty(At.family)){Be=Ge[At.family];break}if(!(Be=Be||Ge[Dt]))throw new Error("Could not find a font-family for the rule '"+BC(At)+"' and default family '"+Dt+"'.");if(Be=(function(dt,kt){if(kt[dt])return kt[dt];var pr=Qw[dt],br=pr<=Qw.normal?-1:1,gr=FC(kt,yL,pr,br);if(!gr)throw new Error("Could not find a matching font-stretch value for "+dt);return gr})(At.stretch,Be),Be=(function(dt,kt){if(kt[dt])return kt[dt];for(var pr=vL[dt],br=0;br<pr.length;++br)if(kt[pr[br]])return kt[pr[br]];throw new Error("Could not find a matching font-style for "+dt)})(At.style,Be),!(Be=(function(dt,kt){if(kt[dt])return kt[dt];if(dt===400&&kt[500])return kt[500];if(dt===500&&kt[400])return kt[400];var pr=uZ[dt],br=FC(kt,bL,pr,dt<400?-1:1);if(!br)throw new Error("Could not find a matching font-weight for value "+dt);return br})(At.weight,Be)))throw new Error("Failed to resolve a font for the rule '"+BC(At)+"'.");return Be})(wt,Ee);this.pdf.setFont(xt.ref.name,xt.ref.style)}else{var gt="";(Je==="bold"||parseInt(Je,10)>=700||Xe==="bold")&&(gt="bold"),Xe==="italic"&&(gt+="italic"),gt.length===0&&(gt="normal");for(var ht="",_e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},He=0;He<qe.length;He++){if(this.pdf.internal.getFont(qe[He],gt,{noFallback:!0,disableWarning:!0})!==void 0){ht=qe[He];break}if(gt==="bolditalic"&&this.pdf.internal.getFont(qe[He],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=qe[He],gt="bold";else if(this.pdf.internal.getFont(qe[He],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=qe[He],gt="normal";break}}if(ht===""){for(var We=0;We<qe.length;We++)if(_e[qe[We]]){ht=_e[qe[We]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};m.prototype.setLineDash=function(q){this.lineDash=q},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){k.call(this,"fill",!1)},m.prototype.stroke=function(){k.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(q,U){if(isNaN(q)||isNaN(U))throw wn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(q,U));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(q,U)},m.prototype.closePath=function(){var q=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&dn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){q=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(q.x,q.y)},m.prototype.lineTo=function(q,U){if(isNaN(q)||isNaN(U))throw wn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(q,U));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},m.prototype.quadraticCurveTo=function(q,U,V,ie){if(isNaN(V)||isNaN(ie)||isNaN(q)||isNaN(U))throw wn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new o(V,ie)),W=this.ctx.transform.applyToPoint(new o(q,U));this.path.push({type:"qct",x1:W.x,y1:W.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},m.prototype.bezierCurveTo=function(q,U,V,ie,me,W){if(isNaN(me)||isNaN(W)||isNaN(q)||isNaN(U)||isNaN(V)||isNaN(ie))throw wn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(me,W)),re=this.ctx.transform.applyToPoint(new o(q,U)),Q=this.ctx.transform.applyToPoint(new o(V,ie));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:Q.x,y2:Q.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},m.prototype.arc=function(q,U,V,ie,me,W){if(isNaN(q)||isNaN(U)||isNaN(V)||isNaN(ie)||isNaN(me))throw wn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(W=!!W,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(q,U));q=de.x,U=de.y;var re=this.ctx.transform.applyToPoint(new o(0,V)),Q=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(re.x-Q.x,2)+Math.pow(re.y-Q.y,2))}Math.abs(me-ie)>=2*Math.PI&&(ie=0,me=2*Math.PI),this.path.push({type:"arc",x:q,y:U,radius:V,startAngle:ie,endAngle:me,counterclockwise:W})},m.prototype.arcTo=function(q,U,V,ie,me){throw new Error("arcTo not implemented.")},m.prototype.rect=function(q,U,V,ie){if(isNaN(q)||isNaN(U)||isNaN(V)||isNaN(ie))throw wn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,U),this.lineTo(q+V,U),this.lineTo(q+V,U+ie),this.lineTo(q,U+ie),this.lineTo(q,U),this.lineTo(q+V,U),this.lineTo(q,U)},m.prototype.fillRect=function(q,U,V,ie){if(isNaN(q)||isNaN(U)||isNaN(V)||isNaN(ie))throw wn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,U,V,ie),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},m.prototype.strokeRect=function(q,U,V,ie){if(isNaN(q)||isNaN(U)||isNaN(V)||isNaN(ie))throw wn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(q,U,V,ie),this.stroke())},m.prototype.clearRect=function(q,U,V,ie){if(isNaN(q)||isNaN(U)||isNaN(V)||isNaN(ie))throw wn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,U,V,ie))},m.prototype.save=function(q){q=typeof q!="boolean"||q;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},m.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(U),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(q){var U,V,ie,me;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))U=0,V=0,ie=0,me=0;else{var W=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(W!==null)U=parseInt(W[1]),V=parseInt(W[2]),ie=parseInt(W[3]),me=1;else if((W=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)U=parseInt(W[1]),V=parseInt(W[2]),ie=parseInt(W[3]),me=parseFloat(W[4]);else{if(me=1,typeof q=="string"&&q.charAt(0)!=="#"){var de=new dL(q);q=de.ok?de.toHex():"#000000"}q.length===4?(U=q.substring(1,2),U+=U,V=q.substring(2,3),V+=V,ie=q.substring(3,4),ie+=ie):(U=q.substring(1,3),V=q.substring(3,5),ie=q.substring(5,7)),U=parseInt(U,16),V=parseInt(V,16),ie=parseInt(ie,16)}}return{r:U,g:V,b:ie,a:me,style:q}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(q,U,V,ie){if(isNaN(U)||isNaN(V)||typeof q!="string")throw wn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var me=te(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;$.call(this,{text:q,x:U,y:V,scale:W,angle:me,align:this.textAlign,maxWidth:ie})}},m.prototype.strokeText=function(q,U,V,ie){if(isNaN(U)||isNaN(V)||typeof q!="string")throw wn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ie=isNaN(ie)?void 0:ie;var me=te(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;$.call(this,{text:q,x:U,y:V,scale:W,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:ie})}},m.prototype.measureText=function(q){if(typeof q!="string")throw wn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,V=this.pdf.internal.scaleFactor,ie=U.internal.getFontSize(),me=U.getStringUnitWidth(q)*ie/U.internal.scaleFactor;return new function(W){var de=(W=W||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:me*=Math.round(96*V/72*1e4)/1e4})},m.prototype.scale=function(q,U){if(isNaN(q)||isNaN(U))throw wn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new u(q,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},m.prototype.rotate=function(q){if(isNaN(q))throw wn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new u(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},m.prototype.translate=function(q,U){if(isNaN(q)||isNaN(U))throw wn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new u(1,0,0,1,q,U);this.ctx.transform=this.ctx.transform.multiply(V)},m.prototype.transform=function(q,U,V,ie,me,W){if(isNaN(q)||isNaN(U)||isNaN(V)||isNaN(ie)||isNaN(me)||isNaN(W))throw wn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new u(q,U,V,ie,me,W);this.ctx.transform=this.ctx.transform.multiply(de)},m.prototype.setTransform=function(q,U,V,ie,me,W){q=isNaN(q)?1:q,U=isNaN(U)?0:U,V=isNaN(V)?0:V,ie=isNaN(ie)?1:ie,me=isNaN(me)?0:me,W=isNaN(W)?0:W,this.ctx.transform=new u(q,U,V,ie,me,W)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(q,U,V,ie,me,W,de,re,Q){var Ne=this.pdf.getImageProperties(q),he=1,we=1,be=1,Z=1;ie!==void 0&&re!==void 0&&(be=re/ie,Z=Q/me,he=Ne.width/ie*re/ie,we=Ne.height/me*Q/me),W===void 0&&(W=U,de=V,U=0,V=0),ie!==void 0&&re===void 0&&(re=ie,Q=me),ie===void 0&&re===void 0&&(re=Ne.width,Q=Ne.height);for(var Xe,Je=this.ctx.transform.decompose(),Qe=te(Je.rotate.shx),Te=new u,ye=(Te=(Te=(Te=Te.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new l(W-U*be,de-V*Z,ie*he,me*we)),qe=y.call(this,ye),wt=[],Ee=0;Ee<qe.length;Ee+=1)wt.indexOf(qe[Ee])===-1&&wt.push(qe[Ee]);if(N(wt),this.autoPaging)for(var xt=wt[0],gt=wt[wt.length-1],ht=xt;ht<gt+1;ht++){this.pdf.setPage(ht);var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=ht===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=ht===1?0:We+(ht-2)*Ge;if(this.ctx.clip_path.length!==0){var Nt=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Xe,this.posX+this.margin[3],-ot+He+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Nt}var Dt=JSON.parse(JSON.stringify(ye));Dt=A([Dt],this.posX+this.margin[3],-ot+He+this.ctx.prevPageLastElemOffset)[0];var pt=(ht>xt||ht<gt)&&v.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Ge,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,Qe),pt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(q,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,Qe)};var y=function(q,U,V){var ie=[];U=U||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":ie.push(Math.floor((q.y+me)/V)+1);break;case"arc":ie.push(Math.floor((q.y+me-q.radius)/V)+1),ie.push(Math.floor((q.y+me+q.radius)/V)+1);break;case"qct":var W=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);ie.push(Math.floor((W.y+me)/V)+1),ie.push(Math.floor((W.y+W.h+me)/V)+1);break;case"bct":var de=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);ie.push(Math.floor((de.y+me)/V)+1),ie.push(Math.floor((de.y+de.h+me)/V)+1);break;case"rect":ie.push(Math.floor((q.y+me)/V)+1),ie.push(Math.floor((q.y+q.h+me)/V)+1)}for(var re=0;re<ie.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<ie[re];)S.call(this);return ie},S=function(){var q=this.fillStyle,U=this.strokeStyle,V=this.font,ie=this.lineCap,me=this.lineWidth,W=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=U,this.font=V,this.lineCap=ie,this.lineWidth=me,this.lineJoin=W},A=function(q,U,V){for(var ie=0;ie<q.length;ie++)switch(q[ie].type){case"bct":q[ie].x2+=U,q[ie].y2+=V;case"qct":q[ie].x1+=U,q[ie].y1+=V;default:q[ie].x+=U,q[ie].y+=V}return q},N=function(q){return q.sort(function(U,V){return U-V})},k=function(q,U){for(var V,ie,me=this.fillStyle,W=this.strokeStyle,de=this.lineCap,re=this.lineWidth,Q=Math.abs(re*this.ctx.transform.scaleX),Ne=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),we=JSON.parse(JSON.stringify(this.path)),be=[],Z=0;Z<we.length;Z++)if(we[Z].x!==void 0)for(var Xe=y.call(this,we[Z]),Je=0;Je<Xe.length;Je+=1)be.indexOf(Xe[Je])===-1&&be.push(Xe[Je]);for(var Qe=0;Qe<be.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<be[Qe];)S.call(this);if(N(be),this.autoPaging)for(var Te=be[0],ye=be[be.length-1],qe=Te;qe<ye+1;qe++){this.pdf.setPage(qe),this.fillStyle=me,this.strokeStyle=W,this.lineCap=de,this.lineWidth=Q,this.lineJoin=Ne;var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ee=qe===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=qe===1?0:xt+(qe-2)*gt;if(this.ctx.clip_path.length!==0){var _e=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(V,this.posX+this.margin[3],-ht+Ee+this.ctx.prevPageLastElemOffset),C.call(this,q,!0),this.path=_e}if(ie=JSON.parse(JSON.stringify(he)),this.path=A(ie,this.posX+this.margin[3],-ht+Ee+this.ctx.prevPageLastElemOffset),U===!1||qe===0){var He=(qe>Te||qe<ye)&&v.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,gt,null).clip().discardPath()),C.call(this,q,U),He&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=Q,C.call(this,q,U),this.lineWidth=re;this.path=he},C=function(q,U){if((q!=="stroke"||U||!w.call(this))&&(q==="stroke"||U||!p.call(this))){for(var V,ie,me=[],W=this.path,de=0;de<W.length;de++){var re=W[de];switch(re.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:re,deltas:[],abs:[]});break;case"lt":var Q=me.length;if(W[de-1]&&!isNaN(W[de-1].x)&&(V=[re.x-W[de-1].x,re.y-W[de-1].y],Q>0)){for(;Q>=0;Q--)if(me[Q-1].close!==!0&&me[Q-1].begin!==!0){me[Q-1].deltas.push(V),me[Q-1].abs.push(re);break}}break;case"bct":V=[re.x1-W[de-1].x,re.y1-W[de-1].y,re.x2-W[de-1].x,re.y2-W[de-1].y,re.x-W[de-1].x,re.y-W[de-1].y],me[me.length-1].deltas.push(V);break;case"qct":var Ne=W[de-1].x+2/3*(re.x1-W[de-1].x),he=W[de-1].y+2/3*(re.y1-W[de-1].y),we=re.x+2/3*(re.x1-re.x),be=re.y+2/3*(re.y1-re.y),Z=re.x,Xe=re.y;V=[Ne-W[de-1].x,he-W[de-1].y,we-W[de-1].x,be-W[de-1].y,Z-W[de-1].x,Xe-W[de-1].y],me[me.length-1].deltas.push(V);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(re)}}ie=U?null:q==="stroke"?"stroke":"fill";for(var Je=!1,Qe=0;Qe<me.length;Qe++)if(me[Qe].arc)for(var Te=me[Qe].abs,ye=0;ye<Te.length;ye++){var qe=Te[ye];qe.type==="arc"?F.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,U,!Je):H.call(this,qe.x,qe.y),Je=!0}else if(me[Qe].close===!0)this.pdf.internal.out("h"),Je=!1;else if(me[Qe].begin!==!0){var wt=me[Qe].start.x,Ee=me[Qe].start.y;B.call(this,me[Qe].deltas,wt,Ee),Je=!0}ie&&z.call(this,ie),U&&J.call(this)}},T=function(q){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-V;case"top":return q+U-V;case"hanging":return q+U-2*V;case"middle":return q+U/2-V;default:return q}},I=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(U,V){this.colorStops.push([U,V])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(q,U,V,ie,me,W,de,re,Q){for(var Ne=se.call(this,V,ie,me,W),he=0;he<Ne.length;he++){var we=Ne[he];he===0&&(Q?R.call(this,we.x1+q,we.y1+U):H.call(this,we.x1+q,we.y1+U)),ce.call(this,q,U,we.x2,we.y2,we.x3,we.y3,we.x4,we.y4)}re?J.call(this):z.call(this,de)},z=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(q,U){this.pdf.internal.out(r(q)+" "+a(U)+" m")},$=function(q){var U;switch(q.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var V=this.pdf.getTextDimensions(q.text),ie=T.call(this,q.y),me=I.call(this,ie)-V.h,W=this.ctx.transform.applyToPoint(new o(q.x,ie)),de=this.ctx.transform.decompose(),re=new u;re=(re=(re=re.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Q,Ne,he,we=this.ctx.transform.applyToRectangle(new l(q.x,ie,V.w,V.h)),be=re.applyToRectangle(new l(q.x,me,V.w,V.h)),Z=y.call(this,be),Xe=[],Je=0;Je<Z.length;Je+=1)Xe.indexOf(Z[Je])===-1&&Xe.push(Z[Je]);if(N(Xe),this.autoPaging)for(var Qe=Xe[0],Te=Xe[Xe.length-1],ye=Qe;ye<Te+1;ye++){this.pdf.setPage(ye);var qe=ye===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[2],xt=Ee-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],ht=gt-this.margin[3],_e=ye===1?0:wt+(ye-2)*xt;if(this.ctx.clip_path.length!==0){var He=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Q,this.posX+this.margin[3],-1*_e+qe),C.call(this,"fill",!0),this.path=He}var We=A([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-_e+qe+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*q.scale),he=this.lineWidth,this.lineWidth=he*q.scale);var Ge=this.autoPaging!=="text";if(Ge||We.y+We.h<=Ee){if(Ge||We.y>=qe&&We.x<=gt){var ot=Ge?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||gt-We.x)[0],Nt=A([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-_e+qe+this.ctx.prevPageLastElemOffset)[0],Dt=Ge&&(ye>Qe||ye<Te)&&v.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,xt,null).clip().discardPath()),this.pdf.text(ot,Nt.x,Nt.y,{angle:q.angle,align:U,renderingMode:q.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else We.y<Ee&&(this.ctx.prevPageLastElemOffset+=Ee-We.y);q.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=he)}else q.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*q.scale),he=this.lineWidth,this.lineWidth=he*q.scale),this.pdf.text(q.text,W.x+this.posX,W.y+this.posY,{angle:q.angle,align:U,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=he)},H=function(q,U,V,ie){V=V||0,ie=ie||0,this.pdf.internal.out(r(q+V)+" "+a(U+ie)+" l")},B=function(q,U,V){return this.pdf.lines(q,U,V,null,null)},ce=function(q,U,V,ie,me,W,de,re){this.pdf.internal.out([t(s(V+q)),t(i(ie+U)),t(s(me+q)),t(i(W+U)),t(s(de+q)),t(i(re+U)),"c"].join(" "))},se=function(q,U,V,ie){for(var me=2*Math.PI,W=Math.PI/2;U>V;)U-=me;var de=Math.abs(V-U);de<me&&ie&&(de=me-de);for(var re=[],Q=ie?-1:1,Ne=U;de>1e-5;){var he=Ne+Q*Math.min(de,W);re.push(xe.call(this,q,Ne,he)),de-=Math.abs(he-Ne),Ne=he}return re},xe=function(q,U,V){var ie=(V-U)/2,me=q*Math.cos(ie),W=q*Math.sin(ie),de=me,re=-W,Q=de*de+re*re,Ne=Q+de*me+re*W,he=4/3*(Math.sqrt(2*Q*Ne)-Ne)/(de*W-re*me),we=de-he*re,be=re+he*de,Z=we,Xe=-be,Je=ie+U,Qe=Math.cos(Je),Te=Math.sin(Je);return{x1:q*Math.cos(U),y1:q*Math.sin(U),x2:we*Qe-be*Te,y2:we*Te+be*Qe,x3:Z*Qe-Xe*Te,y3:Z*Te+Xe*Qe,x4:q*Math.cos(V),y4:q*Math.sin(V)}},te=function(q){return 180*q/Math.PI},ee=function(q,U,V,ie,me,W){var de=q+.5*(V-q),re=U+.5*(ie-U),Q=me+.5*(V-me),Ne=W+.5*(ie-W),he=Math.min(q,me,de,Q),we=Math.max(q,me,de,Q),be=Math.min(U,W,re,Ne),Z=Math.max(U,W,re,Ne);return new l(he,be,we-he,Z-be)},G=function(q,U,V,ie,me,W,de,re){var Q,Ne,he,we,be,Z,Xe,Je,Qe,Te,ye,qe,wt,Ee,xt=V-q,gt=ie-U,ht=me-V,_e=W-ie,He=de-me,We=re-W;for(Ne=0;Ne<41;Ne++)Qe=(Xe=(he=q+(Q=Ne/40)*xt)+Q*((be=V+Q*ht)-he))+Q*(be+Q*(me+Q*He-be)-Xe),Te=(Je=(we=U+Q*gt)+Q*((Z=ie+Q*_e)-we))+Q*(Z+Q*(W+Q*We-Z)-Je),Ne==0?(ye=Qe,qe=Te,wt=Qe,Ee=Te):(ye=Math.min(ye,Qe),qe=Math.min(qe,Te),wt=Math.max(wt,Qe),Ee=Math.max(Ee,Te));return new l(Math.round(ye),Math.round(qe),Math.round(wt-ye),Math.round(Ee-qe))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,U,V=(q=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:U}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Gt.API),(function(e){var t=function(o){var l,u,f,h,m,x,p,w,v,y;for(u=[],f=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>f;f+=4)(m=(o.charCodeAt(f)<<24)+(o.charCodeAt(f+1)<<16)+(o.charCodeAt(f+2)<<8)+o.charCodeAt(f+3))!==0?(x=(m=((m=((m=((m=(m-(y=m%85))/85)-(v=m%85))/85)-(w=m%85))/85)-(p=m%85))/85)%85,u.push(x+33,p+33,w+33,v+33,y+33)):u.push(122);return(function(S,A){for(var N=A;N>0;N--)S.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},r=function(o){var l,u,f,h,m,x=String,p="length",w=255,v="charCodeAt",y="slice",S="replace";for(o[y](-2),o=o[y](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],h=0,m=(o+=l="uuuuu"[y](o[p]%5||5))[p];m>h;h+=5)u=52200625*(o[v](h)-33)+614125*(o[v](h+1)-33)+7225*(o[v](h+2)-33)+85*(o[v](h+3)-33)+(o[v](h+4)-33),f.push(w&u>>24,w&u>>16,w&u>>8,w&u);return(function(A,N){for(var k=N;k>0;k--)A.pop()})(f,l[p]),x.fromCharCode.apply(x,f)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",f=0;f<o.length;f+=2)u+=String.fromCharCode("0x"+(o[f]+o[f+1]));return u},i=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return(l=Hw(l)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var u=0,f=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=a(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(Gt.API),(function(e){e.loadFile=function(t,r,a){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(u,f,h){var m=new XMLHttpRequest,x=0,p=function(w){var v=w.length,y=[],S=String.fromCharCode;for(x=0;x<v;x+=1)y.push(S(255&w.charCodeAt(x)));return y.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),f&&m.status===200)return p(m.responseText)})(s,i,o)}catch{}return l})(t,r,a)},e.loadImageFile=e.loadFile})(Gt.API),(function(e){function t(){return(fr.html2canvas?Promise.resolve(fr.html2canvas):q2(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(fr.DOMPurify?Promise.resolve(fr.DOMPurify):q2(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var u=dn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(l,u){var f=document.createElement(l);for(var h in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[h]=u.style[h];return f},i=function l(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},o=function l(u){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),f);return(h=h.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||(function(f){switch(a(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),u){case"string":return this.then(r).then(function(f){return this.set({src:s("div",{innerHTML:l,dompurify:f})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var f=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var w=h[p],v=w.src.find(function(y){return y.format==="truetype"});v&&f.addFont(v.url,w.ref.name,w.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,f.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var u=Object.keys(l||{}).map(function(f){if(f in o.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var f=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(f):f})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(l=l||Gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,f,h){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,f,h){return this.setProgress(l?this.progress.val+l:null,u||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,u){var f=this;return this.thenCore(l,u,function(h,m){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(x){return f.updateProgress(null,h),x}).then(h,m).then(function(x){return f.updateProgress(1),x})})},o.prototype.thenCore=function(l,u,f){f=f||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),u&&(u=u.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),x=f.call(m,l,u);return o.convert(x,h.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(f){u=u.thenCore(f)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Gt.getPageSize=function(l,u,f){if(dn(l)==="object"){var h=l;l=h.orientation,u=h.unit||u,f=h.format||f}u=u||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var m,x=(""+f).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var w,v=0,y=0;if(p.hasOwnProperty(x))v=p[x][1]/m,y=p[x][0]/m;else try{v=f[1],y=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",y>v&&(w=y,y=v,v=w);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>y&&(w=y,y=v,v=w)}return{width:y,height:v,unit:u,k:m,orientation:l}},e.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(ib):null;var f=new o(u);return u.worker?f:f.from(l).doCallback()}})(Gt.API),Gt.API.addJS=function(e){return zC=e,this.internal.events.subscribe("postPutResources",function(){Tm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tm!==void 0&&qC!==void 0&&this.internal.out("/Names <</JavaScript "+Tm+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var u=l[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(i=0;i<f;i++){var m=r.internal.newObject();h.push(m);var x=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var f=0;f<a.children.length;f++)this.renderItems(a.children[f])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])})(Gt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,s,i,o,l){var u,f=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(m){for(var x,p=256*m.charCodeAt(4)+m.charCodeAt(5),w=m.length,v={width:0,height:0,numcomponents:1},y=4;y<w;y+=2){if(y+=p,t.indexOf(m.charCodeAt(y+1))!==-1){x=256*m.charCodeAt(y+5)+m.charCodeAt(y+6),v={width:256*m.charCodeAt(y+7)+m.charCodeAt(y+8),height:x,numcomponents:m.charCodeAt(y+9)};break}p=256*m.charCodeAt(y+2)+m.charCodeAt(y+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:f,index:a,alias:s}}return h}})(Gt.API),Gt.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=XQ(e,{checkCrc:!0}),o=i.width,l=i.height,u=i.channels,f=i.palette,h=i.depth;s=f&&u===1?(function(F){for(var z=F.width,J=F.height,R=F.data,$=F.palette,H=F.depth,B=!1,ce=[],se=[],xe=void 0,te=!1,ee=0,G=0;G<$.length;G++){var oe=YA($[G],4),q=oe[0],U=oe[1],V=oe[2],ie=oe[3];ce.push(q,U,V),ie!=null&&(ie===0?(ee++,se.length<1&&se.push(G)):ie<255&&(te=!0))}if(te||ee>1){B=!0,se=void 0;var me=z*J;xe=new Uint8Array(me);for(var W=new DataView(R.buffer),de=0;de<me;de++){var re=lb(W,de,H),Q=YA($[re],4)[3];xe[de]=Q}}else ee===0&&(se=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:B?8:void 0,colorBytes:R,alphaBytes:xe,needSMask:B,palette:ce,mask:se}})(i):u===2||u===4?(function(F){for(var z=F.data,J=F.width,R=F.height,$=F.channels,H=F.depth,B=$===2?"DeviceGray":"DeviceRGB",ce=$-1,se=J*R,xe=ce,te=se*xe,ee=1*se,G=Math.ceil(te*H/8),oe=Math.ceil(ee*H/8),q=new Uint8Array(G),U=new Uint8Array(oe),V=new DataView(z.buffer),ie=new DataView(q.buffer),me=new DataView(U.buffer),W=!1,de=0;de<se;de++){for(var re=de*$,Q=0;Q<xe;Q++)QC(ie,lb(V,re+Q,H),de*xe+Q,H);var Ne=lb(V,re+xe,H);Ne<(1<<H)-1&&(W=!0),QC(me,Ne,1*de,H)}return{colorSpace:B,colorsPerPixel:ce,sMaskBitsPerComponent:W?H:void 0,colorBytes:q,alphaBytes:U,needSMask:W}})(i):(function(F){var z=F.data,J=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:J,colorsPerPixel:J==="DeviceGray"?1:3,colorBytes:z instanceof Uint16Array?(function(R){for(var $=R.length,H=new Uint8Array(2*$),B=new DataView(H.buffer,H.byteOffset,H.byteLength),ce=0;ce<$;ce++)B.setUint16(2*ce,R[ce],!1);return H})(z):z,needSMask:!1}})(i);var m,x,p,w=s,v=w.colorSpace,y=w.colorsPerPixel,S=w.sMaskBitsPerComponent,A=w.colorBytes,N=w.alphaBytes,k=w.needSMask,C=w.palette,T=w.mask,I=null;return a!==Gt.API.image_compression.NONE&&typeof Hw=="function"?(I=(function(F){var z;switch(F){case Gt.API.image_compression.FAST:z=11;break;case Gt.API.image_compression.MEDIUM:z=13;break;case Gt.API.image_compression.SLOW:z=14;break;default:z=12}return z})(a),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(I," /Colors ").concat(y," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=YC(A,Math.ceil(o*y*h/8),y,h,a),k&&(p=YC(N,Math.ceil(o*S/8),1,S,a))):(m=void 0,x=void 0,e=A,k&&(p=N)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:x,transparency:T,palette:C,sMask:p,predictor:I,width:o,height:l,bitsPerComponent:h,sMaskBitsPerComponent:S,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,a,s){var i=new xZ(t),o=i.width,l=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:l},h=new cb(100).encode(f,100);return e.processJPEG.call(this,h,r,a,s)},e.processGIF87A=e.processGIF89A})(Gt.API),wo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){wn.log("bit decode error:"+r)}},wo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var u=this.palette[i>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},wo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,u=15&i,f=this.palette[l];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*s+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},wo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},wo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,f=i>>15?255:0,h=a*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=f}this.pos+=e}},wo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,u=(o>>5&r)/r*255|0,f=(o>>11)/t*255|0,h=s*this.width*4+4*i;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},wo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},wo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},wo.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,a,s){var i=new wo(t,!1),o=i.width,l=i.height,u={data:i.getData(),width:o,height:l},f=new cb(100).encode(u,100);return e.processJPEG.call(this,f,r,a,s)}})(Gt.API),e8.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,a,s){var i=new e8(t),o=i.width,l=i.height,u={data:i.getData(),width:o,height:l},f=new cb(100).encode(u,100);return e.processJPEG.call(this,f,r,a,s)}})(Gt.API),Gt.API.processRGBA=function(e,t,r){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,u=0,f=0;f<s;f+=4){var h=a[f],m=a[f+1],x=a[f+2],p=a[f+3];i[l++]=h,i[l++]=m,i[l++]=x,o[u++]=p}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Gt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ld=Gt.API,Mm=Ld.getCharWidthsArray=function(e,t){var r,a,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,u=l.fof?l.fof:1,f=t.kerning?t.kerning:s.metadata.Unicode.kerning,h=f.fof?f.fof:1,m=t.doKerning!==!1,x=0,p=e.length,w=0,v=l[0]||u,y=[];for(r=0;r<p;r++)a=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(x=m&&dn(f[a])==="object"&&!isNaN(parseInt(f[a][w],10))?f[a][w]/h:0,y.push((l[a]||v)/u+x)),w=a;return y},WC=Ld.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Ld.processArabic&&(e=Ld.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,s)/r:Mm.apply(this,arguments).reduce(function(i,o){return i+o},0)},HC=function(e,t,r,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var u=i;for(l=0;i!==o;)l+t[i]>a&&(s.push(e.slice(u,i)),l=0,u=i),l+=t[i],i++;return u!==i&&s.push(e.slice(u,i)),s},VC=function(e,t,r){r||(r={});var a,s,i,o,l,u,f,h=[],m=[h],x=r.textIndent||0,p=0,w=0,v=e.split(" "),y=Mm.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var S=Array(u).join(" "),A=[];v.map(function(k){(k=k.split(/\s*\n/)).length>1?A=A.concat(k.map(function(C,T){return(T&&C.length?`
`:"")+C})):A.push(k[0])}),v=A,u=WC.apply(this,[S,r])}for(i=0,o=v.length;i<o;i++){var N=0;if(a=v[i],u&&a[0]==`
`&&(a=a.substr(1),N=1),x+p+(w=(s=Mm.apply(this,[a,r])).reduce(function(k,C){return k+C},0))>t||N){if(w>t){for(l=HC.apply(this,[a,s,t-(x+p),t]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);w=s.slice(a.length-(h[0]?h[0].length:0)).reduce(function(k,C){return k+C},0)}else h=[a];m.push(h),x=w+u,p=y}else h.push(a),x+=p+w,p=y}return f=u?function(k,C){return(C?S:"")+k.join(" ")}:function(k){return k.join(" ")},m.map(f)},Ld.splitTextToSize=function(e,t,r){var a,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,u,f=[];for(l=0,u=a.length;l<u;l++)f=f.concat(VC.apply(this,[a[l],o,i]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[r[i]]=t[i],s[t[i]]=r[i];var o=function(x){return"0x"+parseInt(x,10).toString(16)},l=e.__fontmetrics__.compress=function(x){var p,w,v,y,S=["{"];for(var A in x){if(p=x[A],isNaN(parseInt(A,10))?w="'"+A+"'":(A=parseInt(A,10),w=(w=o(A).slice(2)).slice(0,-1)+s[w.slice(-1)]),typeof p=="number")p<0?(v=o(p).slice(3),y="-"):(v=o(p).slice(2),y=""),v=y+v.slice(0,-1)+s[v.slice(-1)];else{if(dn(p)!=="object")throw new Error("Don't know what to do with value type "+dn(p)+".");v=l(p)}S.push(w+v)}return S.push("}"),S.join("")},u=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,w,v,y,S={},A=1,N=S,k=[],C="",T="",I=x.length-1,F=1;F<I;F+=1)(y=x[F])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(k.push([N,v]),N={},v=void 0):y=="}"?((w=k.pop())[0][w[1]]=N,v=void 0,N=w[0]):y=="-"?A=-1:v===void 0?a.hasOwnProperty(y)?(C+=a[y],v=parseInt(C,16)*A,A=1,C=""):C+=y:a.hasOwnProperty(y)?(T+=a[y],N[v]=parseInt(T,16)*A,A=1,v=void 0,T=""):T+=y;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var p=x.font,w=m.Unicode[p.postScriptName];w&&(p.metadata.Unicode={},p.metadata.Unicode.widths=w.widths,p.metadata.Unicode.kerning=w.kerning);var v=h.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])})(Gt.API),(function(e){var t=function(r){for(var a=r.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var a=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Um(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])})(Gt),Gt.API.addSvgAsImage=function(e,t,r,a,s,i,o,l){if(isNaN(t)||isNaN(r))throw wn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw wn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(fr.canvg?Promise.resolve(fr.canvg):q2(()=>import("./index.es-D8xKlcvG.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(f,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),t,r,a,s,o,l)})},Gt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(t,r);return this},Gt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],f=0,h=0,m=0;function x(w,v){var y,S=!1;for(y=0;y<w.length;y+=1)w[y]===v&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(dn(e)==="object"){for(s in e)if(i=e[s],x(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&x(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(f=0;f<i.length;f+=1)if(a=!0,i[f].length===1&&typeof i[f][0]=="number")u.push(String(i[f]-1));else if(i[f].length>1){for(h=0;h<i[f].length;h+=1)typeof i[f][h]!="number"&&(a=!1);a===!0&&u.push([i[f][0]-1,i[f][1]-1].join(" "))}r[s].value="["+u.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,v=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?v.push("/"+w+" /"+r[w].value):v.push("/"+w+" "+r[w].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+o.length+l.length+s.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Gt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],m=0,x=i.length;m<x;++m){if(l=o.metadata.characterToGlyph(i.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(m),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(f[4-l.length],l)}return h.join("")},a=function(i){var o,l,u,f,h,m,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,x=(l=Object.keys(i).sort(function(p,w){return p-w})).length;m<x;m++)o=l[m],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(f=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,u=o.out,f=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",w=0;w<x.length;w++)p+=String.fromCharCode(x[w]);var v=f();h({data:p,addLength1:!0,objectId:v}),u("endobj");var y=f();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var S=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Md(l.fontName)),u("/FontFile2 "+v+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var A=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Md(l.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+y+" 0 R"),u("/BaseFont /"+Md(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+A+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,u=o.out,f=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,x="",p=0;p<m.length;p++)x+=String.fromCharCode(m[p]);var w=f();h({data:x,addLength1:!0,objectId:w}),u("endobj");var v=f();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var y=f();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Md(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=f();for(var S=0;S<l.metadata.hmtx.widths.length;S++)l.metadata.hmtx.widths[S]=parseInt(l.metadata.hmtx.widths[S]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Md(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",u=i.x,f=i.y,h=i.options||{},m=i.mutex||{},x=m.pdfEscape,p=m.activeFontKey,w=m.fonts,v=p,y="",S=0,A="",N=w[v].encoding;if(w[v].encoding!=="Identity-H")return{text:l,x:u,y:f,options:h,mutex:m};for(A=l,v=p,Array.isArray(l)&&(A=l[0]),S=0;S<A.length;S+=1)w[v].metadata.hasOwnProperty("cmap")&&(o=w[v].metadata.cmap.unicode.codeMap[A[S].charCodeAt(0)]),o||A[S].charCodeAt(0)<256&&w[v].metadata.hasOwnProperty("Unicode")?y+=A[S]:y+="";var k="";return parseInt(v.slice(1))<14||N==="WinAnsiEncoding"?k=x(y,v).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(k=r(y,w[v])),m.isHex=!0,{text:k,x:u,y:f,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],u={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?l.push([s(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):l.push(s(Object.assign({},u,{text:o[f]})).text);i.text=l}else i.text=s(Object.assign({},u,{text:o})).text}])})(Gt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Gt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,u,f,h,m=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,N=0;this.__bidiEngine__={};var k=function(R){var $=R.charCodeAt(),H=$>>8,B=v[H];return B!==void 0?m[256*B+(255&$)]:H===252||H===253?"AL":S.test(H)?"L":H===8?"R":"N"},C=function(R){for(var $,H=0;H<R.length;H++){if(($=k(R.charAt(H)))==="L")return!1;if($==="R")return!0}return!1},T=function(R,$,H,B){var ce,se,xe,te,ee=$[B];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(ee="AN");break;case"AL":A=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":B<1||B+1>=$.length||(ce=H[B-1])!=="EN"&&ce!=="AN"||(se=$[B+1])!=="EN"&&se!=="AN"?ee="N":A&&(se="AN"),ee=se===ce?se:"N";break;case"ES":ee=(ce=B>0?H[B-1]:"B")==="EN"&&B+1<$.length&&$[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&H[B-1]==="EN"){ee="EN";break}if(A){ee="N";break}for(xe=B+1,te=$.length;xe<te&&$[xe]==="ET";)xe++;ee=xe<te&&$[xe]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(te=$.length,xe=B+1;xe<te&&$[xe]==="NSM";)xe++;if(xe<te){var G=R[B],oe=G>=1425&&G<=2303||G===64286;if(ce=$[xe],oe&&(ce==="R"||ce==="AL")){ee="R";break}}}ee=B<1||(ce=$[B-1])==="B"?"N":H[B-1];break;case"B":A=!1,s=!0,ee=N;break;case"S":i=!0,ee="N"}return ee},I=function(R,$,H){var B=R.split("");return H&&F(B,H,{hiLevel:N}),B.reverse(),$&&$.reverse(),B.join("")},F=function(R,$,H){var B,ce,se,xe,te,ee=-1,G=R.length,oe=0,q=[],U=N?p:x,V=[];for(A=!1,s=!1,i=!1,ce=0;ce<G;ce++)V[ce]=k(R[ce]);for(se=0;se<G;se++){if(te=oe,q[se]=T(R,V,q,se),B=240&(oe=U[te][w[q[se]]]),oe&=15,$[se]=xe=U[oe][5],B>0)if(B===16){for(ce=ee;ce<se;ce++)$[ce]=1;ee=-1}else ee=-1;if(U[oe][6])ee===-1&&(ee=se);else if(ee>-1){for(ce=ee;ce<se;ce++)$[ce]=xe;ee=-1}V[se]==="B"&&($[se]=0),H.hiLevel|=xe}i&&(function(ie,me,W){for(var de=0;de<W;de++)if(ie[de]==="S"){me[de]=N;for(var re=de-1;re>=0&&ie[re]==="WS";re--)me[re]=N}})(V,$,G)},z=function(R,$,H,B,ce){if(!(ce.hiLevel<R)){if(R===1&&N===1&&!s)return $.reverse(),void(H&&H.reverse());for(var se,xe,te,ee,G=$.length,oe=0;oe<G;){if(B[oe]>=R){for(te=oe+1;te<G&&B[te]>=R;)te++;for(ee=oe,xe=te-1;ee<xe;ee++,xe--)se=$[ee],$[ee]=$[xe],$[xe]=se,H&&(se=H[ee],H[ee]=H[xe],H[xe]=se);oe=te}oe++}}},J=function(R,$,H){var B=R.split(""),ce={hiLevel:N};return H||(H=[]),F(B,H,ce),(function(se,xe,te){if(te.hiLevel!==0&&h)for(var ee,G=0;G<se.length;G++)xe[G]===1&&(ee=y.indexOf(se[G]))>=0&&(se[G]=y[ee+1])})(B,H,ce),z(2,B,$,H,ce),z(1,B,$,H,ce),B.join("")};return this.__bidiEngine__.doBidiReorder=function(R,$,H){if((function(ce,se){if(se)for(var xe=0;xe<ce.length;xe++)se[xe]=xe;l===void 0&&(l=C(ce)),f===void 0&&(f=C(ce))})(R,$),o||!u||f)if(o&&u&&l^f)N=l?1:0,R=I(R,$,H);else if(!o&&u&&f)N=l?1:0,R=J(R,$,H),R=I(R,$);else if(!o||l||u||f){if(o&&!u&&l^f)R=I(R,$),l?(N=0,R=J(R,$,H)):(N=1,R=J(R,$,H),R=I(R,$));else if(o&&l&&!u&&f)N=1,R=J(R,$,H),R=I(R,$);else if(!o&&!u&&l^f){var B=h;l?(N=1,R=J(R,$,H),N=0,h=!1,R=J(R,$,H),h=B):(N=0,R=J(R,$,H),R=I(R,$),N=1,h=!1,R=J(R,$,H),h=B,R=I(R,$))}}else N=0,R=J(R,$,H);else N=l?1:0,R=J(R,$,H);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,u=R.isOutputVisual,l=R.isInputRtl,f=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);a.text=o}else a.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Gt),Gt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Vc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new OZ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new vZ(this.contents),this.head=new bZ(this),this.name=new _Z(this),this.cmap=new jL(this),this.toUnicode={},this.hhea=new wZ(this),this.maxp=new kZ(this),this.hmtx=new AZ(this),this.post=new NZ(this),this.os2=new jZ(this),this.loca=new LZ(this),this.glyf=new CZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,f;for(f=[],o=0,l=(u=this.bbox).length;o<l;o++)t=u[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var Po,Vc=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,s;for(s=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,s,i,o,l,u;return t=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+u},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,s,i;for(i=[],a=0,s=t.length;a<s;a++)r=t[a],i.push(this.writeByte(r));return i},e})(),vZ=(function(){var e;function t(r){var a,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,s,i,o,l,u,f,h,m,x,p,w,v;for(v in p=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(p)/u),o=Math.floor(m/u),h=16*p-m,(s=new Vc).writeInt(this.scalarType),s.writeShort(p),s.writeShort(m),s.writeShort(o),s.writeShort(h),i=16*p,f=s.pos+i,l=null,w=[],r)for(x=r[v],s.writeString(v),s.writeInt(e(x)),s.writeInt(f),s.writeInt(x.length),w=w.concat(x),v==="head"&&(l=f),f+=x.length;f%4;)w.push(0),f++;return s.write(w),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(r){var a,s,i,o;for(r=NL.call(r);r.length%4;)r.push(0);for(i=new Vc(r),s=0,a=0,o=r.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},t})(),yZ={}.hasOwnProperty,ol=function(e,t){for(var r in t)yZ.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Po=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var bZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Vc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),t8=(function(){function e(t,r){var a,s,i,o,l,u,f,h,m,x,p,w,v,y,S,A,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(p=t.readUInt16(),x=p/2,t.pos+=6,i=(function(){var k,C;for(C=[],u=k=0;0<=x?k<x:k>x;u=0<=x?++k:--k)C.push(t.readUInt16());return C})(),t.pos+=2,v=(function(){var k,C;for(C=[],u=k=0;0<=x?k<x:k>x;u=0<=x?++k:--k)C.push(t.readUInt16());return C})(),f=(function(){var k,C;for(C=[],u=k=0;0<=x?k<x:k>x;u=0<=x?++k:--k)C.push(t.readUInt16());return C})(),h=(function(){var k,C;for(C=[],u=k=0;0<=x?k<x:k>x;u=0<=x?++k:--k)C.push(t.readUInt16());return C})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var k,C;for(C=[],u=k=0;0<=s?k<s:k>s;u=0<=s?++k:--k)C.push(t.readUInt16());return C})(),u=S=0,N=i.length;S<N;u=++S)for(y=i[u],a=A=w=v[u];w<=y?A<=y:A>=y;a=w<=y?++A:--A)h[u]===0?o=a+f[u]:(o=l[h[u]/2+(a-w)-(x-u)]||0)!==0&&(o+=f[u]),this.codeMap[a]=65535&o}t.pos=m}return e.encode=function(t,r){var a,s,i,o,l,u,f,h,m,x,p,w,v,y,S,A,N,k,C,T,I,F,z,J,R,$,H,B,ce,se,xe,te,ee,G,oe,q,U,V,ie,me,W,de,re,Q,Ne,he;switch(B=new Vc,o=Object.keys(t).sort(function(we,be){return we-be}),r){case"macroman":for(v=0,y=(function(){var we=[];for(w=0;w<256;++w)we.push(0);return we})(),A={0:0},i={},ce=0,ee=o.length;ce<ee;ce++)A[re=t[s=o[ce]]]==null&&(A[re]=++v),i[s]={old:t[s],new:A[t[s]]},y[s]=A[t[s]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(y),{charMap:i,subtable:B.data,maxGlyphID:v+1};case"unicode":for($=[],m=[],N=0,A={},a={},S=f=null,se=0,G=o.length;se<G;se++)A[C=t[s=o[se]]]==null&&(A[C]=++N),a[s]={old:C,new:A[C]},l=A[C]-s,S!=null&&l===f||(S&&m.push(S),$.push(s),f=l),S=s;for(S&&m.push(S),m.push(65535),$.push(65535),J=2*(z=$.length),F=2*Math.pow(Math.log(z)/Math.LN2,2),x=Math.log(F/2)/Math.LN2,I=2*z-F,u=[],T=[],p=[],w=xe=0,oe=$.length;xe<oe;w=++xe){if(R=$[w],h=m[w],R===65535){u.push(0),T.push(0);break}if(R-(H=a[R].new)>=32768)for(u.push(0),T.push(2*(p.length+z-w)),s=te=R;R<=h?te<=h:te>=h;s=R<=h?++te:--te)p.push(a[s].new);else u.push(H-R),T.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*z+2*p.length),B.writeUInt16(0),B.writeUInt16(J),B.writeUInt16(F),B.writeUInt16(x),B.writeUInt16(I),W=0,q=m.length;W<q;W++)s=m[W],B.writeUInt16(s);for(B.writeUInt16(0),de=0,U=$.length;de<U;de++)s=$[de],B.writeUInt16(s);for(Q=0,V=u.length;Q<V;Q++)l=u[Q],B.writeUInt16(l);for(Ne=0,ie=T.length;Ne<ie;Ne++)k=T[Ne],B.writeUInt16(k);for(he=0,me=p.length;he<me;he++)v=p[he],B.writeUInt16(v);return{charMap:a,subtable:B.data,maxGlyphID:N+1}}},e})(),jL=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r=new t8(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,s;return r==null&&(r="macroman"),a=t8.encode(t,r),(s=new Vc).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e})(),wZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),jZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a})(),this.charRange=(function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),NZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var o,l,u;for(u=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)u.push(t.readUInt32());return u}).call(this)}},e})(),SZ=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},_Z=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,s,i,o,l,u,f,h,m,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(u={},i=h=0,m=a.length;h<m;i=++h)s=a[i],t.pos=s.offset,f=t.readString(s.length),o=new SZ(f,s),u[x=s.nameID]==null&&(u[x]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),kZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),AZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,s,i,o,l,u;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)h.push(t.readInt16());return h})(),this.widths=(function(){var f,h,m,x;for(x=[],f=0,h=(m=this.metrics).length;f<h;f++)i=m[f],x.push(i.advance);return x}).call(this),a=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),NL=[].slice,CZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,s,i,o,l,u,f,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,o=(l=new Vc(r.read(s))).readShort(),f=l.readShort(),m=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new EZ(l,f,m,u,h):new PZ(l,o,f,m,u,h),this.cache[t]))},e.prototype.encode=function(t,r,a){var s,i,o,l,u;for(o=[],i=[],l=0,u=r.length;l<u;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e})(),PZ=(function(){function e(t,r,a,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),EZ=(function(){function e(t,r,a,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new Vc(NL.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),LZ=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ol(e,Po),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<r.length&&r[i]==o){++i,a[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var f=new Array(4*a.length),h=0;h<a.length;++h)f[4*h+3]=255&a[h],f[4*h+2]=(65280&a[h])>>8,f[4*h+1]=(16711680&a[h])>>16,f[4*h]=(4278190080&a[h])>>24;return f},e})(),OZ=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=s[a];return t},e.prototype.glyphsFor=function(t){var r,a,s,i,o,l,u;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(a=s[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))a=u[i],s[i]=a;return s},e.prototype.encode=function(t,r){var a,s,i,o,l,u,f,h,m,x,p,w,v,y,S;for(s in a=jL.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},S=a.charMap)p[(u=S[s]).old]=u.new;for(w in x=a.maxGlyphID,o)w in p||(p[w]=x++);return h=(function(A){var N,k;for(N in k={},A)k[A[N]]=N;return k})(p),m=Object.keys(h).sort(function(A,N){return A-N}),v=(function(){var A,N,k;for(k=[],A=0,N=m.length;A<N;A++)l=m[A],k.push(h[l]);return k})(),i=this.font.glyf.encode(o,v,p),f=this.font.loca.encode(i.offsets,v),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e})();Gt.API.PDFObject=(function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,s,i,o;if(Array.isArray(r))return"["+(function(){var l,u,f;for(f=[],l=0,u=r.length;l<u;l++)a=r[l],f.push(t.convert(a));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();function SL(e,t,r,a,s){a=a||{};var i=1.15,o=s.internal.scaleFactor,l=s.internal.getFontSize()/o,u=s.getLineHeightFactor?s.getLineHeightFactor():i,f=l*u,h=/\r\n|\r|\n/g,m="",x=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(m=typeof e=="string"?e.split(h):e,x=m.length||1),r+=l*(2-i),a.valign==="middle"?r-=x/2*f:a.valign==="bottom"&&(r-=x*f),a.halign==="center"||a.halign==="right"){var p=l;if(a.halign==="center"&&(p*=.5),m&&x>=1){for(var w=0;w<m.length;w++)s.text(m[w],t-s.getStringUnitWidth(m[w])*p,r),r+=f;return s}t-=s.getStringUnitWidth(e)*p}return a.halign==="justify"?s.text(e,t,r,{maxWidth:a.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var r8={},Kd=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:r8=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var a,s,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,u=o.fontName;if(t.font&&(u=t.font),t.fontStyle){l=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),l=f[0])}if(this.jsPDFDocument.setFont(u,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(a=this.jsPDFDocument).setFillColor.apply(a,h),h=e.unifyColor(t.textColor),h&&(s=this.jsPDFDocument).setTextColor.apply(s,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,a){return this.jsPDFDocument.splitTextToSize(t,r,a)},e.prototype.rect=function(t,r,a,s,i){return this.jsPDFDocument.rect(t,r,a,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return r8||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),Zw=function(e,t){return Zw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},Zw(e,t)};function _L(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var kL=(function(e){_L(t,e);function t(r){var a=e.call(this)||this;return a._element=r,a}return t})(Array);function RZ(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function TZ(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Gp(e,t,r){r.applyStyles(t,!0);var a=Array.isArray(e)?e:[e],s=a.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return s}function AL(e,t,r,a){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var o=CL(s,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),a.y-r.y,o)}function CL(e,t){var r=e>0,a=t||t===0;return r&&a?"DF":r?"S":a?"F":null}function Bg(e,t){var r,a,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(a=e.top)!==null&&a!==void 0?a:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function PL(e,t){var r=Bg(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function MZ(e,t,r,a,s){var i={},o=1.3333333333333333,l=ub(t,function(N){return s.getComputedStyle(N).backgroundColor});l!=null&&(i.fillColor=l);var u=ub(t,function(N){return s.getComputedStyle(N).color});u!=null&&(i.textColor=u);var f=DZ(a,r);f&&(i.cellPadding=f);var h="borderTopColor",m=o*r,x=a.borderTopWidth;if(a.borderBottomWidth===x&&a.borderRightWidth===x&&a.borderLeftWidth===x){var p=(parseFloat(x)||0)/m;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/m,right:(parseFloat(a.borderRightWidth)||0)/m,bottom:(parseFloat(a.borderBottomWidth)||0)/m,left:(parseFloat(a.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var w=ub(t,function(N){return s.getComputedStyle(N)[h]});w!=null&&(i.lineColor=w);var v=["left","right","center","justify"];v.indexOf(a.textAlign)!==-1&&(i.halign=a.textAlign),v=["middle","bottom","top"],v.indexOf(a.verticalAlign)!==-1&&(i.valign=a.verticalAlign);var y=parseInt(a.fontSize||"");isNaN(y)||(i.fontSize=y/o);var S=IZ(a);S&&(i.fontStyle=S);var A=(a.fontFamily||"").toLowerCase();return e.indexOf(A)!==-1&&(i.font=A),i}function IZ(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function ub(e,t){var r=EL(e,t);if(!r)return null;var a=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var s=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],i=parseInt(a[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function EL(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:EL(e.parentElement,t):r}function DZ(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/a}),o=Bg(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function LL(e,t,r,a,s){var i,o;a===void 0&&(a=!1),s===void 0&&(s=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var u=Object.keys(e.getFontList()),f=e.scaleFactor(),h=[],m=[],x=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:x};for(var p=0;p<l.rows.length;p++){var w=l.rows[p],v=(o=(i=w?.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),y=FZ(u,f,r,w,a,s);y&&(v==="thead"?h.push(y):v==="tfoot"?x.push(y):m.push(y))}return{head:h,body:m,foot:x}}function FZ(e,t,r,a,s,i){for(var o=new kL(a),l=0;l<a.cells.length;l++){var u=a.cells[l],f=r.getComputedStyle(u);if(s||f.display!=="none"){var h=void 0;i&&(h=MZ(e,u,t,f,r)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:$Z(u)})}}var m=r.getComputedStyle(a);if(o.length>0&&(s||m.display!=="none"))return o}function $Z(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function BZ(e,t,r){for(var a=0,s=[e,t,r];a<s.length;a++){var i=s[a];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Hl(e,t,r,a,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])}return i}function OL(e,t){var r=new Kd(e),a=r.getDocumentOptions(),s=r.getGlobalOptions();BZ(s,a,t);var i=Hl({},s,a,t),o;typeof window<"u"&&(o=window);var l=UZ(s,a,t),u=qZ(s,a,t),f=zZ(r,i),h=HZ(r,i,o);return{id:t.tableId,content:h,hooks:u,styles:l,settings:f}}function UZ(e,t,r){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(u){if(u==="columnStyles"){var f=e[u],h=t[u],m=r[u];a.columnStyles=Hl({},f,h,m)}else{var x=[e,t,r],p=x.map(function(w){return w[u]||{}});a[u]=Hl({},p[0],p[1],p[2])}},i=0,o=Object.keys(a);i<o.length;i++){var l=o[i];s(l)}return a}function qZ(e,t,r){for(var a=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=a;i<o.length;i++){var l=o[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function zZ(e,t){var r,a,s,i,o,l,u,f,h,m,x,p,w=Bg(t.margin,40/e.scaleFactor()),v=(r=WZ(e,t.startY))!==null&&r!==void 0?r:w.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(a=t.showFoot)!==null&&a!==void 0?a:"everyPage";var S;t.showHead===!0?S="everyPage":t.showHead===!1?S="never":S=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var A=(i=t.useCss)!==null&&i!==void 0?i:!1,N=t.theme||(A?"plain":"striped"),k=!!t.horizontalPageBreak,C=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:A,theme:N,startY:v,margin:w,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:S,showFoot:y,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:k,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function WZ(e,t){var r=e.getLastAutoTable(),a=e.scaleFactor(),s=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/a:null}function HZ(e,t,r){var a=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=LL(e,t.html,r,o,t.useCss)||{};a=l.head||a,s=l.body||a,i=l.foot||a}else console.error("Cannot parse html in non browser environment")}var u=t.columns||VZ(a,s,i);return{columns:u,head:a,body:s,foot:i}}function VZ(e,t,r){var a=e[0]||t[0]||r[0]||[],s=[];return Object.keys(a).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(a)?l=a[parseInt(i)]:l=a[i],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var u=0;u<o;u++){var f=void 0;Array.isArray(a)?f=s.length:f=i+(u>0?"_".concat(u):"");var h={dataKey:f};s.push(h)}}),s}var e5=(function(){function e(t,r,a){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=a,this.doc=t.getDocument()}return e})(),YZ=(function(e){_L(t,e);function t(r,a,s,i,o,l){var u=e.call(this,r,a,l)||this;return u.cell=s,u.row=i,u.column=o,u.section=i.section,u}return t})(e5),GZ=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,a,s,i,o){for(var l=0,u=r;l<u.length;l++){var f=u[l],h=new YZ(t,this,a,s,i,o),m=f(h)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var a=0,s=this.hooks.didDrawPage;a<s.length;a++){var i=s[a];i(new e5(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var a=0,s=this.hooks.willDrawPage;a<s.length;a++){var i=s[a];i(new e5(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var a=this.settings.margin;return t-a.left-a.right}},e})(),RL=(function(){function e(t,r,a,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof kL&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=a,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(a,s){var i;return Math.max(a,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(a){var s=r.cells[a.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var a=this;return t.reduce(function(s,i){var o=a.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),f=u+l;return f>s?f:s},0)},e})(),TL=(function(){function e(t,r,a){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=a,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");a=this.x+s/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var a=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,i=a*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Bg(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),KZ=(function(){function e(t,r,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=a}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,a=0,s=t.allRows();a<s.length;a++){var i=s[a],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e})();function XZ(e,t){JZ(e,t);var r=[],a=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),a+=i.width});var s=t.getWidth(e.pageSize().width)-a;s&&(s=t5(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=t5(r,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),ZZ(t),eee(t,e),QZ(t)}function JZ(e,t){var r=e.scaleFactor(),a=t.settings.horizontalPageBreak,s=PL(e,t);t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var u=l[o],f=i.cells[u.index];if(f){var h=t.hooks.didParseCell;t.callCellHooks(e,h,f,i,u,null);var m=f.padding("horizontal");f.contentWidth=Gp(f.text,f.styles,e)+m;var x=Gp(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=x+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||a===!0)f.contentWidth>s?(f.minWidth=s,f.wrappedWidth=s):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var p=10/r;f.minWidth=f.styles.minCellWidth||p,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var u=l[o],f=i.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function t5(e,t,r){for(var a=t,s=e.reduce(function(p,w){return p+w.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],l=o.wrappedWidth/s,u=a*l,f=o.width+u,h=r(o),m=f<h?h:f;t-=m-o.width,o.width=m}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(p){return t<0?p.width>r(p):!0});x.length&&(t=t5(x,t,r))}return t}function QZ(e){for(var t={},r=1,a=e.allRows(),s=0;s<a.length;s++)for(var i=a[s],o=0,l=e.columns;o<l.length;o++){var u=l[o],f=t[u.index];if(r>1)r--,delete i.cells[u.index];else if(f)f.cell.height+=i.height,r=f.cell.colSpan,delete i.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var h=i.cells[u.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=a.length-s,x=h.rowSpan>m?m:h.rowSpan;t[u.index]={cell:h,left:x,row:i}}}}}function ZZ(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var a=t[r],s=null,i=0,o=0,l=0;l<e.columns.length;l++){var u=e.columns[l];if(o-=1,o>1&&e.columns[l+1])i+=u.width,delete a.cells[u.index];else if(s){var f=s;delete a.cells[u.index],s=null,f.width=u.width+i}else{var f=a.cells[u.index];if(!f)continue;if(o=f.colSpan,i=0,f.colSpan>1){s=f,i+=u.width;continue}f.width=u.width+i}}}function eee(e,t){for(var r={count:0,height:0},a=0,s=e.allRows();a<s.length;a++){for(var i=s[a],o=0,l=e.columns;o<l.length;o++){var u=l[o],f=i.cells[u.index];if(f){t.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,h+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=n8(f.text,h,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=n8(f.text,h,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,h);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<x*f.rowSpan?r={height:x,count:f.rowSpan}:r&&r.count>0&&r.height>x&&(x=r.height),x>i.height&&(i.height=x)}}r.count--}}function n8(e,t,r,a,s){return e.map(function(i){return tee(i,t,r,a,s)})}function tee(e,t,r,a,s){var i=1e4*a.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Gp(e,r,a))return e;for(;t<Gp(e+s,r,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function ML(e,t){var r=new Kd(e),a=ree(t,r.scaleFactor()),s=new GZ(t,a);return XZ(r,s),r.applyStyles(r.userStyles),s}function ree(e,t){var r=e.content,a=aee(r.columns);if(r.head.length===0){var s=a8(a,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=a8(a,"foot");s&&r.foot.push(s)}var i=e.settings.theme,o=e.styles;return{columns:a,head:db("head",r.head,a,o,i,t),body:db("body",r.body,a,o,i,t),foot:db("foot",r.foot,a,o,i,t)}}function db(e,t,r,a,s,i){var o={},l=t.map(function(u,f){for(var h=0,m={},x=0,p=0,w=0,v=r;w<v.length;w++){var y=v[w];if(o[y.index]==null||o[y.index].left===0)if(p===0){var S=void 0;Array.isArray(u)?S=u[y.index-x-h]:S=u[y.dataKey];var A={};typeof S=="object"&&!Array.isArray(S)&&(A=S?.styles||{});var N=see(e,y,f,s,a,i,A),k=new TL(S,N,e);m[y.dataKey]=k,m[y.index]=k,p=k.colSpan-1,o[y.index]={left:k.rowSpan-1,times:p}}else p--,x++;else o[y.index].left--,p=o[y.index].times,h++}return new RL(u,f,e,m)});return l}function a8(e,t){var r={};return e.forEach(function(a){if(a.raw!=null){var s=nee(t,a.raw);s!=null&&(r[a.dataKey]=s)}}),Object.keys(r).length>0?r:null}function nee(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function aee(e){return e.map(function(t,r){var a,s;return typeof t=="object"?s=(a=t.dataKey)!==null&&a!==void 0?a:r:s=r,new KZ(s,t,r)})}function see(e,t,r,a,s,i,o){var l=TZ(a),u;e==="head"?u=s.headStyles:e==="body"?u=s.bodyStyles:e==="foot"&&(u=s.footStyles);var f=Hl({},l.table,l[e],s.styles,u),h=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},m=e==="body"?h:{},x=e==="body"&&r%2===0?Hl({},l.alternateRow,s.alternateRowStyles):{},p=RZ(i),w=Hl({},p,f,x,m);return Hl(w,o)}function iee(e,t,r){var a;r===void 0&&(r={});var s=PL(e,t),i=new Map,o=[],l=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(x){var p=t.columns.find(function(w){return w.dataKey===x||w.index===x});p&&!i.has(p.index)&&(i.set(p.index,!0),o.push(p.index),l.push(t.columns[p.index]),s-=p.wrappedWidth)});for(var f=!0,h=(a=r?.start)!==null&&a!==void 0?a:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(f||s>=m)f=!1,o.push(h),l.push(t.columns[h]),s-=m;else break;h++}return{colIndexes:o,columns:l,lastIndex:h-1}}function oee(e,t){for(var r=[],a=0;a<t.columns.length;a++){var s=iee(e,t,{start:a});s.columns.length&&(r.push(s),a=s.lastIndex)}return r}function IL(e,t){var r=t.settings,a=r.startY,s=r.margin,i={x:s.left,y:a},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=a+s.bottom+o;if(r.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(x,p){return x+p.height},0);l+=f}var h=new Kd(e);(r.pageBreak==="always"||r.startY!=null&&l>h.pageSize().height)&&(FL(h),i.y=s.top),t.callWillDrawPageHooks(h,i);var m=Hl({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?lee(h,t,m,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(x){return Zl(h,t,x,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(x,p){var w=p===t.body.length-1;Kp(h,t,x,w,m,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(x){return Zl(h,t,x,i,t.columns)})),AL(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function lee(e,t,r,a){var s=oee(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(f,h){e.applyStyles(e.userStyles),h>0?Ih(e,t,r,a,f.columns,!0):s8(e,t,a,f.columns),cee(e,t,r,a,f.columns),fb(e,t,a,f.columns)});else for(var o=-1,l=s[0],u=function(){var f=o;if(l){e.applyStyles(e.userStyles);var h=l.columns;o>=0?Ih(e,t,r,a,h,!0):s8(e,t,a,h),f=i8(e,t,o+1,a,h),fb(e,t,a,h)}var m=f-o;s.slice(1).forEach(function(x){e.applyStyles(e.userStyles),Ih(e,t,r,a,x.columns,!0),i8(e,t,o+1,a,x.columns,m),fb(e,t,a,x.columns)}),o=f};o<t.body.length-1;)u()}function s8(e,t,r,a){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return Zl(e,t,i,r,a)})}function cee(e,t,r,a,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var l=o===t.body.length-1;Kp(e,t,i,l,r,a,s)})}function i8(e,t,r,a,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(u,f){var h=r+f===t.body.length-1,m=DL(e,t,h,a);u.canEntireRowFit(m,s)&&(Zl(e,t,u,a,s),l=r+f)}),l}function fb(e,t,r,a){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return Zl(e,t,i,r,a)})}function uee(e,t,r){var a=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/a);return Math.max(0,i)}function dee(e,t,r,a){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var u=l[o],f=e.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new TL(f.raw,f.styles,f.section);h=Hl(h,f),h.text=[];var m=uee(f,t,a);f.text.length>m&&(h.text=f.text.splice(m,f.text.length));var x=a.scaleFactor(),p=a.getLineHeightFactor();f.contentHeight=f.getContentHeight(x,p),f.contentHeight>=t&&(f.contentHeight=t,h.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),h.contentHeight=h.getContentHeight(x,p),h.contentHeight>i&&(i=h.contentHeight),s[u.index]=h}}var w=new RL(e.raw,-1,e.section,s,!0);w.height=i;for(var v=0,y=r.columns;v<y.length;v++){var u=y[v],h=w.cells[u.index];h&&(h.height=w.height);var f=e.cells[u.index];f&&(f.height=e.height)}return w}function fee(e,t,r,a){var s=e.pageSize().height,i=a.settings.margin,o=i.top+i.bottom,l=s-o;t.section==="body"&&(l-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var u=t.getMinimumRowHeight(a.columns,e),f=u<r;if(u>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=t.hasRowSpan(a.columns),m=t.getMaxCellHeight(a.columns)>l;return m?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||a.settings.rowPageBreak==="avoid")}function Kp(e,t,r,a,s,i,o){var l=DL(e,t,a,i);if(r.canEntireRowFit(l,o))Zl(e,t,r,i,o);else if(fee(e,r,l,t)){var u=dee(r,l,t,e);Zl(e,t,r,i,o),Ih(e,t,s,i,o),Kp(e,t,u,a,s,i,o)}else Ih(e,t,s,i,o),Kp(e,t,r,a,s,i,o)}function Zl(e,t,r,a,s){a.x=t.settings.margin.left;for(var i=0,o=s;i<o.length;i++){var l=o[i],u=r.cells[l.index];if(!u){a.x+=l.width;continue}e.applyStyles(u.styles),u.x=a.x,u.y=a.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,u,r,l,a);if(f===!1){a.x+=l.width;continue}hee(e,u,a);var h=u.getTextPos();SL(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,r,l,a),a.x+=l.width}a.y+=r.height}function hee(e,t,r){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof a.lineWidth=="number"){var s=CL(a.lineWidth,a.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof a.lineWidth=="object"&&(a.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),mee(e,t,r,a.lineWidth))}function mee(e,t,r,a){var s,i,o,l;a.top&&(s=r.x,i=r.y,o=r.x+t.width,l=r.y,a.right&&(o+=.5*a.right),a.left&&(s-=.5*a.left),u(a.top,s,i,o,l)),a.bottom&&(s=r.x,i=r.y+t.height,o=r.x+t.width,l=r.y+t.height,a.right&&(o+=.5*a.right),a.left&&(s-=.5*a.left),u(a.bottom,s,i,o,l)),a.left&&(s=r.x,i=r.y,o=r.x,l=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(l+=.5*a.bottom),u(a.left,s,i,o,l)),a.right&&(s=r.x+t.width,i=r.y,o=r.x+t.width,l=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(l+=.5*a.bottom),u(a.right,s,i,o,l));function u(f,h,m,x,p){e.getDocument().setLineWidth(f),e.getDocument().line(h,m,x,p,"S")}}function DL(e,t,r,a){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-a.y-s}function Ih(e,t,r,a,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return Zl(e,t,l,a,s)}),t.callEndPageHooks(e,a);var o=t.settings.margin;AL(e,t,r,a),FL(e),t.pageNumber++,a.x=o.left,a.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,a),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Zl(e,t,l,a,s)}),e.applyStyles(e.userStyles))}function FL(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function pee(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=t[0],s=OL(this,a),i=ML(this,s);return IL(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,a,s){SL(t,r,a,s,this)},e.API.autoTableSetDefaults=function(t){return Kd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Kd.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var a;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Kd(this),i=LL(s,t,window,r,!1),o=i.head,l=i.body,u=((a=o[0])===null||a===void 0?void 0:a.map(function(f){return f.content}))||[];return{columns:u,rows:l,data:l}}}var hb;function o8(e,t){var r=OL(e,t),a=ML(e,r);IL(e,a)}try{if(typeof window<"u"&&window){var l8=window,c8=l8.jsPDF||((hb=l8.jspdf)===null||hb===void 0?void 0:hb.jsPDF);c8&&pee(c8)}}catch(e){console.error("Could not apply autoTable plugin",e)}function gee(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState("quick"),[s,i]=O.useState("csv"),[o,l]=O.useState("all"),[u,f]=O.useState({users:!0,courses:!0,evaluations:!0,analytics:!0,auditLogs:!1}),[h,m]=O.useState(!1),[x,p]=O.useState(""),[w,v]=O.useState("csv"),[y,S]=O.useState({userRole:"all",userProgram:"all",userStatus:"all",evalDateRange:"all",evalProgram:"all",evalSemester:"all",evalInstructor:"all",courseProgram:"all",courseStatus:"all",courseYearLevel:"all",analyticsReportType:"summary",analyticsDateRange:"semester",auditDateRange:"all",auditAction:"all",auditUser:"all",auditCategory:"all",auditSeverity:"all"}),[A,N]=O.useState(!1),[k,C]=O.useState({title:"",message:"",type:"info"}),T=(W,de="Notification",re="info")=>{C({title:de,message:W,type:re}),N(!0)},[I,F]=O.useState([]),[z,J]=O.useState(!0),[R,$]=O.useState(null),[H,B]=O.useState(!1),[ce,se]=O.useState({users:{total:0,active:0},courses:{total:0},evaluations:{total:0}}),[xe,te]=O.useState([]),[ee,G]=O.useState([]);O.useEffect(()=>{(!t||!Da(t))&&e("/admin/dashboard")},[t,e]),O.useEffect(()=>{(async()=>{try{J(!0);const de=await nt.getExportHistory(),re=de?.data||de;F(re?.exports||[])}catch(de){$(de.message)}finally{J(!1)}})()},[]),O.useEffect(()=>{(async()=>{try{const de=await nt.getDashboardStats(),re=de.data||de;se({users:{total:re.totalUsers||0,active:re.activeUsers||0},courses:{total:re.totalCourses||0},evaluations:{total:re.totalEvaluations||0}})}catch(de){console.error("Failed to fetch dashboard stats:",de)}})()},[]),O.useEffect(()=>{(async()=>{try{const de=await nt.getPrograms();te(de?.data||[])}catch(de){console.error("Failed to fetch programs:",de)}})()},[]),O.useEffect(()=>{(async()=>{try{const de=await nt.getPeriods();G(de?.data||[])}catch(de){console.error("Failed to fetch evaluation periods:",de)}})()},[]);const oe=W=>{p(W),v("csv"),S({userRole:"all",userProgram:"all",userStatus:"all",evalDateRange:"all",evalProgram:"all",evalPeriod:"all",courseProgram:"all",courseYearLevel:"all",analyticsReportType:"summary",analyticsDateRange:"semester",auditDateRange:"all",auditAction:"all",auditUser:"all",auditCategory:"all",auditSeverity:"all"}),m(!0)},q=async()=>{try{B(!0);let W;const de=new Date().toISOString().split("T")[0],Q={format:w==="excel"||w==="pdf"?w==="excel"?"csv":"json":w};x==="All Users"?(y.userRole!=="all"&&(Q.role=y.userRole),y.userProgram!=="all"&&(Q.program=y.userProgram),y.userStatus!=="all"&&(Q.status=y.userStatus),W=await nt.exportUsers(Q),U(W,`users_export_${de}.${w}`,w)):x==="All Evaluations"?(y.evalDateRange!=="all"&&(Q.dateRange=y.evalDateRange),y.evalProgram!=="all"&&(Q.program=y.evalProgram),y.evalPeriod!=="all"&&(Q.period_id=y.evalPeriod),W=await nt.exportEvaluations(Q),U(W,`evaluations_export_${de}.${w}`,w)):x==="All Courses"?(y.courseProgram!=="all"&&(Q.program=y.courseProgram),y.courseStatus!=="all"&&(Q.status=y.courseStatus),y.courseYearLevel!=="all"&&(Q.year_level=y.courseYearLevel),W=await nt.exportCourses(Q),U(W,`courses_export_${de}.${w}`,w)):x==="Audit Logs"?(y.auditDateRange!=="all"&&(Q.dateRange=y.auditDateRange),y.auditAction!=="all"&&(Q.action=y.auditAction),y.auditUser!=="all"&&(Q.user=y.auditUser),y.auditCategory!=="all"&&(Q.category=y.auditCategory),y.auditSeverity!=="all"&&(Q.severity=y.auditSeverity),W=await nt.exportAuditLogs(Q),U(W,`audit_logs_export_${de}.${w}`,w)):x==="Full System"&&(W=await nt.exportFullSystem(Q),U(W,`full_system_export_${de}.${w}`,w)),m(!1),T(`${x} exported successfully!`,"Export Complete","success"),setTimeout(async()=>{try{const Ne=await nt.getExportHistory(),he=Ne?.data||Ne;F(he?.exports||[])}catch(Ne){console.error("Could not refresh export history:",Ne)}},500)}catch(W){console.error("Export error:",W);let de="Unknown error occurred";W?.response?.data?.detail?de=W.response.data.detail:W?.message?de=W.message:typeof W=="string"?de=W:W?.detail&&(de=W.detail),T(de,"Export Failed","error")}finally{B(!1)}},U=(W,de,re)=>{let Q;const Ne=W?.data||W;if(console.log("downloadData called with format:",re),console.log("Data structure:",Array.isArray(Ne)?`Array with ${Ne.length} items`:typeof Ne),Array.isArray(Ne)&&Ne.length===0){T("No data found matching the selected filters. Please adjust your filters and try again.","No Data Found","warning");return}if(!Ne){T("No data received from server.","Export Failed","error");return}if(re==="json"){const be=JSON.stringify(Ne,null,2);Q=new Blob([be],{type:"application/json"})}else if(re==="csv"){const be=V(Ne);Q=new Blob([be],{type:"text/csv"})}else if(re==="excel"){const be=V(Ne);Q=new Blob([be],{type:"text/csv"}),de=de.replace(".excel",".csv"),console.log("Note: Exporting as CSV format (Excel compatible)")}else if(re==="pdf"){ie(Ne,de);return}else{const be=JSON.stringify(Ne,null,2);Q=new Blob([be],{type:"application/json"})}const he=window.URL.createObjectURL(Q),we=document.createElement("a");we.href=he,we.download=de,document.body.appendChild(we),we.click(),document.body.removeChild(we),window.URL.revokeObjectURL(he)},V=W=>{if(typeof W=="object"&&!Array.isArray(W)&&W!==null&&Object.values(W).some(he=>Array.isArray(he))){let he="";return Object.entries(W).forEach(([we,be])=>{if(Array.isArray(be)&&be.length>0){he+=`
${we.toUpperCase()}
`;const Z=Object.keys(be[0]);he+=Z.join(",")+`
`,be.forEach(Xe=>{const Je=Z.map(Qe=>{const Te=Xe[Qe];if(Te==null)return"";const ye=String(Te);return ye.includes(",")||ye.includes('"')||ye.includes(`
`)?`"${ye.replace(/"/g,'""')}"`:ye}).join(",");he+=Je+`
`})}}),he}if(!Array.isArray(W)||W.length===0)return"";const de=Object.keys(W[0]),re=de.join(","),Q=W.map(Ne=>de.map(he=>{const we=Ne[he];if(we==null)return"";const be=String(we);return be.includes(",")||be.includes('"')||be.includes(`
`)?`"${be.replace(/"/g,'""')}"`:be}).join(","));return[re,...Q].join(`
`)},ie=(W,de)=>{console.log("generatePDF called with filename:",de),console.log("Data type:",Array.isArray(W)?"Array":typeof W),console.log("Data length:",Array.isArray(W)?W.length:"N/A");try{const re=new Gt,Q=de.replace(".pdf","").replace(/_/g," ").toUpperCase();if(re.setFontSize(16),re.text(Q,14,20),re.setFontSize(10),re.text(`Generated: ${new Date().toLocaleString()}`,14,28),typeof W=="object"&&!Array.isArray(W)&&W!==null&&Object.values(W).some(he=>Array.isArray(he))){let he=40,we=0;Object.entries(W).forEach(([be,Z])=>{if(Array.isArray(Z)&&Z.length>0){we+=Z.length,he>250&&(re.addPage(),he=20),re.setFontSize(12),re.setFont(void 0,"bold"),re.text(be.toUpperCase(),14,he),re.setFont(void 0,"normal"),he+=10;const Xe=Object.keys(Z[0]),Je=Z.map(Qe=>Xe.map(Te=>{const ye=Qe[Te];return ye==null?"":typeof ye=="object"?JSON.stringify(ye):String(ye)}));o8(re,{head:[Xe],body:Je,startY:he,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:10}}),he=re.lastAutoTable.finalY+15}}),re.setFontSize(10),re.text(`Total Records: ${we}`,14,34)}else if(Array.isArray(W)&&W.length>0){re.text(`Total Records: ${W.length}`,14,34);const he=Object.keys(W[0]),we=W.map(be=>he.map(Z=>{const Xe=be[Z];return Xe==null?"":typeof Xe=="object"?JSON.stringify(Xe):String(Xe)}));o8(re,{head:[he],body:we,startY:40,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:40}})}else if(typeof W=="object"&&W!==null){let he=40;re.setFontSize(10);const we=(be,Z=0)=>{Object.entries(be).forEach(([Xe,Je])=>{he>270&&(re.addPage(),he=20);const Qe=14+Z*10;typeof Je=="object"&&Je!==null&&!Array.isArray(Je)?(re.setFont(void 0,"bold"),re.text(`${Xe}:`,Qe,he),re.setFont(void 0,"normal"),he+=6,we(Je,Z+1)):(re.text(`${Xe}: ${String(Je)}`,Qe,he),he+=6)})};we(W)}else re.text("No data available",14,40);re.save(de),console.log("PDF generated successfully")}catch(re){console.error("Error generating PDF:",re);const Q=JSON.stringify(W,null,2),Ne=new Blob([Q],{type:"application/json"}),he=window.URL.createObjectURL(Ne),we=document.createElement("a");we.href=he,we.download=de.replace(".pdf",".json"),document.body.appendChild(we),we.click(),document.body.removeChild(we),window.URL.revokeObjectURL(he),T("PDF generation failed. Downloaded as JSON instead.","PDF Generation Failed","warning")}},me=W=>{T(`Downloading ${W.filename}...`,"Download Started","info")};return!t||!Da(t)?null:z?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading export center..."})]})}):R?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md",children:n.jsxs("div",{className:"text-red-600 text-center",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Error Loading Export Center"}),n.jsx("p",{className:"text-gray-600 mb-4",children:R}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:"Retry"})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl",children:"Data Export Center"}),n.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Export system data in multiple formats"})]})]})})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[n.jsxs("div",{className:"bg-white rounded-card shadow-card mb-12 p-2 grid grid-cols-2 gap-2",children:[n.jsx("button",{onClick:()=>a("quick"),className:`py-3 px-4 rounded-lg font-semibold transition-all ${r==="quick"?"bg-gradient-to-r from-red-700 to-red-900 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Quick Export"}),n.jsx("button",{onClick:()=>a("history"),className:`py-3 px-4 rounded-lg font-semibold transition-all ${r==="history"?"bg-gradient-to-r from-red-700 to-red-900 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Export History"})]}),r==="quick"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-red-50 border border-yellow-200 rounded-card p-4 mb-12",children:[n.jsx("p",{className:"text-sm text-red-900 font-semibold mb-1",children:" Quick Export Options"}),n.jsx("p",{className:"text-sm text-red-700",children:"Export commonly requested data sets with one click."})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-5 lg:gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-yellow-500",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-xl flex items-center justify-center mr-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"All Users"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[ce.users.total," total users"]})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export complete user database including students, heads, and administrators."}),n.jsx("button",{onClick:()=>oe("All Users"),className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-5 rounded-button transition-all duration-250 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:H,children:H?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Exporting..."})]}):n.jsx("span",{children:"Export Users "})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-yellow-500",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-xl flex items-center justify-center mr-4",children:n.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"All Courses"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[ce.courses.total," courses"]})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export all course data including instructors, programs, and enrollment info."}),n.jsx("button",{onClick:()=>oe("All Courses"),className:"w-full bg-yellow-600 hover:bg-amber-700 text-white font-semibold py-3 px-5 rounded-button transition-all duration-250",children:"Export Courses "})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-yellow-500",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-xl flex items-center justify-center mr-4",children:n.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"All Evaluations"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[ce.evaluations.total," evaluations"]})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export all evaluation responses with ratings and comments."}),n.jsx("button",{onClick:()=>oe("All Evaluations"),className:"w-full bg-yellow-600 hover:bg-amber-700 text-white font-semibold py-3 px-5 rounded-button transition-all duration-250",children:"Export Evaluations "})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-red-500",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-xl flex items-center justify-center mr-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Audit Logs"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Security & activity logs"})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export system audit logs for compliance and security review."}),n.jsx("button",{onClick:()=>oe("Audit Logs"),className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-5 rounded-button transition-all duration-250",children:"Export Logs "})]})]})]}),!1,r==="history"&&n.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" Export History"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and download previous exports"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Filename"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Format"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Size"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:I.map(W=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:W.filename}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:W.type}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded",children:W.format})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:W.size}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(W.date).toLocaleString()}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:W.status})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-center space-x-2",children:n.jsx("button",{onClick:()=>me(W),className:"p-2 bg-yellow-100 hover:bg-amber-200 text-yellow-600 rounded-lg transition-all",title:"Download",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})})})]},W.id))})]})})]})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 rounded-t-2xl flex-shrink-0",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-white",children:[" Configure Export: ",x]}),n.jsx("p",{className:"text-red-100 mt-1",children:"Select format and apply filters"})]}),n.jsx("button",{onClick:()=>m(!1),className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Export Format *"}),n.jsx("div",{className:"grid grid-cols-4 gap-3",children:["csv","excel","json","pdf"].map(W=>n.jsx("button",{type:"button",onClick:()=>v(W),className:`p-4 rounded-lg border-2 transition-all ${w===W?"border-yellow-600 bg-red-50 shadow-md":"border-gray-300 hover:border-yellow-300"}`,children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("svg",{className:`w-8 h-8 ${w===W?"text-red-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("span",{className:`text-sm font-semibold uppercase ${w===W?"text-red-600":"text-gray-600"}`,children:W})]})},W))})]}),x==="All Users"&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"User Filters"]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),n.jsxs("select",{value:y.userRole,onChange:W=>S({...y,userRole:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Roles"}),n.jsx("option",{value:"student",children:"Students"}),n.jsx("option",{value:"secretary",children:"Secretaries"}),n.jsx("option",{value:"department_head",children:"Department Heads"}),n.jsx("option",{value:"admin",children:"Admins"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program"}),n.jsxs("select",{value:y.userProgram,onChange:W=>S({...y,userProgram:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Programs"}),xe.map(W=>n.jsxs("option",{value:W.code,children:[W.code," - ",W.name]},W.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:y.userStatus,onChange:W=>S({...y,userStatus:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})]}),x==="All Evaluations"&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Evaluation Filters"]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),n.jsxs("select",{value:y.evalDateRange,onChange:W=>S({...y,evalDateRange:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"current_semester",children:"Current Semester"}),n.jsx("option",{value:"last_semester",children:"Last Semester"}),n.jsx("option",{value:"current_year",children:"Current Year"}),n.jsx("option",{value:"last_30_days",children:"Last 30 Days"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program"}),n.jsxs("select",{value:y.evalProgram,onChange:W=>S({...y,evalProgram:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Programs"}),xe.map(W=>n.jsxs("option",{value:W.code,children:[W.code," - ",W.name]},W.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evaluation Period"}),n.jsxs("select",{value:y.evalPeriod,onChange:W=>S({...y,evalPeriod:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Periods"}),ee.map(W=>n.jsxs("option",{value:W.id,children:[W.name," (",W.academic_year,", ",W.semester===1?"First":W.semester===2?"Second":"Summer"," Semester) - ",W.status]},W.id))]})]})]})]}),x==="All Courses"&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Course Filters"]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program"}),n.jsxs("select",{value:y.courseProgram,onChange:W=>S({...y,courseProgram:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Programs"}),xe.map(W=>n.jsxs("option",{value:W.code,children:[W.code," - ",W.name]},W.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:y.courseStatus,onChange:W=>S({...y,courseStatus:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Archived",children:"Archived"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Level"}),n.jsxs("select",{value:y.courseYearLevel,onChange:W=>S({...y,courseYearLevel:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Years"}),n.jsx("option",{value:"1",children:"1st Year"}),n.jsx("option",{value:"2",children:"2nd Year"}),n.jsx("option",{value:"3",children:"3rd Year"}),n.jsx("option",{value:"4",children:"4th Year"})]})]})]})]}),x==="Audit Logs"&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Audit Log Filters"]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),n.jsxs("select",{value:y.auditDateRange,onChange:W=>S({...y,auditDateRange:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),n.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),n.jsx("option",{value:"current_month",children:"Current Month"}),n.jsx("option",{value:"last_month",children:"Last Month"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Type"}),n.jsxs("select",{value:y.auditAction,onChange:W=>S({...y,auditAction:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Actions"}),n.jsxs("optgroup",{label:"Authentication",children:[n.jsx("option",{value:"LOGIN",children:"Login"}),n.jsx("option",{value:"LOGOUT",children:"Logout"}),n.jsx("option",{value:"LOGIN_FAILED",children:"Login Failed"}),n.jsx("option",{value:"PASSWORD_RESET",children:"Password Reset"}),n.jsx("option",{value:"PASSWORD_CHANGED",children:"Password Changed"})]}),n.jsxs("optgroup",{label:"User Management",children:[n.jsx("option",{value:"CREATE_USER",children:"Create User"}),n.jsx("option",{value:"UPDATE_USER",children:"Update User"}),n.jsx("option",{value:"DELETE_USER",children:"Delete User"}),n.jsx("option",{value:"USER_ACTIVATED",children:"User Activated"}),n.jsx("option",{value:"USER_DEACTIVATED",children:"User Deactivated"})]}),n.jsxs("optgroup",{label:"Course Management",children:[n.jsx("option",{value:"CREATE_COURSE",children:"Create Course"}),n.jsx("option",{value:"UPDATE_COURSE",children:"Update Course"}),n.jsx("option",{value:"DELETE_COURSE",children:"Delete Course"})]}),n.jsxs("optgroup",{label:"Section Management",children:[n.jsx("option",{value:"CREATE_SECTION",children:"Create Section"}),n.jsx("option",{value:"UPDATE_SECTION",children:"Update Section"}),n.jsx("option",{value:"DELETE_SECTION",children:"Delete Section"}),n.jsx("option",{value:"ENROLL_STUDENTS",children:"Enroll Students"})]}),n.jsxs("optgroup",{label:"Evaluation",children:[n.jsx("option",{value:"SUBMIT_EVALUATION",children:"Submit Evaluation"}),n.jsx("option",{value:"CREATE_PERIOD",children:"Create Period"}),n.jsx("option",{value:"UPDATE_PERIOD",children:"Update Period"})]}),n.jsxs("optgroup",{label:"System",children:[n.jsx("option",{value:"EXPORT_DATA",children:"Export Data"}),n.jsx("option",{value:"IMPORT_DATA",children:"Import Data"}),n.jsx("option",{value:"SETTINGS_UPDATED",children:"Settings Updated"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity"}),n.jsxs("select",{value:y.auditSeverity,onChange:W=>S({...y,auditSeverity:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Severities"}),n.jsx("option",{value:"Info",children:"Info"}),n.jsx("option",{value:"Warning",children:"Warning"}),n.jsx("option",{value:"Critical",children:"Critical"})]})]})]})]}),n.jsx("div",{className:"bg-red-50 border-2 border-yellow-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-red-900",children:"Export Information"}),n.jsxs("p",{className:"text-sm text-red-800 mt-1",children:["Format: ",n.jsx("span",{className:"font-semibold uppercase",children:w})," | Type: ",n.jsx("span",{className:"font-semibold",children:x}),x==="All Users"&&y.userRole!=="all"&&` | Role: ${y.userRole}`,x==="All Courses"&&y.courseStatus!=="all"&&` | Status: ${y.courseStatus}`]})]})]})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>m(!1),disabled:H,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),n.jsx("button",{type:"button",onClick:q,disabled:H,className:"px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all flex items-center gap-2",children:H?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Exporting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),n.jsx("span",{children:"Export Data"})]})})]})]})]})}),n.jsx(Ql,{isOpen:A,onClose:()=>N(!1),title:k.title,message:k.message,variant:k.type==="error"?"danger":k.type})]})}function xee(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState("send"),[s,i]=O.useState("test"),[o,l]=O.useState(""),[u,f]=O.useState(""),[h,m]=O.useState(""),[x,p]=O.useState(!1),[w,v]=O.useState(null),[y,S]=O.useState(null),[A,N]=O.useState(!1),[k,C]=O.useState({title:"",message:"",type:"info"}),[T,I]=O.useState(!1),[F,z]=O.useState({title:"",message:"",onConfirm:()=>{},confirmText:"Confirm",cancelText:"Cancel"}),{data:J,loading:R,error:$,retry:H}=Qc(async()=>{const[ee,G]=await Promise.all([nt.getEvaluationPeriods(),nt.getEmailConfigStatus()]);return{periods:ee?.data||[],config:G?.data||null}},[t?.id]);O.useEffect(()=>{if(J){S(J.config);const ee=J.periods.find(G=>G.status==="active");ee&&l(ee.id.toString())}},[J]);const B=(ee,G="Notification",oe="info")=>{C({title:G,message:ee,type:oe}),N(!0)},ce=(ee,G,oe="Confirm Action",q="Confirm",U="Cancel")=>{z({title:oe,message:ee,onConfirm:G,confirmText:q,cancelText:U}),I(!0)};O.useEffect(()=>{t&&!Da(t)&&e("/admin/dashboard")},[t,e]);const se=async ee=>{if(ee.preventDefault(),s==="test"){if(!u){B("Please enter a test email address","Validation Error","warning");return}}else if(!o){B("Please select an evaluation period","Validation Error","warning");return}ce(`Send ${s} notification(s)?`,async()=>{try{p(!0);const G=h.trim()?h.split(",").map(q=>q.trim()).filter(Boolean):null,oe=await nt.sendEmailNotification({notification_type:s,period_id:o?parseInt(o):null,recipient_emails:G,test_email:u||null});v(oe),B(oe.message||"Notification sent successfully","Success","success"),s==="test"&&f("")}catch(G){B(G.message,"Failed to Send Notification","error"),v({success:!1,error:G.message})}finally{p(!1)}},"Send Notification","Send","Cancel")};if(!t||!Da(t))return null;if(R)return n.jsx(So,{message:"Loading email settings..."});if($)return n.jsx(Zc,{error:$,onRetry:H});const xe=J?.periods||[],te=y?.enabled;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl",children:" Email Notifications"}),n.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Send automated notifications to students"})]})]})})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[n.jsx("div",{className:"mb-12 p-8 lg:p-10 rounded-card shadow-card bg-yellow-50 border-2 border-yellow-200",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-yellow-900",children:te?" Email Service Configured":" Email Service Not Configured"}),te?n.jsxs("div",{className:"mt-2 text-sm text-yellow-800",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"SMTP Server:"})," ",y.smtp_server,":",y.smtp_port]}),n.jsxs("p",{children:[n.jsx("strong",{children:"From:"})," ",y.from_name," <",y.from_email,">"]})]}):n.jsxs("div",{className:"mt-2 text-sm text-yellow-800",children:[n.jsx("p",{children:"Email notifications are disabled. Configure SMTP settings in the .env file:"}),n.jsx("pre",{className:"mt-2 p-3 bg-yellow-100 rounded text-xs overflow-x-auto",children:`EMAIL_ENABLED=true
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=your-email@gmail.com`})]})]})})}),n.jsxs("div",{className:"bg-white rounded-card shadow-card hover:shadow-card-hover transition-all duration-250 mb-12 p-2 flex space-x-2",children:[n.jsx("button",{onClick:()=>a("send"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="send"?"bg-yellow-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Send Notifications"}),n.jsx("button",{onClick:()=>a("history"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="history"?"bg-yellow-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Notification History"})]}),r==="send"&&n.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send Email Notifications"}),n.jsxs("form",{onSubmit:se,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notification Type *"}),n.jsxs("select",{value:s,onChange:ee=>i(ee.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"test",children:" Test Email"}),n.jsx("option",{value:"period_start",children:" Evaluation Period Started"})]})]}),s==="test"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Test Email Address *"}),n.jsx("input",{type:"email",value:u,onChange:ee=>f(ee.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"your-email@example.com",required:s==="test"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"A test email will be sent to verify your email configuration."})]}),s!=="test"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Evaluation Period *"}),n.jsxs("select",{value:o,onChange:ee=>l(ee.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:s!=="test",children:[n.jsx("option",{value:"",children:"Select Period..."}),xe.map(ee=>n.jsxs("option",{value:ee.id,children:[ee.name," (",ee.status,")"]},ee.id))]})]}),s!=="test"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Custom Recipients (Optional)"}),n.jsx("textarea",{value:h,onChange:ee=>m(ee.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:"3",placeholder:"student1@example.com, student2@example.com"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Leave empty to send to all active students. Enter comma-separated emails for specific recipients."})]}),n.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:" Notification Preview:"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[s==="test"&&n.jsxs("p",{children:[" Test email will be sent to: ",n.jsx("strong",{children:u||"Not specified"})]}),s==="period_start"&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[" Subject: ",n.jsx("strong",{children:" Evaluation Period Started"})]}),n.jsx("p",{children:" Content: Period details, course count, evaluation instructions"}),n.jsx("p",{children:" Call-to-action: Link to student dashboard"})]}),s!=="test"&&n.jsxs("p",{className:"mt-2",children:[" Recipients: ",h.trim()?"Custom list":"All active students"]})]})]}),w&&n.jsxs("div",{className:`p-4 rounded-lg ${w.success?"bg-yellow-50 border-2 border-yellow-200":"bg-red-50 border-2 border-red-200"}`,children:[n.jsx("h3",{className:`font-bold ${w.success?"text-yellow-900":"text-red-900"}`,children:w.success?" Success":" Failed"}),n.jsx("p",{className:`text-sm mt-1 ${w.success?"text-yellow-800":"text-red-800"}`,children:w.message}),w.sent_count!==void 0&&n.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[n.jsxs("p",{children:[" Sent: ",w.sent_count]}),w.failed_count>0&&n.jsxs("p",{children:[" Failed: ",w.failed_count]}),n.jsxs("p",{children:[" Total Recipients: ",w.total_recipients]})]})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"button",onClick:()=>e("/admin/dashboard"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-button hover:bg-gray-50 font-semibold transition-all duration-250",disabled:x,children:"Cancel"}),n.jsx("button",{type:"submit",disabled:x||!te,className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-amber-700 text-white rounded-button font-semibold transition-all duration-250 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:x?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Sending..."})]}):n.jsx("span",{children:" Send Notification"})})]})]})]}),r==="history"&&n.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notification History"}),n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("p",{className:"text-lg font-semibold",children:"Notification history coming soon"}),n.jsx("p",{className:"text-sm mt-2",children:"Check audit logs for email notification records"})]})]})]}),n.jsx(Ql,{isOpen:A,onClose:()=>N(!1),title:k.title,message:k.message,variant:k.type==="error"?"danger":k.type}),n.jsx(E0,{isOpen:T,onClose:()=>I(!1),onConfirm:()=>{F.onConfirm(),I(!1)},title:F.title,message:F.message,confirmText:F.confirmText,cancelText:F.cancelText,variant:"info"})]})}function vee(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState("overview"),[s,i]=O.useState(null),[o,l]=O.useState(null),[u,f]=O.useState(null),[h,m]=O.useState(null),[x,p]=O.useState([]),[w,v]=O.useState(null),[y,S]=O.useState(""),[A,N]=O.useState(""),[k,C]=O.useState(!0),[T,I]=O.useState(""),[F,z]=O.useState(""),[J,R]=O.useState(!1),[$,H]=O.useState(!0),[B,ce]=O.useState(""),[se,xe]=O.useState(!0),[te,ee]=O.useState([]),[G,oe]=O.useState(!1),[q,U]=O.useState(null),[V,ie]=O.useState(!1),[me,W]=O.useState(null);O.useEffect(()=>{(!t||!sn(t))&&e("/dashboard")},[t,e]),O.useEffect(()=>{de(),re(),r==="rollback"&&Q()},[r]);const de=async()=>{try{ie(!0);const Z=await nt.getAdvancementEligibility();i(Z.data)}catch(Z){console.error("Error fetching eligibility:",Z),W(Z.message)}finally{ie(!1)}},re=async()=>{try{const Z=await nt.getEvaluationPeriods();ee(Z.data||[])}catch(Z){console.error("Error fetching periods:",Z)}},Q=async()=>{try{ie(!0);const Z=await nt.getAdvancementSnapshots(20);p(Z.data?.snapshots||[])}catch(Z){console.error("Error fetching snapshots:",Z),W(Z.message)}finally{ie(!1)}},Ne=async(Z=!1)=>{if(!k&&!Z){U("advance"),oe(!0);return}try{ie(!0),W(null),f(null);const Xe={dry_run:k};y&&(Xe.program_id=parseInt(y)),A&&(Xe.current_year_level=parseInt(A));const Je=await nt.advanceStudents(Xe);f(Je.data),k||await de()}catch(Xe){console.error("Error advancing students:",Xe),W(Xe.message)}finally{ie(!1),oe(!1)}},he=async(Z=!1)=>{if(!$&&!Z){U("transition"),oe(!0);return}try{ie(!0),W(null),m(null);const Xe={from_period_id:parseInt(T),to_period_id:parseInt(F),auto_advance_year:J,dry_run:$},Je=await nt.transitionEnrollments(Xe);m(Je.data),!$&&J&&await de()}catch(Xe){console.error("Error transitioning enrollments:",Xe),W(Xe.message)}finally{ie(!1),oe(!1)}},we=async(Z=!1)=>{if(!se&&!Z){U("rollback"),oe(!0);return}try{ie(!0),W(null),v(null);const Xe={snapshot_id:B?parseInt(B):null,dry_run:se},Je=await nt.rollbackAdvancement(Xe);v(Je.data),se||(await de(),await Q())}catch(Xe){console.error("Error rolling back advancement:",Xe),W(Xe.message)}finally{ie(!1),oe(!1)}},be=()=>{q==="advance"?(C(!1),Ne(!0)):q==="transition"?(H(!1),he(!0)):q==="rollback"&&(xe(!1),we(!0))};return V&&!s?n.jsx(So,{message:"Loading student management..."}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsx("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:n.jsxs("div",{className:"flex items-center space-x-5",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Student Year Level Management"}),n.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:"Advancement & Enrollment Transitions"})]})]})})})}),n.jsxs("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[n.jsxs("div",{className:"mb-8 flex space-x-2 bg-white rounded-xl p-2 shadow-sm",children:[n.jsx("button",{onClick:()=>a("overview"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="overview"?"bg-[#7a0000] text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:" Overview"}),n.jsx("button",{onClick:()=>a("advance"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="advance"?"bg-[#7a0000] text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:" Year Advancement"}),n.jsx("button",{onClick:()=>a("transition"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="transition"?"bg-[#7a0000] text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:" Enrollment Transition"}),n.jsx("button",{onClick:()=>a("rollback"),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all ${r==="rollback"?"bg-[#7a0000] text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:" Rollback/Undo"})]}),me&&n.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start space-x-3",children:[n.jsx("svg",{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-red-800 font-semibold",children:"Error"}),n.jsx("p",{className:"text-red-600 text-sm mt-1",children:me})]}),n.jsx("button",{onClick:()=>W(null),className:"ml-auto text-red-400 hover:text-red-600",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),r==="overview"&&s&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-xl shadow-lg p-8 text-white",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Advancement Eligibility Summary"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white/20 rounded-lg p-6",children:[n.jsx("p",{className:"text-white/80 text-sm font-medium mb-2",children:"Total Eligible Students"}),n.jsx("p",{className:"text-5xl font-bold",children:s.total_eligible})]}),n.jsxs("div",{className:"bg-white/20 rounded-lg p-6",children:[n.jsx("p",{className:"text-white/80 text-sm font-medium mb-2",children:"Year 1  Year 2"}),n.jsx("p",{className:"text-5xl font-bold",children:s.by_year_level?.["1"]||0})]}),n.jsxs("div",{className:"bg-white/20 rounded-lg p-6",children:[n.jsx("p",{className:"text-white/80 text-sm font-medium mb-2",children:"Year 2  Year 3"}),n.jsx("p",{className:"text-5xl font-bold",children:s.by_year_level?.["2"]||0})]})]}),n.jsxs("div",{className:"mt-4 bg-white/20 rounded-lg p-6 inline-block",children:[n.jsx("p",{className:"text-white/80 text-sm font-medium mb-2",children:"Year 3  Year 4"}),n.jsx("p",{className:"text-5xl font-bold",children:s.by_year_level?.["3"]||0})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:" By Program"}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(s.by_program||{}).map(([Z,Xe])=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"font-bold text-[#7a0000] text-lg mb-3",children:Z}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:Xe.program_name}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Year 1:"}),n.jsx("span",{className:"font-semibold",children:Xe.year_1||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Year 2:"}),n.jsx("span",{className:"font-semibold",children:Xe.year_2||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Year 3:"}),n.jsx("span",{className:"font-semibold",children:Xe.year_3||0})]}),n.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[n.jsx("span",{className:"text-gray-800 font-medium",children:"Total Eligible:"}),n.jsx("span",{className:"font-bold text-[#7a0000]",children:Xe.total})]})]})]},Z))})]})]}),r==="advance"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Advance Students to Next Year Level"}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:n.jsxs("p",{className:"text-blue-800 text-sm",children:[n.jsx("strong",{children:" How it works:"})," This will advance students from Year 12, Year 23, or Year 34. Year 4 students are not advanced (they graduate). Use dry run mode first to preview changes!"]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Program (Optional)"}),n.jsxs("select",{value:y,onChange:Z=>S(Z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Programs"}),Object.entries(s?.by_program||{}).map(([Z,Xe])=>n.jsxs("option",{value:Xe.program_id,children:[Z," - ",Xe.program_name]},Z))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Current Year Level (Optional)"}),n.jsxs("select",{value:A,onChange:Z=>N(Z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Year Levels"}),n.jsx("option",{value:"1",children:"Year 1 only"}),n.jsx("option",{value:"2",children:"Year 2 only"}),n.jsx("option",{value:"3",children:"Year 3 only"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("input",{type:"checkbox",id:"dryRun",checked:k,onChange:Z=>C(Z.target.checked),className:"w-5 h-5 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"}),n.jsx("label",{htmlFor:"dryRun",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:" Dry Run Mode (Preview Only - Recommended)"})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:()=>Ne(),disabled:V,className:"flex-1 bg-[#7a0000] text-white py-4 px-6 rounded-lg font-semibold hover:bg-[#9a1000] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:V?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Processing..."})]}):n.jsx(n.Fragment,{children:n.jsx("span",{children:k?" Preview Advancement":" Execute Advancement"})})}),n.jsx("button",{onClick:()=>{S(""),N(""),C(!0),f(null),W(null)},className:"px-6 py-4 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:" Reset"})]})]}),u&&n.jsxs("div",{className:`mt-8 rounded-lg p-6 ${u.dry_run?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:[n.jsx("h3",{className:`text-lg font-bold mb-4 ${u.dry_run?"text-blue-800":"text-green-800"}`,children:u.dry_run?" Preview Results":" Advancement Complete!"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-white rounded-lg p-4",children:n.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[u.students_advanced," students ",u.dry_run?"would be":"were"," advanced"]})}),u.advancement_plan&&Object.entries(u.advancement_plan).map(([Z,Xe])=>n.jsxs("div",{className:"bg-white rounded-lg p-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-800 mb-2",children:["Year ",Xe.from_year,"  Year ",Xe.to_year,": ",Xe.students.length," students"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[Xe.students.slice(0,5).map((Je,Qe)=>n.jsxs("div",{className:"py-1",children:[" ",Je.student_number," - ",Je.name," (",Je.program,")"]},Qe)),Xe.students.length>5&&n.jsxs("div",{className:"py-1 text-gray-500",children:["... and ",Xe.students.length-5," more"]})]})]},Z)),u.dry_run?n.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:n.jsx("p",{className:"text-yellow-800 text-sm font-semibold",children:' This was a preview. Uncheck "Dry Run Mode" and click "Execute Advancement" to apply changes.'})}):u.snapshot_id&&n.jsxs("div",{className:"bg-green-50 border border-green-300 rounded-lg p-4",children:[n.jsxs("p",{className:"text-green-800 text-sm font-semibold mb-2",children:[" Snapshot Created: #",u.snapshot_id]}),n.jsxs("p",{className:"text-green-700 text-xs",children:['If you need to undo this advancement, go to the "Rollback/Undo" tab and select snapshot #',u.snapshot_id,"."]})]})]})]})]})}),r==="transition"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Transition Enrollments to New Period"}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:n.jsxs("p",{className:"text-blue-800 text-sm",children:[n.jsx("strong",{children:" How it works:"}),' This copies student enrollments from one evaluation period to another. Check "Advance Year Level" if transitioning from 3rd semester to 1st semester (new academic year).']})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["From Period ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:T,onChange:Z=>I(Z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select source period..."}),te.map(Z=>n.jsxs("option",{value:Z.id,children:[Z.name," (",Z.status,")"]},Z.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["To Period ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:F,onChange:Z=>z(Z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select target period..."}),te.map(Z=>n.jsxs("option",{value:Z.id,children:[Z.name," (",Z.status,")"]},Z.id))]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[n.jsx("input",{type:"checkbox",id:"autoAdvance",checked:J,onChange:Z=>R(Z.target.checked),className:"w-5 h-5 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"}),n.jsx("label",{htmlFor:"autoAdvance",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:" Advance Year Level (Check if new academic year - 3rd sem  1st sem)"})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("input",{type:"checkbox",id:"transitionDryRun",checked:$,onChange:Z=>H(Z.target.checked),className:"w-5 h-5 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"}),n.jsx("label",{htmlFor:"transitionDryRun",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:" Dry Run Mode (Preview Only - Recommended)"})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:()=>he(),disabled:V||!T||!F,className:"flex-1 bg-[#7a0000] text-white py-4 px-6 rounded-lg font-semibold hover:bg-[#9a1000] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:V?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Processing..."})]}):n.jsx(n.Fragment,{children:n.jsx("span",{children:$?" Preview Transition":" Execute Transition"})})}),n.jsx("button",{onClick:()=>{I(""),z(""),R(!1),H(!0),m(null),W(null)},className:"px-6 py-4 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:" Reset"})]})]}),h&&n.jsxs("div",{className:`mt-8 rounded-lg p-6 ${h.dry_run?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:[n.jsx("h3",{className:`text-lg font-bold mb-4 ${h.dry_run?"text-blue-800":"text-green-800"}`,children:h.dry_run?" Preview Results":" Transition Complete!"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"From Period:"}),n.jsx("span",{className:"font-semibold",children:h.from_period})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"To Period:"}),n.jsx("span",{className:"font-semibold",children:h.to_period})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"New Academic Year:"}),n.jsx("span",{className:"font-semibold",children:h.is_new_academic_year?"Yes":"No"})]}),n.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[n.jsx("span",{className:"text-gray-800 font-medium",children:"Students Affected:"}),n.jsx("span",{className:"font-bold text-[#7a0000]",children:h.students_affected})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-800 font-medium",children:"Enrollments Created:"}),n.jsx("span",{className:"font-bold text-[#7a0000]",children:h.enrollments_created})]}),h.students_advanced>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-800 font-medium",children:"Students Advanced:"}),n.jsx("span",{className:"font-bold text-green-600",children:h.students_advanced})]})]}),h.dry_run&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:n.jsx("p",{className:"text-yellow-800 text-sm font-semibold",children:' This was a preview. Uncheck "Dry Run Mode" and click "Execute Transition" to apply changes.'})})]})]})]})}),r==="rollback"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Rollback Student Year Level Advancement"}),n.jsx("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-800 font-bold mb-1",children:" EMERGENCY ROLLBACK FEATURE"}),n.jsx("p",{className:"text-red-700 text-sm",children:"Use this ONLY if students were advanced by mistake! This will restore year levels to a previous snapshot. A snapshot is automatically created every time you advance students."})]})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Available Snapshots (Backups)"}),x.length===0?n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:n.jsx("p",{className:"text-gray-600",children:"No snapshots available. Snapshots are created automatically when you advance students."})}):n.jsx("div",{className:"space-y-3",children:x.map(Z=>n.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${B===String(Z.snapshot_id)?"border-[#7a0000] bg-red-50":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>ce(String(Z.snapshot_id)),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",name:"snapshot",checked:B===String(Z.snapshot_id),onChange:()=>ce(String(Z.snapshot_id)),className:"w-4 h-4 text-[#7a0000]"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-800",children:["Snapshot #",Z.snapshot_id]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(Z.timestamp).toLocaleString(),"  ",Z.student_count," students"]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Z.description})]})]})}),B===String(Z.snapshot_id)&&n.jsx("div",{className:"bg-[#7a0000] text-white text-xs font-bold px-3 py-1 rounded-full",children:"Selected"})]})},Z.snapshot_id))})]}),n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${B===""?"border-[#7a0000] bg-red-50":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>ce(""),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",name:"snapshot",checked:B==="",onChange:()=>ce(""),className:"w-4 h-4 text-[#7a0000]"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:" Latest Snapshot (Auto-select most recent)"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Automatically uses the most recent backup"})]})]})})}),n.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg mb-6",children:[n.jsx("input",{type:"checkbox",id:"rollbackDryRun",checked:se,onChange:Z=>xe(Z.target.checked),className:"w-5 h-5 text-[#7a0000] rounded focus:ring-2 focus:ring-[#7a0000]"}),n.jsx("label",{htmlFor:"rollbackDryRun",className:"text-sm font-semibold text-gray-800 cursor-pointer",children:" Dry Run Mode (Preview Only - HIGHLY Recommended)"})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:()=>we(),disabled:V||x.length===0,className:"flex-1 bg-orange-600 text-white py-4 px-6 rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:V?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Processing..."})]}):n.jsx(n.Fragment,{children:n.jsx("span",{children:se?" Preview Rollback":" Execute Rollback"})})}),n.jsx("button",{onClick:()=>Q(),disabled:V,className:"px-6 py-4 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:" Refresh Snapshots"})]}),w&&n.jsxs("div",{className:`mt-8 rounded-lg p-6 ${w.dry_run?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:[n.jsx("h3",{className:`text-lg font-bold mb-4 ${w.dry_run?"text-blue-800":"text-green-800"}`,children:w.dry_run?" Preview Results":" Rollback Complete!"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Snapshot Used:"}),n.jsxs("span",{className:"font-semibold",children:["#",w.snapshot_id]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Snapshot Date:"}),n.jsx("span",{className:"font-semibold",children:new Date(w.snapshot_timestamp).toLocaleString()})]}),n.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[n.jsx("span",{className:"text-gray-800 font-medium",children:"Students Rolled Back:"}),n.jsx("span",{className:"font-bold text-[#7a0000]",children:w.students_rolled_back})]})]}),w.rollback_plan&&Object.keys(w.rollback_plan).length>0&&n.jsxs("div",{className:"bg-white rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Rollback Details:"}),Object.entries(w.rollback_plan).map(([Z,Xe])=>n.jsxs("div",{className:"mb-2",children:[n.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Year ",Z,": ",Xe.length," students"]}),n.jsxs("div",{className:"text-xs text-gray-600 ml-4",children:[Xe.slice(0,3).map((Je,Qe)=>n.jsxs("div",{children:[" ",Je]},Qe)),Xe.length>3&&n.jsxs("div",{className:"text-gray-500",children:["... and ",Xe.length-3," more"]})]})]},Z))]}),w.students_rolled_back===0&&n.jsx("div",{className:"bg-blue-50 border border-blue-300 rounded-lg p-4",children:n.jsx("p",{className:"text-blue-800 text-sm font-semibold",children:" No changes needed. Student year levels already match the snapshot."})}),w.dry_run&&w.students_rolled_back>0&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:n.jsx("p",{className:"text-yellow-800 text-sm font-semibold",children:' This was a preview. Uncheck "Dry Run Mode" and click "Execute Rollback" to restore year levels.'})})]})]})]})})]}),G&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Confirm Action"}),n.jsx("p",{className:"text-gray-600",children:q==="advance"?"You are about to PERMANENTLY advance students to the next year level. A snapshot will be created automatically for rollback if needed.":q==="transition"?"You are about to PERMANENTLY create enrollments for the new period. This action will affect all students.":"You are about to RESTORE student year levels to a previous state. This will UNDO recent advancements."})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>oe(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:be,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Confirm Execute"})]})]})})]})}const yee=()=>{const[e,t]=O.useState([]),[r,a]=O.useState(!0),[s,i]=O.useState(null),[o,l]=O.useState(""),[u,f]=O.useState({program_id:"",year_level:"",status:"active"}),[h,m]=O.useState(null),[x,p]=O.useState(!1),[w,v]=O.useState(null),[y,S]=O.useState([]),[A,N]=O.useState([]),[k,C]=O.useState(!1),[T,I]=O.useState(null),[F,z]=O.useState([]),[J,R]=O.useState([]),[$,H]=O.useState(!1),[B,ce]=O.useState({title:"",message:"",type:"info"}),se=(W,de="Notification",re="info")=>{ce({title:de,message:W,type:re}),H(!0)};O.useEffect(()=>{xe(),te(),ee()},[]),O.useEffect(()=>{te()},[u]);const xe=async()=>{try{const W=await nt.getPrograms();S(W.data||W)}catch(W){console.error("Error fetching programs:",W)}},te=async()=>{try{a(!0),i(null);const W=new URLSearchParams;o&&W.append("query",o),u.program_id&&W.append("program_id",u.program_id),u.year_level&&W.append("year_level",u.year_level),u.status&&W.append("status",u.status),W.append("_t",Date.now());const de=await tt.get(`/admin/enrollment-list/search?${W.toString()}`),re=de?.data||de,Q=Array.isArray(re)?re:[];console.log("[EnrollmentList] Fetched enrollments:",Q.length),t(Q)}catch(W){i("Failed to fetch enrollment list. Please try again."),console.error("Error fetching enrollment list:",W),t([])}finally{a(!1)}},ee=async()=>{try{const W=await tt.get(`/admin/enrollment-list/stats?_t=${Date.now()}`);if(console.log("[EnrollmentList] Fetched stats:",W),m(W),W?.by_college){const de=Object.keys(W.by_college).map(re=>({code:re,name:re}));N(de)}}catch(W){console.error("Error fetching stats:",W),m({total_students:0,by_status:{},by_program:{},by_year:{}})}},G=()=>{te()},oe=(W,de)=>{f(re=>({...re,[W]:de}))},q=()=>{te()},U=()=>{f({program_id:"",year_level:"",status:"active"}),l(""),setTimeout(()=>te(),100)},V=W=>{const de=W.target.files[0];if(!de)return;I(de),R([]),z([]);const re=new FileReader;re.onload=Q=>{try{const he=Q.target.result.split(`
`).filter(Qe=>Qe.trim());if(he.length<2){R(["CSV file is empty or has no data rows"]);return}const we=he[0].split(",").map(Qe=>Qe.trim().toLowerCase()),Z=["student_number","first_name","last_name","email","program_code","year_level"].filter(Qe=>!we.includes(Qe));if(Z.length>0){R([`Missing required columns: ${Z.join(", ")}`]);return}const Xe=[],Je=[];for(let Qe=1;Qe<Math.min(he.length,11);Qe++){const Te=he[Qe].split(",").map(wt=>wt.trim()),ye={};we.forEach((wt,Ee)=>{ye[wt]=Te[Ee]||""});const qe=[];ye.student_number||qe.push("Missing student number"),ye.first_name||qe.push("Missing first name"),ye.last_name||qe.push("Missing last name"),(!ye.email||!ye.email.includes("@"))&&qe.push("Invalid email"),ye.program_code||qe.push("Missing program code"),(!ye.year_level||![1,2,3,4,"1","2","3","4"].includes(ye.year_level))&&qe.push("Invalid year level (must be 1-4)"),qe.length>0&&Je.push({row:Qe,errors:qe,data:ye}),Xe.push({...ye,rowNumber:Qe,hasErrors:qe.length>0})}z(Xe),R(Je),C(!0)}catch(Ne){R([`Failed to parse CSV: ${Ne.message}`])}},re.readAsText(de)},ie=async()=>{if(T){p(!0),v(null),i(null),C(!1);try{const W=await nt.uploadEnrollmentList(T);v(W);const de=W?.success_count||W?.created||0,re=W?.updated_count||W?.updated||0,Q=de+re;se(`Successfully processed ${Q} student(s)
 Created: ${de}
 Updated: ${re}`,"Upload Successful","success"),te(),ee(),I(null),z([]),R([])}catch(W){se(W.response?.data?.detail||W.message||"Failed to upload file. Please check the format and try again.","Upload Failed","error")}finally{p(!1)}}},me=()=>{const W=y.slice(0,3).map(he=>he.code||he.program_code).filter(Boolean),de=W.length>0?W:["PROGRAM1","PROGRAM2","PROGRAM3"],re=`student_number,first_name,last_name,middle_name,email,program_code,year_level,college_code,college_name
2024-00001,Juan,Dela Cruz,Santos,jdelacruz@lpulaguna.edu.ph,${de[0]},1,COLLEGE1,College Name 1
2024-00002,Maria,Santos,Lopez,msantos@lpulaguna.edu.ph,${de[1]||de[0]},2,COLLEGE2,College Name 2
2024-00003,Pedro,Garcia,Martinez,pgarcia@lpulaguna.edu.ph,${de[2]||de[0]},3,COLLEGE1,College Name 1`,Q=new Blob([re],{type:"text/csv;charset=utf-8;"}),Ne=document.createElement("a");Ne.href=URL.createObjectURL(Q),Ne.download="sample_enrollment_list.csv",Ne.click()};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl",children:" Enrollment List Management"}),n.jsx("p",{className:"lpu-header-subtitle text-lg",children:"Manage official enrollment records and student assignments"})]})]}),n.jsxs("button",{onClick:()=>{te(),ee()},className:"px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white rounded-card hover:from-[#9a1000] hover:to-[#7a0000] shadow-md hover:shadow-lg transition-all font-medium flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[s&&n.jsxs("div",{className:"mb-6 lg:mb-8 bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-card flex items-center gap-3 shadow-sm",children:[n.jsx(Jl,{className:"w-6 h-6 flex-shrink-0"}),n.jsx("span",{className:"font-medium",children:s}),n.jsx("button",{onClick:()=>i(null),className:"ml-auto hover:bg-red-100 rounded-full p-1 transition-colors",children:n.jsx(Rd,{className:"w-5 h-5"})})]}),w&&n.jsxs("div",{className:"mb-6 lg:mb-8 bg-green-50 border-2 border-green-200 text-green-700 px-6 py-4 rounded-card shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx($d,{className:"w-6 h-6"}),n.jsx("span",{className:"font-bold text-lg",children:"Upload Successful!"}),n.jsx("button",{onClick:()=>v(null),className:"ml-auto hover:bg-green-100 rounded-full p-1 transition-colors",children:n.jsx(Rd,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[" Successfully imported/updated: ",w.successful]}),w.skipped>0&&n.jsxs("p",{children:[" Skipped: ",w.skipped]}),w.errors&&w.errors.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"font-semibold",children:"Errors:"}),n.jsxs("ul",{className:"list-disc list-inside",children:[w.errors.slice(0,5).map((W,de)=>n.jsx("li",{children:W},de)),w.errors.length>5&&n.jsxs("li",{children:["... and ",w.errors.length-5," more errors"]})]})]})]})]}),h&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8 lg:mb-12",children:[n.jsx("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-[#7a0000] mt-2",children:h.total_students||0})]}),n.jsx(zp,{className:"w-10 h-10 text-[#7a0000]"})]})}),n.jsx("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Students"}),n.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-[#7a0000] mt-2",children:h.by_status?.active||0})]}),n.jsx($d,{className:"w-10 h-10 text-[#7a0000]"})]})}),n.jsx("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Programs"}),n.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-[#7a0000] mt-2",children:Object.keys(h.by_program||{}).length})]}),n.jsx(PX,{className:"w-10 h-10 text-[#7a0000]"})]})}),n.jsx("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Year Levels"}),n.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-[#7a0000] mt-2",children:Object.keys(h.by_year||{}).length})]}),n.jsx($A,{className:"w-10 h-10 text-[#7a0000]"})]})})]}),n.jsxs("div",{className:"bg-white rounded-card shadow-card mb-8 lg:mb-12",children:[n.jsx("div",{className:"p-6 lg:p-8 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl lg:text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(U2,{className:"w-6 h-6"}),"Bulk Upload"]})}),n.jsxs("div",{className:"p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex-1",children:[n.jsx("input",{type:"file",accept:".csv",onChange:V,disabled:x,className:"hidden",id:"csv-upload"}),n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("button",{onClick:()=>document.getElementById("csv-upload").click(),disabled:x,className:"px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white rounded-card hover:from-[#9a1000] hover:to-[#7a0000] disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed flex items-center gap-2 shadow-md hover:shadow-lg transition-all font-medium",children:x?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(U2,{className:"w-5 h-5"}),"Upload CSV"]})}),n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Upload enrollment records in CSV format"})]})]}),n.jsxs("button",{onClick:me,className:"px-6 py-3 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-card hover:from-gray-200 hover:to-gray-300 flex items-center gap-2 shadow-sm hover:shadow-md transition-all font-medium",children:[n.jsx(PE,{className:"w-5 h-5"}),"Download Sample"]})]}),n.jsxs("div",{className:"mt-6 p-4 lg:p-6 bg-red-50 rounded-card border-2 border-red-200",children:[n.jsxs("p",{className:"font-bold text-base text-[#7a0000] mb-3 flex items-center gap-2",children:[n.jsx(FA,{className:"w-5 h-5"}),"CSV Format Requirements:"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm text-[#9a1000]",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Required columns:"})," student_number, first_name, last_name, middle_name, email, program_code, year_level, college_code, college_name"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Program codes:"})," Must exist in the system ",y.length>0&&`(${y.slice(0,5).map(W=>W.code||W.program_code).join(", ")}${y.length>5?", etc.":""})`]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Year level:"})," Must be between 1 and 4"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Behavior:"})," Existing student records will be updated, new records will be inserted"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Email:"})," Must be valid format (optional but recommended)"]})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-card shadow-card mb-8 lg:mb-12",children:[n.jsx("div",{className:"p-6 lg:p-8 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl lg:text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(qp,{className:"w-6 h-6"}),"Search & Filter"]})}),n.jsxs("div",{className:"p-6 lg:p-8",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{type:"text",value:o,onChange:W=>l(W.target.value),onKeyPress:W=>W.key==="Enter"&&G(),placeholder:"Search by student number, name, or email...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-card focus:outline-none focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000] text-base"}),n.jsxs("button",{onClick:G,className:"px-6 py-3 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white rounded-card hover:from-[#9a1000] hover:to-[#7a0000] shadow-md hover:shadow-lg transition-all font-medium flex items-center gap-2",children:[n.jsx(qp,{className:"w-5 h-5"}),"Search"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Program"}),n.jsxs("select",{value:u.program_id,onChange:W=>oe("program_id",W.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-card focus:outline-none focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000] text-base",children:[n.jsx("option",{value:"",children:"All Programs"}),y.length>0?y.map(W=>n.jsxs("option",{value:W.id,children:[W.code||W.program_code," - ",W.name||W.program_name]},W.id)):n.jsx("option",{disabled:!0,children:"Loading programs..."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year Level"}),n.jsxs("select",{value:u.year_level,onChange:W=>oe("year_level",W.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-card focus:outline-none focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000] text-base",children:[n.jsx("option",{value:"",children:"All Years"}),n.jsx("option",{value:"1",children:"Year 1"}),n.jsx("option",{value:"2",children:"Year 2"}),n.jsx("option",{value:"3",children:"Year 3"}),n.jsx("option",{value:"4",children:"Year 4"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:u.status,onChange:W=>oe("status",W.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-card focus:outline-none focus:ring-2 focus:ring-[#7a0000] focus:border-[#7a0000] text-base",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"}),n.jsx("option",{value:"transferred",children:"Transferred"}),n.jsx("option",{value:"graduated",children:"Graduated"})]})]})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsxs("button",{onClick:q,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-card hover:from-blue-700 hover:to-blue-800 shadow-md hover:shadow-lg transition-all font-medium flex items-center gap-2",children:[n.jsx($A,{className:"w-5 h-5"}),"Apply Filters"]}),n.jsxs("button",{onClick:U,className:"px-6 py-3 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-card hover:from-gray-200 hover:to-gray-300 shadow-sm hover:shadow-md transition-all font-medium flex items-center gap-2",children:[n.jsx(Rd,{className:"w-5 h-5"}),"Clear Filters"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-card shadow-card",children:[n.jsx("div",{className:"p-6 lg:p-8 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl lg:text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(FA,{className:"w-6 h-6"}),"Enrolled Students (",e.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:r?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(zp,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No enrollment records found"}),n.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search or filters"})]}):n.jsxs("table",{className:"table-auto",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Student Number"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Email"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Program"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Year Level"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"College"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(W=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:W.student_number}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[W.first_name," ",W.middle_name?W.middle_name+" ":"",W.last_name]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:W.email||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:W.program_code}),n.jsx("div",{className:"text-xs text-gray-500",children:W.program_name})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["Year ",W.year_level]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:W.college_code}),n.jsx("div",{className:"text-xs text-gray-400",children:W.college_name})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W.status==="active"?"bg-green-100 text-green-800":W.status==="inactive"?"bg-gray-100 text-gray-800":W.status==="transferred"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:W.status})})]},W.id))})]})})]})]}),k&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[n.jsxs("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] px-6 py-4 flex items-center justify-between flex-shrink-0 rounded-t-2xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:n.jsx(jX,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"CSV Preview"}),n.jsx("p",{className:"text-sm text-white/80",children:T?.name})]})]}),n.jsx("button",{onClick:()=>{C(!1),I(null),z([]),R([])},className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:n.jsx(Rd,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[J.length>0&&n.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Jl,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-bold text-red-900 mb-2",children:"Validation Errors Found"}),n.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[J.slice(0,10).map((W,de)=>n.jsxs("div",{className:"flex items-start gap-2 text-sm text-red-800",children:[n.jsxs("span",{className:"font-bold",children:["Row ",W.row,":"]}),n.jsx("span",{children:W.errors.join(", ")})]},de)),J.length>10&&n.jsxs("p",{className:"text-sm text-red-700 font-bold text-center py-2 bg-red-100 rounded",children:["+ ",J.length-10," more errors"]})]})]})]})}),F.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Data Preview"}),n.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold",children:["Showing first ",F.length," rows"]})]}),n.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Student #"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Program"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Year"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map((W,de)=>n.jsxs("tr",{className:W.hasErrors?"bg-red-50":"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:W.hasErrors?n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-red-100 text-red-800",children:[n.jsx(Rd,{className:"w-3 h-3 mr-1"}),"Error"]}):n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-green-100 text-green-800",children:[n.jsx($d,{className:"w-3 h-3 mr-1"}),"Valid"]})}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:W.student_number}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[W.last_name,", ",W.first_name," ",W.middle_name]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:W.email}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:W.program_code}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["Year ",W.year_level]})]},de))})]})})})]}),J.length===0&&F.length>0&&n.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx($d,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-bold text-green-900",children:"Ready to Upload"}),n.jsx("p",{className:"text-sm text-green-800 mt-1",children:'All rows passed validation. Click "Confirm Upload" to import the students.'})]})]})})]}),n.jsxs("div",{className:"flex-shrink-0 px-6 py-4 bg-gray-50 border-t flex items-center justify-between rounded-b-2xl",children:[n.jsx("button",{onClick:()=>{C(!1),I(null),z([]),R([])},className:"px-6 py-2 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 font-semibold transition-all",disabled:x,children:"Cancel"}),n.jsx("button",{onClick:ie,disabled:x||J.length>0||F.length===0,className:"px-6 py-2 bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white rounded-lg font-semibold hover:from-[#9a1000] hover:to-[#7a0000] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:x?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Uploading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(U2,{className:"w-4 h-4"}),n.jsx("span",{children:"Confirm Upload"})]})})]})]})}),n.jsx(Ql,{isOpen:$,onClose:()=>H(!1),title:B.title,message:B.message,variant:B.type==="error"?"danger":B.type})]})},Jo=[{id:"relevance_of_course",name:"I. Relevance of Course",description:"Evaluation of course relevance to skills and knowledge development",questions:[{id:"relevance_subject_knowledge",text:"The course helped me to develop relevant subject knowledge",shortLabel:"Subject Knowledge"},{id:"relevance_practical_skills",text:"The course helped me to develop related practical skills",shortLabel:"Practical Skills"},{id:"relevance_team_work",text:"The course helped me to develop team work",shortLabel:"Team Work"},{id:"relevance_leadership",text:"The course helped me to develop leadership skills",shortLabel:"Leadership Skills"},{id:"relevance_communication",text:"The course helped me to develop communication skills",shortLabel:"Communication Skills"},{id:"relevance_positive_attitude",text:"The course helped me to develop positive attitude on my program of study",shortLabel:"Positive Attitude"}]},{id:"course_organization",name:"II. Course Organization and ILOs",description:"Evaluation of course structure and learning outcomes",questions:[{id:"org_curriculum",text:"The course was implemented according to the approved curriculum",shortLabel:"Approved Curriculum"},{id:"org_ilos_known",text:"Intended Learning Outcomes (ILOs) of the course were made known from the beginning",shortLabel:"ILOs Made Known"},{id:"org_ilos_clear",text:"Targeted Learning Outcomes (ILOs) of the course were clear",shortLabel:"Clear ILOs"},{id:"org_ilos_relevant",text:"Intended Learning Outcomes (ILOs) of the course were relevant",shortLabel:"Relevant ILOs"},{id:"org_no_overlapping",text:"There were no overlapping of contents within a course",shortLabel:"No Overlapping"}]},{id:"teaching_learning",name:"III. Teaching - Learning",description:"Evaluation of teaching methods and learning activities",questions:[{id:"teaching_tlas_useful",text:"Teaching - Learning Activities (TLAs) such as practical, educational tour etc. were useful and relevant",shortLabel:"TLAs Useful"},{id:"teaching_ila_useful",text:"Independent Learning (ILA) activities such as journal reading, research work, project, etc. were useful and relevant",shortLabel:"ILA Useful"},{id:"teaching_tlas_sequenced",text:"The TLAs within a course were sequenced in a logical manner",shortLabel:"TLAs Sequenced"},{id:"teaching_applicable",text:"Team teaching is done as applicable",shortLabel:"Team Teaching"},{id:"teaching_motivated",text:"The teachers motivated the students to learn",shortLabel:"Teacher Motivation"},{id:"teaching_team_work",text:"The teachers provided adequate opportunities for team work",shortLabel:"Team Work Opportunities"},{id:"teaching_independent",text:"The teachers provided adequate opportunities for independent learning",shortLabel:"Independent Learning"}]},{id:"assessment",name:"IV. Assessment",description:"Evaluation of assessment methods and feedback",questions:[{id:"assessment_start",text:"Assessments tasks were held at the beginning of the course",shortLabel:"Assessment at Start"},{id:"assessment_all_topics",text:"Assessments covered all the main topics taught in the course",shortLabel:"All Topics Covered"},{id:"assessment_number",text:"The number of assessments was appropriate and adequate",shortLabel:"Appropriate Number"},{id:"assessment_distribution",text:"Distribution of assessments over a semester was appropriate",shortLabel:"Good Distribution"},{id:"assessment_allocation",text:"Allocation of marks/grade among assessments was satisfactory",shortLabel:"Satisfactory Allocation"},{id:"assessment_feedback",text:"The teachers provided timely feedback on student performance",shortLabel:"Timely Feedback"}]},{id:"learning_environment",name:"V. Learning Environment",description:"Evaluation of facilities and learning resources",questions:[{id:"environment_classrooms",text:"Available facilities in the classrooms were satisfactory",shortLabel:"Classroom Facilities"},{id:"environment_library",text:"Available library facilities were adequate",shortLabel:"Library Facilities"},{id:"environment_laboratory",text:"Available laboratory facilities were adequate",shortLabel:"Laboratory Facilities"},{id:"environment_computer",text:"Access to computer facilities were sufficient",shortLabel:"Computer Access"},{id:"environment_internet",text:"There was sufficient access to internet and electronic databases",shortLabel:"Internet Access"},{id:"environment_facilities_availability",text:"Availability of facilities for learning was satisfactory",shortLabel:"Overall Facilities"}]},{id:"counseling",name:"VI. Counseling",description:"Evaluation of counseling and consultation support",questions:[{id:"counseling_available",text:"The teachers were available for consultation whenever needed",shortLabel:"Teacher Availability"}]}];function bee({selectedPeriod:e=null}){const{user:t}=ra(),[r,a]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(null),[u,f]=O.useState(""),[h,m]=O.useState("completion_rate"),[x,p]=O.useState("all"),[w,v]=O.useState(1),y=10;O.useEffect(()=>{S()},[t,e]);const S=async()=>{if(t)try{i(!0),l(null);let I;sn(t)?I=await nt.getCompletionRates(e):t.role==="secretary"?I=await $r.getCompletionRates(e):t.role==="department_head"&&(I=await zr.getCompletionRates(e)),I?.success&&I?.data&&a(I.data)}catch(I){console.error("Error fetching completion data:",I),l(I.message||"Failed to load completion data")}finally{i(!1)}},A=Re.useMemo(()=>{if(!r?.courses)return[];let I=r.courses.filter(F=>{const z=F.course_name.toLowerCase().includes(u.toLowerCase())||F.course_code.toLowerCase().includes(u.toLowerCase())||F.class_code.toLowerCase().includes(u.toLowerCase()),J=x==="all"||x==="below70"&&F.completion_rate<70||x==="below50"&&F.completion_rate<50;return z&&J});return I.sort((F,z)=>h==="completion_rate"?F.completion_rate-z.completion_rate:h==="course_name"?F.course_name.localeCompare(z.course_name):h==="instructor"?F.instructor.localeCompare(z.instructor):0),I},[r,u,h,x]),N=Math.ceil(A.length/y),k=(w-1)*y,C=k+y,T=A.slice(k,C);return O.useEffect(()=>{v(1)},[u,h,x]),s?n.jsx("div",{className:"lpu-card",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("svg",{className:"animate-spin h-8 w-8 text-[#7a0000]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}):o?n.jsx("div",{className:"lpu-card",children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"w-12 h-12 text-red-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("p",{className:"text-gray-600",children:o})]})}):n.jsxs("div",{className:"lpu-card",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 mr-2 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Course Completion Tracking"]}),n.jsxs("button",{onClick:S,className:"lpu-btn-secondary text-sm",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search courses...",value:u,onChange:I=>f(I.target.value),className:"lpu-input pl-10"}),n.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),n.jsxs("select",{value:h,onChange:I=>m(I.target.value),className:"lpu-select",children:[n.jsx("option",{value:"completion_rate",children:"Sort by: Completion Rate"}),n.jsx("option",{value:"course_name",children:"Sort by: Course Name"})]}),n.jsxs("select",{value:x,onChange:I=>p(I.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"Show: All Courses"}),n.jsx("option",{value:"below70",children:"Show: Below 70%"}),n.jsx("option",{value:"below50",children:"Show: Below 50%"})]})]})]}),n.jsxs("div",{className:"mb-4 text-sm text-gray-600 flex items-center justify-between",children:[n.jsxs("span",{children:["Showing ",k+1,"-",Math.min(C,A.length)," of ",A.length," courses",r?.courses?.length!==A.length&&` (filtered from ${r?.courses?.length} total)`]}),N>1&&n.jsxs("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-full",children:["Page ",w," of ",N]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Course"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Enrolled"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Submitted"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Pending"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Completion"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.length>0?T.map(I=>{const F=I.completion_rate,z=F>=85?"green":F>=70?"yellow":"red";return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:I.course_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[I.course_code,"  ",I.class_code]})]})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("span",{className:"text-lg font-semibold text-gray-900",children:I.enrolled_students})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("span",{className:"text-lg font-semibold text-blue-600",children:I.submitted_evaluations})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("span",{className:`text-lg font-semibold ${I.pending_evaluations>0?"text-orange-600":"text-gray-400"}`,children:I.pending_evaluations})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("span",{className:`text-xl font-bold text-${z}-600 mb-1`,children:[F,"%"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`bg-${z}-500 h-2 rounded-full transition-all duration-500`,style:{width:`${F}%`}})})]})}),n.jsx("td",{className:"px-4 py-4 text-center",children:I.is_below_threshold?n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Low"]}):F>=85?n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Good"]}):n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Fair"]})})]},I.section_id)}):n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"No courses match your filters"]})})})]})}),N>1&&n.jsx(eu,{currentPage:w,totalPages:N,totalItems:A.length,onPageChange:v,itemLabel:"courses"})]})}const wee=({isOpen:e,onClose:t,prefilledCourse:r=null,prefilledStudent:a=null})=>{const{user:s}=ra(),[i,o]=O.useState({issueType:"general",courseId:r?.id||"",courseName:r?.name||"",studentId:a?.id||"",studentName:a?.name||"",subject:"",message:""}),[l,u]=O.useState(!1),[f,h]=O.useState({type:"",message:""}),m=[{value:"general",label:"General Inquiry"},{value:"technical",label:"Technical Issue"},{value:"evaluation",label:"Evaluation Problem"},{value:"course",label:"Course Data Issue"},{value:"student",label:"Student Account Issue"},{value:"report",label:"Report/Analytics Issue"}],x=w=>{const{name:v,value:y}=w.target;o(S=>({...S,[v]:y}))},p=async w=>{if(w.preventDefault(),u(!0),h({type:"",message:""}),!i.subject.trim()||!i.message.trim()){h({type:"error",message:"Subject and message are required"}),u(!1);return}try{const v=s?.role;let y;if(v==="admin"||v==="system_admin")y=nt;else if(v==="secretary")y=$r;else if(v==="department_head")y=zr;else throw new Error("Invalid user role or not authenticated");const S=await y.submitSupportRequest(i);h({type:"success",message:"Your message has been sent to the system administrator successfully."}),setTimeout(()=>{o({issueType:"general",courseId:"",courseName:"",studentId:"",studentName:"",subject:"",message:""}),h({type:"",message:""}),t()},2e3)}catch(v){console.error("Error submitting support request:",v),h({type:"error",message:v.response?.data?.detail||"Failed to send message. Please try again."})}finally{u(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Contact System Administrator"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:l,children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Type *"}),n.jsx("select",{id:"issueType",name:"issueType",value:i.issueType,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:l,children:m.map(w=>n.jsx("option",{value:w.value,children:w.label},w.value))})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"courseName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Name (Optional)"}),n.jsx("input",{type:"text",id:"courseName",name:"courseName",value:i.courseName,onChange:x,placeholder:"e.g., Introduction to Programming",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:l})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"courseId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Course ID (Optional)"}),n.jsx("input",{type:"text",id:"courseId",name:"courseId",value:i.courseId,onChange:x,placeholder:"e.g., CS101",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:l})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"studentName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Name (Optional)"}),n.jsx("input",{type:"text",id:"studentName",name:"studentName",value:i.studentName,onChange:x,placeholder:"e.g., Juan Dela Cruz",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:l})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Student ID (Optional)"}),n.jsx("input",{type:"text",id:"studentId",name:"studentId",value:i.studentId,onChange:x,placeholder:"e.g., 2024-00001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:l})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:i.subject,onChange:x,placeholder:"Brief description of your issue",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,disabled:l})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),n.jsx("textarea",{id:"message",name:"message",value:i.message,onChange:x,placeholder:"Please provide detailed information about your issue or inquiry...",rows:"6",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",required:!0,disabled:l}),n.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[i.message.length," characters"]})]}),f.message&&n.jsx("div",{className:`p-4 rounded-lg ${f.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[f.type==="success"?n.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"w-5 h-5 text-red-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("p",{className:`text-sm ${f.type==="success"?"text-green-800":"text-red-800"}`,children:f.message})]})}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",disabled:l,children:l?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Sending..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),n.jsx("span",{children:"Send Message"})]})})]})]})]})}):null};function jee(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState(null),[s,i]=O.useState("all"),[o,l]=O.useState("all"),[u,f]=O.useState("all"),[h,m]=O.useState("all"),[x,p]=O.useState(!1),[w,v]=O.useState([]),[y,S]=O.useState(null),[A,N]=O.useState(null),[k,C]=O.useState(!1),[T,I]=O.useState([]),[F,z]=O.useState([]);O.useEffect(()=>{(async()=>{if(t)try{let xe,te,ee;if(t.role==="secretary"?[xe,te,ee]=await Promise.all([$r.getPrograms(),$r.getYearLevels(),$r.getEvaluationPeriods()]):t.role==="department_head"&&([xe,te,ee]=await Promise.all([zr.getPrograms(),zr.getYearLevels(),zr.getEvaluationPeriods()])),xe?.data&&I(If(xe.data)),te?.data&&z(te.data),ee?.data){v(ee.data);const G=ee.data.find(oe=>oe.status==="active"||oe.status==="Active");G&&(N(G.id),S(G.id))}}catch(xe){console.error("Error fetching filter options:",xe)}})()},[t?.role]),O.useEffect(()=>{if(!t){e("/");return}if(sn(t)){e("/admin/dashboard");return}if(t.role==="student"){e("/student-evaluation");return}if(!Xd(t)){e("/");return}},[t?.role,t?.id,e]);const{data:J,loading:R,error:$,retry:H}=Qc(async()=>{if(!t||!y&&!A)return null;const se={};s!=="all"&&(se.program_id=s),o!=="all"&&(se.year_level=o),u!=="all"&&(se.semester=u),y&&(se.period_id=y);let xe,te;if(t.role==="secretary")[xe,te]=await Promise.all([$r.getDashboard(se),$r.getEvaluations({...se,page:1,page_size:50})]);else if(t.role==="department_head")[xe,te]=await Promise.all([zr.getDashboard(se),zr.getEvaluations({...se,page:1,page_size:50})]);else throw new Error(`Unsupported staff role: ${t.role}`);return{dashboard:xe?.data||xe,evaluations:Array.isArray(te)?te:te?.data||[]}},[t?.id,t?.role,s,o,u,y]);O.useEffect(()=>{J&&a(J.dashboard)},[J]);const B=O.useMemo(()=>{if(!r)return{totalCourses:0,totalEvaluations:0,totalEnrolledStudents:0,participationRate:0,sentimentData:[{name:"Positive",value:0,color:"#10b981"},{name:"Neutral",value:0,color:"#f59e0b"},{name:"Negative",value:0,color:"#ef4444"}],anomalies:0};const se=r.sentiment||{};return{totalCourses:r.total_courses||r.total_sections||0,totalEvaluations:r.total_evaluations||0,totalEnrolledStudents:r.total_enrolled_students||0,participationRate:r.participation_rate||0,sentimentData:[{name:"Positive",value:se.positive||0,color:"#10b981"},{name:"Neutral",value:se.neutral||0,color:"#f59e0b"},{name:"Negative",value:se.negative||0,color:"#ef4444"}],anomalies:r.anomalies||0}},[r]),ce=O.useMemo(()=>{if(console.log("[DASHBOARD] apiData:",J),console.log("[DASHBOARD] apiData?.evaluations:",J?.evaluations),!J||!J.evaluations||J.evaluations.length===0)return console.log("[DASHBOARD] No evaluations data - apiData structure:",JSON.stringify(J,null,2)),[];const se=J.evaluations;console.log("[DASHBOARD] Evaluations count:",se.length),console.log("[DASHBOARD] First evaluation sample:",se[0]),console.log("[DASHBOARD] First eval fields:",Object.keys(se[0]||{}));const te=[1,2,3,4].map(ee=>{const G=se.filter(V=>V.yearLevel===ee||V.year_level===ee);console.log(`[DASHBOARD] Year ${ee}: found ${G.length} evaluations`),G.length>0&&(console.log(`[DASHBOARD] Sample eval for Year ${ee}:`,G[0]),console.log("[DASHBOARD] Sample eval sentiment value:",G[0].sentiment),console.log(`[DASHBOARD] All sentiments for Year ${ee}:`,G.map(V=>V.sentiment)));const oe=G.filter(V=>V.sentiment==="positive").length,q=G.filter(V=>V.sentiment==="neutral").length,U=G.filter(V=>V.sentiment==="negative").length;return console.log(`[DASHBOARD] Year ${ee} sentiments - P:${oe} N:${q} Neg:${U}`),{name:`Year ${ee}`,positive:oe,neutral:q,negative:U,total:oe+q+U}}).filter(ee=>ee.total>0);return console.log("[DASHBOARD] Year level sentiment result:",JSON.stringify(te,null,2)),console.log("[DASHBOARD] Result array length:",te.length),te},[J]);return t?R?n.jsx(So,{message:"Loading dashboard..."}):$?n.jsx(Zc,{error:$,onRetry:H}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-5",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Course Insight Guardian"}),n.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:sn(t)?"Academic Excellence Dashboard":`${t.department} Analytics Hub`})]})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 lg:px-8 py-4 lg:py-5 text-left lg:text-right w-full lg:w-auto",children:[n.jsx("p",{className:"text-[#ffd700] text-sm font-medium",children:"Welcome back,"}),n.jsxs("p",{className:"text-white font-bold text-lg lg:text-xl mt-1",children:[t?.first_name||t?.name||"User"," ",t?.last_name||""]}),n.jsxs("div",{className:"flex items-center justify-start lg:justify-end space-x-2 mt-2",children:[n.jsx("div",{className:"w-2 h-2 bg-[#ffd700] rounded-full animate-pulse"}),n.jsx("span",{className:"text-white text-xs font-medium",children:"Online"})]})]})]})})}),n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!A&&!y?n.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[n.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),w.length>0?n.jsx("p",{className:"text-gray-500",children:"Select a past evaluation period from the filters below to view historical data."}):n.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to create and activate an evaluation period."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5 lg:gap-6 mb-12",children:[n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/courses"),children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Total Courses"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:B.totalCourses})]}),n.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:n.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 hover:shadow-card-hover transition-all duration-250 cursor-pointer group",onClick:()=>e("/evaluations"),children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xs lg:text-sm font-bold text-white/80 uppercase tracking-wide mb-3",children:"Participation Rate"}),n.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white mb-3",children:[B.participationRate,"%"]}),n.jsx("div",{className:"w-full bg-white/30 rounded-full h-2.5",children:n.jsx("div",{className:"bg-white rounded-full h-2.5 transition-all duration-500",style:{width:`${B.participationRate}%`}})})]}),n.jsx("div",{className:"w-16 h-16 lg:w-18 lg:h-18 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-all duration-250 flex-shrink-0",children:n.jsx("svg",{className:"w-8 h-8 lg:w-9 lg:h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>p(!x),className:"lpu-btn-secondary inline-flex items-center mb-4",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),x?"Hide Filters":"Show Filters"]}),x&&n.jsxs("div",{className:"lpu-card p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Filter Dashboard Data"]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Academic Program"}),n.jsxs("select",{value:s,onChange:se=>i(se.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"All Programs"}),T.map(se=>n.jsxs("option",{value:se.id,children:[se.program_code||se.code," - ",se.program_name||se.name]},se.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Evaluation Period"}),n.jsxs("select",{value:y||"",onChange:se=>S(se.target.value),className:"lpu-select",children:[n.jsx("option",{value:"",children:"Select Period"}),w.map(se=>n.jsxs("option",{value:se.id,children:[se.name," ",se.status==="Open"||se.status==="active"||se.status==="Active"?"(Active)":""]},se.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Year Level"}),n.jsxs("select",{value:o,onChange:se=>l(se.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"All Year Levels"}),F.map(se=>n.jsx("option",{value:se.value,children:se.label},se.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Semester"}),n.jsxs("select",{value:u,onChange:se=>f(se.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"All Semesters"}),n.jsx("option",{value:"1",children:"First Semester"}),n.jsx("option",{value:"2",children:"Second Semester"}),n.jsx("option",{value:"3",children:"Summer"})]})]})]}),n.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>{i("all"),l("all"),f("all")},className:"lpu-btn-secondary",children:"Reset Filters"}),n.jsx("button",{onClick:()=>p(!1),className:"lpu-btn-primary",children:"Apply Filters"})]})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"lpu-chart-container",children:[n.jsxs("div",{className:"chart-title",children:[n.jsx("svg",{className:"w-6 h-6 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Student Sentiment Distribution"]}),n.jsx(Wc,{width:"100%",height:300,children:n.jsxs(AE,{children:[n.jsx(Zi,{data:B.sentimentData.filter(se=>se.value>0),cx:"50%",cy:"50%",labelLine:!0,label:({name:se,percent:xe})=>`${se}: ${(xe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:B.sentimentData.filter(se=>se.value>0).map((se,xe)=>n.jsx(j0,{fill:se.color},`cell-${xe}`))}),n.jsx(fi,{formatter:se=>[se,"Evaluations"]})]})})]}),n.jsxs("div",{className:"lpu-chart-container",children:[n.jsxs("div",{className:"chart-title",children:[n.jsx("svg",{className:"w-6 h-6 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Academic Year Performance"]}),n.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Participation rates across different year levels"}),n.jsx(Wc,{width:"100%",height:300,children:n.jsxs(Mf,{data:ce,children:[n.jsx(P0,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(ac,{dataKey:"name",tick:{fontSize:12,fill:"#64748b"}}),n.jsx(sc,{tick:{fontSize:12,fill:"#64748b"}}),n.jsx(fi,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),n.jsx(zc,{wrapperStyle:{paddingTop:"20px"},iconType:"rect"}),n.jsx(Ia,{dataKey:"positive",fill:"#10b981",name:"Positive",radius:[4,4,0,0]}),n.jsx(Ia,{dataKey:"neutral",fill:"#f59e0b",name:"Neutral",radius:[4,4,0,0],minPointSize:2}),n.jsx(Ia,{dataKey:"negative",fill:"#ef4444",name:"Negative",radius:[4,4,0,0],minPointSize:2})]})})]})]}),n.jsx("div",{className:"mb-8",children:n.jsx(bee,{selectedPeriod:y})}),n.jsxs("div",{className:"lpu-card p-6 mb-8",children:[n.jsx("div",{className:"chart-title mb-6",children:"Quick Academic Actions"}),n.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[n.jsxs("button",{onClick:()=>e("/courses"),className:"lpu-btn-primary text-center py-4",children:[n.jsx("svg",{className:"w-5 h-5 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Manage Courses"]}),n.jsxs("button",{onClick:()=>e("/sentiment"),className:"lpu-btn-secondary text-center py-4",children:[n.jsx("svg",{className:"w-5 h-5 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Analytics"]}),n.jsxs("button",{onClick:()=>e("/evaluations"),className:"lpu-btn-secondary text-center py-4",children:[n.jsx("svg",{className:"w-5 h-5 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Review Evaluations"]}),n.jsxs("button",{onClick:()=>e("/anomalies"),className:"lpu-btn-secondary text-center py-4",children:[n.jsx("svg",{className:"w-5 h-5 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Check Issues"]}),n.jsxs("button",{onClick:()=>C(!0),className:"lpu-btn-secondary text-center py-4 border-2 border-red-600 hover:bg-red-50",children:[n.jsx("svg",{className:"w-5 h-5 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Admin"]})]})]}),n.jsxs("div",{className:"lpu-card",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Student Feedback"})]}),n.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:"No recent responses (API limitation)"})]}),n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Recent Feedback"}),n.jsx("p",{className:"text-gray-500",children:"View detailed evaluations in the Evaluations page."}),n.jsx("button",{onClick:()=>e("/evaluations"),className:"mt-4 px-6 py-2 bg-[#7a0000] text-white rounded-lg hover:bg-[#5a0000] transition-colors",children:"View All Evaluations"})]})]})]})}),n.jsx(wee,{isOpen:k,onClose:()=>C(!1)})]}):null}function Nee(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(null),[u,f]=O.useState("all"),[h,m]=O.useState("all"),[x,p]=O.useState("all"),[w,v]=O.useState(!1),[y,S]=O.useState([]),[A,N]=O.useState(!0),[k,C]=O.useState(""),T=ad(k,500),[I,F]=O.useState([]),[z,J]=O.useState([]),[R,$]=O.useState([]),[H,B]=O.useState(null),[ce,se]=O.useState(null);O.useEffect(()=>{if(!t){e("/");return}if(t.role==="student"){e("/student/courses");return}if(!sn(t)&&!Xd(t)){e("/");return}},[t,e]),O.useEffect(()=>{(async()=>{if(t)try{let V,ie,me;if(t.role==="secretary"?[V,ie,me]=await Promise.all([$r.getPrograms(),$r.getYearLevels(),$r.getEvaluationPeriods()]):t.role==="department_head"?[V,ie,me]=await Promise.all([zr.getPrograms(),zr.getYearLevels(),zr.getEvaluationPeriods()]):sn(t)&&([V,me]=await Promise.all([nt.getPrograms(),nt.getEvaluationPeriods()])),V?.data&&F(If(V.data)),ie?.data&&J(ie.data),me?.data){$(me.data);const W=me.data.find(de=>de.status==="Open"||de.status==="active"||de.status==="Active");W&&(se(W.id),B(W.id))}}catch(V){console.error("Error fetching filter options:",V)}})()},[t?.role]);const[xe,te]=O.useState([]);O.useEffect(()=>{(async()=>{if(t)try{if(i(!0),!H&&!ce){a(null),te([]),i(!1);return}const V={};u!=="all"&&(V.semester=u),h!=="all"&&(V.yearLevel=h),x!=="all"&&(V.program_id=x),H&&(V.period_id=H);let ie,me;if(sn(t))[ie,me]=await Promise.all([nt.getSentimentAnalysis(V),nt.getEvaluations({...V,page:1,page_size:100})]);else if(t.role==="secretary")[ie,me]=await Promise.all([$r.getSentimentAnalysis(V),$r.getEvaluations({...V,page:1,page_size:100})]);else if(t.role==="department_head")[ie,me]=await Promise.all([zr.getSentimentAnalysis(V),zr.getEvaluations({...V,page:1,page_size:100})]);else throw new Error(`Unsupported role: ${t.role}`);const W=ie?.data||ie,de=Array.isArray(me)?me:me?.data||[];a(W),te(de)}catch(V){console.error("Error fetching sentiment analysis:",V),l(V.message||"Failed to load sentiment analysis")}finally{i(!1)}})()},[t,u,h,x,H]),O.useEffect(()=>{(async()=>{if(t)try{if(N(!0),!H&&!ce){S([]),N(!1);return}const V={};H&&(V.period_id=H);let ie;sn(t)?ie=await nt.getAnomalies(V):t.role==="secretary"?ie=await $r.getAnomalies(V):t.role==="department_head"&&(ie=await zr.getAnomalies(V));const me=Array.isArray(ie)?ie:ie?.data||[];S(me)}catch(V){console.error("Error fetching anomalies:",V)}finally{N(!1)}})()},[t,H]);const ee=O.useMemo(()=>y.filter(U=>k===""?!0:U.courseName?.toLowerCase().includes(T.toLowerCase())||U.comment?.toLowerCase().includes(T.toLowerCase())),[y,k]),G=O.useMemo(()=>{const U=r?.summary||r?.overall;if(!U)return{positive:0,neutral:0,negative:0};const V=(U.positive||0)+(U.neutral||0)+(U.negative||0);return V===0?{positive:0,neutral:0,negative:0}:{positive:Math.round((U.positive||0)/V*100),neutral:Math.round((U.neutral||0)/V*100),negative:Math.round((U.negative||0)/V*100)}},[r]);O.useMemo(()=>!r?.trends||r.trends.length===0?[]:r.trends.map(U=>({date:U.date,positive:U.positive||0,neutral:U.neutral||0,negative:U.negative||0})),[r]);const oe=O.useMemo(()=>{if(!xe||xe.length===0)return console.log("[SENTIMENT] No evaluations data:",xe),[];console.log("[SENTIMENT] Evaluations count:",xe.length),console.log("[SENTIMENT] First evaluation sample:",xe[0]),console.log("[SENTIMENT] First eval fields:",Object.keys(xe[0]||{}));const V=[1,2,3,4].map(ie=>{const me=xe.filter(Q=>Q.yearLevel===ie||Q.year_level===ie);console.log(`[SENTIMENT] Year ${ie}: found ${me.length} evaluations`);const W=me.filter(Q=>Q.sentiment==="positive").length,de=me.filter(Q=>Q.sentiment==="neutral").length,re=me.filter(Q=>Q.sentiment==="negative").length;return{name:`Year ${ie}`,positive:W,neutral:de,negative:re,total:W+de+re}}).filter(ie=>ie.total>0);return console.log("[SENTIMENT] Year level sentiment result:",V),V},[xe]),q=O.useMemo(()=>{if(!xe||xe.length===0)return console.log("[CRITERIA] No evaluations for criteria breakdown"),[];console.log("[CRITERIA] Processing",xe.length,"evaluations"),console.log("[CRITERIA] First eval ratings:",xe[0]?.ratings);const U={"Relevance of Course":{questions:[1,2,3,4,5,6],total:0,count:0},"Course Organization & ILOs":{questions:[7,8,9,10,11],total:0,count:0},"Teaching - Learning":{questions:[12,13,14,15,16,17,18],total:0,count:0},Assessment:{questions:[19,20,21,22,23,24],total:0,count:0},"Learning Environment":{questions:[25,26,27,28,29,30],total:0,count:0},Counseling:{questions:[31],total:0,count:0}};return xe.forEach(V=>{const ie=V.ratings;if(!ie||typeof ie!="object"){console.log("[CRITERIA] Evaluation has no valid ratings:",V.id);return}Object.entries(U).forEach(([me,W])=>{W.questions.forEach(de=>{const re=de.toString();ie[re]&&typeof ie[re]=="number"&&(W.total+=ie[re],W.count+=1)})})}),Object.entries(U).map(([V,ie])=>({name:V,rating:ie.count>0?(ie.total/ie.count).toFixed(2):"0.00",count:ie.count})).filter(V=>V.count>0).sort((V,ie)=>parseFloat(ie.rating)-parseFloat(V.rating))},[xe]);return t?s?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading sentiment analysis..."})]})}):o?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:n.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg max-w-md",children:[n.jsx("div",{className:"text-red-500 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Error Loading Sentiment Analysis"}),n.jsx("p",{className:"text-gray-600 mb-4",children:o}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-2 rounded",children:"Retry"})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx("header",{className:"bg-gradient-to-r from-[#7a0000] to-[#a31111] shadow-lg",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center shadow-md",children:n.jsx("svg",{className:"w-7 h-7 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Sentiment Analysis Dashboard"}),n.jsx("p",{className:"text-[#ffd700] text-sm",children:sn(t)?"System-wide Academic Excellence Overview":`${t.department} Department Analysis`})]})]})})})}),n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!ce&&!H?n.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[n.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),R.length>0?n.jsx("p",{className:"text-gray-500",children:'Click "Show Filters" below and select a past evaluation period to view historical data.'}):n.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to create and activate an evaluation period."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8 mb-12",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Academic Sentiment Overview"})]}),n.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[r?.total_evaluations||r?.summary?r.total_evaluations||(r.summary?.positive||0)+(r.summary?.neutral||0)+(r.summary?.negative||0):0," total responses"]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Positive Feedback"}),n.jsxs("span",{className:"text-4xl lg:text-5xl font-bold text-green-600",children:[G.positive,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:n.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-300",style:{width:`${G.positive}%`}})}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Excellent responses"}),n.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-6 border border-yellow-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Neutral Feedback"}),n.jsxs("span",{className:"text-4xl lg:text-5xl font-bold text-yellow-600",children:[G.neutral,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:n.jsx("div",{className:"bg-yellow-500 h-3 rounded-full transition-all duration-300",style:{width:`${G.neutral}%`}})}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Moderate responses"}),n.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-6 border border-red-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Negative Feedback"}),n.jsxs("span",{className:"text-4xl lg:text-5xl font-bold text-red-600",children:[G.negative,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:n.jsx("div",{className:"bg-red-500 h-3 rounded-full transition-all duration-300",style:{width:`${G.negative}%`}})}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Needs improvement"}),n.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.106-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"})})]})]})]})]}),n.jsxs("div",{className:"lpu-card mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Analysis Filters"}),n.jsxs("button",{onClick:()=>v(!w),className:"lpu-btn-secondary flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),n.jsx("span",{children:w?"Hide Filters":"Show Filters"})]})]}),w&&n.jsxs("div",{className:"lpu-card p-6 bg-gray-50",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Evaluation Period"}),n.jsxs("select",{value:H||"",onChange:U=>B(U.target.value),className:"lpu-select w-full",children:[n.jsx("option",{value:"",children:"Select Period"}),R.map(U=>n.jsxs("option",{value:U.id,children:[U.name," ",U.status==="Open"||U.status==="active"||U.status==="Active"?"(Active)":""]},U.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Academic Program"}),n.jsxs("select",{value:x,onChange:U=>p(U.target.value),className:"lpu-select w-full",children:[n.jsx("option",{value:"all",children:"All Programs"}),I.map(U=>n.jsxs("option",{value:U.id,children:[U.code," - ",U.name]},U.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year Level"}),n.jsxs("select",{value:h,onChange:U=>m(U.target.value),className:"lpu-select w-full",children:[n.jsx("option",{value:"all",children:"All Year Levels"}),z.map(U=>n.jsx("option",{value:U.value,children:U.label},U.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Semester"}),n.jsxs("select",{value:u,onChange:U=>f(U.target.value),className:"lpu-select w-full",children:[n.jsx("option",{value:"all",children:"All Semesters"}),n.jsx("option",{value:"1",children:"First Semester"}),n.jsx("option",{value:"2",children:"Second Semester"}),n.jsx("option",{value:"3",children:"Summer"})]})]})]}),n.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>{p("all"),m("all"),f("all")},className:"lpu-btn-secondary",children:"Reset Filters"}),n.jsx("button",{onClick:()=>v(!1),className:"lpu-btn-primary",children:"Apply Filters"})]})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-5 lg:gap-6 mb-12",children:[n.jsxs("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Academic Year Level Analysis"})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Sentiment distribution across different year levels"}),oe.length>0?n.jsx(Wc,{width:"100%",height:400,children:n.jsxs(Mf,{data:oe,children:[n.jsx(ac,{dataKey:"name",fontSize:12,tick:{fill:"#64748b"}}),n.jsx(sc,{tick:{fill:"#64748b"}}),n.jsx(fi,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),n.jsx(zc,{wrapperStyle:{paddingTop:"20px"},iconType:"rect"}),n.jsx(Ia,{dataKey:"positive",fill:"#10b981",name:"Positive",radius:[4,4,0,0]}),n.jsx(Ia,{dataKey:"neutral",fill:"#f59e0b",name:"Neutral",radius:[4,4,0,0],minPointSize:2}),n.jsx(Ia,{dataKey:"negative",fill:"#ef4444",name:"Negative",radius:[4,4,0,0],minPointSize:2})]})}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),n.jsx("p",{children:"No sentiment data available for the selected filters"})]})]}),n.jsxs("div",{className:"bg-white rounded-card shadow-card p-7 lg:p-8",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Academic Criteria Performance"})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Average ratings across evaluation criteria"}),q.length>0?n.jsx("div",{className:"space-y-4",children:q.map((U,V)=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:U.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-4xl lg:text-5xl font-bold text-[#7a0000]",children:parseFloat(U.rating).toFixed(2)}),n.jsx("span",{className:"text-gray-500 text-sm",children:"/ 4.0"})]})]}),n.jsx("div",{className:"flex items-center space-x-2 mb-3",children:[1,2,3,4].map(ie=>n.jsx("svg",{className:`w-5 h-5 ${ie<=parseFloat(U.rating)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ie))}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:n.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${parseFloat(U.rating)>=3.5?"bg-green-500":parseFloat(U.rating)>=2.5?"bg-yellow-500":"bg-red-500"}`,style:{width:`${parseFloat(U.rating)/4*100}%`}})})]})},V))}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),n.jsx("p",{children:"No evaluation criteria data available"})]})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Interactive Analytics Dashboard"}),n.jsx("p",{className:"text-blue-800 text-sm",children:"Hover over chart elements to see detailed information. Click on legend items to hide/show data series. Use the academic period and year level filters to view specific segment analysis."})]})]})}),n.jsxs("div",{className:"mt-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[n.jsx("svg",{className:"w-8 h-8 mr-3 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Anomaly Detection"]}),n.jsx("p",{className:"text-gray-600",children:"Identifies suspicious evaluation patterns including straight-lining, outliers, and contradictory responses"})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-5 lg:gap-6 mb-12",children:[n.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-card shadow-card p-7 lg:p-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Total Anomalies"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:y.length}),n.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Detected issues"})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Filtered Results"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:ee.length}),n.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Matching search"})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Flagged Rate"}),n.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[r?.overall?Math.round(y.length/(r.overall.positive+r.overall.neutral+r.overall.negative)*100):0,"%"]}),n.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Of total evaluations"})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search anomalies by course or comment...",value:k,onChange:U=>C(U.target.value),className:"lpu-input pl-12"}),n.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),n.jsx("div",{className:"lpu-card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:A?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsxs("svg",{className:"animate-spin h-8 w-8 text-[#7a0000]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):ee.length>0?n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Course"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Anomaly Type"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Rating"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map((U,V)=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.courseName||"N/A"}),n.jsx("div",{className:"text-xs text-gray-500",children:U.courseCode||""})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${U.anomalyReason?.includes("straight")?"bg-red-100 text-red-800":U.anomalyReason?.includes("outlier")?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:U.anomalyReason||"Detected"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-medium",children:U.ratingOverall||"N/A"}),n.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),n.jsx("span",{className:"text-gray-500",children:"4.0"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.submissionDate?new Date(U.submissionDate).toLocaleDateString():"N/A"})]},V))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("p",{className:"text-lg font-medium",children:"No anomalies detected"}),n.jsx("p",{className:"text-sm",children:"All evaluations appear to be legitimate"})]})})})]})]})})]}):null}function See(){const{user:e}=ra(),[t,r]=O.useState([]),[a,s]=O.useState([]),[i,o]=O.useState([]),[l,u]=O.useState([]),[f,h]=O.useState(null),[m,x]=O.useState(null),[p,w]=O.useState(!0),[v,y]=O.useState(null),[S,A]=O.useState(""),N=ad(S,500),[k,C]=O.useState("all"),[T,I]=O.useState("all"),[F,z]=O.useState([]),[J,R]=O.useState(10),[$,H]=O.useState("overview"),[B,ce]=O.useState(null),[se,xe]=O.useState(null),[te,ee]=O.useState([]),[G,oe]=O.useState([]),[q,U]=O.useState(!1),[V,ie]=O.useState(!1),[me,W]=O.useState(1),de=15,[re,Q]=O.useState(0),[Ne,he]=O.useState([]),[we,be]=O.useState({course_id:"",class_code:"",semester:1,academic_year:"2024-2025",max_students:40}),[Z,Xe]=O.useState({});O.useEffect(()=>{if(!e)return;let _e=!0;const He=async()=>{try{let Ge;if(sn(e)?Ge=await nt.getPrograms():e.role==="secretary"?Ge=await $r.getPrograms():e.role==="department_head"&&(Ge=await zr.getPrograms()),!_e)return;Ge?.data&&Array.isArray(Ge.data)&&Ge.data.length>0?o(If(Ge.data)):o([])}catch(Ge){if(!_e)return;console.error("[COURSES] Error fetching programs:",Ge),o([])}},We=async()=>{try{let Ge;if(sn(e)?Ge=await nt.getEvaluationPeriods():e.role==="secretary"?Ge=await $r.getEvaluationPeriods():e.role==="department_head"&&(Ge=await zr.getEvaluationPeriods()),!_e)return;if(Ge?.data&&Array.isArray(Ge.data)){u(Ge.data);const ot=Ge.data.find(Nt=>Nt.status==="active");ot&&x(ot)}else u([])}catch(Ge){if(!_e)return;console.error("[COURSES] Error fetching evaluation periods:",Ge),u([])}};return He(),We(),()=>{_e=!1}},[e]),O.useEffect(()=>{if(i.length===0&&t.length>0){console.log("[COURSES] Extracting unique programs from courses data");const _e=new Map;t.forEach(We=>{We.program&&!_e.has(We.program)&&_e.set(We.program,{id:_e.size+1,code:We.program,program_code:We.program,name:We.program,program_name:We.program})});const He=Array.from(_e.values());console.log("[COURSES] Extracted unique programs:",He),o(He)}},[t,i]),O.useEffect(()=>{if(!e)return;let _e=!0;return(async()=>{try{let We;if(sn(e)?We=await nt.getProgramSections():e.role==="secretary"?We=await $r.getProgramSections():e.role==="department_head"?We=await zr.getProgramSections():e.role==="instructor"&&(We=await $r.getProgramSections()),!_e)return;We?.data&&Array.isArray(We.data)?z(We.data):(console.warn("[COURSES] No program sections data in API response"),z([]))}catch(We){if(!_e)return;console.error("[COURSES] Error fetching program sections:",We),z([])}})(),()=>{_e=!1}},[e]),O.useEffect(()=>{if(!e)return;const _e=new AbortController;let He=!0;return(async()=>{try{if(w(!0),y(null),!f&&!m){r([]),s([]),w(!1);return}const Ge={};k!=="all"&&(Ge.program=k),f&&(Ge.period_id=f);let ot,Nt;if(sn(e))ot=await nt.getCourses(Ge),Nt=await nt.getEvaluations(Ge);else if(e.role==="secretary")ot=await $r.getCourses(Ge),Nt=await $r.getEvaluations(Ge);else if(e.role==="department_head")ot=await zr.getCourses(Ge),Nt=await zr.getEvaluations(Ge);else throw new Error(`Unsupported role: ${e.role}`);if(!He||_e.signal.aborted)return;const Dt=Array.isArray(ot)?ot:ot?.data||[],pt=Array.isArray(Nt)?Nt:Nt?.data||[],At=Dt.map(Ie=>({id:Ie.id||Ie.section_id,name:Ie.name||Ie.course_name||"",code:Ie.code||Ie.course_code||"",classCode:Ie.classCode||Ie.class_code||"",program:Ie.program||"N/A",yearLevel:Ie.yearLevel||Ie.year_level,enrolledStudents:Ie.enrolledStudents||Ie.enrolled_students||Ie.enrollmentCount||0,semester:Ie.semester||"",academic_year:Ie.academic_year||Ie.academicYear||"",status:Ie.status||"active",evaluations_count:Ie.evaluations_count||Ie.evaluationCount||0,overallRating:Ie.overallRating||0})),Be=pt.map(Ie=>({...Ie,sectionId:Ie.sectionId||Ie.class_section_id||Ie.section_id,class_section_id:Ie.class_section_id||Ie.sectionId||Ie.section_id,courseId:Ie.courseId||Ie.course_id}));r(At),s(Be)}catch(Ge){if(_e.signal.aborted)return;console.error("Error fetching courses:",Ge),He&&y(Ge.message||"Failed to load courses")}finally{He&&w(!1)}})(),()=>{He=!1,_e.abort()}},[e,k,f]);const Je=O.useMemo(()=>t.map(_e=>{const He=a.filter(pt=>pt.sectionId===_e.id||pt.courseId===_e.id),We=_e.evaluationCount||_e.evaluations_count||He.length,Ge=_e.enrollmentCount||_e.enrolledStudents||_e.enrolled_students||0;let ot=_e.overallRating||0;!ot&&He.length>0&&(ot=(He.reduce((At,Be)=>At+(Be.rating_overall||0),0)/He.length).toFixed(2));const Nt=Ge>0?Math.round(We/Ge*100):0,Dt=Math.min(100,Nt);return{..._e,code:_e.classCode||_e.code||_e.id,enrollmentCount:Ge,evaluationCount:We,overallRating:parseFloat(ot),responseRate:Dt,status:_e.status||"active"}}),[t,a]),Qe=Je.filter(_e=>{const He=(_e.name||_e.course_name||"").toLowerCase().includes(N.toLowerCase())||(_e.code||_e.course_code||"").toLowerCase().includes(N.toLowerCase())||(_e.classCode||"").toLowerCase().includes(N.toLowerCase()),We=_e.program||_e.program_code||_e.program_name||"",Ge=k==="all"||We===k||We.toLowerCase().includes(k.toLowerCase())||k.toLowerCase().includes(We.toLowerCase());let ot=!0;if(T!=="all"){const Nt=_e.program_section_id||_e.section_id||"",Dt=_e.program_section_name||_e.section_name||"",pt=`Year ${_e.yearLevel||_e.year_level||""} - Sem ${_e.semester||""}`;ot=Nt.toString()===T.toString()||Dt.toLowerCase().includes(T.toLowerCase())||pt.includes(T)}return He&&Ge&&ot}),Te=Math.max(1,Math.ceil(Qe.length/de)),ye=Math.min(me,Te),qe=(ye-1)*de,wt=qe+de,Ee=Qe.slice(qe,wt);O.useEffect(()=>{W(1)},[N,k,T]);const xt=Je.filter(_e=>{const He=(_e.status||"").toLowerCase();return He==="active"||He==="ongoing"||He==="open"||!He});O.useEffect(()=>{console.log("[COURSES] Total courses:",t.length),console.log("[COURSES] Enhanced courses:",Je.length),console.log("[COURSES] Active courses:",xt.length),console.log("[COURSES] Filtered courses:",Qe.length),console.log("[COURSES] Programs in state:",i)},[t,Je,xt,Qe,i]);const gt=async _e=>{ie(!0),U(!0),ce(_e),Q(0);try{const He=t.find(Ie=>Ie.id===_e);if(!He)throw new Error("Course not found");const We=a.filter(Ie=>Ie.sectionId===_e||Ie.class_section_id===_e||Ie.courseId===_e);console.log("[COURSE DETAILS] =================="),console.log(`[COURSE DETAILS] Looking for evaluations for course ID: ${_e}`),console.log("[COURSE DETAILS] Course data:",He),console.log(`[COURSE DETAILS] Total evaluations in state: ${a.length}`),console.log("[COURSE DETAILS] Sample evaluation structure:",a[0]),console.log("[COURSE DETAILS] Evaluations IDs check:",a.slice(0,5).map(Ie=>({id:Ie.id,sectionId:Ie.sectionId,class_section_id:Ie.class_section_id,courseId:Ie.courseId}))),console.log(`[COURSE DETAILS] Found ${We.length} matching evaluations`),We.length>0&&console.log("[COURSE DETAILS] Sample matched evaluation:",We[0]),console.log("[COURSE DETAILS] ==================");let Ge=[],ot=[];try{if(console.log(`[COURSE DETAILS API] Fetching category and question data for course ${_e}, role: ${e.role}`),sn(e)){const[Ie,dt]=await Promise.all([nt.getCategoriesAverages(_e,e.id),nt.getQuestionDistribution(_e,e.id)]);Ge=Ie?.data?.categories||[],ot=dt?.data?.questions||[],console.log(`[COURSE DETAILS API] Admin - Got ${Ge.length} categories, ${ot.length} questions`)}else if(e.role==="secretary"){const[Ie,dt]=await Promise.all([$r.getCategoryAverages(_e,e.id),$r.getQuestionDistribution(_e,e.id)]);Ge=Ie?.data?.categories||[],ot=dt?.data?.questions||[],console.log(`[COURSE DETAILS API] Secretary - Got ${Ge.length} categories, ${ot.length} questions`),console.log("[COURSE DETAILS API] Category response:",Ie),console.log("[COURSE DETAILS API] Question response:",dt)}else if(e.role==="department_head"){const[Ie,dt]=await Promise.all([zr.getCategoryAverages(_e,e.id),zr.getQuestionDistribution(_e,e.id)]);Ge=Ie?.data?.categories||[],ot=dt?.data?.questions||[],console.log(`[COURSE DETAILS API] Dept Head - Got ${Ge.length} categories, ${ot.length} questions`)}ee(Ge),oe(ot)}catch(Ie){console.error("[COURSE DETAILS API] Error fetching detailed analysis data:",Ie),console.error("[COURSE DETAILS API] Error details:",Ie.response?.data),ee([]),oe([])}const Nt={},Dt={course_content:"Course Content & Organization",instructor_effectiveness:"Instructor Effectiveness",teaching_methods:"Teaching Methods & Resources",assessment_feedback:"Assessment & Feedback",interaction_support:"Interaction & Support",learning_outcomes:"Learning Outcomes"};if(Object.keys(Dt).forEach(Ie=>{const dt=We.filter(kt=>kt.categoryRatings&&kt.categoryRatings[Ie]).map(kt=>kt.categoryRatings[Ie]);if(dt.length>0){const kt=dt.reduce((pr,br)=>pr+br,0)/dt.length;Nt[Dt[Ie]]=parseFloat(kt.toFixed(2))}}),Object.keys(Nt).length===0){const Ie={"Course Content":[],"Instructor Quality":[],"Teaching Methods":[],"Assessment Quality":[]};We.forEach(dt=>{dt.ratings&&(dt.ratings.clarity&&Ie["Course Content"].push(dt.ratings.clarity),dt.ratings.usefulness&&Ie["Instructor Quality"].push(dt.ratings.usefulness),dt.ratings.engagement&&Ie["Teaching Methods"].push(dt.ratings.engagement),dt.ratings.organization&&Ie["Assessment Quality"].push(dt.ratings.organization))}),Object.entries(Ie).forEach(([dt,kt])=>{if(kt.length>0){const pr=kt.reduce((br,gr)=>br+gr,0)/kt.length;Nt[dt]=parseFloat(pr.toFixed(2))}})}const pt={positive:We.filter(Ie=>Ie.sentiment==="positive").length,neutral:We.filter(Ie=>Ie.sentiment==="neutral").length,negative:We.filter(Ie=>Ie.sentiment==="negative").length};let At=He.overallRating||0;if(console.log(`[COURSE DETAILS] Backend overallRating: ${He.overallRating}`),We.length>0){const Ie=We.filter(dt=>dt.ratings||dt.rating_overall);if(Ie.length>0){const dt=Ie.reduce((kt,pr)=>{if(pr.rating_overall)return kt+pr.rating_overall;if(pr.ratings){const br=Object.values(pr.ratings),gr=br.length>0?br.reduce((Vt,xr)=>Vt+xr)/br.length:0;return kt+gr}return kt},0);At=parseFloat((dt/Ie.length).toFixed(2)),console.log(`[COURSE DETAILS] Recalculated overall rating: ${At} from ${Ie.length} evaluations with ratings`)}else console.log(`[COURSE DETAILS] No evaluations with ratings found, using backend value: ${At}`)}else console.log(`[COURSE DETAILS] No matching evaluations found, using backend value: ${At}`);const Be=Ge.length>0&&Ge[0]?.total_responses?Ge[0].total_responses:He.evaluationCount||He.evaluations_count||We.length;console.log(`[COURSE DETAILS] Using evaluation count: ${Be} (backend: ${Ge[0]?.total_responses}, course: ${He.evaluationCount}, filtered: ${We.length})`),xe({...He,overallRating:At,evaluationCount:Be,enrollmentCount:He.enrollmentCount||He.enrolledStudents||He.enrolled_students||0,criteriaRatings:Nt,sentimentBreakdown:pt,evaluations:We.slice(0,10),recentComments:We.slice(0,5).map(Ie=>({text:Ie.comment,rating:Ie.rating||Ie.avgRating,date:new Date().toLocaleDateString()}))}),ie(!1),U(!1)}catch(He){console.error("Error loading course details:",He),ie(!1),U(!1)}},ht=O.useMemo(()=>{if(!Qe||Qe.length===0)return[];const _e=[...Qe].sort((We,Ge)=>(Number(Ge.overallRating)||0)-(Number(We.overallRating)||0));return(J==="all"?_e:_e.slice(0,parseInt(J))).map(We=>({code:String(We.code||"N/A"),overallRating:Number(We.overallRating)||0,responseRate:Number(We.responseRate)||0}))},[Qe,J]);return p?n.jsx("div",{className:"flex items-center justify-center min-h-screen lpu-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading courses..."})]})}):v?n.jsx("div",{className:"flex items-center justify-center min-h-screen lpu-background",children:n.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg max-w-md",children:[n.jsx("div",{className:"text-red-500 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Error Loading Courses"}),n.jsx("p",{className:"text-gray-600 mb-4",children:v}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-2 rounded",children:"Retry"})]})}):n.jsxs("div",{className:"min-h-screen lpu-background",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"mb-6 lg:mb-0",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Course Management"}),n.jsx("p",{className:"text-[#ffd700] text-lg font-medium",children:"Lyceum of the Philippines University"})]})]}),n.jsx("p",{className:"text-white/90 text-lg max-w-2xl leading-relaxed",children:e?.role==="department_head"?"Monitor department courses, track evaluation metrics, and analyze student feedback.":"Monitor course performance, track evaluation metrics, and analyze student feedback across all academic programs."})]}),n.jsx("div",{className:"flex space-x-4",children:n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-white/80 text-sm",children:e?.role==="department_head"?`${e.department||"Department"} Courses`:"System-wide Analysis"}),n.jsxs("p",{className:"font-bold text-[#ffd700] text-lg",children:[xt.length," Active Courses"]})]}),n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})})]})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[!m&&!f?n.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[n.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),n.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to activate an evaluation period, or select a specific period from the filter above."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Total Courses"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:t.length})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2-2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Total Students"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:Je.reduce((_e,He)=>_e+(He.evaluationCount||0),0)}),n.jsxs("p",{className:"text-xs text-blue-100 mt-1",children:["who evaluated / ",Je.reduce((_e,He)=>_e+(He.enrollmentCount||0),0)," enrolled"]})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Avg Rating"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:(()=>{const _e=Je.filter(He=>He.overallRating>0);return _e.length>0?(_e.reduce((He,We)=>He+We.overallRating,0)/_e.length).toFixed(2):"0.00"})()})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Response Rate"}),n.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[(()=>{const _e=Je.reduce((We,Ge)=>We+(Ge.enrollmentCount||0),0),He=Je.reduce((We,Ge)=>We+(Ge.evaluationCount||0),0);return _e>0?Math.round(He/_e*100):0})(),"%"]})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),n.jsx("div",{className:"lpu-card mb-8",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#7a0000]",children:"Course Performance Overview"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show:"}),n.jsxs("select",{value:J,onChange:_e=>R(_e.target.value),className:"border border-gray-300 rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",children:[n.jsx("option",{value:"5",children:"Top 5"}),n.jsx("option",{value:"10",children:"Top 10"}),n.jsx("option",{value:"20",children:"Top 20"}),n.jsx("option",{value:"all",children:"All Courses"})]})]})]}),n.jsx(Wc,{width:"100%",height:300,children:n.jsxs(Mf,{data:ht,children:[n.jsx(P0,{strokeDasharray:"3 3"}),n.jsx(ac,{dataKey:"code"}),n.jsx(sc,{}),n.jsx(fi,{}),n.jsx(Ia,{dataKey:"overallRating",fill:"#7a0000",name:"Overall Rating"})]})})]})}),n.jsxs("div",{className:"lpu-card mb-8 p-8",children:[n.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-[#7a0000] flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),"Search & Filter Courses"]}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Find courses by name, code, program, or section"})]}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Courses"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by course name or code...",value:S,onChange:_e=>A(_e.target.value),className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent transition-all duration-200"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Evaluation Period"}),n.jsxs("select",{value:f||"",onChange:_e=>h(_e.target.value?parseInt(_e.target.value):null),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white transition-all duration-200",children:[n.jsx("option",{value:"",children:m?`${m.name} (${m.academic_year}) - Active`:"Select Period"}),l.filter(_e=>_e.status!=="active").map(_e=>n.jsxs("option",{value:_e.id,children:[_e.name," (",_e.academic_year,")"]},_e.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Program"}),n.jsxs("select",{value:k,onChange:_e=>{C(_e.target.value),I("all")},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white transition-all duration-200",children:[n.jsx("option",{value:"all",children:"All Programs"}),i.map(_e=>{const He=_e.code||_e.program_code||"",We=_e.name||_e.program_name||"Unknown Program",Ge=He||We,ot=He?`${He} - ${We}`:We;return console.log("[COURSES] Rendering option:",{displayCode:He,displayName:We,optionValue:Ge,optionLabel:ot}),n.jsx("option",{value:Ge,children:ot},_e.id)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Program Section"}),n.jsxs("select",{value:T,onChange:_e=>{I(_e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white transition-all duration-200",children:[n.jsx("option",{value:"all",children:"All Sections"}),F.filter(_e=>{if(k==="all")return!0;const He=_e.program_code||_e.program_name||_e.program||"";return He.toLowerCase().includes(k.toLowerCase())||k.toLowerCase().includes(He.toLowerCase())}).map(_e=>{const He=_e.program_code||_e.program_name||_e.program||"N/A",We=_e.year_level||_e.year||"N/A",Ge=_e.semester||"N/A",ot=_e.school_year||_e.academic_year||"N/A",Nt=_e.section_name||_e.name||"";let Dt="";Nt?Dt=Nt:He!=="N/A"?(Dt=`${He}`,We!=="N/A"&&(Dt+=` - Year ${We}`)):Dt=`Section ${_e.id}`;const pt=[];return We!=="N/A"&&pt.push(`Yr ${We}`),Ge!=="N/A"&&pt.push(`Sem ${Ge}`),ot!=="N/A"&&pt.push(ot),pt.length>0&&(Dt+=` (${pt.join(", ")})`),n.jsx("option",{value:_e.id,children:Dt},_e.id)})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:F.length===0?"No program sections available":`${F.length} section${F.length!==1?"s":""} available`})]})]})]}),n.jsxs("div",{className:"lpu-card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-[#7a0000]/5 to-[#ffd700]/5",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-[#7a0000] flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2-2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Active Courses"]}),n.jsxs("p",{className:"text-gray-600 mt-1 font-medium",children:["Showing ",Qe.length>0?qe+1:0,"-",Math.min(wt,Qe.length)," of ",Qe.length," courses (Page ",ye," of ",Te,")"]})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("span",{className:"px-3 py-1 bg-[#7a0000] text-white text-sm font-medium rounded-full",children:[Qe.length," Results"]})})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Course"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Students"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Rating"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Response Rate"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Ee.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Courses Found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:S||k!=="all"||T!=="all"?"No courses match your current filters. Try adjusting your search criteria.":"No courses are currently available."}),(S||k!=="all"||T!=="all")&&n.jsx("button",{onClick:()=>{A(""),C("all"),I("all")},className:"lpu-btn-secondary text-sm",children:"Clear All Filters"})]})})}):Ee.map(_e=>n.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-25 transition-all duration-200 group",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#7a0000] to-[#9a1000] rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white font-bold text-sm",children:_e.code.slice(-2)})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-gray-900 group-hover:text-[#7a0000] transition-colors duration-200",children:_e.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[_e.code,"  ",Wd(_e.program)]})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("span",{className:"font-medium text-gray-900",children:_e.enrollmentCount})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[_e.evaluationCount," evaluations"]})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex mr-2",children:[...Array(4)].map((He,We)=>n.jsx("svg",{className:`w-4 h-4 ${We<Math.floor(_e.overallRating)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},We))}),n.jsx("span",{className:"font-bold text-gray-900",children:_e.overallRating?_e.overallRating.toFixed(2):"0.00"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:n.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,_e.responseRate||0)}%`}})}),n.jsxs("span",{className:"font-bold text-gray-900",children:[Math.min(100,_e.responseRate||0),"%"]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("button",{onClick:()=>gt(_e.id),className:"lpu-btn-primary text-sm",children:"View Details"})})]},_e.id))})]})}),Te>1&&Qe.length>0&&n.jsx(eu,{currentPage:ye,totalPages:Te,totalItems:Qe.length,onPageChange:W,itemLabel:"courses"}),Qe.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:S||k!=="all"?"No courses match your current filters":"No courses found"})]})]}),B&&se&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"lpu-header",children:[n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:se.name}),n.jsx("p",{className:"text-[#ffd700] text-sm mt-1",children:se.classCode}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[n.jsxs("span",{className:"text-white/80 text-sm",children:[se.program," - Year ",se.yearLevel]}),n.jsxs("span",{className:"text-white/80 text-sm",children:[se.enrollmentCount," Students Enrolled"]}),n.jsxs("span",{className:"text-white/80 text-sm",children:[se.evaluationCount," Evaluations Received"]})]})]}),n.jsx("button",{onClick:()=>ce(null),className:"text-white hover:text-[#ffd700] transition-colors duration-200",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsx("div",{className:"px-6 pb-6",children:n.jsxs("div",{className:"flex space-x-1 bg-white/10 p-1 rounded-lg",children:[n.jsx("button",{onClick:()=>H("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${$==="overview"?"bg-white text-[#7a0000] shadow-sm":"text-white/80 hover:text-white hover:bg-white/20"}`,children:"Overview"}),n.jsx("button",{onClick:()=>H("sentiment"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${$==="sentiment"?"bg-white text-[#7a0000] shadow-sm":"text-white/80 hover:text-white hover:bg-white/20"}`,children:"Detailed Analysis"})]})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:[$==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Overall Rating"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Average across all evaluations"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-5xl font-bold text-blue-600 mb-2",children:se.overallRating?se.overallRating.toFixed(2):"0.00"}),n.jsx("div",{className:"flex justify-center mb-3",children:[...Array(4)].map((_e,He)=>n.jsx("svg",{className:`w-6 h-6 ${He<Math.floor(se.overallRating||0)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},He))}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",se.evaluationCount," evaluations"]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Evaluation Statistics"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[n.jsx("span",{className:"font-medium text-blue-700",children:"Total Evaluations"}),n.jsx("span",{className:"text-2xl font-bold text-blue-600",children:se.evaluationCount})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[n.jsx("span",{className:"font-medium text-green-700",children:"Response Rate"}),n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[se.enrollmentCount&&se.enrollmentCount>0?Math.round(se.evaluationCount/se.enrollmentCount*100):0,"%"]})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[n.jsx("span",{className:"font-medium text-purple-700",children:"Enrolled Students"}),n.jsx("span",{className:"text-2xl font-bold text-purple-600",children:se.enrollmentCount||0})]})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Category Performance Analysis"}),n.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Average ratings across 6 evaluation categories (31 questions)"}),q?n.jsx("div",{className:"flex justify-center py-8",children:n.jsxs("svg",{className:"animate-spin h-8 w-8 text-[#7a0000]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):te.length>0||se.criteriaRatings&&Object.keys(se.criteriaRatings).length>0?n.jsx("div",{className:"space-y-4",children:(te.length>0?te:Object.entries(se.criteriaRatings||{}).map(([_e,He])=>({category_name:_e,average:He,question_count:5,total_responses:se.evaluationCount,description:"Average rating for this category"}))).map((_e,He)=>{const We=["text-blue-600","text-green-600","text-purple-600","text-orange-600","text-teal-600","text-pink-600"],Ge=["bg-blue-50","bg-green-50","bg-purple-50","bg-orange-50","bg-teal-50","bg-pink-50"],ot=_e.average/4*100;return n.jsxs("div",{className:`${Ge[He%Ge.length]} p-4 rounded-lg`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:_e.category_name}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_e.description})]}),n.jsxs("div",{className:`text-2xl font-bold ${We[He%We.length]} ml-4`,children:[_e.average,"/4.0"]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:`h-2.5 rounded-full ${We[He%We.length].replace("text-","bg-")}`,style:{width:`${ot}%`}})}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("span",{className:"text-xs text-gray-600",children:[_e.question_count," questions  ",_e.total_responses," responses"]}),n.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[ot.toFixed(1),"%"]})]})]})]},_e.category_id)})}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),n.jsx("p",{children:"No category data available"})]})]})]}),$==="sentiment"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Question-Level Response Distribution"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Detailed breakdown of how students rated each of the 31 evaluation questions (1 = Strongly Disagree, 4 = Strongly Agree)"})]}),q?n.jsx("div",{className:"flex justify-center py-12",children:n.jsxs("svg",{className:"animate-spin h-10 w-10 text-[#7a0000]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):G.length>0||se.evaluations&&se.evaluations.length>0?n.jsxs("div",{className:"space-y-6",children:[(()=>{const _e=te.length>0?te:se.criteriaRatings?Object.entries(se.criteriaRatings).map(([At,Be],Ie)=>({category_id:["relevance_of_course","course_organization","teaching_learning","assessment","learning_environment","counseling"][Ie]||"other",category_name:At,average:Be})):[];if(_e.length===0)return null;const He=_e[re];if(!He)return null;const We=re,ot={relevance_of_course:[1,2,3,4,5,6],course_organization:[7,8,9,10,11],teaching_learning:[12,13,14,15,16,17,18],assessment:[19,20,21,22,23,24],learning_environment:[25,26,27,28,29,30],counseling:[31]}[He.category_id]||[],Nt=G.filter(At=>ot.includes(At.question_number));if(Nt.length===0)return null;const Dt=["blue","green","purple","orange","teal","pink"],pt=Dt[We%Dt.length];return n.jsxs("div",{className:`bg-${pt}-50 border border-${pt}-200 rounded-lg p-6`,children:[n.jsx("h4",{className:`text-lg font-bold text-${pt}-900 mb-4`,children:He.category_name}),n.jsx("div",{className:"space-y-4",children:Nt.map(At=>{const Be=["1","2","3","4"].map(dt=>At.distribution[dt].count),Ie=Math.max(...Be);return n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 pr-4",children:[n.jsxs("span",{className:"font-semibold text-gray-900 block",children:["Question ",At.question_number]}),At.question_text&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:At.question_text})]}),n.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[n.jsx("span",{className:`text-lg font-bold text-${pt}-600`,children:At.average.toFixed(2)}),n.jsx("span",{className:"text-sm text-gray-500",children:"/ 4.0"})]})]})}),n.jsx("div",{className:"space-y-2",children:["4","3","2","1"].map(dt=>{const kt=At.distribution[dt],pr=kt.count===Ie&&Ie>0,br={4:"bg-green-500",3:"bg-blue-500",2:"bg-orange-500",1:"bg-red-500"};return n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("span",{className:"text-xs font-medium text-gray-600 w-24",children:[dt==="4"&&"Strongly Agree",dt==="3"&&"Agree",dt==="2"&&"Disagree",dt==="1"&&"Strongly Disagree"]}),n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative",children:n.jsx("div",{className:`${br[dt]} h-6 rounded-full transition-all duration-500 flex items-center justify-end pr-2 ${pr?"ring-2 ring-yellow-400":""}`,style:{width:`${kt.percentage}%`},children:kt.percentage>10&&n.jsxs("span",{className:"text-xs font-medium text-white",children:[kt.percentage.toFixed(1),"%"]})})}),n.jsxs("span",{className:`text-xs w-20 text-right ${pr?"font-bold text-yellow-600":"text-gray-600"}`,children:[kt.count," students",pr&&n.jsx("span",{className:"ml-1",children:""})]})]},dt)})}),n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:n.jsxs("span",{className:"text-xs text-gray-500",children:["Total responses: ",At.total_responses]})})]},At.question_number)})})]},He.category_id)})(),(()=>{const _e=te.length>0?te:se.criteriaRatings?Object.entries(se.criteriaRatings).map(([He,We],Ge)=>({category_id:["relevance_of_course","course_organization","teaching_learning","assessment","learning_environment","counseling"][Ge]||"other",category_name:He,average:We})):[];return _e.length<=1?null:n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200",children:[n.jsxs("button",{onClick:()=>Q(He=>Math.max(0,He-1)),disabled:re===0,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),n.jsx("span",{children:"Previous Category"})]}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Category ",re+1," of ",_e.length]}),n.jsxs("button",{onClick:()=>Q(He=>Math.min(_e.length-1,He+1)),disabled:re>=_e.length-1,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[n.jsx("span",{children:"Next Category"}),n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})})()]}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),n.jsx("p",{className:"text-lg font-medium",children:"No question distribution data available"}),n.jsx("p",{className:"text-sm",children:"Evaluation responses will appear here once submitted"})]})]})]}),n.jsx("div",{className:"p-6 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>ce(null),className:"lpu-btn-primary",children:"Close Details"})})})]})}),!1]})]})}function _ee(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState([]),[u,f]=O.useState(""),h=ad(u,500),[m,x]=O.useState("all"),[p,w]=O.useState("all"),[v,y]=O.useState("all"),[S,A]=O.useState("all"),[N,k]=O.useState([]),[C,T]=O.useState(null),[I,F]=O.useState(null),[z,J]=O.useState(10),[R,$]=O.useState(1),[H,B]=O.useState(null),[ce,se]=O.useState([]),[xe,te]=O.useState([]);O.useEffect(()=>{(async()=>{if(t)try{let Ne,he,we;if(t.role==="secretary"?[Ne,he,we]=await Promise.all([$r.getPrograms(),$r.getYearLevels(),$r.getEvaluationPeriods()]):t.role==="department_head"?[Ne,he,we]=await Promise.all([zr.getPrograms(),zr.getYearLevels(),zr.getEvaluationPeriods()]):sn(t)&&([Ne,he,we]=await Promise.all([nt.getPrograms(),nt.getYearLevels(),nt.getEvaluationPeriods()])),Ne?.data&&se(If(Ne.data)),he?.data&&te(he.data),we?.data){k(we.data);const be=we.data.find(Z=>Z.status==="Open"||Z.status==="active");be&&F(be)}}catch(Ne){console.error("Error fetching filter options:",Ne)}})()},[t?.role]),O.useEffect(()=>{if(!t){e("/");return}if(t.role==="student"){e("/student/courses");return}if(!sn(t)&&!Xd(t)){e("/");return}},[t?.role,t?.id,e]);const{data:ee,loading:G,error:oe,retry:q}=Qc(async()=>{if(!t)return null;if(!C&&!I)return{evaluations:[],allEvaluations:[],courses:[],dashboard:null,pagination:null};const Q={page:R,page_size:15};m!=="all"&&(Q.program=m),p!=="all"&&(Q.sentiment=p),v!=="all"&&(Q.semester=v),S!=="all"&&(Q.yearLevel=S),C&&(Q.period_id=C);const Ne={page:1,page_size:1e3};let he,we,be,Z;if(sn(t))[he,we,be]=await Promise.all([nt.getEvaluations(Q),nt.getEvaluations(Ne),nt.getCourses()]),Z=null;else if(t.role==="secretary")[he,we,be,Z]=await Promise.all([$r.getEvaluations(Q),$r.getEvaluations(Ne),$r.getCourses(),$r.getDashboard()]);else if(t.role==="department_head")[he,we,be,Z]=await Promise.all([zr.getEvaluations(Q),zr.getEvaluations(Ne),zr.getCourses(),zr.getDashboard()]);else throw new Error(`Unsupported role: ${t.role}`);const Xe=Array.isArray(he)?he:he?.data||[],Je=he?.pagination||null,Qe=Array.isArray(we)?we:we?.data||[],Te=Array.isArray(be)?be:be?.data||[],ye=Z?.data||null;return{evaluations:Xe,allEvaluations:Qe,courses:Te,dashboard:ye,pagination:Je}},[t?.id,t?.role,R,m,p,v,S,C]);O.useEffect(()=>{ee&&(a(ee.evaluations),i(ee.allEvaluations||[]),l(ee.courses),B(ee.pagination))},[ee]),O.useEffect(()=>{$(1)},[m,p,v,S]);const U=ee?.dashboard||null;O.useMemo(()=>{const Q=[...new Set(o.map(we=>we.program))].filter(Boolean).sort(),Ne=[...new Set(r.map(we=>we.semester))].filter(Boolean).sort(),he=[...new Set(o.map(we=>we.yearLevel))].filter(Boolean).sort();return{programs:Q,semesters:Ne,yearLevels:he}},[o,r]);const V=O.useMemo(()=>r.map(Q=>{const Ne=o.find(be=>be.id===Q.sectionId||be.id===Q.courseId),he=Q.rating_overall||Q.rating||0;let we="N/A";return Q.semester&&(Q.semester.includes("First 2023")?we="6/15/2023":Q.semester.includes("Second 2023")?we="12/10/2023":Q.semester.includes("First 2024")?we="6/15/2024":Q.semester.includes("Second 2024")?we="12/10/2024":Q.semester.includes("First 2025")&&(we="6/15/2025")),{...Q,courseName:Ne?.name||"Unknown Course",courseProgram:Wd(Ne?.program)||"Unknown",avgRating:he,submittedDate:Q.submission_date?new Date(Q.submission_date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}):we}}),[r,o]),ie=O.useMemo(()=>V.filter(Q=>{const Ne=u===""||Q.courseName.toLowerCase().includes(h.toLowerCase())||Q.student.toLowerCase().includes(h.toLowerCase())||Q.comment.toLowerCase().includes(h.toLowerCase()),he=m==="all"||Q.courseProgram===m,we=p==="all"||Q.sentiment===p,be=v==="all"||Q.semester===v,Z=S==="all"||Q.courseYearLevel?.toString()===S;return Ne&&he&&we&&be&&Z}),[V,u,m,p,v,S]),me=O.useMemo(()=>{if(U)return{total:U.total_evaluations||0,positive:U.sentiment?.positive||0,neutral:U.sentiment?.neutral||0,negative:U.sentiment?.negative||0,anomalies:U.anomalies||0,overallAvgRating:U.average_rating?.toFixed(2)||"0.00",totalEnrolledStudents:U.total_enrolled_students||0,participationRate:Math.round(U.participation_rate||0)};const Q=V.length,Ne=V.filter(Te=>Te.sentiment==="positive").length,he=V.filter(Te=>Te.sentiment==="neutral").length,we=V.filter(Te=>Te.sentiment==="negative").length,be=V.filter(Te=>Te.anomaly).length,Z=o.reduce((Te,ye)=>Te+(ye.enrolledStudents||0),0),Xe=Z>0?Math.round(Q/Z*100):0,Je=V.filter(Te=>Te.avgRating>0).map(Te=>Te.avgRating),Qe=Je.length>0?(Je.reduce((Te,ye)=>Te+ye)/Je.length).toFixed(2):"0.00";return{total:Q,positive:Ne,neutral:he,negative:we,anomalies:be,overallAvgRating:Qe,totalEnrolledStudents:Z,participationRate:Xe}},[U,V,o]),W=O.useMemo(()=>{if(console.log("[CHART] Calculating sentiment trend with",s.length,"evaluations"),s.length===0)return console.log("[CHART] No evaluations available for chart"),[];if(sn(t)){const Q=[...new Set(o.map(be=>be.program))].filter(Boolean);console.log("[CHART] Programs found:",Q);const he=Q.map(be=>{const Xe=o.filter(qe=>qe.program===be).map(qe=>qe.id),Je=s.filter(qe=>Xe.includes(qe.sectionId)||Xe.includes(qe.courseId)),Qe=Je.filter(qe=>qe.sentiment==="positive").length,Te=Je.filter(qe=>qe.sentiment==="neutral").length,ye=Je.filter(qe=>qe.sentiment==="negative").length;return console.log(`[CHART] Program ${be}: ${Qe} pos, ${Te} neu, ${ye} neg`),{name:be,positive:Qe,neutral:Te,negative:ye,total:Qe+Te+ye}}).filter(be=>be.total>0).sort((be,Z)=>Z.total-be.total),we=z==="all"?he:he.slice(0,parseInt(z));return console.log("[CHART] Final chart data:",we.length,"programs"),we}else{const Q=t?.assignedPrograms?o.filter(be=>t.assignedPrograms.includes(be.program)):o;console.log("[CHART] Department courses:",Q.length);const he=Q.map(be=>{const Z=s.filter(Te=>Te.sectionId===be.id||Te.courseId===be.id),Xe=Z.filter(Te=>Te.sentiment==="positive").length,Je=Z.filter(Te=>Te.sentiment==="neutral").length,Qe=Z.filter(Te=>Te.sentiment==="negative").length;return{name:be.classCode||be.name,positive:Xe,neutral:Je,negative:Qe,fullName:be.name,courseCode:be.classCode,total:Xe+Je+Qe}}).filter(be=>be.total>0).sort((be,Z)=>Z.total-be.total),we=z==="all"?he:he.slice(0,parseInt(z));return console.log("[CHART] Final chart data:",we.length,"courses"),we}},[s,o,t,z]),de=Q=>{switch(Q){case"positive":return"bg-green-100 text-green-800";case"neutral":return"bg-yellow-100 text-yellow-800";case"negative":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},re=Q=>{const Ne=parseFloat(Q);return Ne>=4?"text-green-600":Ne>=3?"text-yellow-600":"text-red-600"};return t?G?n.jsx(So,{message:"Loading evaluations..."}):oe?n.jsx(Zc,{error:oe,onRetry:q}):n.jsxs("div",{className:"min-h-screen lpu-background",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Evaluations Management"}),n.jsx("p",{className:"text-[#ffd700] text-sm",children:sn(t)?"Comprehensive Academic Evaluation System":`${t.department} Department Evaluation Portal`})]})]})})})}),n.jsxs("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:[n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-6 gap-5 lg:gap-6 mb-12",children:[n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Survey Participation"}),n.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[me.total,"/",me.totalEnrolledStudents]}),n.jsxs("p",{className:"text-xs text-white/80 mt-1",children:["students (",me.participationRate,"%)"]})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),n.jsxs("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Participation Rate"}),n.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[me.participationRate,"%"]})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),n.jsx("div",{className:"w-full bg-white/20 rounded-full h-2 mt-3",children:n.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${me.participationRate>=80?"bg-green-400":me.participationRate>=60?"bg-yellow-400":"bg-red-400"}`,style:{width:`${me.participationRate}%`}})})]}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Positive Feedback"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:me.positive})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Neutral Feedback"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:me.neutral})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Negative Feedback"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:me.negative})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.106-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Average Rating"}),n.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:[me.overallAvgRating,"/4.0"]})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]})})]}),n.jsxs("div",{className:"lpu-chart-container mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"chart-title",children:[n.jsx("svg",{className:"w-6 h-6 text-[#7a0000]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),sn(t)?"Academic Program Sentiment Analysis":"Course-Level Sentiment Analysis"]}),n.jsx("p",{className:"text-gray-600 text-sm",children:sn(t)?"Comprehensive sentiment distribution across all academic programs":"Detailed sentiment breakdown for individual courses"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show:"}),n.jsxs("select",{value:z,onChange:Q=>J(Q.target.value),className:"border border-gray-300 rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",children:[n.jsx("option",{value:"5",children:"Top 5"}),n.jsx("option",{value:"10",children:"Top 10"}),n.jsx("option",{value:"20",children:"Top 20"}),n.jsx("option",{value:"all",children:"All Items"})]})]})]}),W.length>0?n.jsx(Wc,{width:"100%",height:350,children:n.jsxs(Mf,{data:W,children:[n.jsx(ac,{dataKey:"name",angle:0,textAnchor:"middle",height:60,interval:0,tick:{fontSize:12,fill:"#64748b"}}),n.jsx(sc,{tick:{fontSize:12,fill:"#64748b"}}),n.jsx(fi,{formatter:(Q,Ne)=>[Q,Ne],labelFormatter:Q=>{const Ne=W.find(he=>he.name===Q);return Ne?.fullName&&Ne?.courseCode?`${Ne.courseCode}: ${Ne.fullName}`:Ne?.fullName||Q},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),n.jsx(Ia,{dataKey:"positive",fill:"#10b981",name:"Positive",radius:[4,4,0,0],minPointSize:2}),n.jsx(Ia,{dataKey:"neutral",fill:"#f59e0b",name:"Neutral",radius:[4,4,0,0],minPointSize:2}),n.jsx(Ia,{dataKey:"negative",fill:"#ef4444",name:"Negative",radius:[4,4,0,0],minPointSize:2})]})}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),n.jsx("p",{children:"No evaluation data available for visualization"})]})]}),n.jsxs("div",{className:"lpu-card mb-8 p-8",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Evaluation Filters"})]}),n.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[ie.length," results"]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1e293b] mb-3",children:"Search Evaluations"}),n.jsx("input",{type:"text",placeholder:"Search by course, student, or comment...",value:u,onChange:Q=>f(Q.target.value),className:"lpu-input"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1e293b] mb-3",children:"Academic Program"}),n.jsxs("select",{value:m,onChange:Q=>x(Q.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"All Programs"}),ce.map(Q=>n.jsxs("option",{value:Q.code,children:[Q.code," - ",Q.name]},Q.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1e293b] mb-3",children:"Year Level"}),n.jsxs("select",{value:S,onChange:Q=>A(Q.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"All Year Levels"}),xe.map(Q=>n.jsx("option",{value:Q.value,children:Q.label},Q.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1e293b] mb-3",children:"Sentiment Type"}),n.jsxs("select",{value:p,onChange:Q=>w(Q.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"All Sentiments"}),n.jsx("option",{value:"positive",children:"Positive Feedback"}),n.jsx("option",{value:"neutral",children:"Neutral Feedback"}),n.jsx("option",{value:"negative",children:"Negative Feedback"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1e293b] mb-3",children:"Evaluation Period"}),n.jsxs("select",{value:C||"",onChange:Q=>T(Q.target.value?parseInt(Q.target.value):null),className:"lpu-select",children:[n.jsx("option",{value:"",children:"All Periods"}),N.map(Q=>n.jsxs("option",{value:Q.id,children:[Q.name," (",Q.academic_year,") ",Q.status==="Open"||Q.status==="active"?"- Active":""]},Q.id))]})]})]})]}),!I&&!C?n.jsxs("div",{className:"lpu-card text-center py-16",children:[n.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),n.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to activate an evaluation period, or select a specific period from the filter above."})]}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"lpu-card",children:[n.jsx("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 text-[#7a0000] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 4h.01M9 16h.01"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Student Evaluation Records"}),n.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Displaying ",ie.length," of ",me.total," total evaluations"]})]})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gradient-to-r from-[#7a0000] to-[#9a1000] text-white",children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Course Information"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Student Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Academic Program"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Overall Rating"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Sentiment Analysis"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Submission Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Student Feedback"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Status Indicator"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:ie.map((Q,Ne)=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Q.courseName.length>40?Q.courseName.substring(0,40)+"...":Q.courseName})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.student})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${Q.courseProgram==="BSIT"?"bg-blue-100 text-blue-800":Q.courseProgram==="BSCS-DS"?"bg-green-100 text-green-800":Q.courseProgram==="BSCYSEC"?"bg-red-100 text-red-800":"bg-purple-100 text-purple-800"}`,children:Q.courseProgram})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("span",{className:`text-sm font-bold ${re(Q.avgRating)} mr-2`,children:[Q.avgRating,"/4.0"]}),n.jsx("div",{className:"flex items-center",children:[1,2,3,4].map(he=>n.jsx("svg",{className:`w-3 h-3 ${he<=parseFloat(Q.avgRating)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},he))})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${de(Q.sentiment)}`,children:[Q.sentiment==="positive"&&"",Q.sentiment==="neutral"&&"",Q.sentiment==="negative"&&"",n.jsx("span",{className:"ml-1 capitalize",children:Q.sentiment})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:Q.submittedDate}),n.jsx("div",{className:"text-xs text-gray-500",children:"Academic Year 2025"})]}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs",children:n.jsx("div",{className:"truncate",title:Q.comment,children:Q.comment})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Q.anomaly?n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Anomaly"]}):n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Normal"]})})]},Q.id||Ne))})]}),ie.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 4h.01M9 16h.01"})}),n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Evaluations Found"}),n.jsx("p",{className:"text-gray-500",children:u||m!=="all"||p!=="all"||v!=="all"?"No evaluations match your current filters. Try adjusting your search criteria.":"No evaluations have been submitted yet. Check back later for student feedback."})]})]}),H&&H.total>0&&n.jsx("div",{className:"mt-6 px-6 pb-6",children:n.jsx(eu,{currentPage:R,totalPages:H.pages,totalItems:H.total,onPageChange:$,itemLabel:"evaluations"})})]})})]})]}):null}function $L({filters:e={},filterLabels:t={},onClearFilter:r,onClearAll:a,totalResults:s,itemLabel:i="items",filterOptions:o={}}){const l=Object.entries(e).filter(([f,h])=>h&&h!=="all"&&h!=="");if(l.length===0)return null;const u=(f,h)=>{if(o[f]){const m=o[f].find(x=>x.value===h||x.id===h||x.value===parseInt(h));if(m)return m.label||m.name||m.program_name||m.program_code||h}return h};return n.jsx("div",{className:"bg-gradient-to-r from-[#9D1535]/10 to-[#7D1028]/10 rounded-lg border-2 border-[#9D1535]/30 p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700 mr-2",children:"Active Filters:"}),l.map(([f,h])=>n.jsxs("div",{className:"inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 text-sm font-medium text-gray-700 border border-[#9D1535]/30 shadow-sm hover:shadow-md transition-all duration-200",children:[n.jsxs("span",{className:"text-[#9D1535] font-semibold",children:[t[f]||f,":"]}),n.jsx("span",{className:"text-gray-900",children:u(f,h)}),n.jsx("button",{onClick:()=>r(f),className:"ml-1 text-gray-400 hover:text-[#9D1535] transition-colors duration-200","aria-label":`Clear ${t[f]||f} filter`,children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},f))]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[s!==void 0&&n.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[n.jsx("span",{className:"text-[#9D1535] font-bold text-lg",children:s})," ",i," found"]}),n.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#9D1535] to-[#7D1028] hover:from-[#7D1028] hover:to-[#5D0C1F] text-white font-semibold px-4 py-2 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md whitespace-nowrap",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Clear All"]})]})]})})}function kee(){const{user:e}=ra(),[t,r]=O.useState(!0),[a,s]=O.useState(null),[i,o]=O.useState(null),[l,u]=O.useState(""),f=ad(l,500),[h,m]=O.useState("all"),[x,p]=O.useState(1),w=15,[v,y]=O.useState([]),[S,A]=O.useState(null),[N,k]=O.useState(null),C=[{value:"1",label:"Year 1"},{value:"2",label:"Year 2"},{value:"3",label:"Year 3"},{value:"4",label:"Year 4"}],T=e?.role==="secretary"?$r:zr;O.useEffect(()=>{(async()=>{if(e)try{const ce=await T.getEvaluationPeriods();y(ce.data||[]);const se=ce.data?.find(xe=>xe.status==="active"||xe.status==="Active");se&&(k(se.id),A(se.id))}catch(ce){console.error("Error fetching evaluation periods:",ce)}})()},[e?.role]),O.useEffect(()=>{(S||N)&&I()},[h,S]);const I=async()=>{try{r(!0),s(null);const B={};h!=="all"&&(B.year_level=h),S&&(B.evaluation_period_id=S);const ce=await T.getNonRespondents(B);o(ce.data||ce),p(1)}catch(B){console.error("Error fetching non-respondents:",B),s(B.message||"Failed to load non-respondents data")}finally{r(!1)}},F=i?.non_respondents?.filter(B=>f===""||B.student_number.toLowerCase().includes(f.toLowerCase())||B.full_name.toLowerCase().includes(f.toLowerCase())||B.program.toLowerCase().includes(f.toLowerCase()))||[],z=Math.ceil(F.length/w),J=F.slice((x-1)*w,x*w),R=B=>{B==="yearLevel"&&m("all"),B==="search"&&u("")},$=()=>{m("all"),u("")},H={};return h!=="all"&&(H.yearLevel=h),l&&(H.search=l),t?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#9D1535] mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading non-respondents..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsxs("div",{className:"flex items-center space-x-5",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Non-Respondent Tracking"}),n.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:"Students who haven't completed evaluations"})]})]})})}),n.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!N&&!S?n.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[n.jsx(Jl,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),v.length>0?n.jsx("p",{className:"text-gray-500",children:"Select a past evaluation period from the filters below to view historical data."}):n.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to create and activate an evaluation period."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-5 lg:gap-6 mb-8",children:[n.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Total Students"}),n.jsx("p",{className:"text-4xl font-bold text-white",children:i?.total_students||0})]}),n.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Responded"}),n.jsx("p",{className:"text-4xl font-bold text-white",children:i?.responded||0})]}),n.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Non-Responded"}),n.jsx("p",{className:"text-4xl font-bold text-white",children:i?.non_responded||0})]}),n.jsxs("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Response Rate"}),n.jsx("p",{className:"text-4xl font-bold text-white",children:i?.response_rate||"0%"})]})]}),n.jsxs("div",{className:"lpu-card p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Filters"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(qp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",value:l,onChange:B=>u(B.target.value),placeholder:"Student number or name...",className:"lpu-select pl-10"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evaluation Period"}),n.jsxs("select",{value:S||"",onChange:B=>A(B.target.value),className:"lpu-select",children:[n.jsx("option",{value:"",children:"Select Period"}),v.map(B=>n.jsxs("option",{value:B.id,children:[B.name," ",B.status==="active"||B.status==="Active"?"(Active)":""]},B.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Level"}),n.jsxs("select",{value:h,onChange:B=>m(B.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"All Year Levels"}),C.map(B=>n.jsx("option",{value:B.value,children:B.label},B.value))]})]})]})]}),n.jsx($L,{filters:H,filterLabels:{yearLevel:"Year Level",search:"Search"},filterOptions:{yearLevel:C},onClearFilter:R,onClearAll:$,totalResults:F.length,itemLabel:"students"}),n.jsx("div",{className:"lpu-card overflow-hidden",children:a?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Jl,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 mb-4",children:a}),n.jsx("button",{onClick:I,className:"lpu-btn-secondary",children:"Retry"})]}):J.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(zp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No non-respondents found"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All students have completed their evaluations!"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table-auto",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Student Number"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Program"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Year"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Pending"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Progress"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Pending Courses"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map(B=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.student_number}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:B.full_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:B.program}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:B.section}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:B.year_level}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:B.pending_count})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:[B.completed_count,"/",B.total_courses]}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:n.jsxs("div",{className:"max-w-xs",children:[B.pending_courses.slice(0,2).map((ce,se)=>n.jsx("div",{className:"text-xs",children:ce.course_code},se)),B.pending_courses.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",B.pending_courses.length-2," more"]})]})})]},B.student_id))})]})}),n.jsx(eu,{currentPage:x,totalPages:z,totalItems:F.length,onPageChange:p,itemLabel:"students"})]})})]})})]})}function Aee(){const e=Kn(),{user:t}=ra(),[r,a]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(null),[u,f]=O.useState(""),h=ad(u,500),[m,x]=O.useState("all"),[p,w]=O.useState("all"),[v,y]=O.useState("all"),[S,A]=O.useState("all"),[N,k]=O.useState("all"),[C,T]=O.useState("all"),[I,F]=O.useState([]),[z,J]=O.useState([]),[R,$]=O.useState([]),[H,B]=O.useState([]),[ce,se]=O.useState(null),[xe,te]=O.useState(null);O.useEffect(()=>{if(!t){e("/");return}if(t.role==="student"){e("/student/courses");return}if(!sn(t)&&!Xd(t)){e("/");return}},[t,e]),O.useEffect(()=>{(async()=>{if(t)try{let V,ie,me,W;if(sn(t)?[V,ie,me,W]=await Promise.all([nt.getPrograms(),Promise.resolve({data:[{id:1,year_level:1},{id:2,year_level:2},{id:3,year_level:3},{id:4,year_level:4}]}),nt.getCourses(),nt.getEvaluationPeriods()]):t.role==="secretary"?[V,ie,me,W]=await Promise.all([$r.getPrograms(),$r.getYearLevels(),$r.getCourses(),$r.getEvaluationPeriods()]):t.role==="department_head"&&([V,ie,me,W]=await Promise.all([zr.getPrograms(),zr.getYearLevels(),zr.getCourses(),zr.getEvaluationPeriods()])),V?.data&&F(If(V.data)),ie?.data&&J(ie.data),me?.data&&$(me.data),W?.data){B(W.data);const de=W.data.find(re=>re.status==="active"||re.status==="Active");de&&(te(de.id),se(de.id))}}catch(V){console.error("Error fetching filter options:",V)}})()},[t]),O.useEffect(()=>{(async()=>{if(t)try{if(i(!0),!ce&&!xe){a([]),i(!1);return}const V={};ce&&(V.period_id=ce);let ie;if(sn(t))ie=await nt.getAnomalies(V);else if(t.role==="secretary")ie=await $r.getAnomalies(V);else if(t.role==="department_head")ie=await zr.getAnomalies(V);else throw new Error(`Unsupported role: ${t.role}`);const me=Array.isArray(ie)?ie:ie?.data||[];a(me)}catch(V){console.error("Error fetching anomalies:",V),l(V.message||"Failed to load anomalies")}finally{i(!1)}})()},[t,ce]);const ee=O.useMemo(()=>r.filter(U=>{const V=u===""||U.courseName?.toLowerCase().includes(h.toLowerCase())||U.comment?.toLowerCase().includes(h.toLowerCase())||U.instructorName?.toLowerCase().includes(h.toLowerCase()),ie=m==="all"||U.severity===m,me=p==="all"||U.programId===parseInt(p),W=v==="all"||U.yearLevel===parseInt(v),de=S==="all"||U.courseId===parseInt(S),re=N==="all"||U.semester===N;let Q=!0;if(C!=="all"&&U.submittedAt){const Ne=new Date(U.submittedAt),he=new Date;if(C==="today")Q=Ne.toDateString()===he.toDateString();else if(C==="week"){const we=new Date(he.getTime()-6048e5);Q=Ne>=we}else if(C==="month"){const we=new Date(he.getTime()-2592e6);Q=Ne>=we}else if(C==="semester"){const we=new Date(he.getFullYear(),he.getMonth()>=6?6:0,1);Q=Ne>=we}}return V&&ie&&me&&W&&de&&re&&Q}),[r,u,m,p,v,S,N,C]),G=O.useMemo(()=>{const U=r.length,V=r.filter(W=>W.severity==="High").length,ie=r.filter(W=>W.severity==="Medium").length,me=r.filter(W=>W.severity==="Low").length;return{total:U,high:V,medium:ie,low:me}},[r]),oe=O.useMemo(()=>[{name:"High",value:G.high,color:"#ef4444"},{name:"Medium",value:G.medium,color:"#f59e0b"},{name:"Low",value:G.low,color:"#10b981"}],[G]),q=U=>{switch(U){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return t?s?n.jsx("div",{className:"flex items-center justify-center min-h-screen lpu-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading anomalies..."})]})}):o?n.jsx("div",{className:"flex items-center justify-center min-h-screen lpu-background",children:n.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg max-w-md",children:[n.jsx("div",{className:"text-red-500 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Error Loading Anomalies"}),n.jsx("p",{className:"text-gray-600 mb-4",children:o}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#7a0000] hover:bg-[#8f0000] text-white px-6 py-2 rounded",children:"Retry"})]})}):n.jsxs("div",{className:"min-h-screen lpu-background",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Anomaly Detection System"}),n.jsx("p",{className:"text-[#ffd700] text-sm",children:"Advanced DBSCAN-based anomaly detection in course evaluations"})]})]}),n.jsx("div",{className:"flex space-x-4",children:n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-white/80 text-sm",children:sn(t)?"System-wide Analysis":`${t.department} Department`}),n.jsxs("p",{className:"font-bold text-[#ffd700] text-lg",children:[G.total," Anomalies Detected"]})]}),n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})})]})})}),n.jsx("div",{className:"w-full mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!xe&&!ce?n.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[n.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),H.length>0?n.jsx("p",{className:"text-gray-500",children:"Select a past evaluation period from the filters below to view historical anomaly data."}):n.jsx("p",{className:"text-gray-500",children:"Please contact the administrator to create and activate an evaluation period."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-5 lg:gap-6 mb-12",children:[n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Total Anomalies"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:G.total})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"High Severity"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:G.high})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Medium Severity"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:G.medium})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-7 lg:p-8 transform hover:scale-105 transition-all duration-250",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/90 mb-2",children:"Low Severity"}),n.jsx("p",{className:"text-4xl lg:text-5xl font-bold text-white",children:G.low})]}),n.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),n.jsxs("div",{className:"lpu-card mb-8",children:[n.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-[#7a0000] flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Anomaly Severity Distribution"]}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"DBSCAN-based severity classification analysis"})]}),oe.some(U=>U.value>0)?n.jsx("div",{className:"lpu-chart-container",children:n.jsx(Wc,{width:"100%",height:350,children:n.jsxs(Mf,{data:oe,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(ac,{dataKey:"name",tick:{fontSize:12}}),n.jsx(sc,{tick:{fontSize:12}}),n.jsx(fi,{contentStyle:{backgroundColor:"#7a0000",border:"none",borderRadius:"8px",color:"white"}}),n.jsx(Ia,{dataKey:"value",fill:"#7a0000",radius:[4,4,0,0]})]})})}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Anomalies Detected"}),n.jsx("p",{children:"The system has not identified any anomalous evaluation patterns"})]})]}),n.jsxs("div",{className:"lpu-card mb-8 p-8",children:[n.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[n.jsxs("h2",{className:"text-2xl font-semibold text-[#7a0000] flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),"Search & Filter Anomalies"]}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Find specific anomalies by course, student, or content"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Evaluation Period"}),n.jsxs("select",{value:ce||"",onChange:U=>se(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white transition-all duration-200",children:[n.jsx("option",{value:"",children:"Select Period"}),H.map(U=>n.jsxs("option",{value:U.id,children:[U.name," ",U.status==="active"||U.status==="Active"?"(Active)":""]},U.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Search Anomalies"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by course, instructor, or comment...",value:u,onChange:U=>f(U.target.value),className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent transition-all duration-200"}),n.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Severity Level"}),n.jsxs("select",{value:m,onChange:U=>x(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white transition-all duration-200",children:[n.jsx("option",{value:"all",children:"All Severities"},"severity-all"),n.jsx("option",{value:"High",children:" High Severity"},"severity-high"),n.jsx("option",{value:"Medium",children:" Medium Severity"},"severity-medium"),n.jsx("option",{value:"Low",children:" Low Severity"},"severity-low")]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Program"}),n.jsxs("select",{value:p,onChange:U=>w(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white",children:[n.jsx("option",{value:"all",children:"All Programs"}),I.map(U=>n.jsx("option",{value:U.id,children:U.name||U.program_name},U.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Year Level"}),n.jsxs("select",{value:v,onChange:U=>y(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white",children:[n.jsx("option",{value:"all",children:"All Years"}),z.map(U=>n.jsxs("option",{value:U.year_level,children:["Year ",U.year_level]},U.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Course"}),n.jsxs("select",{value:S,onChange:U=>A(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white",children:[n.jsx("option",{value:"all",children:"All Courses"}),R.map(U=>n.jsxs("option",{value:U.id,children:[U.code," - ",U.name]},U.id))]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Semester"}),n.jsxs("select",{value:N,onChange:U=>k(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white",children:[n.jsx("option",{value:"all",children:"All Semesters"}),n.jsx("option",{value:"1st Semester",children:"1st Semester"}),n.jsx("option",{value:"2nd Semester",children:"2nd Semester"}),n.jsx("option",{value:"Summer",children:"Summer"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" Date Range"}),n.jsxs("select",{value:C,onChange:U=>T(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#7a0000] focus:border-transparent bg-white",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"Last 7 Days"}),n.jsx("option",{value:"month",children:"Last 30 Days"}),n.jsx("option",{value:"semester",children:"Current Semester"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[n.jsx("div",{className:"text-sm text-gray-600",children:(u||m!=="all"||p!=="all"||v!=="all"||S!=="all"||N!=="all"||C!=="all")&&n.jsxs("span",{className:"font-medium",children:[" ",[u&&"Search",m!=="all"&&"Severity",p!=="all"&&"Program",v!=="all"&&"Year",S!=="all"&&"Course",N!=="all"&&"Semester",C!=="all"&&"Date"].filter(Boolean).join(", ")," active"]})}),n.jsx("button",{onClick:()=>{f(""),x("all"),w("all"),y("all"),A("all"),k("all"),T("all")},className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-all text-sm font-medium",children:" Clear All Filters"})]})]})]}),n.jsxs("div",{className:"lpu-card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-[#7a0000]/5 to-[#ffd700]/5",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-[#7a0000] flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Detected Anomalies"]}),n.jsxs("p",{className:"text-gray-600 mt-1 font-medium",children:["Showing ",ee.length," of ",G.total," anomalous evaluations"]})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("span",{className:"px-3 py-1 bg-[#7a0000] text-white text-sm font-medium rounded-full",children:[ee.length," Results"]})})]})}),n.jsx("div",{className:"divide-y divide-gray-100",children:ee.map(U=>n.jsxs("div",{className:"p-6 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-25 transition-all duration-200 group",children:[n.jsx("div",{className:"flex justify-between items-start mb-4",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#7a0000] to-[#9a1000] rounded-lg flex items-center justify-center mr-3",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-[#7a0000] transition-colors duration-200",children:U.courseName}),n.jsxs("span",{className:`ml-3 px-3 py-1 text-xs font-bold rounded-full ${q(U.severity)}`,children:[U.severity," Severity"]})]}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500 mb-3",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),U.program]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Student: ",U.student]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Detected: ",U.detectedAt]})]})]})}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 p-4 rounded-lg text-center border border-gray-300",children:[n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx("svg",{className:"w-5 h-5 text-[#7a0000] mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),n.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Average Rating"})]}),n.jsxs("p",{className:"text-2xl font-bold text-[#7a0000]",children:[U.avgRating,"/4.0"]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-blue-200 p-4 rounded-lg text-center border border-blue-300",children:[n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),n.jsx("p",{className:"text-xs font-semibold text-blue-600",children:"DBSCAN Score"})]}),n.jsx("p",{className:"text-2xl font-bold text-blue-800",children:U.dbscanScore})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-green-200 p-4 rounded-lg text-center border border-green-300",children:[n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx("svg",{className:"w-5 h-5 text-green-600 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("p",{className:"text-xs font-semibold text-green-600",children:"Confidence"})]}),n.jsxs("p",{className:"text-2xl font-bold text-green-800",children:[U.confidence,"%"]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 p-5 rounded-lg border border-yellow-200",children:[n.jsxs("h4",{className:"font-bold text-yellow-800 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Anomaly Details"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-yellow-700",children:[n.jsx("span",{className:"font-semibold",children:"Type:"})," ",U.anomalyType]}),n.jsxs("p",{className:"text-sm text-yellow-700",children:[n.jsx("span",{className:"font-semibold",children:"Description:"})," ",U.description]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-5 rounded-lg border border-gray-200",children:[n.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Student Comment"]}),n.jsxs("p",{className:"text-sm text-gray-700 italic leading-relaxed bg-white p-3 rounded border",children:['"',U.comment,'"']})]})]}),U.ratings&&n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-5 rounded-lg border border-blue-200",children:[n.jsxs("h4",{className:"font-bold text-blue-800 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Rating Breakdown"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(U.ratings).map(([V,ie])=>n.jsxs("div",{className:"bg-white p-3 rounded-lg border shadow-sm",children:[n.jsx("div",{className:"text-xs text-gray-600 font-medium mb-1",children:V}),n.jsxs("div",{className:"text-lg font-bold text-blue-800",children:[parseFloat(ie).toFixed(2),"/4.0"]}),n.jsx("div",{className:"flex mt-1",children:[...Array(4)].map((me,W)=>n.jsx("svg",{className:`w-3 h-3 ${W<Math.floor(ie)?"text-[#ffd700]":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},W))})]},V))})]})]},U.id))}),ee.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:u||m!=="all"?"No anomalies match your current filters":"No anomalies detected"})]}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"About DBSCAN Anomaly Detection"}),n.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Our system uses Density-Based Spatial Clustering of Applications with Noise (DBSCAN) to identify anomalous patterns in course evaluations. This algorithm excels at finding outliers in multi-dimensional rating data by analyzing the density of similar evaluations."}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-blue-800",children:"High Severity"}),n.jsx("p",{className:"text-blue-600",children:"Isolated outliers with significant rating deviations"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-blue-800",children:"Medium Severity"}),n.jsx("p",{className:"text-blue-600",children:"Border points with moderate anomaly patterns"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-blue-800",children:"Low Severity"}),n.jsx("p",{className:"text-blue-600",children:"Minor deviations requiring attention"})]})]})]})]})})]}):null}function Cee(){const{user:e}=ra(),[t,r]=O.useState(!0),[a,s]=O.useState(null),[i,o]=O.useState(null),[l,u]=O.useState(""),[f,h]=O.useState("all"),[m,x]=O.useState("all"),[p,w]=O.useState(1),v=15,[y,S]=O.useState([]),[A,N]=O.useState([]),[k,C]=O.useState(null),[T,I]=O.useState(null),F=[{value:"1",label:"Year 1"},{value:"2",label:"Year 2"},{value:"3",label:"Year 3"},{value:"4",label:"Year 4"}];O.useEffect(()=>{z(),J()},[]),O.useEffect(()=>{(k||T)&&R()},[f,m,k]);const z=async()=>{try{const ee=await nt.getPrograms();S(ee.data||[])}catch(ee){console.error("Error fetching programs:",ee)}},J=async()=>{try{const ee=await nt.getEvaluationPeriods();N(ee.data||[]);const G=ee.data?.find(oe=>oe.status==="active"||oe.status==="Active");G&&(I(G.id),C(G.id))}catch(ee){console.error("Error fetching evaluation periods:",ee)}},R=async()=>{try{r(!0),s(null);const ee={};f!=="all"&&(ee.program_id=f),m!=="all"&&(ee.year_level=m),k&&(ee.evaluation_period_id=k);const G=await nt.getNonRespondents(ee);o(G.data||G),w(1)}catch(ee){console.error("Error fetching non-respondents:",ee),s(ee.message||"Failed to load non-respondents data")}finally{r(!1)}},$=i?.non_respondents?.filter(ee=>l===""||ee.student_number.toLowerCase().includes(l.toLowerCase())||ee.full_name.toLowerCase().includes(l.toLowerCase())||ee.program.toLowerCase().includes(l.toLowerCase()))||[],H=Math.ceil($.length/v),B=$.slice((p-1)*v,p*v),ce=()=>{if(!$.length)return;const ee=["Student Number","Name","Program","Section","Year Level","Pending Count","Completed","Total Courses","Pending Courses"],G=$.map(ie=>[ie.student_number,ie.full_name,ie.program,ie.section,ie.year_level,ie.pending_count,ie.completed_count,ie.total_courses,ie.pending_courses.map(me=>`${me.course_code}: ${me.course_name}`).join("; ")]),oe=[ee.join(","),...G.map(ie=>ie.map(me=>`"${me}"`).join(","))].join(`
`),q=new Blob([oe],{type:"text/csv"}),U=window.URL.createObjectURL(q),V=document.createElement("a");V.href=U,V.download=`non-respondents-${new Date().toISOString().split("T")[0]}.csv`,V.click()},se=ee=>{ee==="program"&&h("all"),ee==="yearLevel"&&x("all"),ee==="search"&&u("")},xe=()=>{h("all"),x("all"),u("")},te={};return f!=="all"&&(te.program=f),m!=="all"&&(te.yearLevel=m),l&&(te.search=l),t?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9] flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#9D1535] mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading non-respondents..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:[n.jsx("header",{className:"lpu-header",children:n.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-8 lg:py-10 max-w-screen-2xl",children:n.jsxs("div",{className:"flex items-center space-x-5",children:[n.jsx("img",{src:"/lpu-logo.png",alt:"University Logo",className:"w-32 h-32 object-contain"}),n.jsxs("div",{children:[n.jsx("h1",{className:"lpu-header-title text-3xl lg:text-4xl",children:"Non-Respondent Tracking"}),n.jsx("p",{className:"lpu-header-subtitle text-base lg:text-lg mt-1",children:"Students who haven't completed evaluations"})]})]})})}),n.jsx("div",{className:"container mx-auto px-6 sm:px-8 lg:px-10 py-10 lg:py-12 max-w-screen-2xl",children:!T&&!k?n.jsxs("div",{className:"lpu-card text-center py-16 mb-10",children:[n.jsx(Jl,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Active Evaluation Period"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"There is currently no active evaluation period."}),n.jsx("p",{className:"text-gray-500",children:"Please activate an evaluation period, or select a specific period from the filter below."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-5 lg:gap-6 mb-8",children:[n.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Total Students"}),n.jsx("p",{className:"text-4xl font-bold text-white",children:i?.total_students||0})]}),n.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Responded"}),n.jsx("p",{className:"text-4xl font-bold text-white",children:i?.responded||0})]}),n.jsxs("div",{className:"bg-gradient-to-br from-[#7a0000] to-[#9a1000] rounded-card shadow-card p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Non-Responded"}),n.jsx("p",{className:"text-4xl font-bold text-white",children:i?.non_responded||0})]}),n.jsxs("div",{className:"bg-gradient-to-br from-[#C41E3A] to-[#9D1535] rounded-card shadow-card p-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Response Rate"}),n.jsx("p",{className:"text-4xl font-bold text-white",children:i?.response_rate||"0%"})]})]}),n.jsxs("div",{className:"lpu-card p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Filters"}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evaluation Period"}),n.jsxs("select",{value:k||"",onChange:ee=>C(ee.target.value),className:"lpu-select",children:[n.jsx("option",{value:"",children:"Select Period"}),A.map(ee=>n.jsxs("option",{value:ee.id,children:[ee.name," ",ee.status==="active"||ee.status==="Active"?"(Active)":""]},ee.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(qp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",value:l,onChange:ee=>u(ee.target.value),placeholder:"Student number or name...",className:"lpu-select pl-10"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program"}),n.jsxs("select",{value:f,onChange:ee=>h(ee.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"All Programs"}),y.map(ee=>n.jsxs("option",{value:ee.id,children:[ee.program_code," - ",ee.program_name]},ee.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Level"}),n.jsxs("select",{value:m,onChange:ee=>x(ee.target.value),className:"lpu-select",children:[n.jsx("option",{value:"all",children:"All Year Levels"}),F.map(ee=>n.jsx("option",{value:ee.value,children:ee.label},ee.value))]})]})]})]}),n.jsx($L,{filters:te,filterLabels:{program:"Program",yearLevel:"Year Level",search:"Search"},filterOptions:{program:y.map(ee=>({value:ee.id,label:`${ee.program_code} - ${ee.program_name}`})),yearLevel:F},onClearFilter:se,onClearAll:xe,totalResults:$.length,itemLabel:"students"}),n.jsx("div",{className:"flex justify-end mb-4",children:n.jsxs("button",{onClick:ce,disabled:!$.length,className:"lpu-btn-primary inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(PE,{className:"w-4 h-4"}),"Export to CSV"]})}),n.jsx("div",{className:"lpu-card overflow-hidden",children:a?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Jl,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 mb-4",children:a}),n.jsx("button",{onClick:R,className:"lpu-btn-secondary",children:"Retry"})]}):B.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(zp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No non-respondents found"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Number"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Program"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending Courses"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(ee=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ee.student_number}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ee.full_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ee.program}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ee.section}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:ee.year_level}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:ee.pending_count})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:[ee.completed_count,"/",ee.total_courses]}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:n.jsxs("div",{className:"max-w-xs",children:[ee.pending_courses.slice(0,2).map((G,oe)=>n.jsx("div",{className:"text-xs",children:G.course_code},oe)),ee.pending_courses.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",ee.pending_courses.length-2," more"]})]})})]},ee.student_id))})]})}),n.jsx(eu,{currentPage:p,totalPages:H,totalItems:$.length,onPageChange:w,itemLabel:"students"})]})})]})})]})}function Pee(e){if(!e)return null;const a=new Date(e+"T23:59:59")-new Date;if(a<=0)return{expired:!0,days:0,hours:0,minutes:0};const s=Math.floor(a/(1e3*60*60*24)),i=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),o=Math.floor(a%(1e3*60*60)/(1e3*60));return{expired:!1,days:s,hours:i,minutes:o}}function Eee(){const e=Kn(),{user:t,logout:r}=ra(),[a,s]=O.useState(null),[i,o]=O.useState([]),[l,u]=O.useState(""),[f,h]=O.useState("All"),[m,x]=O.useState([]),[p,w]=O.useState(""),[v,y]=O.useState([]),[S,A]=O.useState(!1),[N,k]=O.useState(null),[C,T]=O.useState(null);O.useEffect(()=>{let B=t;if(!B){const ce=localStorage.getItem("currentUser");ce&&(B=JSON.parse(ce))}s(B)},[t]);const{data:I,loading:F,error:z,retry:J}=Qc(async()=>a?.id?await Ah.getCourses(a.id):{data:[]},[a?.id]);O.useEffect(()=>{if(I){let B=[];Array.isArray(I)?B=I:(I?.data&&Array.isArray(I.data)||I?.success&&Array.isArray(I.data))&&(B=I.data),o(B),I?.evaluation_status&&k(I.evaluation_status)}},[I]),O.useEffect(()=>{if(!N?.period_end_date)return;const B=()=>{T(Pee(N.period_end_date))};B();const ce=setInterval(B,6e4);return()=>clearInterval(ce)},[N?.period_end_date]);const R=async()=>{if(a?.id){A(!0);try{const B=await Ah.getEvaluationHistory(a.id,p||null);B.success&&(x(B.data||[]),y(B.available_periods||[]))}catch{x([])}finally{A(!1)}}};O.useEffect(()=>{a?.id&&R()},[a?.id,p]);const $=O.useMemo(()=>Array.isArray(i)?["All",...Array.from(new Set(i.map(ce=>ce.semester).filter(Boolean)))]:["All"],[i]),H=O.useMemo(()=>Array.isArray(i)?i.filter(B=>{if(f&&f!=="All"&&B.semester!==f)return!1;if(!l)return!0;const ce=l.toLowerCase(),se=B.id?.toString().toLowerCase()||"",xe=B.name?.toLowerCase()||"",te=B.class_code?.toLowerCase()||B.classCode?.toLowerCase()||"";return se.includes(ce)||xe.includes(ce)||te.includes(ce)}):[],[l,f,i]);return a?F?n.jsx(So,{message:"Loading your courses..."}):z?n.jsx(Zc,{error:z,onRetry:J}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:n.jsxs("div",{className:"w-full mx-auto max-w-screen-2xl px-6 sm:px-8 lg:px-10 py-10 lg:py-12",children:[n.jsx("div",{className:"bg-white rounded-card shadow-card border border-gray-200 p-6 lg:p-8 mb-6 lg:mb-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:"My Courses"}),n.jsxs("p",{className:"text-sm md:text-base text-gray-600",children:[a.name,"  ",Wd(a.program),"  Year ",a.year_level||a.yearLevel]})]})}),N?.active_period_exists&&C&&!C.expired&&n.jsx("div",{className:`rounded-card shadow-card border p-4 lg:p-5 mb-6 lg:mb-8 ${C.days<=1?"bg-red-50 border-red-300":C.days<=3?"bg-amber-50 border-amber-300":"bg-blue-50 border-blue-300"}`,children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-full ${C.days<=1?"bg-red-100":C.days<=3?"bg-amber-100":"bg-blue-100"}`,children:n.jsx("svg",{className:`w-6 h-6 ${C.days<=1?"text-red-600":C.days<=3?"text-amber-600":"text-blue-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:`font-semibold ${C.days<=1?"text-red-800":C.days<=3?"text-amber-800":"text-blue-800"}`,children:C.days<=1?" Evaluation Period Ending Soon!":C.days<=3?" Evaluation Period Deadline Approaching":" Active Evaluation Period"}),n.jsxs("p",{className:`text-sm ${C.days<=1?"text-red-700":C.days<=3?"text-amber-700":"text-blue-700"}`,children:[N.active_period_name&&n.jsxs("span",{className:"font-medium",children:[N.active_period_name,": "]}),n.jsxs("span",{className:"font-bold",children:[C.days>0&&`${C.days} day${C.days!==1?"s":""}, `,C.hours," hour",C.hours!==1?"s":"",", ",C.minutes," minute",C.minutes!==1?"s":""," remaining"]})]}),N.evaluable_courses>0&&n.jsxs("p",{className:`text-xs mt-1 ${C.days<=1?"text-red-600":C.days<=3?"text-amber-600":"text-blue-600"}`,children:["You have ",N.evaluable_courses," course",N.evaluable_courses!==1?"s":""," pending evaluation"]})]})]})}),n.jsx("div",{className:"bg-white rounded-card shadow-card border border-gray-200 p-6 lg:p-8 mb-6 lg:mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 lg:gap-5",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"search",name:"course-search",autoComplete:"off",spellCheck:!1,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Search by course code or name...",value:l,onChange:B=>u(B.target.value)})}),n.jsx("div",{className:"sm:w-48",children:n.jsx("select",{className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:f,onChange:B=>h(B.target.value),children:$.map(B=>n.jsx("option",{value:B==="All"?"All":B,children:B==="All"?"All Semesters":`Semester ${B}`},B))})})]})}),n.jsx("div",{className:"bg-white rounded-card shadow-card border border-gray-200 overflow-hidden",children:H.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No courses found"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Course Code"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Class Code"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Subject Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Semester"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:H.map(B=>n.jsxs("tr",{onClick:()=>e(`/student/evaluate/${B.class_section_id||B.id}`),className:`cursor-pointer transition-all hover:bg-blue-50 ${B.already_evaluated?"bg-green-50/30":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm font-semibold text-blue-600",children:B.code})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm font-mono text-gray-700",children:B.class_code})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-900",children:B.name})}),n.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-600",children:B.semester})}),n.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:B.already_evaluated?n.jsxs("div",{className:"flex items-center justify-center gap-4 lg:gap-5",children:[n.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[n.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Evaluated"]}),n.jsx("button",{onClick:ce=>{ce.stopPropagation(),e(`/student/evaluate/${B.class_section_id||B.id}`)},className:"text-sm text-blue-600 hover:text-blue-800 font-medium hover:underline",children:"Edit"})]}):n.jsx("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-orange-100 text-orange-800",children:"Pending"})})]},B.class_section_id||`${B.id}-${B.class_code}`))})]})})}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Evaluation History"}),v.length>0&&n.jsx("div",{className:"sm:w-64",children:n.jsxs("select",{className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:p,onChange:B=>w(B.target.value),children:[n.jsx("option",{value:"",children:"All Periods"}),v.map(B=>n.jsxs("option",{value:B.id,children:[B.name," (",B.evaluation_count," evaluation",B.evaluation_count!==1?"s":"",")"]},B.id))]})})]}),n.jsx("div",{className:"bg-white rounded-card shadow-card border border-gray-200 overflow-hidden",children:S?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),n.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"Loading history..."})]}):m.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No evaluation history found"}),p&&n.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Try selecting a different period"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Course"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider",children:"Evaluation Period"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700 uppercase tracking-wider w-40",children:"Submitted"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700 uppercase tracking-wider w-32",children:"Rating"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700 uppercase tracking-wider w-32",children:"Sentiment"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:m.map((B,ce)=>{const se=B.evaluation_id&&B.submission_date;return n.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${se?"":"bg-yellow-50/30"}`,children:[n.jsx("td",{className:"px-6 py-5",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-medium text-gray-900",children:B.course.subject_name}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:B.course.class_code})]})}),n.jsx("td",{className:"px-6 py-5",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-medium text-gray-900",children:B.evaluation_period.name}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[B.evaluation_period.semester,"  ",B.evaluation_period.academic_year]}),n.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${B.evaluation_period.status==="active"||B.evaluation_period.status==="Open"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:B.evaluation_period.status==="active"||B.evaluation_period.status==="Open"?"Active":"Closed"})]})}),n.jsx("td",{className:"px-6 py-5 text-center whitespace-nowrap",children:se?n.jsx("span",{className:"text-sm text-gray-600",children:new Date(B.submission_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}):n.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:"No Response"})}),n.jsx("td",{className:"px-6 py-5 text-center whitespace-nowrap",children:se?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("span",{className:"text-lg font-semibold text-blue-600",children:B.rating_overall?.toFixed(1)||"N/A"}),n.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"/4"})]}):n.jsx("span",{className:"text-sm text-gray-400",children:""})}),n.jsx("td",{className:"px-6 py-5 text-center whitespace-nowrap",children:se&&B.sentiment?n.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium ${B.sentiment==="positive"?"bg-green-100 text-green-800":B.sentiment==="negative"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[B.sentiment==="positive"&&n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"})}),B.sentiment==="negative"&&n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-5.172 7.414a1 1 0 001.415-1.414 3 3 0 014.242 0 1 1 0 001.415 1.414 5 5 0 00-7.072 0z",clipRule:"evenodd"})}),B.sentiment.charAt(0).toUpperCase()+B.sentiment.slice(1)]}):n.jsx("span",{className:"text-sm text-gray-400",children:""})})]},B.evaluation_id||`no-eval-${ce}`)})})]})})})]})]})}):n.jsx(So,{message:"Loading student info..."})}function Lee(){const{courseId:e}=r9(),{user:t}=ra(),[r,a]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[u,f]=O.useState(()=>{const C={};return Jo.forEach(T=>{T.questions.forEach(I=>{C[I.id]=null})}),C}),[h,m]=O.useState(""),[x,p]=O.useState(""),[w,v]=O.useState(0),y=Kn();O.useEffect(()=>{(async()=>{try{i(!0);const T=t||JSON.parse(localStorage.getItem("currentUser")),I=await Ah.getCourses(T.id),z=(I?.data||I||[]).find(J=>J.class_section_id===parseInt(e)||J.id===parseInt(e));if(z){if(z.already_evaluated){alert("You have already submitted an evaluation for this course. Evaluations cannot be edited once submitted."),y("/student/courses");return}a(z)}else{const J=await Ah.getCourseDetails(e);a(J||{name:e,class_section_id:e})}}catch{a({name:e,class_section_id:e})}finally{i(!1)}})()},[e,t,y]);function S(C,T){f(I=>({...I,[C]:Number(T)}))}function A(C){const T=Jo[C];return T.questions.filter(F=>u[F.id]!==null).length/T.questions.length*100}function N(){return Object.values(u).every(T=>T!==null)}async function k(){if(p(""),!N())return p("Please complete all ratings before submitting");try{l(!0);const C=t||JSON.parse(localStorage.getItem("currentUser")),T={class_section_id:parseInt(e),student_id:C.id,evaluation_period_id:r?.evaluation_period_id||null,ratings:u,comment:h};await Ah.submitEvaluation(T),alert("Evaluation submitted successfully! Thank you for your feedback."),y("/student/courses")}catch(C){const T=C.response?.data?.detail||C.message||"Failed to submit evaluation. Please try again.";p(T)}finally{l(!1)}}return s?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:n.jsx("div",{className:"w-full mx-auto max-w-screen-2xl px-6 sm:px-8 lg:px-10 py-10 lg:py-12",children:n.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#7a0000] mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading course..."})]})})}):r?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:n.jsx("div",{className:"w-full mx-auto max-w-screen-2xl px-6 sm:px-8 lg:px-10 py-10 lg:py-12",children:n.jsxs("div",{className:"bg-white rounded-card shadow-card",children:[n.jsxs("div",{className:"p-6 lg:p-8 border-b bg-gradient-to-r from-[#7a0000] to-[#8f0000]",children:[n.jsxs("button",{onClick:()=>y("/student/courses"),className:"text-white hover:text-gray-200 mb-4 lg:mb-5 flex items-center text-sm",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Courses"]}),n.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-white",children:["Course Evaluation: ",r.name||"Course"]}),n.jsx("p",{className:"text-sm text-gray-200 mt-1",children:r.class_code||r.code||""}),n.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:[r.semester||"Current Semester","  ",r.academic_year||"Academic Year 2024-2025"]})]}),n.jsxs("div",{className:"px-6 lg:px-8 py-5 lg:py-6 bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-5",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Overall Progress"}),n.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[Object.values(u).filter(C=>C!==null).length," of ",Object.keys(u).length," answered"]})]}),n.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3 shadow-inner",children:n.jsx("div",{className:"bg-gradient-to-r from-[#7a0000] to-[#a31111] h-3 rounded-full transition-all duration-500 shadow-sm",style:{width:`${Object.values(u).filter(C=>C!==null).length/Object.keys(u).length*100}%`}})})]}),n.jsx("div",{className:"px-6 lg:px-8 pt-4 lg:pt-5 border-b",children:n.jsx("div",{className:"flex overflow-x-auto gap-4 lg:gap-5 -mb-px",children:Jo.map((C,T)=>{const I=A(T);return n.jsxs("button",{onClick:()=>v(T),className:`px-4 py-3 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${w===T?"border-[#7a0000] text-[#7a0000]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{children:C.name}),I===100&&n.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),n.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1",children:n.jsx("div",{className:"bg-[#7a0000] h-1 rounded-full transition-all",style:{width:`${I}%`}})})]},T)})})}),n.jsxs("div",{className:"p-6 lg:p-8",children:[n.jsxs("div",{className:"mb-6 lg:mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:Jo[w].name}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Jo[w].description}),n.jsxs("div",{className:"mt-4 flex items-center gap-3 bg-gray-50 p-3 rounded-lg",children:[n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Rating Scale:"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-xs text-gray-600",children:"1 = Strongly Disagree"}),n.jsx("span",{className:"text-xs text-gray-600",children:"2 = Disagree"}),n.jsx("span",{className:"text-xs text-gray-600",children:"3 = Agree"}),n.jsx("span",{className:"text-xs text-gray-600",children:"4 = Strongly Agree"})]})]})]}),n.jsx("div",{className:"space-y-8",children:Jo[w].questions.map((C,T)=>n.jsxs("div",{className:T!==Jo[w].questions.length-1?"border-b border-gray-200 pb-6":"",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"font-semibold text-gray-900 text-base",children:C.text}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:C.shortLabel})]}),n.jsx("div",{className:"flex items-center gap-4",children:[1,2,3,4].map(I=>n.jsxs("label",{className:"cursor-pointer",onClick:F=>F.preventDefault(),children:[n.jsx("input",{type:"radio",name:C.id,value:I,checked:u[C.id]===I,onChange:F=>{F.preventDefault(),S(C.id,F.target.value)},className:"sr-only"}),n.jsx("span",{onClick:F=>{F.preventDefault(),S(C.id,I)},className:`w-16 h-16 flex items-center justify-center rounded-full border-2 font-bold text-lg transition-all duration-200 ${u[C.id]===I?"bg-[#7a0000] text-white border-[#7a0000] shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-[#7a0000] hover:bg-gray-50 shadow-sm"}`,children:I})]},I))})]},C.id))}),n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[n.jsxs("button",{onClick:()=>v(Math.max(0,w-1)),disabled:w===0,className:"px-4 py-2 border rounded bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Previous"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Category ",w+1," of ",Jo.length]}),n.jsxs("button",{onClick:()=>v(Math.min(Jo.length-1,w+1)),disabled:w===Jo.length-1,className:"px-4 py-2 border rounded bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next",n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),n.jsxs("div",{className:"px-6 lg:px-8 py-4 lg:py-5 bg-gray-50 border-t",children:[n.jsx("div",{className:"font-medium mb-2",children:"Additional Comments (optional)"}),n.jsx("textarea",{rows:4,className:"w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-[#7a0000] focus:border-transparent",placeholder:"Enter your additional comments here... (optional)",value:h,onChange:C=>m(C.target.value)}),h.length>0&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[h.length," characters"]})]}),n.jsxs("div",{className:"px-6 lg:px-8 py-4 lg:py-5 bg-white border-t",children:[x&&n.jsx("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:x}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-600",children:N()?n.jsxs("span",{className:"text-green-600 font-medium flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Ready to submit!"]}):n.jsx("span",{children:"Complete all questions to submit"})}),n.jsx("button",{className:"px-8 py-3 rounded-lg bg-[#7a0000] hover:bg-[#8f0000] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",onClick:k,disabled:o||!N(),children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:isEditMode?"Updating...":"Submitting..."})]}):n.jsx("span",{children:"Submit Evaluation"})})]})]})]})})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fafc] to-[#f1f5f9]",children:n.jsx("div",{className:"w-full mx-auto max-w-screen-2xl px-6 sm:px-8 lg:px-10 py-10 lg:py-12",children:n.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 lg:p-8 text-center",children:[n.jsx("p",{className:"text-gray-600",children:"Course not found"}),n.jsx("button",{onClick:()=>y("/student/courses"),className:"mt-4 px-4 py-2 bg-[#7a0000] text-white rounded",children:"Back to Courses"})]})})})}function Oee(){return n.jsx(fT,{children:n.jsxs(x9,{children:[n.jsx(bn,{path:"/",element:n.jsx(hT,{})}),n.jsx(bn,{path:"/login",element:n.jsx(pT,{})}),n.jsx(bn,{path:"/forgot",element:n.jsx(gT,{})}),n.jsx(bn,{path:"/reset-password",element:n.jsx(xT,{})}),n.jsx(bn,{path:"/first-time-login",element:n.jsx(vT,{})}),n.jsx(bn,{path:"/admin/dashboard",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(fX,{})})}),n.jsx(bn,{path:"/admin/users",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx($X,{})})}),n.jsx(bn,{path:"/admin/periods",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(BX,{})})}),n.jsx(bn,{path:"/admin/courses",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(UX,{})})}),n.jsx(bn,{path:"/admin/export",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(gee,{})})}),n.jsx(bn,{path:"/admin/audit-logs",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(qX,{})})}),n.jsx(bn,{path:"/admin/emails",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(xee,{})})}),n.jsx(bn,{path:"/admin/student-management",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(vee,{})})}),n.jsx(bn,{path:"/admin/enrollment-list",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(yee,{})})}),n.jsx(bn,{path:"/admin/non-respondents",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(Cee,{})})}),n.jsx(bn,{path:"/admin/program-sections",element:n.jsx(Ra,{allowedRoles:["admin"],children:n.jsx(OE,{})})}),n.jsx(bn,{path:"/dashboard",element:n.jsx(Ra,{allowedRoles:["secretary","department_head"],children:n.jsx(jee,{})})}),n.jsx(bn,{path:"/sentiment",element:n.jsx(Ra,{allowedRoles:["secretary","department_head"],children:n.jsx(Nee,{})})}),n.jsx(bn,{path:"/courses",element:n.jsx(Ra,{allowedRoles:["secretary","department_head"],children:n.jsx(See,{})})}),n.jsx(bn,{path:"/evaluations",element:n.jsx(Ra,{allowedRoles:["secretary","department_head"],children:n.jsx(_ee,{})})}),n.jsx(bn,{path:"/non-respondents",element:n.jsx(Ra,{allowedRoles:["secretary","department_head"],children:n.jsx(kee,{})})}),n.jsx(bn,{path:"/anomalies",element:n.jsx(Ra,{allowedRoles:["secretary","department_head"],children:n.jsx(Aee,{})})}),n.jsx(bn,{path:"/student/courses",element:n.jsx(Ra,{allowedRoles:["student"],children:n.jsx(Eee,{})})}),n.jsx(bn,{path:"/student/evaluate/:courseId",element:n.jsx(Ra,{allowedRoles:["student"],children:n.jsx(Lee,{})})}),n.jsx(bn,{path:"/404",element:n.jsx(tN,{})}),n.jsx(bn,{path:"*",element:n.jsx(tN,{})})]})})}class Ree extends Re.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-8",children:n.jsxs("div",{className:"max-w-2xl bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:" Something went wrong"}),n.jsx("div",{className:"bg-red-100 border border-red-300 rounded p-4 mb-4",children:n.jsx("p",{className:"font-mono text-sm text-red-800",children:this.state.error&&this.state.error.toString()})}),this.state.errorInfo&&n.jsxs("details",{className:"bg-gray-100 p-4 rounded",children:[n.jsx("summary",{className:"cursor-pointer font-semibold mb-2",children:"Stack trace"}),n.jsx("pre",{className:"text-xs overflow-auto",children:this.state.errorInfo.componentStack})]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Reload Page"}),n.jsx("a",{href:"/debug",className:"mt-4 ml-2 inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Go to Debug Page"})]})}):this.props.children}}AO.createRoot(document.getElementById("root")).render(n.jsx(Re.StrictMode,{children:n.jsx(Ree,{children:n.jsx(S9,{children:n.jsx(dT,{children:n.jsx(Oee,{})})})})}));export{dn as _,dm as c,Jr as g};
